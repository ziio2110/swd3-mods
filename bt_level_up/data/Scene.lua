-- SCENE
Scene = Scene or {}

function Scene.TALK0()

end
function Scene.TALK1()

end
function Scene.TALK2()
    -- 天山之後改TALK2096
    if GameFunc.GetFlag(445) then goto T2_1 end
    if GameFunc.GetFlag(390) then goto T1006A end -- 地獄牢房中
    if GameFunc.GetFlag(7023) then Scene.TALK19common() return end -- 螢幕晃動冰山要撞來
    if GameFunc.GetFlag(7018) then Scene.TALK537A() return end
    ESC.SceneBreak()



-- ──────────────────────────────────────【加入撒旦的妮可】



::T2_1::
    -- 巴格達大廳
    ESC.TurnFace(2, 1)

    ESC.Caption(2)
    Scene.Print_WS(2,9007,8*2,3*2,StringDB('ESS0')) -- ESS=賽特，你就趕快答覆%C2撒旦大人%C4你...
    ESC.WaitDLG(2)
    ESC.SceneBreak()

-- 地獄牢房中
::T1006A::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 2)

    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1')) -- ESS=我想起來了……%N%C7恐懼之王%C5是...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10002, 19, 10002, 17)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2')) -- ESS=真沒想到原來那個%C7康那里士%C5就是...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 17)


    ESC.RMUNlock()
end


function Scene.TALK3()
    if GameFunc.GetFlag(1063) then goto T3_4 end
    if GameFunc.GetFlag(445) then goto T3_3 end
    if GameFunc.GetFlag(137) then return end
    if GameFunc.GetFlag(7050) then goto T3_2 end  -- TOWER.ASM肯迪家，微達找賽特決鬥
    if GameFunc.GetFlag(112) then return end
    if GameFunc.GetFlag(111) then goto T575J end

    -- 微達倒在地上，對話跳到冰魔神
    Scene.TALK581()
    ESC.SceneBreak()

-- ──────────────────────────────────────【薇達之淚】

::T3_2::   -- 賽特到庭園後
    GameFunc.FlagOn(137)
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂
    ESC.ScreenLock()
    ESC.ScrollMapD(7 ,17 ,4 ,4)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 27, 32)
    ESC.TakeActData(1, -1, 0, 6)

    ESC.ScrollMapWait()
    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS3')) -- ESS=……薇達，%N妳怎麼也來了？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS4')) -- ESS=───賽特！%N你為什麼要去東方的唐國，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeDIR(10, 4)
    ESC.ChangeDIR(9, 4)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS5')) -- ESS=對不起……薇達！%N其實我也曾考慮要不要...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS6')) -- ESS=為、為什麼？%N薇達真的完全不能明白──...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)

    ESC.Delay(300)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS7')) -- ESS=薇達姊姊，%N賽特大哥說，如果告訴妳的話...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    ESC.AddHeadSign(3, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(3)



    ESC.ChangeDIR(1, 1) -- 賽特抱手臂（面右）
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS8')) -- ESS=喂，肯迪！%N你就不能看看場合，少講兩句...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)




    ESC.AddHeadSign(3, 1)
    ESC.Delay(700)
    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.Delay(700)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)




    ESC.TakeActData(1, 1, Const.STAND, 6)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS9')) -- ESS=───賽特！%N之前我也說過，我遲早要找...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS10')) -- ESS=薇達，%N別這樣子───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    ESC.TakeActData(3, 3, Const.STAND, 7)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS11')) -- ESS=───以阿拉之名起誓，%N只要你贏了我，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)

    ESC.Delay(300) -- 讓透明框有時間收回
    ESC.StartBattle('BS164') -- 和薇達單挑，所有伙伴不出現



    ESC.StoryMusic(135, 25, 0x2000) -- 【劇情配樂】重生



    Scene.AddMainParty(2)
    Scene.AddMainParty(3)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS12')) -- ESS=───可惡！%N為什麼我辛苦勤練這麼久的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS13')) -- ESS=薇達，%N不是我恭維妳，妳真的變強了，變...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(3, 0) -- 薇達側身閉目
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS14')) -- ESS=───那有什麼用？%N我還是輸了，你請儘...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(9, 6) -- 薇達轉身離去
    ESC.ChangeDIR(10, 6)
    ESC.ChangeDIR(3, 6)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 11, 46)
    ESC.RoleDisable(3)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,16*2,4,'%S0%C5'..StringDB('ESS15')) -- ESS=賽特，%N薇達姊姊…她好像在哭耶───
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,4,'%S0%C5'..StringDB('ESS16')) -- ESS=賽特呀，%N我們今次離開這兒後，大家今生...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1500)
    ESC.DelHeadSign(1)




    ESC.ChangeDIR(9, 4)
    ESC.Delay(300)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,4,'%S0%C5'..StringDB('ESS17')) -- ESS=賽特大哥，%N所以我也做了悲壯的決定，無...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(10, 7)
    ESC.AddHeadSign(29, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(29)


    ESC.ChangeQQ(29, Const.WALK)
    ESC.SetRoleSpeed(29, 1)
    ESC.BatchMove(1,    29, 31, 37)
    ESC.TakeActData(29, -1, Const.STAND, 5)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4,'%S0%C5'..StringDB('ESS18')) -- ESS=肯迪少爺呀！%N這次不管你說什麼，我都不...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10029, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,4,'%S0%C5'..StringDB('ESS19')) -- ESS=哇，賽特大哥！%N你快幫我說說話嘛！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1500)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 1) -- 賽特抱手臂（面右）
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS20')) -- ESS=肯迪！%N我還是不能帶你去，但是────...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS21')) -- ESS=我答應你和薇達，我一定會再回來找你們的，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    ESC.ScreenLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(10, Const.WALK)

    ESC.BatchMove(2,
    1, 21, 36,
    10, 23, 37)
    ESC.ChangeDIR(9, 2)
    ESC.ChangeDIR(29, 2)

    ESC.BatchMove2(2,
    1, 10, 43, -1, 0, 2,
    10, 12, 41, -1, 0, 2)


    ESC.Delay(300)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)
    ESC.TurnFace(1, 9)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS22')) -- ESS=肯迪，這段時間我真的非常快樂，%N真的謝...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(1, 2)
    ESC.ChangeDIR(10, 2)
    ESC.Delay(300)
    ESC.ChangeQQ(408, Const.WALK)
    ESC.ChangeQQ(409, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(4,
    1, 3, 43,
    10, 3, 41,
    408, 3, 40,
    409, 3, 42)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Delay(500)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(1,    9, 19, 38)
    ESC.TakeActData(9, -1, Const.STAND, 6)
    ESC.Delay(300)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,5*2,2*2,StringDB('ESS23')) -- ESS=傻瓜……！大傻瓜！
    ESC.WaitDLG(9)




    ItemFunc.AddItem(402 , 2)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 26)
    ESC.FadeWait()
    ESC.ScreenUnlock()
    ESC.AddParty(10)
    ESC.RoleDisable(408)
    ESC.RoleDisable(409)
    ESC.RoleShow(1)
    ESC.RoleShow(10)

    ESC.RoleMove(29, 20, 33)
    ESC.ChangeDIR(29, 5)
    ESC.ChangeRoleMap(9, 251, 0 , 19, 26, 9, Const.STAND, 4)
    ESC.GotoMap(200 , 66 , 47 , 95, 0, 2) -- 改騎駱駝
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 16)
    ESC.FadeWait()


    -- 改煉妖壺中的位置


    ESC.RoleMove(99, 61, 44) -- 搬動妮可
    ESC.TakeActData(99, -1, 0, 6)
    ESC.Unlock(99)

    ESC.ChangePath(97, 0) -- 般動波爾與安卡
    ESC.ChangePath(30, 0)
    ESC.RoleMove(97, 100, 54)
    ESC.TakeActData(97, -1, 0, 2)
    ESC.Unlock(97)
    ESC.RoleMove(30, 96, 54)
    ESC.TakeActData(30, -1, Const.STAND, 5)





    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS24')) -- ESS=薇達、肯迪，謝謝你們大家，%N我永遠不會...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS25')) -- ESS=賽特啊，%N接下來的旅途會非常艱苦，我們...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS26')) -- ESS=我明白了，%N我們立刻啟程吧！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusicOff()-- 【劇情配樂】恢復地圖音樂


    Scene.QuestOff(275)
    Scene.QuestOn(276)


    Scene.BattleSupportOn(10) -- 慧彥 -- 慧彥加入
    GameFunc.FlagOff(10)
    ESC.RoleEnable(902)
    ESC.SceneBreak()
-- ──────────────────────────────────────【賭氣的薇達】


::T3_3::

    ESC.Caption(3)
    Scene.Print_WS(3,9008,8*2,3*2,StringDB('ESS27')) -- ESS=哼，等一下你被%C2法蘭克皇帝%C4他們...
    ESC.WaitDLG(3)

    ESC.SceneBreak()


-- ──────────────────────────────────────【支持賽特的的薇達】


::T3_4:: -- 在巴格達大廳


    ESC.Caption(2)
    Scene.Print_WS(2,9008,7*2,3*2,StringDB('ESS28')) -- ESS=夫君，不論您去不去，薇達都永遠支持你！
    ESC.WaitDLG(2)

    ESC.SceneBreak()
-- ──────────────────────────────────────【離開移動島】

::T575J::
    ESC.RMLock()
    ESC.TurnFace(3, 1)
    ESC.TurnFace(1, 3)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS29')) -- ESS=賽特，我這邊一切都就緒了你那邊已經可以出...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)

    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T575L
    end

::T575K::
    ESC.RoleDisable(59970) -- 將移動島上的小船消去

    GameFunc.FlagOn(319)
    Scene.BattleSupportOn(3) -- 薇達
    GameFunc.FlagOn(10)

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS30')) -- ESS=沒問題，老早就準備好了，%N請儘管出發！...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS31')) -- ESS=好的，%N那我們立刻就啟程────
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    ESC.MusicFadeMode(2, 10) -- 【淡出模式】
    ESC.StoryMusic(63, 63, 0x4000) -- 【劇情配樂】海潮聲




    GameFunc.FlagOn(112) -- 乘上薇達的船
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    Scene.BattleSupportOn(3) -- 薇達


    ESC.GotoMap(138, 14, 18, 1, 0, 4)

    Scene.SAR_TurnFace(641 , 0) -- 將這幾個換成不轉頭
    Scene.SAR_TurnFace(592 , 0)
    Scene.SAR_TurnFace(593 , 0)
    Scene.SAR_TurnFace(594 , 0)
    Scene.SAR_TurnFace(595 , 0)



    ESC.ChangeRoleMap( 3, -1, 0, 11, 16, 3, Const.STAND, 5) -- 將薇達移到船上
    ESC.ChangeRoleMap(641, -1, 0, 23, 17, 411, Const.STAND, 2)
    ESC.ChangeRoleMap(156, -1, 0, 9, 13, 579, Const.STAND, 5)
    ESC.ChangeRoleMap(159, -1, 0, 15, 15, 501, Const.STAND, 2)
    ESC.ChangeRoleMap(164, -1, 0, 9, 21, 505, Const.STAND, 7)
    ESC.ChangeRoleMap(166, -1, 0, 20, 15, 503, Const.STAND, 6)
    ESC.ChangeRoleMap(592, -1, 0, 16, 13, 523, Const.STAND, 6)
    ESC.ChangeRoleMap(593, -1, 0, 14, 22, 599, Const.STAND, 4)
    ESC.ChangeRoleMap(594, -1, 0, 23, 27, 411, Const.STAND, 0)
    ESC.ChangeRoleMap(595, -1, 0, 11, 28, 600, Const.STAND, 7)
    ESC.ChangeRoleMap(576, -1, 0, 9, 28, 599, Const.STAND, 7)
    ESC.ChangeRoleMap(577, -1, 0, 28, 27, 523, Const.STAND, 4)
    ESC.ChangeRoleMap(578, -1, 0, 20, 20, 411, Const.STAND, 4)
    ESC.ChangeRoleMap(579, -1, 0, 20, 12, 600, Const.STAND, 6)
    ESC.RoleEnable(641)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(577)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()
    ESC.Delay(200)


    ESC.Caption(3)
    Scene.Print_W(3,9008,7*2,2*2,StringDB('ESS32')) -- ESS=所有的人都上來了嗎？
    ESC.WaitDLG(3)


    ESC.Caption(641)
    Scene.Print_W(641,9008,6*2,2*2,StringDB('ESS33')) -- ESS=報告船長，都上來了！
    ESC.WaitDLG(641)


    ESC.Caption(3)
    Scene.Print_W(3,9008,7*2,3*2,StringDB('ESS34')) -- ESS=──好！%N目標%C2大馬士革%C4，出...
    ESC.WaitDLG(3)


    MediaFunc.PlaySound(250)
    ESC.Delay(500)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(0, 0, 0x4000) -- 【劇情配樂】中止


    ESC.GotoMap(140, 51, 47, 1, 0, 1)
    ESC.TakeActData(596 , -1, 52, 3)
    ESC.TakeActData(59991, -1, 52, 3)
    ESC.TakeActData(59990, -1, 52, 3)
    ESC.RoleMove(59991, 59, 52)
    ESC.RoleMove(59990, 56, 55)
    ESC.RoleHide(1)
    ESC.TakeActData(596, -1, -1, 3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 25)
    MediaFunc.PlaySound(314)

    ESC.SetRoleSpeed(59991, 3)
    ESC.SetRoleSpeed(59990, 3)
    ESC.SetRoleSpeed(596, 3)


    ESC.BatchMove(3,
    596, 75, 49,
    59991, 75, 52,
    59990, 75, 55)
    ESC.FadeWait()






-- ──────────────────────────────────────【月光下的薇達】



::MOON::

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()

    ESC.GotoMap(144, 28, 18, 1, 52, 3) -- 場景移到薇達船上  （賽特座標＝28,18，方向3）
    ESC.ChangeRoleMap(3, -1, 0, 13, 3, 3, Const.WALK, 1) -- 將薇達移到船上（薇達座標＝13, 3，方向1）
    ESC.RoleDisable(3)
    ESC.RoleEnable(414)
    ESC.RoleDisable(641)
    ESC.RoleDisable(156)
    ESC.RoleDisable(159)
    ESC.RoleDisable(164)
    ESC.RoleDisable(166)
    ESC.RoleDisable(579)
    ESC.RoleDisable(576)
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595) -- 離開移動島,前往貝魯特的劇情



    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,180,200,24*2,2*1,'%S1'..StringDB('ESS35')) -- ESS=船在大海上航行了數天……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 25)
    ESC.FadeWait()



    ESC.StoryMusic(14, 10, 0x4000) -- 【劇情配樂】賽特
    ESC.Delay(700)



    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,240,200,10*2,2*1,'%S1'..StringDB('ESS36')) -- ESS=某一天深夜……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 25)
    ESC.FadeWait()
    ESC.ScreenHide()


    ESC.ScreenShow()
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()




    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS37')) -- ESS=月光下的海真是美啊…%N彷彿閃著藍色光芒...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.Delay(600)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS38')) -- ESS=莉蓮……我們離開故鄉%C7法蘭克%C5已...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.Delay(800)
    ESC.SetRoleSpeed(1, 3) -- 賽特緩緩踱步
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 28, 22+3)

    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS39')) -- ESS=莉蓮，妳看！%N這一望無際的深邃藍色，藍...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.Delay(900)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS40')) -- ESS=我以前從不曉得大海會是這樣的美，%N妳是...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.Delay(1000)
    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(63, 0, 0x4000) -- 【劇情配樂】海浪聲＋靜聲

    ESC.Delay(1000)



    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.OnHead(40, -75)
    Scene.Print_WS(1,9007,5*2,1*2,'%S0'..StringDB('ESS41')) -- ESS= ！
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(20, -75)
    Scene.Print_W(1,9007,10*2,3*2,''..StringDB('ESS42')) -- ESS=……好美的歌聲啊，%N是誰呢…？
    ESC.WaitDLG(1)



    ESC.Delay(600)
    ESC.ChangeDIR(3, 1) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    ESC.RoleEnable(3)
    ESC.SetRoleSpeed(3, 4) -- 薇達緩緩走下來
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 13, 9)


    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.OnHead(40, -75)
    Scene.Print_WS(1,9007,5*2,1*2,'%S0'..StringDB('ESS43')) -- ESS=──是她？
    ESC.WaitDLG3(1)


    ESC.SetRoleSpeed(3, 4) -- 薇達緩緩走下來
    ESC.ChangeQQ(3, Const.WALK) -- 薇達發現賽特，止步
    ESC.BatchMove(1,    3, 13, 11)


    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    ESC.SetRoleSpeed(3, 4) -- 薇達緩緩走下來
    ESC.ChangeQQ(3, Const.WALK) -- 薇達發現賽特，止步
    ESC.BatchMove(1,    3, 13, 13)






    ESC.ChangeDIR(3, 5)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(3)



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.OnHead(30, -80)
    Scene.Print_W(3,9007,7*2,1*2,'%C0'..StringDB('ESS44')) -- ESS=……賽特？%N
    ESC.WaitDLG2(3)






    ESC.SetRoleSpeed(3, 2) -- 薇達走下來
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 15, 15)
    ESC.BatchMove(1,    3, 20+2, 17+1)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeDIR(3, 5)

    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)

    ESC.SetRoleSpeed(3, 3) -- 薇達走近賽特
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 23, 22)


    ESC.ChangeDIR(3, 2) -- 薇達側站
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS45')) -- ESS=…賽特，%N夜已經這麼深了，%N你怎麼還...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS46')) -- ESS=──今晚月色很美，%N所以…讓我想起很多...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS47')) -- ESS=反倒是妳，%N為什麼也還不睡？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 2) -- 薇達抱臂
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達抱臂閉眼
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 3)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達抱臂
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達抱臂閉眼
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 3)
    ESC.Delay(300)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS48')) -- ESS=我在代替陣亡的士兵弟兄們，%N執行巡船的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS49')) -- ESS=原來如此……%N那我不打攪妳了，請繼續吧...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)

    ESC.ChangeDIR(3, 2) -- 薇達抱臂
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(900)

    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)

    ESC.ChangeDIR(3, 2) -- 薇達側站
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS50')) -- ESS=賽特先生，%N你也別太晚睡了，今後我們的...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, Const.STAND)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS51')) -- ESS=不過…今晚的月色真的是…很美！%N你真的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.Delay(600)
    ESC.SetRoleSpeed(3, 3) -- 薇達走下來
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 20+1, 22)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS52')) -- ESS=對不起……%N妳可以再唱一次…妳剛才唱的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)


    ESC.AddHeadSign(3, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 2)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeDIR(3, 6)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS53')) -- ESS=你聽到了……？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 0)


    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS54')) -- ESS=很好聽啊！%N請妳再為我唱一次好嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    ESC.SetRoleSpeed(3, 5) -- 薇達走下來
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 23, 22)


    ESC.ChangeDIR(3, 2) -- 薇達側站
    ESC.ChangeQQ(3, 64)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS55')) -- ESS=那是我死去的母親小時候教我的歌…我很小很...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, Const.STAND)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS56')) -- ESS=今晚的月光也讓我想起我母親，就讓我為她和...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    ESC.Delay(600)

    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(22, 22, 0x4000) -- 【劇情配樂】月光下的薇達


    ESC.ChangeDIR(3, 2) -- 薇達坐下挺直
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(600)



    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1) -- 賽特抱手臂閉眼
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S5%C5'..StringDB('ESS57')) -- ESS=我馳騁在戰場呀────%N沒工夫梳洗，沒...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 2) -- 薇達坐下攤開手臂
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S2%C5'..StringDB('ESS58')) -- ESS=在橙紅色的月光下呀────%N我也會想一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.Delay(900)
    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS59')) -- ESS=好美啊────%N想不到妳的歌聲這麼好聽...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(3, 2) -- 薇達坐下挺直
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS60')) -- ESS=……謝…謝…%N…感謝…你的欣賞……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS61')) -- ESS=哈哈哈───%N沒想到妳也會臉紅！%N我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS62')) -- ESS=……謝…謝…%N…我明白…了……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1200)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS63')) -- ESS=…賽特先生，%N我聽你的伙伴說，你是西方...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.Delay(200)
    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS64')) -- ESS=傷腦筋，%N那幾個傢伙，真一點祕密也守不...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS65')) -- ESS=……你一個人怎麼會想要去阿拉伯？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS66')) -- ESS=我想要去尋找%C7知識%C5，%N一些我...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS67')) -- ESS=反而是妳，一個女孩子，%N為什麼會想過這...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(3, 2) -- 薇達坐下攤開手臂
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS68')) -- ESS=我們%C7古萊家族%C5一代一代一直都是...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS69')) -- ESS=難怪妳沒有蒙面…%N我聽我同伴說，阿拉伯...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(3, 2) -- 薇達坐下挺直
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS70')) -- ESS=──賽特，我想到了！%N我們的首都%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS71')) -- ESS=真的……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS72')) -- ESS=嗯！%N反正我的老家也在大馬士革，%N所...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS73')) -- ESS=太感謝妳了！%N這如果要我自己摸索，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)


    ESC.Delay(200)
    GameFunc.FlagOn(8)
    ESC.Delay(700)


    ESC.ChangeDIR(3, 2) -- 薇達起身
    ESC.ChangeQQ(3, 69)
    ESC.SeekACT(3, 0)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(3, 2) -- 薇達起身
    ESC.ChangeQQ(3, 69)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS74')) -- ESS=糟糕，%N我必須趕快去完成巡邏才行，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.SetRoleSpeed(3, 3) -- 薇達走
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 13-2, 24)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeDIR(3, 6)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS75')) -- ESS=對了，還有……%N我真的感謝你屢次救我，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS76')) -- ESS=雖然，我一直不知道你究竟是%C7人%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 0)


    ESC.SetRoleSpeed(3, 1) -- 薇達走
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 13-2, 28)
    ESC.RoleDisable(3) -- 薇達離開地圖
    ESC.Delay(600)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉眼
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(800)
    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS77')) -- ESS=哈哈──！%N外剛內柔──和%C7莉蓮%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)


    ESC.SetRoleSpeed(1, 1) -- 賽特回走
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 28, 18-6)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(700)


    ESC.SetRoleSpeed(1, 3) -- 賽特回走
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 28, 18)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS78')) -- ESS=大馬士革的學者……%N莉蓮，看來這一趟旅...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 3)


    ESC.Delay(600)


    ESC.TakeActData(1, 98, 62, 0) -- 賽特半跪


    ESC.MusicFadeMode(1, 40)
    ESC.StoryMusic(0, 0, 0x4000) -- 【劇情音樂】中止




    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 460, 280, 6502, 0)
    ESC.TILPA2(0, 10)
    ESC.RoleHide(1)
    ESC.TILPA2(0, 16)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(22, 38, 65, 1, 0, 1) -- 場景轉到煉妖壺
    ESC.RoleEnable(99) -- 煉妖壺中妮可的角色號碼
    ESC.ChangeRoleMap(30, -1, 21, 78, 38, 30, Const.WALK, 1)
    ESC.RoleEnable(30)
    ESC.RoleMove(99, 61, 44)
    ESC.ChangePath(99, 21)
    ESC.ChangeQQ(99, Const.WALK)
    ESC.RoleHide(1)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 315 , 230 , 6502 , 0)
    ESC.TILPA2(0, 6)

    ESC.RoleShow(1)
    ESC.TILPA2(0, 20)
    MediaFunc.PlaySound(5)

    ESC.TurnFace(1, 99)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Unlock(1)


    ESC.Delay(500)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS79')) -- ESS=───妮可！%N妳又隨隨便便把我拉進瓷壺...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    ESC.StoryMusicOff()-- 【場景音樂】煉妖壺



    GameFunc.FlagOff(10)
    ESC.SceneBreak()


::T575L::

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS80')) -- ESS=對不起，%N我還沒有完全準備就緒……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS81')) -- ESS=我明白了，%N那等你那邊準備好，%N我們...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)

    ESC.ChangeDIR(3, 6) -- 頭轉回原方向
    ESC.SceneBreak()








end





function Scene.TALK4()
    if GameFunc.GetFlag(445) then ESC.SceneBreak() end
    if GameFunc.GetFlag(308) then ESC.SceneBreak() end
    if GameFunc.GetFlag(305) then Scene.TALK536() ESC.SceneBreak() end
    if GameFunc.GetFlag(104) then
        ESC.Caption(4)
        ESC.FitSize()
        Scene.M_Print(4, StringDB('ESS82')) -- ESS=莉蓮……
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(101) then
        -- 半跪在火刑場
        ESC.TakeActData(4, -1, 63, 2) -- 麥爾斯跪張眼

        ESC.Caption(4)
        Scene.Print_W(4,9007,7*2,3*2,StringDB('ESS83')) -- ESS=可…可恨──！%N你這個可惡的邪教徒！
        ESC.WaitDLG(4)

        ESC.TakeActData(4, -1, 64, 2) -- 麥爾斯跪閉眼
        ESC.SceneBreak()
    end
    if not GameFunc.GetFlag(100) then return end
    ESC.Caption(4)
    ESC.FitSize()
    Scene.M_Print(4, StringDB('ESS84') ) -- 在火刑場對話 ESS=別吵！安靜！
end



function Scene.TALK5()
    if GameFunc.GetFlag(100) then return end
    Scene.TALK206()
end





-- ──────────────────────────────────────【康那里士的支線對話】

function Scene.TALK7()
    if GameFunc.GetFlag(445) then goto T7_3 end
    if GameFunc.GetFlag(101) then goto T7_1 end


    ESC.Caption(7)
    Scene.Print_W(7,9007,9*2,3*2,StringDB('ESS85')) -- ESS=讓上帝的憤怒之火，燒盡大地上所有的異教徒...
    ESC.WaitDLG(7)


    Scene.Print_W(7,9007,7*2,3*2,StringDB('ESS86')) -- ESS=主啊，%N願您的國度，早日降臨大地──
    ESC.WaitDLG(7)

    ESC.SceneBreak()


::T7_1::
    if not GameFunc.GetFlag(102) then goto T7_2 end
    if not GameFunc.GetFlag(104) then Scene.TALK526() ESC.SceneBreak() end


::T7_2::


    ESC.Caption(7)
    Scene.Print_W(7,9007,5*2,2*2,StringDB('ESS87')) -- ESS=嘿嘿嘿……呵呵呵…
    ESC.WaitDLG(7)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS88')) -- ESS=這個教士怎麼了？神智錯亂了嗎？
    ESC.WaitDLG(1)
    ESC.SceneBreak()


::T7_3:: -- 巴格達大廳

    ESC.Caption(7)
    Scene.Print_WS(7,9007,9*2,3*2,StringDB('ESS89')) -- ESS=賽特閣下！%N只要您一聲令下，我們遠征軍...
    ESC.WaitDLG(7)

end


function Scene.TALK8()
    if GameFunc.GetFlag(390) then goto T1006B end -- 地獄牢房中
    ESC.SceneBreak()

::T1006B::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 8)


    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS90')) -- ESS=我不信出不去，我要再試試……
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)


    ESC.ChangeQQ(8, Const.WALK)
    ESC.SetRoleSpeed(8, 0)
    ESC.BatchMove(1,    8, 30, 21)
    MediaFunc.PlaySound(333)
    ESC.AddHeadSign(8, 2)
    ESC.SetRoleSpeed(8, 0)
    ESC.TakeActData(8, -1, 64, 0)
    ESC.BatchMove(1,    8, 30, 19)
    ESC.TakeActData(8, -1, 0, 1)
    ESC.Unlock(8)
    ESC.Delay(600)
    ESC.DelHeadSign(8)


    ESC.ChangeQQ(8, Const.WALK)
    ESC.SetRoleSpeed(8, 0)
    ESC.BatchMove(1,    8, 30, 21)
    MediaFunc.PlaySound(333)
    ESC.AddHeadSign(8, 2)
    ESC.SetRoleSpeed(8, 0)
    ESC.TakeActData(8, -1, 64, 0)
    ESC.BatchMove(1,    8, 30, 19)
    ESC.TakeActData(8, -1, 0, 1)
    ESC.Unlock(8)
    ESC.Delay(600)
    ESC.DelHeadSign(8)


    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS91')) -- ESS=喵喵，卡瑪～～%N妳這樣很吵耶，妨礙我睡...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)


    ESC.RMUNlock()
end





-- ──────────────────────────────────────【肯迪的支線對話】

function Scene.TALK9()
    local guid2 -- 目前妮可的GUID
    if GameFunc.GetFlag(137) then goto T9_3 end
    if GameFunc.GetFlag(7050) then goto T9_5 end  -- 黃雷事件過後
    if GameFunc.GetFlag(135) then goto T9_4 end   -- 在大殿上碰上唐僧與黃雷*
    if GameFunc.GetFlag(387) then goto T9_1 end   -- 在血迷宮書房中
    if GameFunc.GetFlag(401) then goto T9_2 end
    if GameFunc.GetFlag(116) then goto T802_7 end

    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS92')) -- ESS=我正在讀書，別吵我！
    ESC.WaitDLG(9)
    ESC.SceneBreak()

::T802_7::

    if GameFunc.GetFlag(1060) then Scene.T802_ARAB() return end -- 問阿拉伯的局勢
    GameFunc.FlagOn(10)

    Scene.MoveHero(20, 29, 4)
    ESC.RMLock()




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS93')) -- ESS=肯迪，%N我今後可以留在你們這裏學習嗎？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS94')) -- ESS=可以是可以，%N不過既然你要留在這裏，%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS95')) -- ESS=──首先呢，%N你要叫我肯迪大師！
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS96')) -- ESS=……是是是，肯迪大師！%N然後呢？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS97')) -- ESS=你先學好阿拉伯文，然後，我再看看要教你什...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)




    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()



    ESC.DLGNoFrame()
    ESC.FitSize()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,110,200,40,2,'%C5%S2'..StringDB('ESS98')) -- ESS=就這樣，賽特在肯迪的家住下來學習……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.TakeActData(1, 98, 67, 0)
    ESC.DLGClose(1) -- 不換地圖情況，等待句子消失
    ESC.ScreenShow()
    ESC.RoleMove(1, 17, 29)
    ESC.RoleMove(9, 22, 37)
    ESC.ScreenLock()
    Scene.ScrollMapD(8, 11, 16, 16)
    ESC.ScrollMapWait()

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 25)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetRoleSpeed(9, 2)
    ESC.BatchMove(1,    9, 25, 29)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.ChangeDIR(9, 1)
    ESC.Delay(1200)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetRoleSpeed(9, 3)
    ESC.BatchMove(1,    9, 20, 29)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.FadeWait()
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()

    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.FitSize()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,100,200,36,2,'%C5%S2'..StringDB('ESS99')) -- ESS=這段期間，薇達也會不時來找賽特……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)
    ESC.TakeActData(1, 98, 66, 0)
    ESC.RoleMove(9, 32, 27)
    ESC.RoleMove(1, 36, 28)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.WaitDLG(1)
    ESC.ScreenShow()


    ESC.RoleEnable(3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetRoleSpeed(9, 2)
    ESC.BatchMove(1,    9, 24, 29)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.FadeWait()


    ESC.BatchMove(1,    3, 32, 30)
    ESC.TakeActData(3, -1, 0, 7)
    ESC.AddHeadSign(3, 3)
    ESC.Delay(300)
    ESC.TakeActData(1, 1, 0, 6)
    ESC.SetRoleSpeed(9, 3)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 18, 27)
    ESC.ChangeQQ(9, Const.STAND)

    ESC.DelHeadSign(3)
    ESC.Delay(300)
    ESC.AddHeadSign(1, 3)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(40, -75)
    Scene.Print_W(9,9007,8*2,1*2,StringDB('ESS100')) -- ESS=咳…咳咳…
    ESC.WaitDLG(9)



    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.RoleDisable(3)

    guid2 = 99
    ESC.GotoMap(22 , 107, 53, 1, 0, 1)
    ESC.RoleHide(1)
    ESC.ChangePath(guid2, 0)
    ESC.RoleMove(guid2, 109, 52)
    ESC.TakeActData(guid2, -1, 68, 2)
    ESC.RoleMove(30, 106, 52)
    ESC.TakeActData(30, -1, Const.STAND, 5)
    ESC.Unlock(guid2)
    ESC.RoleLock(30)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()
    ESC.Delay(300)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS101')) -- ESS=波爾……%N最近好無聊哦！
    ESC.WaitDLG(1)


    ESC.Unlock(guid2)

    ESC.ChangeHead(10002, 20, 10002, 18)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS102')) -- ESS=賽特整天都在看書……%N看書有那麼有趣嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(guid2, 0)
    ESC.DelHead(10002, 18)



    MediaFunc.PlaySound(5)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 45)
    ESC.FadeWait()
    ESC.RoleMove(guid2, 92, 31)


    ESC.ChangePath(guid2, 21)
    ESC.Unlock(30)
    ESC.ChangeQQ(guid2, Const.WALK)
    ESC.ChangeQQ(30, Const.WALK)
    ESC.Progress_Off()
    ESC.GotoMap(251, 22, 28, 1, 0, 3)
    ESC.RoleMove(9, 26, 28)
    ESC.ChangeDIR(9, 2)

    ESC.TakeActData(1, 98, 66, 0)
    ESC.RoleMove(1, 16, 38)
    ESC.RoleMove(9, 31, 33)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 20, 38)
    ESC.FadeWait()
    ESC.ChangeQQ(9, Const.STAND)
    ESC.ChangeDIR(9, 2)
    ESC.TakeActData(1, 1, 0, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)




    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS103')) -- ESS=賽特！%N我要上大馬士革去拿託商人幫我帶...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS104')) -- ESS=沒問題！%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 29, 45)
    ESC.RoleDisable(9)


    Scene.Heal()    -- 賽特補血
    ESC.ScrollMapToRole(1, 4, 4)


    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.RMUNlock()
    GameFunc.FlagOn(117)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()

::T9_1::

    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS105')) -- ESS=我不該來的！我不該來的！
    ESC.WaitDLG(9)
    ESC.SceneBreak()



::T9_2::


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS106')) -- ESS=肯迪，你怎麼還不快去找找有沒有生還的人？...
    ESC.WaitDLG(1)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS107')) -- ESS=我想跟你們一起去！
    ESC.WaitDLG(9)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS108')) -- ESS=不准！%N我是絕對不會答應你的！
    ESC.WaitDLG(1)
    ESC.SceneBreak()



::T9_3:: -- 前往東方途中，又繞回肯迪之家時


    ESC.Delay(500)

    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS109')) -- ESS=賽特，你改變主意，%N要帶我去東方的%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS110')) -- ESS=我只是回來看看而已，%N這趟路太危險了，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(9, 4)
    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS111')) -- ESS=──哼，%N每次都這樣！
    ESC.WaitDLG(9)
    ESC.SceneBreak()


::T9_4::
    ESC.Caption(9)
    Scene.Print_WS(9,9008,9*2,3*2,StringDB('ESS112')) -- ESS=嘩，賽特！%N這位老伯知道好多我不曉得的...
    ESC.WaitDLG(9)
    ESC.SceneBreak()

::T9_5::
    ESC.Caption(9)
    Scene.Print_WS(9,9008,8*2,3*2,StringDB('ESS113')) -- ESS=哼！%N我一定要去東方的唐國見識見識！
    ESC.WaitDLG(9)
end



-- ──────────────────────────────────────【慧彥的支線對話】

function Scene.TALK10()
    if GameFunc.GetFlag(7055) then goto T10_2 end -- 綁架遠恩
    if GameFunc.GetFlag(7050) then goto T10_1 end -- 黃雷事件過後
    if GameFunc.GetFlag(135) then goto T10 end -- 在大殿上碰上唐僧與黃雷*
    ESC.SceneBreak()



::T10:: -- 要去追擊黃雷時
    ESC.Caption(10)
    Scene.Print_WS(10,9008,6*2,2*2,StringDB('ESS114')) -- ESS=這位朋友，小心一點啊！
    ESC.WaitDLG(10)
    ESC.SceneBreak()



::T10_1:: -- 離開肯迪之家時

    ESC.Caption(10)
    Scene.Print_WS(10,9008,8*2,3*2,StringDB('ESS115')) -- ESS=不錯不錯，肯迪真是一位求知心旺盛的孩子！...
    ESC.WaitDLG(10)
    ESC.SceneBreak()



::T10_2:: -- 挾持遠恩之後，又入巴格達時

    ESC.Caption(10)
    Scene.Print_WS(10,9008,6*2,3*2,StringDB('ESS116')) -- ESS=小心一點啊，別被士兵認出來了！
    ESC.WaitDLG(10)
end


function Scene.TALK11()
    if GameFunc.GetFlag(390) then goto T1006C end -- 地獄牢房中
    ESC.SceneBreak()
::T1006C::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS117')) -- ESS=喵喵，這下不妙～～%N你要不要考慮一下暫...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)


    ESC.TurnFace(1, 11)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS118')) -- ESS=這是不可能的！%N我是絕對不會答應加入魔...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(11, 1)
    ESC.Unlock(11)


-- ──────────────────────────────────────【莉蓮的遺言】
-- 回到海盜船上

    GameFunc.FlagOn(10)
    Scene.MoveHero(32, 20, 6)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)

    ESC.ChangeDIR(8, 5)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 13, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS119')) -- ESS=何況我心中最重要的一個人，%N當初活活死...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS120')) -- ESS=我都快恨不得把這些傢伙碎屍萬段，怎可能和...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 13)




    ESC.Delay(500)


    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)
    ESC.RoleDisable(99)
    ESC.RoleDisable(98)
    ESC.RoleDisable(97)
    ESC.RoleDisable(7)


    ESC.ChangeRoleMap(7, 42, 0, 31, 26, 007, 52, 1) -- 將康那里士挪到盜船上
    Scene.PlayACT(1, 330 , 320 , 6005 , 1)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.TILPA2(1, 20)
    ESC.ScreenHide()
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 15)
    Scene.PlayACT(1, 0 , 60 , 6066 , 0)


    ESC.ChangeDIR(1, 2) -- 賽特訝異
    ESC.ChangeQQ(1, 28)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.TILPA2(1, 75-15)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.Progress_Off()
    ESC.GotoMap(42, 21, 21, 1, 70, 0) -- Const.STAND,1
    Scene.ScrollMapD(4, 3, 16, 16)
    ESC.ScreenLock()
    ESC.RoleHide(1)


    ESC.ChangeRoleMap(322, 42, 0, 12, 17, 589, 24, 0) -- 第四章之傳送魔法陣
    Scene.SAR_CSEL(322, 1) -- 不可用滑鼠點選
    Scene.SAR_EVENT(322, 1) -- 碰撞可發生劇情
    Scene.SAR_Shadow(322, 0) -- 沒影子
    ESC.RoleDisable(322)
    ESC.ChangeRoleMap(5, 42, 0, 10, 13, 005, 53, 0) -- 將莉蓮移至海盜船上
    ESC.RoleEnable(5)
    Scene.SAR_CSEL(5 , 0)
    Scene.SAR_ABSC(5, 0)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()
    Scene.PlayACT(0, 300 , 340 , 6005 , 1)
    ESC.TILPA2(0, 30)



    ESC.ChangeDIR(1, 2) -- 賽特訝異
    ESC.ChangeQQ(1, 28)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 1)
    ESC.FadeWait()
    ESC.Delay(20)
    ESC.RoleShow(1)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()

    ESC.TILPA1(1, 2)





    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS121')) -- ESS=────怎麼回事？%N難道我又回到「%C...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.ChangeHead(10001, 16, 10001, 12)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS122')) -- ESS=只是想著%C7莉蓮%C5，不知不覺就回到...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 12)



    ESC.ChangeDIR(1, 0) -- 賽特抱手臂
    ESC.ChangeQQ(1, 26)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Delay(800)
    ESC.TakeActData(1, -1, Const.STAND, 6)
    ESC.Delay(100)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(100)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(100)


    ESC.TakeActData(1, -1, 52, 4)
    ESC.RoleLock(1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    GameFunc.FlagOn(130)


::LILIAN::
    ESC.Delay(300)


    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 14, 16)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.Delay(300)



    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusic(131, 64, 0x4000) -- 【劇情配樂】賽特



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS123')) -- ESS=莉蓮……%N記得不久前，我才在妳墳前下定...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 91, 72-4, 4) -- 賽特跪


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS124')) -- ESS=我真的好迷惘應該怎麼做才好……%N請妳告...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.Delay(500)
    ESC.TakeActData(5, -1, 55, 0) -- 莉蓮睜開眼
    ESC.TILPA1(5, 6)
    ESC.Delay(800)


    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS125')) -- ESS=……賽特……？
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)




    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS126')) -- ESS=……我怎會…在這裏……%N…麥爾斯…他人...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)


    ESC.TakeActData(1, 1, Const.STAND, 4) -- 賽特起身
    ESC.Delay(600)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS127')) -- ESS=莉蓮……%N我…他………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.Delay(500)


    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS128')) -- ESS=…賽特……莉蓮相信…你是一個……很好的人...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS129')) -- ESS=…莉蓮…莉蓮…想請求你們…不要…再繼續這...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)


    ESC.Delay(700)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS130')) -- ESS=─────！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS131')) -- ESS=…賽特…答應我…好嗎……%N要和…麥爾斯...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)


    ESC.Delay(300)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1600)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS132')) -- ESS=……好的，我答應妳！%N妳好好休息，別多...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.Delay(500)


    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS133')) -- ESS=……謝謝你…賽特…%N…你…真的……是一...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)



    ESC.ChangeDIR(5, 0) -- 莉蓮閉上眼睛
    ESC.ChangeQQ(5, 55)
    ESC.SeekACT(5, 2)
    Scene.SAR_ACTCycle(5, 0)


    ESC.Delay(900)


    ESC.TakeActData(1, 1, Const.STAND, 4) -- 賽特起身


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS134')) -- ESS=莉蓮……%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.Delay(800)
    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 19, 19)
    ESC.TakeActData(1, 1, 0, 5)
    ESC.Delay(300)



    ESC.ChangeDIR(5, 0) -- 莉蓮張開眼睛
    ESC.ChangeQQ(5, 55)
    ESC.SeekACT(5, 1)
    Scene.SAR_ACTCycle(5, 0)



    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS135')) -- ESS=…賽特…莉…莉蓮可以…拜託…你…另一件…...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)



    ESC.TakeActData(1, -1, 0, 4)
    ESC.Delay(700)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS136')) -- ESS=嗯……%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS137')) -- ESS=莉……莉蓮知道…自己大概…撐不久了……可...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)



    ESC.Delay(400)
    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 14, 16)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.Delay(500)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS138')) -- ESS=說吧，我會盡力的……%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.TakeActData(1, 91, 72-4, 4) -- 賽特跪
    ESC.Delay(400)


    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS139')) -- ESS=…謝謝你…請你…告訴他說……%N「%C3...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)


    ESC.Delay(500)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS140')) -- ESS=我會的，%N我一定會幫你轉達給他的───...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(5, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS141')) -- ESS=……謝謝你…賽特……%N你也要…自己……...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10005, 3)


    ESC.Delay(500)
    ESC.ChangeDIR(5, 0) -- 莉蓮閉上眼睛
    ESC.ChangeQQ(5, 55)
    ESC.SeekACT(5, 2)
    Scene.SAR_ACTCycle(5, 0)
    ESC.Delay(1000)




    ESC.StoryMusic(57, 57, 0x2000) -- 【劇情配樂】魔鬼的讚歌




    ESC.RoleEnable(7)
    Scene.WORD_ON_HEAD(7, 5, 10, -60, '%S2'..StringDB('ESS142')) -- ESS=呵呵……
    ESC.TILPA1(7, 9)
    ESC.WaitDLG(7)

    ESC.TakeActData(1, 1, Const.STAND, 4) -- 賽特起身
    ESC.Delay(50)
    ESC.TurnFace(1, 7)
    ESC.Delay(200)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS143')) -- ESS=又是你───%N康那里士！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(7, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS144')) -- ESS=賽特呀……%N冰般的外表下，卻燃燒著著比...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)



    ESC.TakeActData(7, -1, 52, 2)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.SetPos(1,27,23)
::LILI_1::
    ESC.BatchStep( 1,   1)
    if not ESC.RoleReach(1) then goto LILI_1 end
    ESC.RoleDisable(7)
    ESC.TakeActData(1, -1, 60, 3)
    ESC.TILPA1(1, 8)
    ESC.TakeActData(1, -1, 28, 0)

    ESC.Delay(600)
    ESC.RoleMove(7, 11, 16)
    ESC.TakeActData(7, -1, 52, 1)
    ESC.RoleEnable(7)
    ESC.TILPA1(7, 10)



    Scene.MBOn(7, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS145')) -- ESS=傻瓜───%N愛再美好，生命再快樂，那都...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 0)


    ESC.TakeActData(1, -1, 0, 4)



    ESC.Delay(200)
    ESC.TakeActData(7, 7, Const.STAND, 2)
    ESC.Delay(70)
    ESC.ChangeDIR(7, 6)
    ESC.Delay(70)
    ESC.ChangeDIR(7, 1)
    ESC.Delay(70)
    ESC.ChangeDIR(7, 5)
    ESC.Delay(200)



    Scene.MBOn(7, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS146')) -- ESS=你就是未來的賽特吧？%N看來你的「%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    ESC.Delay(200)
    ESC.ChangeDIR(7, 1)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 6)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 2)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 4)
    ESC.Delay(400)



    Scene.MBOn(7, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS147')) -- ESS=這女人是撒旦大人%C7計劃中重要的一部分...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 0)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    Scene.MBOn(7, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS148')) -- ESS=我要把她釘在十字架上，讓她痛苦而死，好讓...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS149')) -- ESS=你這傢伙────%N康那里士！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.TurnFace(7, 1)



    Scene.MBOn(7, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS150')) -- ESS=滾回去吧───%N未來的你，就交給%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 1)





    Scene.PlayACT(1, 340 , 360 , 6005 , 1)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 6)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 20, 20)
    ESC.FadeWait()



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(25, 25, 0x4000) -- 【劇情配樂】無聲


    ESC.ScreenHide()
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 15)
    Scene.PlayACT(1, 0 , 60 , 6066 , 0)
    ESC.TILPA2(1, 75-15)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.Progress_Off()
    ESC.ScreenUnlock()
    ESC.GotoMap(271, 32, 20, 1, Const.STAND, 6)
    ESC.RoleHide(1)


    ESC.TakeActData(9, -1, 0, 6)
    ESC.FadeScreen(30, 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()
    Scene.PlayACT(0, 330 , 320 , 6005 , 1)
    ESC.TILPA2(0, 30)


    ESC.StoryMusicOff()  -- 【地圖音樂】回復地獄牢房的場景配樂

    ESC.FadeScreen(0, 0, 0, 30, 30, 30 , 1)
    ESC.FadeWait()
    ESC.Delay(20)
    ESC.RoleShow(1)



    ESC.ChangeDIR(1, 2) -- 賽特訝異
    ESC.ChangeQQ(1, 28)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()



    ESC.Delay(450)
    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 38, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS151')) -- ESS=───該死！%N又莫名其妙被傳回原來地方...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 38)


    ESC.TakeActData(1, -1, 34, 0)
    ESC.Delay(500)



    ESC.Delay(450)
    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 56, 560, 120) -- 吶喊
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS152')) -- ESS=────可惡呀！%N我居然連一個自己想保...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 56)





-- ──────────────────────────────────────【逃出地獄牢房】


    ESC.ChangeRoleMap(3, -1, 0, 24, 32, -1, Const.WALK, 7)
    ESC.RoleEnable(3)
    ESC.BatchMove(1,    3, 27, 24)
    ESC.TakeActData(3, -1, Const.STAND, 7)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS153')) -- ESS=──賽特、肯迪，真的是你們！%N大家怎麼...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.TakeActData(1, 1, 0, 6)
    ESC.ChangeDIR(2, 1)
    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(11, 6)
    ESC.ChangeDIR(8, 6)


    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(9, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(9)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS154')) -- ESS=薇達──？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS155')) -- ESS=我在前面那兒迷路很久，正在煩惱時，聽到好...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 6, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS156')) -- ESS=……真慚愧，%N我們本來是進來要想救妳的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 6)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS157')) -- ESS=別那麼說！%N我來看看有沒有辦法打開這個...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,7*2,2*2,StringDB('ESS158')) -- ESS=有了，那邊好像有個機關……
    ESC.WaitDLG(3)



    ESC.ChangeDIR(3, 5)
    ESC.Delay(200)


    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 36, 29)
    ESC.TakeActData(3, -1, Const.STAND, 5)
    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(9, 5)
    ESC.ChangeDIR(11, 5)
    ESC.ChangeDIR(8, 5)
    ESC.ChangeDIR(2, 5)
    MediaFunc.PlaySound(58)
    ESC.Delay(500)
    MediaFunc.PlaySound(82)
    ESC.RoleDisable(486) -- 血迷宮牢門
    ESC.RoleDisable(487)
    GameFunc.FlagOn(389) -- 打開血迷宮牢門的開關


    ESC.Delay(500)
    ESC.ChangeDIR(9, 1)
    ESC.ChangeDIR(11, 1)
    ESC.ChangeDIR(8, 1)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.SetPos(3,31,28)
    ESC.SetPos(1,34,25)



::T1002_1A::
    ESC.BatchStep( 2,   3, 1)
    if not ESC.RoleReach(3) then goto T1002_2A end
    ESC.TakeActData(3, -1, 0, 7)
::T1002_2A::
    if not ESC.RoleReach(1) then goto T1002_3A end
    ESC.TakeActData(1, -1, 0, 6)
::T1002_3A::
    if not ESC.IsAllReach() then
        goto T1002_1A
    end
    ESC.Delay(300)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS159')) -- ESS=謝謝妳，薇達……%N還有其他的人嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS160')) -- ESS=不……%N一直有惡魔、怪物不斷攻擊我們，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS161')) -- ESS=可是剛才他也被怪物打敗抓走了，只剩我一人...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS162')) -- ESS=英雄……？%N他是誰？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS163')) -- ESS=他是最近加入我們%C7阿拔斯軍%C5的一...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS164')) -- ESS=他好像跟你一樣，也是什麼%C7法蘭克王國...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS165')) -- ESS=………黃金死神？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS166')) -- ESS=是的，%N最早我們在沙漠上也遇到一隻%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS167')) -- ESS=但是現在回想起來，那怪物好像是故意打輸的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS168')) -- ESS=我明白了！%N我們先找出口，把肯迪平安送...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    Scene.Heal()-- 恢復體力
    Scene.Nicole_Off()
    Scene.Kama_Off()
    Scene.Ankh_Off()


    ESC.ChangeDIR(1, 6)
    ESC.AddParty(9)
    ESC.AddParty(3)


    Scene.QuestOff(266)
    Scene.QuestOn(267)


    GameFunc.FlagOn(131) -- 回到地獄牢房中
    GameFunc.FlagOn(371)
    Scene.BattleSupportOn(3) -- 薇達



    Scene.AddMainParty(2)
    Scene.AddMainParty(3)
    ESC.RoleEnable(99) -- 煉妖壺夥伴出現
    ESC.RoleEnable(98)
    ESC.RoleEnable(97)


    GameFunc.FlagOff(10)
end

function Scene.TALK13()
    ESC.Caption(13)
    ESC.FitSize()
    Scene.M_Print(13, StringDB('ESS169')) -- ESS=放開我！放開我！
end




-- ──────────────────────────────────────【黃雷的支線對話】

function Scene.TALK14()

    ESC.Caption(14)
    Scene.Print_WS(14,9005,9*2,3*2,StringDB('ESS170')) -- ESS=賽特閣下，天下已握在你我掌中了，請您立刻...
    ESC.WaitDLG(14)

end




-- ───────────────────────────────────────────【遠恩王子】
-- 角色15
function Scene.TALK15()
-- ──────────────────────────────────────【蜃樓王登場】
-- 發現遠恩，蜃樓王登場
    if GameFunc.GetFlag(140) then goto T4037 end  -- 蜃樓王登場過
    if GameFunc.GetFlag(427) then goto T15_2 end  -- 井裏找到遠恩蜃樓王登場
    ESC.SceneBreak()


::T15_1::
    ESC.FitSize()-- 遠恩王子被歹徒慧彥綁架
    Scene.M_Print_EA(15, StringDB('ESS171')) -- ESS=哼～～！
    ESC.SceneBreak()


::T15_2::
    GameFunc.FlagOn(10)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS172')) -- ESS=找到了！%N遠恩王子在那裏───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusic(116, 116, 0x2000) -- 【劇情配樂】慧彥


    ESC.RemoveParty(24, 0 , 'TALK24', 24, 8 , 2 , 0xD100)
    ESC.RemoveParty(10, 0 , 'TALK10', 10, 8 , 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.RoleMove(15, 50, 52)
    ESC.ScreenLock()
    ESC.ScrollMapD(23, 36, 2, 2) -- Scene.ScrollMapD(30, 36, 2, 2)

    ESC.SetRoleSpeed(24, 1)
    ESC.SetRoleSpeed(10, 1)


    ESC.BatchMove2(3,
    24, 48, 57, -1, 0, 7,
    1, 45, 53, -1, 0, 7,
    10, 53+1, 55+1, -1, 0, 4)



    ESC.TakeActData(15, -1, 61-1, 1)
    ESC.Unlock(15)


    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS173')) -- ESS=爹、娘……%N為什麼會這樣……
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)


    ESC.TakeActData(15, -1, 60-1, 1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS174')) -- ESS=遠恩王子！%N我們總算是找到你了───
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData(15, -1, 61-1, 1)
    ESC.Unlock(15)


    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS175')) -- ESS=不要…%N不要抓我……%N走開、走開……...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS176')) -- ESS=……你們唐軍好卑鄙……說是來作客…卻屠殺...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS177')) -- ESS=唉……%N王子一定是又看到唐軍當時燒殺擄...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS178')) -- ESS=慧彥大師，%N這是……那個當時逃走的%C...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS179')) -- ESS=不……%N不是幻影，他是石國王子真實本人...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.AddHeadSign(24, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(24)


    ESC.ChangeQQ(24, Const.WALK)
    ESC.BatchMove(1,    24, 49, 54)
    ESC.ChangeQQ(24, Const.STAND)
    ESC.ChangeDIR(24, 7)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS180')) -- ESS=站起來───%N你這策反大食與西域各國，...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS181')) -- ESS=給我起來！%N我要帶你這傢伙回到長安，%...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.ChangeDIR(10, 4)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS182')) -- ESS=住手，段大人！%N遠恩之事，老衲也略知一...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(24, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(24)

    ESC.ChangeDIR(24, 5)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS183')) -- ESS=可是…%N這傢伙是這次西域諸國反叛事件的...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS184')) -- ESS=阿彌陀佛……%N遠恩王子會想復仇，是人之...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(24, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(24)


    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(24, 0)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS185')) -- ESS=慧彥大師，%N段秀實乃大唐軍人，久蒙國恩...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS186')) -- ESS=老衲聽說當日你們進攻石國，是使用%C7詐...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.ChangeDIR(24, 5)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS187')) -- ESS=……是的，當日%C7黃雷%C5大人說，%...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS188')) -- ESS=阿彌陀佛……%N然則，你自己覺得對否？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(24, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(24)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS189')) -- ESS=唉……%N您說中小人的心事了……%N小人...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS190')) -- ESS=石國之民純樸而好客，我們卻為建立軍功，利...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS191')) -- ESS=阿彌陀佛，善哉善哉……%N幸好您沒如%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS192')) -- ESS=………那……這王子怎麼辦？%N放他回去嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    ESC.ChangeDIR(10, 4)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS193')) -- ESS=阿彌陀佛……%N遠恩王子回去，%C7大食...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS194')) -- ESS=這王子其實是一個好人，但他的%C7復仇行...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(24, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(24)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS195')) -- ESS=慧彥大師，還是您想得周到───%N段秀實...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS196')) -- ESS=阿彌陀佛，感謝施主慈悲……%N由於是老衲...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS197')) -- ESS=……慧彥大師，小人信得過您為人，%N既然...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    ESC.SetRoleSpeed(24, 3)
    ESC.ChangeQQ(24, Const.WALK)
    ESC.BatchMove(1,    24, 45+1, 59-1)
    ESC.ChangeQQ(24, Const.STAND)
    ESC.ChangeDIR(24, 6)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.ScreenShack(2, 4, 4, -4, -4, 4, -4, -4, 4, 0xFF00)
    ESC.RoleEnable(860)
    ESC.RoleEnable(861)
    ESC.RoleEnable(862)
    ESC.RoleEnable(863)
    ESC.RoleEnable(864)
    ESC.RoleEnable(865)
    MediaFunc.PlaySound(313)
    ESC.Delay(70)
    ESC.ChangeDIR(24, 6)

    ESC.Delay(930)
    ESC.ScreenShackStop()

    ESC.TurnFace(15, 16)
    ESC.TurnFace(10, 16)
    ESC.TurnFace(24, 16)
    ESC.TurnFace( 1, 16)

    ESC.Delay(300)
    ESC.TakeActData(16, 14, 60, 1)
    Scene.SAR_Shadow(16, 0) -- 蜃樓王沒有影子
    ESC.RoleEnable(16)


    ESC.AddHeadSign(15, 0)
    ESC.Delay(30)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(30)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(30)
    ESC.AddHeadSign(24, 0)

    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(24)
    ESC.DelHeadSign(15)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS198')) -- ESS=黃雷大人……？
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.SetRoleSpeed(15, 1)
    ESC.TakeActData(15, -1, 62, 0) -- 遠恩站起來

    ESC.SetRoleSpeed(15, 3)
    ESC.TakeActData(15, -1, 7, 1)
    ESC.BatchMove(1,    15, 50, 52+1)


    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS199')) -- ESS=段秀實……%N你竟敢私通敵軍，該當何罪─...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS200')) -- ESS=黃、黃大人……！%N
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS201')) -- ESS=我待會再算你的帳……%N先把這蠻夷王子抓...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10014, 0)


    ESC.TakeActData(16, 14, Const.RUN, 1)
    ESC.SetRoleSpeed(15, 6)
    ESC.SetRoleSpeed(16, 5)

    ESC.BatchMove2(2,
    15, 50, 52+2, -1, 0, 0,
    16, 50, 49+2, -1, 60, 1)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS202')) -- ESS=黃大人，別這樣……%N最先不對的是我們啊...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.ChangeDIR(10, 4)
    ESC.TakeActData(16, 14, Const.RUN, 1)
    ESC.TakeActData(15, -1, 7, 1) -- 遠恩倒退走
    ESC.SetRoleSpeed(15, 6)
    ESC.SetRoleSpeed(16, 5)

    ESC.BatchMove2(2,
    15, 50, 52+5, -1, 0, 0,
    16, 50, 49+3, -1, 60, 1)

    ESC.ChangeDIR(15, 1)
    ESC.TakeActData(15, -1, 63, 0)
    ESC.Unlock(15)
    ESC.TILPA1(15, 5)

    ESC.TakeActData(15, -1, 61, 0)
    ESC.Unlock(15)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(121, 122, 0x4000) -- 【劇情配樂】拔劍



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS203')) -- ESS=不要抓我，不要抓我……%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.TakeActData(1, -1, 63, 0) -- 賽特出劍
    ESC.ChangeDIR(10, 4)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS204')) -- ESS=可惡的傢伙──%N不准你靠近遠恩王子！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 5)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS205')) -- ESS=賽特小心……%N這個黃雷竟然%C7沒有影...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)

    Scene.Nicole_On(47, 57, 7)
    Scene.Kama_On(48, 49, 5)
    Scene.Ankh_On(53, 49, 6)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS206')) -- ESS=賽特，%N這個人不是那個唐國官吏，他是%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS207')) -- ESS=喵，以前埃及那裏的沙漠也有這樣的妖怪專愛...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)




    ESC.PlayACT(0, -144, -170, 6064, 1, 16) -- Scene.PlayACT(0, 193, 78, 6064, 1) -- 蜃樓王出現的魔法陣
    MediaFunc.PlaySound(50)
    ESC.TILPA2(0, 25)
    MediaFunc.PlaySound(54)

    ESC.TakeActData(16, 16, 60, 0)
    ESC.TILPA2(0, 50)
    ESC.Unlock(16)
    ESC.TILPA1(16, 10)
    Scene.SAR_Shadow(16, 1) -- 此時蜃樓王才有影子
    ESC.TakeActData(16, 16, 0, 2)




    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS208')) -- ESS=可惡，%N原來你們也有一堆妖怪在幫忙啊？...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10016, 00)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS209')) -- ESS=你這傢伙，變出這些幻影來是什麼目的───...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    ESC.ChangeDIR(16, 6)


    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS210')) -- ESS=什麼目的？%N當然是招待各位啊！
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10016, 00)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS211')) -- ESS=招待我們？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS212')) -- ESS=在下%C7蜃樓王%C5，難得見到有人路過...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10016, 00)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS213')) -- ESS=阿彌陀佛……%N遠恩施主只差點沒有被你逼...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.ChangeDIR(16, 5)


    Scene.MBOn(16, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS214')) -- ESS=啊，這正是在下目的……%N剛才只差那麼一...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS215')) -- ESS=這麼多年來，在下一直想向世人證明%C7真...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 1)
    ESC.DelHead(10016, 1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS216')) -- ESS=阿彌陀佛……%N世間如夢，但幻象卻永遠是...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(16, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS217')) -- ESS=呵，大言不慚的老禿驢，%N既然如此，那我...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 1)
    ESC.DelHead(10016, 1)



    ESC.PlayACT(0, -144, -170, 6064, 1, 16) -- Scene.PlayACT(0, 193, 80, 6064, 1)
    MediaFunc.PlaySound(50)
    ESC.TILPA2(0, 5)

    ESC.TakeActData(16, 16, 62, 0)
    ESC.Unlock(16)
    ESC.TILPA1(16, 5)
    ESC.TakeActData(16, 16, 61, 0)
    ESC.Unlock(16)
    ESC.TILPA1(16, 5)
    ESC.TakeActData(16, 16, 8, 2)
    ESC.Unlock(16)
    ESC.TILPA2(0, 45)
    MediaFunc.PlaySound(54)



    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.AddHeadSign(24, 0)
    ESC.Delay(500)


    ESC.StartBattle('BS166') -- 與蜃樓王戰鬥


    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂

    ACH.SetAchievement("ACH_0_6")

    ESC.DelHeadSign(1)
    ESC.DelHeadSign(24)
    ESC.DelHeadSign(10)
    ESC.Delay(600)
    ESC.PlayACT(0, -144, -170, 6064, 1, 16) -- Scene.PlayACT(0, 193, 80, 6064, 1)
    MediaFunc.PlaySound(50)

    ESC.TakeActData(16, 16, 63, 0)
    ESC.TILPA1(16, 3)
    ESC.TILPA2(0, 25)
    MediaFunc.PlaySound(54)
    ESC.TakeActData(16, 16, 60, 0)
    ESC.TILPA1(16, 10)
    ESC.TakeActData(16, 16, 0, 2)


    ESC.ChangeDIR(16, 6)
    ESC.Delay(100)




    Scene.MBOn(16, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS218')) -- ESS=等等……今天不打了，%N剛才在下為了製造...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 0)
    ESC.DelHead(10016, 00)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS219')) -- ESS=別找藉口了，%N幻影怎麼打得過真實呢？%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS220')) -- ESS=喵，%N而且你的幻影石國，一下就被安卡我...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)



    ESC.ChangeDIR(16, 1)


    Scene.MBOn(16, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS221')) -- ESS=今天在下主要是招待這位王子，不知會有這麼...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(16, 5)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS222')) -- ESS=好，你們說在下幻影不怎麼樣……%N那在下...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 1)
    ESC.DelHead(10016, 1)


    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(75, 75, 0x4000) -- 【劇情配樂】灼熱的沙漠




    GameFunc.FlagOn(7)
    MediaFunc.PlaySound(219)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 35)
    ESC.FadeWait()
    ESC.RoleDisable(16)
    ESC.RoleDisable(860)
    ESC.RoleDisable(861)
    ESC.RoleDisable(862)
    ESC.RoleDisable(863)
    ESC.RoleDisable(864)
    ESC.RoleDisable(865)


    GameFunc.FlagOff(7)
    ESC.Progress_Off()
    ESC.GotoMap(120 , 27+4, 31-2, -1, -1, -1)
    ESC.ScreenLock()
    ESC.RoleMove(1, 27, 31-2)
    ESC.TakeActData(1, -1, 63, 0)
    ESC.SeekACT(1, 8)
    ESC.ChangeRoleMap( 15, -1 , 000 , 27+5, 31+4-2, -1, -1, -1)
    ESC.ChangeRoleMap( 10, -1 , 000 , 27+9, 31+0-2, -1, -1, -1)
    ESC.ChangeRoleMap( 24, -1 , 000 , 27+10, 31+3-2, -1, -1, -1)
    ESC.ChangeRoleMap( 11, -1 , 000 , 27+8, 31-4-2, -1, -1, -1)
    ESC.ChangeRoleMap( 8, -1 , 000 , 27+3, 31-4-2, -1, -1, -1)
    ESC.ChangeRoleMap( 2, -1 , 000 , 27+2, 31+3-2, -1, -1, -1)
    ESC.ScrollMapD(8, 6, 16, 16) -- Scene.ScrollMapD(12, 6, 16, 16)
    ESC.ScrollMapWait()
    MediaFunc.PlaySound(219)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 35)
    ESC.FadeWait()

    ESC.TakeActData(1, -1, 62, 0)
    ESC.ChangeDIR(24, 0)
    ESC.Delay(300)
    ESC.ChangeDIR(24, 7)
    ESC.Delay(300)
    ESC.ChangeDIR(24, 0)
    ESC.Delay(300)
    ESC.ChangeDIR(24, 4)
    ESC.Delay(300)




    Scene.MBOn(24, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS223')) -- ESS=怎麼回事……？%N我們怎麼會變成在沙漠中...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)


    ESC.ChangeDIR(10, 4)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS224')) -- ESS=剛才的%C7聚落%C5和%C7地下水道%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS225')) -- ESS=剛才他被我們打敗逃走，所以幻影跟著他一起...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS226')) -- ESS=好奇怪哦，%N%C7撒旦大人%C5的部下...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)





    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS227')) -- ESS=阿彌陀佛，%N為什麼這幾個會飛的%C7沙...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS228')) -- ESS=慧彥師父，這不是幻影，她們跟著我有一段時...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS229')) -- ESS=呵，原來只是%C7朋友%C5而已呀？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    Scene.Kama_Off()
    ESC.SetRoleSpeed(2, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS230')) -- ESS=我早說過賽特不是那麼容易就可以迷住的，誰...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)

    Scene.Ankh_Off()
    ESC.SetRoleSpeed(2, 0)


    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS231')) -- ESS=喂喂喂，寵物二號，%N妳們不是已經說好不...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)


    ESC.ChangeDIR(10, 6)

    Scene.Nicole_Off()



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS232')) -- ESS=阿彌陀佛……%N賽特，對於朋友，你可真要...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData(15, -1, 62, 0)
    ESC.TILPA1(15, 5)
    ESC.TakeActData(15, -1, 0, 1)
    ESC.Delay(300)
    ESC.ChangeDIR(15, 6)
    ESC.Delay(300)
    ESC.ChangeDIR(15, 1)
    ESC.Delay(300)
    ESC.ChangeDIR(15, 5)
    ESC.Delay(300)
    ESC.ChangeDIR(15, 1)
    ESC.Delay(300)


    ESC.ChangeDIR(2, 5)
    ESC.ChangeDIR(8, 5)
    ESC.ChangeDIR(10, 6)
    ESC.ChangeDIR(24, 6)


    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS233')) -- ESS=這…這是哪裏？%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(1, 5) -- 賽特抱手臂
    ESC.ChangeQQ(1, 57-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS234')) -- ESS=怎…怎麼一回事……%N我剛才…好像夢到…...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS235')) -- ESS=阿彌陀佛……%N遠恩施主，世事本無常，您...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.ChangeDIR(15, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS236')) -- ESS=慧彥師父，%N我們在耽誤不少時間了，現在...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS237')) -- ESS=是的……%N老衲務必在戰火開始前，勸說%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.ChangeDIR(15, 7)


    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS238')) -- ESS=那……我呢？%N可以回去了嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS239')) -- ESS=王子殿下……%N您回去了，%C7大食%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS240')) -- ESS=什麼？%N你…你們不是說要去%C7唐營%...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS241')) -- ESS=放心，老衲沒要讓你見唐軍……%N老衲%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS242')) -- ESS=哼！%N你們唐人最沒信用，%N我可不敢相...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)


    ESC.ChangeDIR(24, 3)
    ESC.TurnFace(24, 10)



    Scene.MBOn(24, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS243')) -- ESS=慧彥大師，%N小人也正要回唐營向節度使大...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.SetRoleSpeed(24, 3)
    ESC.SetMoveHISpeed(24)
    ESC.ChangeQQ(24, Const.WALK)
    ESC.BatchMove(1,    24, 30-7, 33)
    ESC.ChangeQQ(24, Const.STAND)



    ESC.ChangeDIR(15, 4)
    ESC.ChangeDIR(10, 6)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS244')) -- ESS=段施主啊，%N到時候請千萬別告訴唐軍，說...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.ChangeDIR(15, 4)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeDIR(24, 5)

    ESC.ChangeDIR(1, 2) -- 賽特抱臂面左
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)




    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS245')) -- ESS=放心！%N小的%C7段秀實%C5並非不明...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.AddHeadSign(15, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(15)



    ESC.ChangeQQ(24, Const.WALK)
    ESC.SetRoleSpeed(24, 1)
    ESC.SetMoveHISpeed(24)
    ESC.BatchMove(1,    24, 7, 32)



    ESC.ChangeRoleMap(24, 108 , 0, 25, 20, -1, -1, 5)
    ESC.TakeActData(1, 1, Const.STAND, 5)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS246')) -- ESS=慧彥師父，%N那我們也準備啟程吧！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.ChangeDIR(15, 4)
    ESC.ScrollMapToRole(1, 4, 4)


    ESC.ChangeDIR(1, 2)
    ESC.AddParty(10)
    ESC.AddParty(15)


    -- 將幻影中的唐軍取消掉
    ESC.RoleDisable(14)
    ESC.RoleDisable(575)
    ESC.RoleDisable(576)
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)
    ESC.RoleDisable(580)
    ESC.RoleDisable(581)
    ESC.RoleDisable(582)
    ESC.RoleDisable(583)
    ESC.RoleDisable(584)
    ESC.RoleDisable(585)
    ESC.RoleDisable(586)
    ESC.ScreenUnlock()

    ESC.ChangeRoleMap(575, 108, 0, 23, 18, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(576, 108, 0, 22, 19, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(104, 108, 0, 18, 18, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(131, 108, 0, 17, 19, 402, Const.STAND , 3)

    ESC.RoleEnable(575) -- 設駱駝出現
    ESC.RoleEnable(576)
    ESC.RoleEnable(104) -- 駱駝出現
    ESC.RoleEnable(131)
    ESC.ChangeScript(575, '')
    ESC.ChangeScript(576, '')
    ESC.ChangeScript(104, '')
    ESC.ChangeScript(131, '')


    GameFunc.FlagOff(7058) -- 讓沙漠走不過去
    GameFunc.FlagOff(426) -- 離開幻影
    GameFunc.FlagOn(140) -- 遇到蜃樓王登場
    GameFunc.FlagOff(10)

    Scene.QuestOff(282)
    Scene.QuestOn(283)

    -- 幻影水井找到的東西把它消去
    Scene.CheckDELItem(2232, 638)
    Scene.CheckDELItem(2233, 626)
    Scene.CheckDELItem(2235, 625)
    Scene.CheckDELItem(2236, 627)
    Scene.CheckDELItem(2237, 626)
    Scene.CheckDELItem(2238, 628)
    Scene.CheckDELItem(2240, 628)
    Scene.CheckDELItem(2242, 627)
    Scene.CheckDELItem(2244, 729)
    Scene.CheckDELItem(2246, 630)
    Scene.CheckDELItem(2249, 674)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂



    ESC.SceneBreak()


::T4037::
    if GameFunc.GetFlag(7055) then goto T15_1 end -- 兩歹徒綁架遠恩後

end






-- ──────────────────────────────────────【移動島的四個石像】
function Scene.TALK19common()


    if GameFunc.GetFlag(111) then Scene.T19_C() end  -- 冰魔事件解決後
    if GameFunc.GetFlag(107) then -- 四石像第一次攻擊冰山後
        ESC.Caption(22)
        Scene.Print_W(22,9007,9*2,3*2,StringDB('ESS247')) -- ESS=你快去救人吧！%N要是我們等不及，可是會...
        ESC.WaitDLG(22)
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(7028) then goto T19_D end -- 藍人說過冰魔之事,尚未碰過波西頓像
    if GameFunc.GetFlag(7019) then goto T19_G end -- 去遼望台(要先去拿望遠鏡)
    if GameFunc.GetFlag(7023) then goto T19_F end -- 螢幕晃動冰山要撞來
    if GameFunc.GetFlag(7022) then goto T537_NU2 end  -- 從時光隧道回來
    if GameFunc.GetFlag(7034) then goto T19_B end -- 第二道難題問題重複
    if GameFunc.GetFlag(7032) then goto T537_NU0 end  -- 拿到石頭回來
    if GameFunc.GetFlag(7026) then goto T19_I end -- 第一道難題問題重複
    if GameFunc.GetFlag(7018) then Scene.TALK537A() ESC.SceneBreak() end  -- 第一次跟石像說話
    if not GameFunc.GetFlag(308) then return end
    ESC.SceneBreak()


::T537A::



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS248')) -- ESS=呵…%N我就知道你一定會答應的！%N
    ESC.WaitDLG(1)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(25, 25, 0x4000) -- 【劇情配樂】音樂暫時停止



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS249')) -- ESS=來吧來吧！%N太有趣了！%N但願你還能活...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


-- ──────────────────────────────────【回到過去，擊敗姆斯比爾】


-- ::BACK::
    ESC.Delay(1)

    ESC.ScrollMapToRole(1 , 8, 8)
    ESC.ScrollMapWait()
    Scene.PlayACT(1, 330 , 320 , 6005 , 1)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.TILPA2(1, 20)

    GameFunc.FlagOn(10)
    ESC.ScreenHide()
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 15)
    Scene.PlayACT(1, 0 , 60 , 6066 , 0)
    ESC.TILPA2(1, 75-15)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.GotoMap(50, 92, 79, 1, Const.STAND, 0)
    ESC.RoleHide(1)
    ESC.ScrollMapD(66, 61, 16, 16)
    ESC.ScrollMapWait()
    ESC.ScreenLock()


    ESC.StoryMusic(38, 38, 0x4000) -- 【劇情配樂】撒旦的使徒




    ESC.RoleEnable(104)
    ESC.RoleEnable(165)
    ESC.RoleEnable(181)
    ESC.RoleEnable(200)

    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)
    ESC.RoleEnable(231)

    ESC.RoleEnable(232)
    ESC.RoleEnable(233)
    ESC.RoleEnable(234)
    ESC.RoleEnable(235)

    ESC.RoleMove(29995 , 83+3, 75+1)
    ESC.RoleMove(29999 , 86+1, 71+1)
    ESC.RoleMove(29998 , 89+1, 71+1)
    ESC.RoleMove(29997 , 85+1, 74+1)
    ESC.RoleMove(29996 , 87+1, 74+1)
    ESC.RoleEnable(29999)
    ESC.RoleEnable(29998)
    ESC.RoleEnable(29995)
    ESC.RoleEnable(29997)
    ESC.RoleEnable(29996)


    ESC.RoleEnable(6)
    ESC.ChangeRoleMap(320, 50, 0, 92, 70, 1, Const.STAND, 6)
    ESC.ChangeRoleMap(321, 50, 0, 94, 68, 2, Const.STAND, 6)
    ESC.ChangeRoleMap(322, 50, 0, 95, 81, 4, Const.STAND, 0)
    ESC.RoleEnable(321)
    ESC.RoleEnable(322)
    ESC.RoleEnable(320)
    ESC.ChangeRoleMap(2, 50, 0, 94, 97, 2, Const.STAND, 0)
    ESC.RoleDisable(2)


    Scene.PlayACT(0, 320 , 220 , 6002 , 0)
    ESC.FadeScreen( 30 , 30, 30, 15, 15, 15 , 5)
    ESC.FadeWait()
    ESC.TakeActData(320, -1, 64, 3)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 5)
    ESC.FadeWait()


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)



    ESC.TakeActData(321, -1, 32, 1)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS250')) -- ESS=賽特──%N賽特───！%N
    ESC.WaitDLG(1)


    ESC.Unlock(321)
    ESC.TakeActData(321, -1, 56, 1)
    ESC.Unlock(321)


    ESC.ChangeHead(10002, 40, 10002, 34)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS251')) -- ESS=對不起…對不起啦！%N都是我害了你……%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)



    ESC.Unlock(322)
    ESC.ChangeQQ(322, 60)
    ESC.ChangeDIR(322, 2)
    ESC.Unlock(322)



    Scene.MBOn(7, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS252')) -- ESS=你…你這魔鬼！%N竟敢…竟然敢…把我部下...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS253')) -- ESS=臭小子……%N你想說什麼？%N你就是這群...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS254')) -- ESS=哼，我照樣殺了你！%N納命來───
    ESC.WaitDLG(1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    ESC.MBOff(8, 1)
    ESC.DelHead(10006, 1)


    Scene.PlayACT(0, 382, 400, 6002, 0)
    ESC.Delay(420)
    ESC.TakeActData(322, -1, 64, 2)
    ESC.Delay(600)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)



    Scene.MBOn(7, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS255')) -- ESS=你…你…%N你這惡魔…可惡……%N
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS256')) -- ESS=我…我%C7麥爾斯%C5…%N真是…真是...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10004, 0)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS257')) -- ESS=什麼？%N臭小子……%N你…你剛才說…你...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS258')) -- ESS=Ⅵ．Ⅵ．Ⅵ！%N為…為什麼？%N為什麼你...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10006, 1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    ESC.TakeActData(322, -1, 64, 1)
    Scene.WORD_ON_HEAD(322, 20, 30, -50, '%S2%C3'..StringDB('ESS259')) -- ESS=……!?
    ESC.Delay(900)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS260')) -- ESS=怎麼可能！%N你竟然是撒旦大人說的%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10006, 1)



    ESC.SetRoleSpeed(6, 2)
    ESC.TakeActData(322, -1, 64, 1)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)
    ESC.Delay(600)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)



    ESC.TakeActData(322, -1, Const.WALK, 0)
    ESC.SetRoleSpeed(322, 1)
    ESC.SetMoveHISpeed(322)
    ESC.BatchMove(1,    322, 92, 95)
    ESC.RoleDisable(322)
    ESC.Delay(450)
    Scene.PlayACT(0, 330 , 360 , 6005 , 1)
    ESC.TILPA2(0, 30)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 1)
    ESC.FadeWait()
    ESC.Delay(20)
    ESC.RoleShow(1)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()




    ESC.TakeActData(322, -1, 64, 1)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    ESC.StoryMusic(35, 33, 0x2000) -- 【劇情配樂】不氣味＋拔劍



    ESC.TakeActData(321, -1, 52, 1)
    ESC.AddHeadSign(6, 0)
    ESC.Delay(250)
    ESC.RoleMove(321, 94, 67)


    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(350)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(350)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(350)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(150)


    ESC.DelHeadSign(6)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS261')) -- ESS=怎麼回事？%N這裏是哪裏……？%N這不是...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ChangeDIR(1, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.Delay(400)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS262')) -- ESS=而且竟然還有一個%C7我%C5躺在那裏？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.Nicole_On(97, 77, 6)
    ESC.AddHeadSign(321 , 0)
    ESC.Delay(300)
    ESC.DelHeadSign(321)
    ESC.TurnFace(2, 1)
    ESC.Unlock(2)



    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS263')) -- ESS=賽特賽特，我知道了！%N這就是你在威尼斯...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)



    ESC.TurnFace(1, 2)
    ESC.Delay(250)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(250)
    ESC.TurnFace(1, 2)
    ESC.Delay(250)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(150)
    ESC.TurnFace(1, 2)
    ESC.Delay(150)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS264')) -- ESS=……連妮可也變成兩個了？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 9)
    ESC.DelHead(10001, 1)




    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS265')) -- ESS=剛才那幾個石像，是利用%C7你身上的力量...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS266')) -- ESS=什麼…？%N原來當初我被這怪物打昏，來救...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 9)
    ESC.DelHead(10001, 9)


    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS267')) -- ESS=是呀……撒旦大人一直說欣賞你這個%C7穿...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS268')) -- ESS=撒旦大人說，他需要你這個力量的協助來幫他...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)



    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS269')) -- ESS=──混蛋！%N你們兩口子當老子不存在啊！...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10006, 1)



    ESC.TurnFace(1, 6)
    ESC.TurnFace(2, 6)
    ESC.Unlock(2)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS270')) -- ESS=姆斯比爾……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS271')) -- ESS=哼，小鬼！%N原來撒旦大人口口聲聲一直提...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)
    ESC.Delay(800)




    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS272')) -- ESS=很好，看在撒旦大人有特別吩咐的份上，今天...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10006, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS273')) -- ESS=抱歉！%N我不想，也不屑加入魔界───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS274')) -- ESS=混蛋！%N你…你以為你是在對誰說話…？%...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS275')) -- ESS=撒旦大人賞識你，要你加入魔界可是你的榮幸...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS276')) -- ESS=看老子今天讓你死得屍骨無存！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10006, 1)



    ESC.StartBattle('BS79') -- 姆斯比爾戰鬥



    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂



    ESC.TakeActData(321, -1, 32, 1)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)
    ESC.Delay(400)
    ESC.TakeActData(6, -1, 52, 2)



    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(20) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,30,32,8,'%C3'..StringDB('ESS277')) -- ESS=太狡猾了──%N這樣根本不公平───！
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)



    MediaFunc.PlaySound(76)
    Scene.PlayACT(0, 320-100, 220, 6002, 0)
    Scene.PlayACT(0, 422-220, 150+80, 622, 5) -- 閃電
    ESC.Delay(600)
    ESC.RoleDisable(6)
    ESC.RoleDisable(29997)
    ESC.RoleDisable(29996)
    ESC.RoleDisable(29999)
    ESC.RoleDisable(29998)



    ESC.ChangeDIR(2, 4)
    ESC.Unlock(2)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS278')) -- ESS=哇！好高興哦！%N姆斯比爾居然被我們打敗...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)


    ESC.TurnFace(1, 2)



    ESC.Delay(500)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS279')) -- ESS=真的呢…%N我們兩個經過不少戰鬥，沒想到...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 27, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS280')) -- ESS=賽特……%N你們…你們真的是…從%C7未...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 27)


    ESC.TurnFace(1, 321)
    ESC.TurnFace(2, 321)
    ESC.Unlock(2)



    ESC.Delay(500)
    Scene.MBOn(0, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS281')) -- ESS=對呀對呀！%N賽特他已經可以穿越時空了耶...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 17, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS282')) -- ESS=………%N……%N
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 17)



    Scene.MBOn(0, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS283')) -- ESS=還有還有，以前的我，%N賽特他人真的很好...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 2)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS284')) -- ESS=妮可───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 9)
    ESC.DelHead(10001, 1)




    Scene.PlayACT(1, 330 , 360 , 6005 , 1)
    ESC.TILPA2(1, 20)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()



    ESC.ScreenHide()
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 15)
    Scene.PlayACT(1, 0 , 60 , 6066 , 0)
    ESC.TILPA2(1, 75-15)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 15)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.RoleDisable(104)
    ESC.RoleDisable(165)
    ESC.RoleDisable(181)
    ESC.RoleDisable(200)

    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.RoleDisable(230)
    ESC.RoleDisable(231)

    ESC.RoleDisable(232)
    ESC.RoleDisable(233)
    ESC.RoleDisable(234)
    ESC.RoleDisable(235)
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)
    ESC.RoleDisable(322)

    ESC.RoleDisable(29995)


    ESC.Progress_Off()
    ESC.GotoMap(170, 42, 33, 1, 0, 7)
    ESC.ChangeRoleMap(2, 170, 0, 48, 24, 2, Const.STAND, 6)
    ESC.RoleHide(1)
    ESC.RoleDisable(2)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 6)
    Scene.PlayACT(0, 330 , 320 , 6005 , 1)
    ESC.FadeWait()
    ESC.TILPA2(0, 20)
    ESC.FadeScreen( 0 , 0, 0, 30, 30, 30 , 1)
    ESC.FadeWait()
    ESC.Delay(30)
    ESC.ChangeDIR(1, 0)
    ESC.RoleShow(1)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 1)
    ESC.FadeWait()
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    GameFunc.FlagOn(7022) -- 設定時光隧道回來
    ESC.ChangeDIR(1, 1)
    GameFunc.FlagOff(10)



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂

    ESC.SceneBreak()

::T537_NU0::
    GameFunc.FlagOn(10)
    Scene.MoveHero(42, 33, 7)
    Scene.ScrollMapD(20, 10, 4, 4)


    ESC.TurnFace(1, 21)
    Scene.Nicole_On(44, 30, 4)
    ESC.ScrollMapWait()



    ESC.TurnFace(1, 21)
    ESC.TurnFace(2, 21)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS285')) -- ESS=第一個「難題」我解決了，%N第二個又是什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(1, 21)
    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS286')) -- ESS=呵呵…妮可的朋友，%N我們也正在等你回來...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS287')) -- ESS=我剛才為你想到一題最適合、最適合你的難題...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS288')) -- ESS=米迦勒，%N這次由你來說吧！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    ESC.TurnFace(2, 19)
    ESC.TurnFace(1, 19)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS289')) -- ESS=妮可主人的朋友…%N您知道你自己的能力嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS290')) -- ESS=……什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.Delay(400)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS291')) -- ESS=是呀是呀，%N雅典娜說很想見識見識您這個...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(2, 21)
    ESC.TurnFace(1, 21)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS292')) -- ESS=呵…妮可的朋友，%N你不回去過去的你可是...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)

    Scene.QuestOff(73)
    Scene.QuestOn(74)

    GameFunc.FlagOff(10)
    GameFunc.FlagOn(7034) -- 打開第二道難題重複




::T537C:: -- 如果還沒測驗,之後和石像對話會跳到此


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS294')) -- ESS=我們可以幫你一臂之力，啟發你自己的力量回...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)

    if ESC.GetBTNSelect() == 1 then
        goto T537A
    end

    ESC.TurnFace(2, 21)
    ESC.TurnFace(1, 21)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS295')) -- ESS=別開玩笑！%N我完全不清楚你們在說些什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS296')) -- ESS=呵…沒關係沒關係！%N反正你遲早也是要面...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS297')) -- ESS=是啊是啊，%N早回去晚回去，遲早都是要回...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS298')) -- ESS=妮可主人的朋友，他們說的是對的…等您想清...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)




    ESC.ScrollMapToRole(1, 4, 4)
    Scene.Nicole_Off()
    ESC.ScrollMapWait()
    ESC.RMUNlock()
    ESC.SceneBreak()

-- ──────────────────────────────────【移動島南移！】



::T537_NU2::
    GameFunc.FlagOn(10)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 42, 33)
    Scene.ScrollMapD(20, 10, 4, 4)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.ScrollMapWait()

    ESC.TurnFace(1, 21)
    Scene.Nicole_On(44, 30, 4)



    Scene.MBOn(0, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS299')) -- ESS=嗨，我們回來了！
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS300')) -- ESS=唉呀呀，妮可老主人我們剛才還在打賭看您是...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS301')) -- ESS=感覺怎麼樣啊，兩位？%N好玩吧！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10021, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS302')) -- ESS=好像做了一場夢一樣……%N這真的是回到過...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TurnFace(2, 1)
    ESC.Unlock(2)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS303')) -- ESS=我幹嘛無聊騙你？%N任務完成沒？%N
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS304')) -- ESS=喂，雅典娜，他們都可以平安活著回來任務當...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    ESC.TurnFace(1, 19)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS305')) -- ESS=對了，請問一下…%N為什麼你們會曉得我有...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(2, 19)
    ESC.Unlock(2)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS306')) -- ESS=因為我們是%C7精靈%C5，曉得天地間的...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.TurnFace(2, 1)
    ESC.Unlock(2)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS307')) -- ESS=對呀對呀！%N而且那個%C7撒旦%C5想...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 20)
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS308')) -- ESS=………%N………
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS309')) -- ESS=我還是有疑問，%N關於我這個能力的疑問…...
    ESC.WaitDLG(1)


    ESC.TurnFace(2, 20)
    ESC.Unlock(2)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS310')) -- ESS=假如我真的有這一個能力，那我不是也可以回...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)






    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS311')) -- ESS=呵！%N當然可以，%N但也不見得可以。%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10021, 1)



    ESC.TurnFace(2, 21)
    ESC.Unlock(2)


    ESC.TurnFace(1, 21)
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS312')) -- ESS=什麼意思？%N什麼叫做當然可以，又不見得...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    ESC.TurnFace(2, 1)
    ESC.Unlock(2)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS313')) -- ESS=妮可主人的朋友，這規律說起來很複雜其實我...
    ESC.WaitDLG(1)



    ESC.TurnFace(1, 19)
    ESC.TurnFace(2, 19)
    ESC.Unlock(2)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS314')) -- ESS=在我所站的位置，有不少%C7阿拉伯學者%...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    ESC.SetRoleSpeed(2, 0) -- 妮可飛過去看
    ESC.ChangeQQ(2, Const.WALK)
    ESC.BatchMove(1,    2, 49, 27+1)
    ESC.TurnFace(2, 19)
    ESC.Unlock(2)
    ESC.Delay(900)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS315')) -- ESS=你騙人啦！%N你腳底下根本沒有人───
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS316')) -- ESS=拜託！%N米迦勒說的是他腳底站的%C7地...
    ESC.WaitDLG(1)


    ESC.TurnFace(1, 20)
    ESC.TurnFace(2, 20)
    ESC.Unlock(2)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS317')) -- ESS=看到池塘裏那個%C7漂浮的島%C5沒？%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(0, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS318')) -- ESS=嘩────！
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 0)



    ESC.TurnFace(1, 19)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.BatchMove(1,    2, 48, 24)
    ESC.TurnFace(2, 19)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.TurnFace(2, 20)
    ESC.Unlock(2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS319')) -- ESS=什麼是『因果定律』？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS320')) -- ESS=就是一件事情%C7起因%C5和%C7結果...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS321')) -- ESS=本來這是很單純的事情，不過因為您能夠%C...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS322')) -- ESS=聽起來滿有趣的。%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(2, 19)
    ESC.Unlock(2)


    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS323')) -- ESS=這麼講究幹什麼？%N想回去就直接回去，不...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 3)
    ESC.DelHead(10002, 3)




    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS324')) -- ESS=不，妮可主人……%N越強大的力量，運用起...
    ESC.WaitDLG(1)


    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(500)


    ESC.AddHeadSign(1, 1) -- 沉思
    ESC.Delay(1000)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,12*2,5*2,'%C3'..StringDB('ESS325')) -- ESS=…奇怪，不知怎的，我對自己這力量，有一種...
    ESC.WaitDLG(1)
    ESC.Delay(900)





    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS326')) -- ESS=好，%N既然妮可他們通過難題考驗，我們就...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10021, 1)




    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS327')) -- ESS=真無聊！%N從頭到尾就只有妳一個人在反對...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(2, 21)
    ESC.Unlock(2)


    Scene.MBOn(0, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS328')) -- ESS=阿拉伯──！%N我的部下們，快帶我們去%...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS329')) -- ESS=少給我得意忘形，妮可！%N───走吧，%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    ESC.SceneMusic(148, 64, 64, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳：迷宮Ⅲ）



    GameFunc.FlagOn(105) -- 取得移動島控制權，移動島往東南移動


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 35)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()



    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL ( 1,9009,160,210,2*14,2,'%C5%S2'..StringDB('ESS330')) -- ESS=移動島開始向阿拉伯移動……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.WaitDLG(1)
    ESC.RoleMove(2, 49, 34)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangePath(2, 30)
    ESC.RoleHide(1)
    ESC.ScreenShow()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()

    ESC.SetRoleSpeed(625 , 14)
    ESC.BatchMove(1,    625, 44, 28)
    ESC.SetRoleSpeed(625 , 14)
    ESC.BatchMove(1,    625, 45, 29)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 35)
    ESC.FadeWait()




    ESC.ScreenHide() -- 賽特向阿拉伯人學阿拉伯語
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()


    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL ( 1,9009,160,200,2*20,4,'%C5%S2'..StringDB('ESS331')) -- ESS=這段時間，%N賽特也在島上跟哈倫學阿拉伯...
    ESC.WaitDLG3(1)
    ESC.Delay(1000)



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.WaitDLG(1)




-- ::KNIGHT::
    ESC.RoleShow(1)
    ESC.Progress_Off()
    ESC.GotoMap(148, 45, 26, 1, 0, 2)
    ESC.ChangeDIR(1, 4)
    ESC.RoleMove(164, 43, 24)
    ESC.RoleLock(164)
    ESC.ChangeQQ(164, Const.STAND)
    ESC.ChangeDIR(164, 3)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()

    ESC.AddHeadSign(164, 3)
    ESC.Delay(1000)
    ESC.DelHeadSign(164)
    ESC.AddHeadSign(1, 3)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)
    ESC.Delay(500)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 36)
    ESC.FadeWait()

    ESC.ScreenHide()
    ESC.ChangeQQ(164, Const.WALK)
    ESC.Unlock(164)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()




    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL ( 1,9009,200,210,2*20,4,'%C5%S2'..StringDB('ESS332')) -- ESS=過了數個月……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.WaitDLG(1)





-- ──────────────────────────────────【騎士頒授】


    ESC.MusicFadeMode(1, 30) -- 【淡出模式】
    ESC.StoryMusic(11, 11, 0x4000) -- 【劇情配樂】賽特吉他


    ESC.ScreenShow() -- 賽特在莉蓮墳前獨白
    ESC.Progress_Off()
    ESC.GotoMap(170, 88, 48, 1, 0, 2)
    ESC.TurnFace(1, 624)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 20)
    ESC.FadeWait()



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS333')) -- ESS=莉蓮…%N我們已經離開威尼斯好幾個月了，...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS334')) -- ESS=原本我一直不相信%C7上帝%C5什麼的，...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(50)
    ESC.Unlock(1)
    ESC.SetRoleSpeed(1, 4)
    ESC.TakeActData(1, -1, 68, 2)
    ESC.TILPA1(1, 3)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS335')) -- ESS=莉蓮，對不起，%N我決定不用我的能力將妳...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS336')) -- ESS=我卻註定往後也必須活在無止境的血腥中，沒...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.Delay(800)




    Scene.RemoveMainParty(2) -- 妮可離開隊伍
    ESC.RoleDisable(99) -- 關掉煉妖壺的妮可





    ESC.MusicFadeMode(1, 30) -- 【淡出模式】
    ESC.StoryMusic(13, 13, 0x4000) -- 【劇情配樂】策馬奔馳



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 25) -- 賽特回憶受封為騎士之事
    ESC.FadeWait()
    ESC.GotoMap(142, 26, 28, 98, 24, 1)


    ESC.ChangeRoleMap(310, 142, 0 , 36+4 , 27, 403, 0 , 6) -- 切換到高盧
    ESC.ChangeRoleMap(315, 142, 0 , 30+3 , 26, 409, 0 , 6) -- 高盧回憶（日景）
    ESC.ChangeRoleMap(302, 142, 0 , 47 , 28, 403, 0 , 6)
    ESC.ChangeRoleMap(307, 142, 0 , 28 , 32, 409, 0 , 4)
    ESC.ChangeRoleMap(304, 142, 0 , 31+4 , 33, 403, 0 , 4)
    ESC.ChangeRoleMap(301, 142, 0 , 42 , 34, 403, 0 , 4)



    ESC.Delay(800)
    ESC.RoleMove(59, 22, 31)

    ESC.PlayACT(0, 226 , 230 , 58 , 52)
    ESC.PlayACT(0, 230 , 202 , 11000 , 0)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 25)
    ESC.FadeWait()



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS337')) -- ESS=賽特！%N我法蘭克王國首相兼執政%C7丕...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS338')) -- ESS=賽特騎士！%N從今天開始，你就是我們%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS339')) -- ESS=是的！%N賽特誓死為法蘭克王國效忠，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(5, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS340')) -- ESS=恭喜你呀，賽特！%N你終於也成為一名騎士...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10056, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS341')) -- ESS=賽特騎士！%N你瞧，我們每個人都對今後的...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)





    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS342')) -- ESS=是！%N賽特絕不會辜負陛下、丕平閣下以及...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TakeActData(1, 98, 24, 2) -- 賽特起身
    ESC.TILPA1(1, 4)
    ESC.MBWait()
    ESC.Delay(300)


    ESC.TakeActData(95, -1, 0, 52)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS343')) -- ESS=父親大人，外頭傳說賽特是%C7異邦人%C...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10095, 1)



    ESC.TurnFace(58, 95)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS344')) -- ESS=查理曼%C5吾兒！%N我問你，如果你現在...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS345')) -- ESS=這……%N當然是能力重要，血統這種東西，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10095, 1)



    ESC.TurnFace(58, 95)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS346')) -- ESS=沒錯，查理曼吾兒！%N你回答得非常好！%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS347')) -- ESS=賽特今天對法蘭克貢獻很大，我們授予他騎士...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS348')) -- ESS=外頭那些人，只是單純嫉妒他，才用%C7血...
    ESC.WaitDLG(1)


    ESC.Delay(400)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS349')) -- ESS=聽好，查理曼吾兒！%N要當一位偉大的英雄...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS350')) -- ESS=是的，我明白了，父親大人！%N孩兒謝謝您...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10095, 1)


    ESC.TurnFace(95, 1)
    ESC.TakeActData(95, -1, 0, 53)
    ESC.Delay(600)



    ESC.TurnFace(1, 95)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS351')) -- ESS=對不起，賽特先生，%N剛才我說了一些不應...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10095, 1)



    ESC.TurnFace(1, 95)
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS352')) -- ESS=查理曼閣下，請別這麼說！%N您年紀這麼小...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(58, 1)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS353')) -- ESS=賽特，謝謝你能這麼想。%N將來我兒查理曼...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 98, 0, 4)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS354')) -- ESS=請你務必協助他，讓他能成為一位頂天立地的...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)


    ESC.TakeActData(1, 98, 24, 1) -- 賽特跪



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass() ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS355')) -- ESS=是──%N既然您如此吩咐，只要有機會，%...
    ESC.WaitDLG2(10000)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 25)
    ESC.FadeWait()
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    ESC.Progress_Off()-- 高盧回憶（夜景）
    ESC.GotoMap(143 , 16, 24, 98 , 0 , 4)
    ESC.ChangeRoleMap(58 , 143, 0 , 13 , 22, 58 , 0 , 2)


    ESC.MusicFadeMode(1, 60) -- 【淡出模式】
    ESC.StoryMusic(11, 11, 0x4000) -- 【劇情配樂】賽特吉他
    ESC.Delay(700)


    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 26)
    ESC.FadeWait()

    Scene.QuestOff(74)
    Scene.QuestOn(75)

    GameFunc.FlagOn(23) -- 鎖住進煉妖壺
    GameFunc.FlagOff(10)
    ESC.SceneBreak()

::T19_B::
    Scene.MoveHero(42, 33, 0)

    Scene.ScrollMapD(20, 10, 4, 4)
    Scene.Nicole_On(44, 30, 4)
    ESC.ScrollMapWait()


    ESC.TurnFace(2, 21)
    ESC.TurnFace(1, 21)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS356')) -- ESS=呵…怎麼樣？%N想通了沒有啊？
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS357')) -- ESS=史芬克斯！%N你再為他重複一次吧！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)

    goto T537C
    ESC.SceneBreak()





::T19_D::
    ESC.Caption(19)
    Scene.Print_W(19,9007,9*2,3*2,StringDB('ESS358')) -- ESS=妮可主人的朋友，您快去%C2冰山島%C4...
    ESC.WaitDLG(19)


    Scene.Print_W(19,9007,7*2,3*2,StringDB('ESS359')) -- ESS=如果不快一點，這些人會永遠成為冰塊的。
    ESC.WaitDLG(19)
    ESC.SceneBreak()





::T19_F:: -- 螢幕晃動冰山要撞來
    Scene.MoveHero(42, 33, 0)
    Scene.ScrollMapD(20, 10, 4, 4)
    ESC.ScrollMapWait()
    ESC.TurnFace(1, 19)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS360')) -- ESS=怎麼回事？%N發生了什麼事情？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS361')) -- ESS=不曉得……%N東方海上有個不明物體向我們...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS362')) -- ESS=是呀是呀！%N我們幾個是還不確定那是什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 19)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS363')) -- ESS=賽特先生，%N請您到%C7城堡瞭望台%C...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    ESC.TurnFace(1, 2)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS364')) -- ESS=好，妮可──%N我們走！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ScrollMapToRole(1, 4, 4)
    Scene.Nicole_Off()

    ESC.StoryMusicOff()
    ESC.ScrollMapWait()
    GameFunc.FlagOn(7019) -- 打開去向阿拉伯人拿望遠鏡
    GameFunc.FlagOn(7029) -- 切換遼望台說看得不夠遠
    Scene.AddMainParty(2) -- 妮可加入隊伍
    ESC.RoleEnable(99) -- 打開煉妖壺的妮可
    Scene.QuestOff(76)
    Scene.QuestOn(77)
    ESC.SceneBreak()



::T19_G::
    ESC.Caption(Const.TOWN)

    ESC.Caption(20)
    Scene.Print_W(20,9007,10*2,3*2,StringDB('ESS365')) -- ESS=請快去%C2城堡瞭望台%C4，看看到底是...
    ESC.WaitDLG(20)


    GameFunc.FlagOn(7029) -- 切換遼望台說看得不夠遠的對話
    ESC.SceneBreak()



::T19_I:: -- 拿到鑰匙之後,直到完成前一直重複這句話

    ESC.Caption(19)
    Scene.Print_W(19,9007,11*2,4*2,StringDB('ESS366')) -- ESS=妮可主人的朋友，鑰匙可以打開%C2城堡瞭...
    ESC.WaitDLG(19)

end

function Scene.T19_C()

    -- 冰魔事件解決後……
    Scene.MoveHero(42, 33, 0)
    if GameFunc.GetFlag(369) then goto T19_H end
    ESC.Caption(19)
    Scene.Print_L(19,9007,404,182,14,4,StringDB('ESS367')) -- ESS=賽特！%N我們要睡覺了？
    ESC.WaitDLG(19)

    ESC.FitSize()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS368')) -- ESS=你們也要睡覺？

    Scene.M_PrintW(22,7,4,StringDB('ESS369')) -- ESS=沒事做的時候，我們有時候會睡個幾十年。
    ESC.WaitDLG(22)

    Scene.M_PrintW(21,7,2,StringDB('ESS370')) -- ESS=或許沒機會再看到你了，晚安。
    ESC.WaitDLG(21)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10,4,StringDB('ESS371')) -- ESS=喔，是嗎？晚安……。
    ESC.WaitDLG(1)
    GameFunc.FlagOn(369)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T19_H::
    Scene.WORD_ON_HEAD(19, 10, 10, -60, StringDB('ESS372')) -- ESS=ＺＺＺ
    ESC.WaitDLG(19)
    Scene.WORD_ON_HEAD(20, 10, 10, -60, StringDB('ESS372')) -- ESS=ＺＺＺ
    ESC.WaitDLG(20)
    Scene.WORD_ON_HEAD(21, 10, 10, -60, StringDB('ESS372')) -- ESS=ＺＺＺ
    ESC.WaitDLG(21)
    Scene.WORD_ON_HEAD(22, 10, 10, -60, StringDB('ESS372')) -- ESS=ＺＺＺ
    ESC.SceneBreak()

end

function Scene.TALK19()
    Scene.TALK19common()
end

function Scene.TALK20()
    Scene.TALK19common()
end

function Scene.TALK21()
    Scene.TALK19common()
end





-- ──────────────────────────────────────【波西頓石像】

function Scene.TALK22()
    if GameFunc.GetFlag(111) then Scene.T19_C() end  -- 冰魔事件解決後
    if GameFunc.GetFlag(107) then
        ESC.Caption(22)
        Scene.Print_W(22,9007,9*2,3*2,StringDB('ESS247')) -- ESS=你快去救人吧！%N要是我們等不及，可是會...
        ESC.WaitDLG(22)
        return
    end  -- 四石像第一次攻擊冰山後

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS373')) -- ESS=奇怪，這到底是什麼石像…？
    ESC.WaitDLG(1)

end






-- ───────────────────────────────────────【麥爾丹的支線對話】


function Scene.TALK25()
    -- 麥爾丹
    if GameFunc.GetFlag(119) then goto T25_1 end
::T25_1::

    ESC.Caption(25)
    Scene.Print_W(25,9008,6*2,2*2,StringDB('ESS374')) -- ESS=他媽的，快給我想辦法！
    ESC.WaitDLG(25)

end


-- ──────────────────────────────────────【薩西的支線對話】

function Scene.TALK29()
    if GameFunc.GetFlag(469) then goto T29_8 end  -- 離開天山之後
    if GameFunc.GetFlag(137) then goto T29_7 end  -- 與薇達比試後
    if GameFunc.GetFlag(136) then goto T29_6 end  -- 阿拔斯革命後
    if GameFunc.GetFlag(135) then goto T29_5B end -- 與機關獸對打，肯迪脫隊中
    if GameFunc.GetFlag(132) then goto T29_5 end  -- 地獄回來後,阿拔斯革命結束前
    if GameFunc.GetFlag(334) then goto T29_4 end  -- 準備去塔德莫爾(還沒點選駱駝)
    if GameFunc.GetFlag(119) then goto T29_3 end  -- 準備去塔德莫爾(還沒點選駱駝)
    if GameFunc.GetFlag(118) then goto T29_2A end -- 麥爾丹闖入肯迪家
    if GameFunc.GetFlag(117) then goto T29_2 end -- 在肯迪家住下
    if GameFunc.GetFlag(116) then goto T29_1 end


    ESC.Caption(29)
    Scene.Print_W(29,9008,6*2,3*2,StringDB('ESS375')) -- ESS=完了完了…%N這下可該怎麼辦才好…
    ESC.WaitDLG(29)
    ESC.SceneBreak()
::T29_8:: -- 離開天山
    Scene.M_Print_EA(1, StringDB('ESS376')) -- ESS=薩西，好久不見了。
    Scene.M_Print_EA(29, StringDB('ESS377')) -- ESS=是賽特呀。
    Scene.M_Print_EA(1, StringDB('ESS378')) -- ESS=肯迪好像不在。
    Scene.M_Print_EA(29, StringDB('ESS379')) -- ESS=小主人有天趁我不注意時，偷偷跑去旅行了，...
    Scene.M_Print_EA(1, StringDB('ESS380')) -- ESS=他很聰明，應該會沒事的。
    ESC.SceneBreak()

::T29_7:: -- 出發向東走後，又跑回到肯迪之家


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,3*2,StringDB('ESS381')) -- ESS=薩西，麻煩您看好肯迪，別讓他又偷偷跟著我...
    ESC.WaitDLG(1)



    ESC.Caption(29)
    Scene.Print_WS(29,9008,9*2,3*2,StringDB('ESS382')) -- ESS=放心，賽特先生，我一定會負責看好小主人的...
    ESC.WaitDLG(29)
    ESC.SceneBreak()

::T29_6:: -- 準備出發前往中國之時

    ESC.Caption(29)
    Scene.Print_WS(29,9008,8*2,3*2,StringDB('ESS383')) -- ESS=賽特先生，%C2薇達小姐%C4說有重要的...
    ESC.WaitDLG(29)

    ESC.SceneBreak()

::T29_5:: -- 地獄回來後，阿拔斯革命結束前
    -- ＴＭＨ做到此時，注意需不需要薩西幫主角補血


    ESC.Caption(29)
    Scene.Print_WS(29,9008,9*2,3*2,StringDB('ESS384')) -- ESS=肯迪少爺，現在外面很危險，請您留在家裏…...
    ESC.WaitDLG(29)

    ESC.Caption(9)
    Scene.Print_WS(9,9008,9*2,3*2,StringDB('ESS385')) -- ESS=哼，這麼有趣的增廣見聞機會，我才不要隨便...

    ESC.WaitDLG(9)
    ESC.SceneBreak()

::T29_5B:: -- 準備出發前往塔德莫爾之後，又折返回來


    ESC.Caption(29)
    Scene.Print_W(29,9008,7*2,2*2,StringDB('ESS386')) -- ESS=薇達小姐，小主人還好嗎！
    ESC.WaitDLG(29)

    Scene.M_PrintW_EA(3, 7, 2, StringDB('ESS387')) -- ESS=你放心，我會好好照顧肯迪的。

    ESC.SceneBreak()

::T29_1:: -- 肯迪鬍子被揭開之後


    ESC.Caption(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS388')) -- ESS=對不起…%N請問我可以暫時留在你們這兒嗎...
    ESC.WaitDLG(1)

    ESC.Caption(29)
    Scene.Print_W(29,9008,6*2,2*2,StringDB('ESS389')) -- ESS=這…%N我不能決定…
    ESC.WaitDLG(29)


    Scene.Print_W(29,9008,7*2,3*2,StringDB('ESS390')) -- ESS=您得問問%C2肯迪少爺%C4，小主人說可...
    ESC.WaitDLG(29)

    GameFunc.FlagOff(1060)

    ESC.SceneBreak()


::T29_2::
    ESC.SceneBreak()


::T29_2A:: -- 麥爾丹擅自闖入後

    ESC.Caption(29)
    Scene.Print_W(29,9008,6*2,3*2,StringDB('ESS375')) -- ESS=完了完了…%N這下可該怎麼辦才好…
    ESC.WaitDLG(29)
    ESC.SceneBreak()



::T29_3:: -- 準備出發阻止麥爾丹之時

    ESC.RemoveParty(9, 0,'TALK9',9,Const.WALK,2,0xD100)
    ESC.ChangeQQ(1, Const.WALK)

    ESC.BatchMove2(2,
    1, 26, 32, -1, Const.STAND,2,
    9, 24, 34, -1, Const.STAND,4)
    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS391')) -- ESS=少爺，您千萬要保重呀！%N歐馬亞家的人很...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10029, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS392')) -- ESS=吉米人？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TurnFace(9, 1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS393')) -- ESS=吉米人就是指%C7不信阿拉%C5的人，就...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS394')) -- ESS=那還比我們那裏好，%N我們那裏是不信耶穌...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS395')) -- ESS=爺爺相信不論是%C7阿拉%C5也好，還是...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS396')) -- ESS=結果我們就被大家認為是邪魔歪道，送了一頂...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS397')) -- ESS=大帽子可還好，我們那兒的上帝送給異教徒的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)


    ESC.AddParty(9)
    GameFunc.FlagOn(334)
    ESC.SceneBreak()




::T29_4:: -- 準備出發去塔德莫爾阻止麥爾丹時，短循環對話


    ESC.Caption(29)
    Scene.Print_W(29,9008,12*2,3*2,StringDB('ESS398')..'%N'..StringDB('SESS2')) -- ESS=你們要不要休息一晚再走？%N （1）%B...
    ESC.WaitDLG(29)

    local select = ESC.GetBTNSelect()
    if select==1 then
        ESC.Progress_Off()
        ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
        ESC.FadeWait()
        ESC.GotoMap(251 , 27 , 27 , 1, 0, 1)
        Scene.FullHeal()    -- 賽特補血
        ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
        ESC.FadeWait()
    elseif select==2 then
        -- 準備出發前往塔德莫爾之後，又折返回來
        ESC.Caption(29)
        Scene.Print_W(29,9008,7*2,2*2,StringDB('ESS399')) -- ESS=小主人呀，千萬要保重呀！
        ESC.WaitDLG(29)
    end
    ESC.SceneBreak()
end


-- ──────────────────────────────────────【波爾】

function Scene.TALK30()
    if GameFunc.GetFlag(109) then goto T30_3 end -- 冰魔神事件過了
    if GameFunc.GetFlag(318) then goto T30_1 end -- 看過波爾被冰了,妮可催促主角去打冰魔過
    if GameFunc.GetFlag(7028) then goto T30_2 end -- 波爾被冰了

::T30_3::
    MediaFunc.PlaySound(5)
    Scene.WORD_ON_HEAD(30, 2, 0, -30, '%S1'..StringDB('ESS400')) -- ESS=汪！汪汪！
    ESC.SceneBreak()

::T30_2::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 47, 36)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    Scene.Nicole_On(45, 39, 3)



    Scene.OpenGlassUp(8)
    Scene.AddPicture1(2, 8)
    Scene.Glass_SRC1(2, StringDB('ESS401')) -- ESS=可憐的波爾．．．．
    Scene.OpenGlassDown(8)
    Scene.AddPicture2(1, 0)
    Scene.Glass_SRC2(1, StringDB('ESS402')) -- ESS=被冰凍的人也很可憐呀，%N看來妮可跟莉蓮...
    ESC.TurnFace(2, 1)
    Scene.Glass_SRC1(2, StringDB('ESS403')) -- ESS=走吧！我們快去救他們。
    Scene.CloseGlassUp()
    Scene.DelPicture(2, 8)
    Scene.CloseGlassDown()
    Scene.DelPicture(1, 0)
    Scene.Nicole_Off()
    GameFunc.FlagOn(318)
    ESC.SceneBreak()

::T30_1::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 47, 36)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    Scene.Nicole_On(46, 39, 3)
    Scene.OpenGlassUp(8)
    Scene.AddPicture1(2, 8)
    Scene.Glass_SRC1(2, StringDB('ESS401')) -- ESS=可憐的波爾．．．．
    ESC.TurnFace(2, 1)
    Scene.Glass_SRC1(2, StringDB('ESS404')) -- ESS=賽特！我們快去救人吧！
    Scene.CloseGlassUp()
    Scene.DelPicture(2, 8)
    Scene.Nicole_Off()
end

function Scene.TALK50()
    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS405')) -- ESS=各位，這兒不能久留，騎士團的人可能很快就...
    ESC.WaitDLG(1)
end

function Scene.TALK52()
    ESC.Caption(165)
    Scene.Print_W(1502,9007,11*2,3*2,StringDB('ESS406')) -- ESS=恩人，我們的船藏在沿岸的南方可以載大家一...
    ESC.WaitDLG(1502)
end


function Scene.TALK58()
    if GameFunc.GetFlag(7063) then goto T537_NU3_3 end -- 高盧回憶-夜景3
    if GameFunc.GetFlag(7062) then goto T537_NU3_2 end -- 高盧回憶-夜景2

    -- 和大臣說話,高盧回憶-夜景1
    GameFunc.FlagOn(10)
    ESC.TurnFace(1, 58)
    ESC.TurnFace(58, 1)
    Scene.MoveHero(16, 24, 4)

    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS407')) -- ESS=賽特啊！%N你最近真的立了不少功勞，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS408')) -- ESS=別這麼說，閣下。%N這些都是我該做的事。...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(58, 1)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS409')) -- ESS=你能不吝身份，以偽裝去敵軍那兒取得%C7...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS410')) -- ESS=大家都以為在戰場上衝鋒陷陣的人才最有功勞...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS411')) -- ESS=很多人都瞧不起你辛苦的成果，但事實上我曉...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)

    ESC.RMUNlock()
    GameFunc.FlagOn(7062) -- 跳下一段對話
    GameFunc.FlagOff(10)
    MediaFunc.PlaySound(256)
    ESC.ChangeQQ(58, Const.WALK)
    ESC.SetRoleSpeed(58, 6)
    ESC.BatchMove(1,    58, 16, 22)
    ESC.SetRoleSpeed(58, 7)
    ESC.BatchMove(1,    58, 18, 22)
    ESC.SetRoleSpeed(58, 8)
    ESC.BatchMove(1,    58, 20, 22)
    ESC.ChangeQQ(58, Const.STAND)
    ESC.SceneBreak()

::T537_NU3_2:: -- 高盧回憶-夜景2
    GameFunc.FlagOn(10)
    ESC.TurnFace(1, 58)
    ESC.TurnFace(58, 1)

    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS412')) -- ESS=賽特！%N你知道我目前最大的希望是什麼？...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10058, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS413')) -- ESS=對不起，%N我不知道呢……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(58, 1)
    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS414')) -- ESS=現在我們的處境你也曉得，南有%C7倫巴底...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS415')) -- ESS=然而現在%C7國王陛下%C5什麼也不會，...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10058, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS416')) -- ESS=…………%N………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    ESC.RMUNlock()
    GameFunc.FlagOn(7063) -- 跳下一段對話
    GameFunc.FlagOff(10)
    MediaFunc.PlaySound(257) -- 歎氣聲
    ESC.TakeActData(58, 58, Const.WALK, 2)
    ESC.SetRoleSpeed(58, 6)
    ESC.BatchMove(1,    58, 16, 22)
    ESC.SetRoleSpeed(58, 7)
    ESC.BatchMove(1,    58, 14, 22)
    ESC.SetRoleSpeed(58, 12)
    ESC.BatchMove(1,    8, 12, 22)
    ESC.ChangeQQ(58, Const.STAND)

    ESC.SceneBreak()

::T537_NU3_3:: -- 高盧回憶-夜景2
    GameFunc.FlagOn(10)
    ESC.TurnFace(1, 58)
    ESC.TurnFace(58, 1)

    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS417')) -- ESS=說真的，%N我現在最大的希望，就是是讓老...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS418')) -- ESS=前一陣子，我聽一些威尼斯來的商人說，在%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS419')) -- ESS=……戰爭必勝的方法？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(58, 1)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS420')) -- ESS=是的，我現在最大心願是一口氣解決所有內憂...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS421')) -- ESS=但是這一個任務很艱鉅，因為必須前往都是%...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS422')) -- ESS=想來想去，也只有你能完成這一個任務，但我...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS423')) -- ESS=丕平閣下，%N這一個任務，我願意接受！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10058, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS424')) -- ESS=賽特……%N你……
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10058, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass() ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS425')) -- ESS=請交給我來！%N為了法蘭克王國，我願意前...
    ESC.WaitDLG2(10001)



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 20) -- 【淡出模式】
    ESC.StoryMusic(64, 64, 0x4000) -- 【劇情配樂】賽特吉他
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)

    ESC.SceneMusic(148, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳：迷宮Ⅲ）
    ESC.SceneMusic(170, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島庭院：迷宮Ⅲ）

    GameFunc.FlagOff(23) -- 恢復進煉妖壺
    ESC.Progress_Off() -- 關掉讀檔圖形
    ESC.GotoMap(170, 88, 48, 1, 32, 2) -- 切換回莉蓮墳前
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 20)
    ESC.FadeWait()
    ESC.Delay(600)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS426')) -- ESS=我就這樣為了尋找戰爭必勝之法，踏上了前往...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS427')) -- ESS=也許我以後將會成為%C7消滅其他國%C5...
    ESC.WaitDLG(1)



    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(50)
    ESC.TurnFace(1, 624)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS428')) -- ESS=呵呵…%N家庭啊、幸福啊……%N真是好遙...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    ESC.RoleShow(2)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangePath(2, 30)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.RoleEnable(30)
    ESC.RoleMove(625, 47, 29) -- 將池水中的浮島移動
    ESC.RoleShow(2)

    ESC.ScreenLock()
    Scene.ScrollMapD(25, 12, 4, 4)
    ESC.ScrollMapWait()
    ESC.Delay(600)



-- ──────────────────────────────────【冰山島浮現】


    ESC.Caption(20)
    Scene.Print_W(20,9007,9*2,3*2,StringDB('ESS429')) -- ESS=啊啊～好懷念呀！%N這種午後曬太陽的悠閒...
    ESC.WaitDLG(20)


    ESC.Caption(21)
    Scene.Print_W(21,9007,9*2,3*2,StringDB('ESS430')) -- ESS=哼，都是那個笨妮可，害我們在海裏泡了幾千...
    ESC.WaitDLG(21)


    ESC.Caption(19)
    Scene.Print_W(19,9007,10*2,3*2,StringDB('ESS431')) -- ESS=就是因為泡了那麼久，所以現在曬起太陽才舒...
    ESC.WaitDLG(19)



    ESC.Caption(21)
    Scene.Print_W(21,9007,10*2,3*2,StringDB('ESS432')) -- ESS=航程走快要一半了，真希望能發生什麼刺激一...
    ESC.WaitDLG(21)


    ESC.Caption(20)
    Scene.Print_W(20,9007,8*2,4*2,StringDB('ESS433')) -- ESS=不要不要！%N我喜歡這樣天天曬太陽，不要...
    ESC.WaitDLG(20)



    ESC.Caption(21)
    Scene.Print_W(21,9007,5 *2,2*2,StringDB('ESS434')) -- ESS=哼，沒用的膽小鬼！
    ESC.WaitDLG(21)




    MediaFunc.PlaySound(239) -- 震動畫面
    ESC.Delay(300)




    ESC.ChangePath(30, 0)
    ESC.TakeActData(30, -1, 28, 3)
    ESC.TILPA1(30, 2)
    MediaFunc.PlaySound(3) -- 波爾驚叫



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 125, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.RoleMove(1, 88, 48)
    ESC.RoleShow(1)
    ESC.ScrollMapToRole(1 , 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.ChangeDIR(1, 6)
    Scene.WORD_ON_HEAD(1, 2, 30, -70, '%C3'..StringDB('ESS435')) -- ESS=那是什麼聲音──？
    ESC.WaitDLG(1)


    ESC.ChangePath(2, 0)
    ESC.RoleMove(2, 46, 25)
    ESC.TakeActData(2, -1, Const.STAND, 6)
    ESC.TakeActData(30, -1, Const.STAND, 5) -- 波爾換坐下
    ESC.RoleMove(30, 49, 37)

    Scene.QuestOff(75)
    Scene.QuestOn(76)

    Scene.Heal()-- 賽特補血
    GameFunc.FlagOn(7023) -- 打開去問石像搖動
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
end



--  -------------------------------------------------------
--   靈界指標角色
function Scene.TALK71()
    Scene.Print_L(1,9007,20,360,12*2,2*5,'%S0'..StringDB('ESS436')) -- ESS=回收或將箭頭改甚麼方向：%N%B上. %...
    ESC.WaitDLG(1)
    local select = ESC.GetBTNSelect()
    if select==1 then -- 上
        ESC.TakeActData(Const.TOWN, -1, -1, 0)
    elseif select==2 then -- 左
        ESC.TakeActData(Const.TOWN, -1, -1, 2)
    elseif select==3 then -- 右
        ESC.TakeActData(Const.TOWN, -1, -1, 3)
    elseif select==4 then -- 下
        ESC.TakeActData(Const.TOWN, -1, -1, 1)
    elseif select==5 then -- 回收
        ESC.ChangeRoleMap(Const.TOWN, 1000, 0, 0, 0 , -1 , Const.STAND, 0)
    end
end




function Scene.TALK92()  -- 路標
    Scene.TALK169check()
    GameFunc.FlagOn(213)
end

function Scene.TALK93()

    ESC.AniPlay('expv',false, false)
    ESC.AniUntilClose()

end


function Scene.TALK98()
    -- 此對話段用於顯示TALK的版本   目前顯示版本為最後修改日其
    -- 修改時間 上午AM8:00-PM12:30 下午PM12:31-6:00
    --  晚間PM6:01-PM 9:00 深夜PM9:01至隔天AM7:59

    -- if not GameFunc.GetFlag(98) then return end
    -- Scene.Print_SL(1,9009,100,0,32,3,'%S0'..StringDB('ESS437')) -- ESS=對話最後修改日期%N１９９８．１２．31...
end



-- ──────────────────────────────────────【酒館之中】

function Scene.TALK100()
    log('story brgin...')
    GameFunc.FlagOn(10) --  關掉滑鼠
    GameFunc.FlagOn(81) --  關掉錢幣顯示
    ESC.ScreenHide()
    GameFunc.FlagOn(14) --  關掉執行註解
    ESC.MusicFadeMode(2 , 25)
    -- ESC.StoryMusic(25, 25, 0x2000)
    -- ESC.Delay(2000)
    ESC.StoryMusic(0, 0, 0x4000) -- 停止劇情音樂

    --  打開載入進度列
    GameFunc.FlagOff(70)
    --  7088 ON 就是DEMO版
--  GameFunc.FlagOn(7088)

    -- 送審版不放動畫
    if not DEMO_VERSION then
    ESC.PlayVedio('opening')
    end

    if not GameFunc.GetFlag(7088) then goto RELEASE end  -- 判斷是不是試玩版

    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL ( 0,9009,120,140,2*20,8*2,'%C5%S1'..StringDB('ESS438')) -- ESS=此為軒轅劍參　歐洲試玩版，%N玩家試玩過...
    ESC.WaitDLG3(0)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL ( 1,9009,350,140+130,2*20,8*2,StringDB('ESS439')) -- ESS=DOMO小組全體敬上%N　　　　88/1...
    ESC.WaitDLG3(1)
    ESC.Delay(3000)
    ESC.DLGClose(0)
    ESC.DLGClose(1)

    ESC.PlayVedio('demo')

    ESC.Delay(2000)

::RELEASE::

    GameFunc.FlagOn(12) --  打開戰鬥
    GameFunc.FlagOn(335) --  青苔迷宮石門阻檔
    ESC.RoleMove(1, 36, 33) --  主角搬到門口
    ESC.RoleDisable(1)
    -- 修改威尼斯城的DATA
    ESC.TakeActData(123, 561, 8, 0) -- 艾密莉亞
    ESC.TakeActData(240, 561, 0, 1) -- 潘朵拉
    ESC.RoleMove(195, 16, 36) -- 墓園入口左移

    ESC.MusicFadeMode(2 , 25)

    ESC.StoryMusic(7, 24, 0x2000) -- 【配樂】威尼斯城

    ESC.ScreenHide()
    ESC.Delay(1000)
    Scene.PlayACT(1, 360 , 400 , 9050 , 0) -- ●字幕：歐洲
    ESC.Delay(1000)
    Scene.PlayACT(1, 480 , 400 , 9050 , 1) -- ●字幕：威尼斯
    ESC.Delay(1000)
    ESC.FadeScreen(-30, -30, -30 , 0, 0, 0 , 15)
    ESC.ScreenShow()


    Scene.ScrollMapD(5, 8, 4, 16)
    ESC.ScrollMapWait()

    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SLF ( 1 , 9009,20,20,12,2,'%S0%C2'..StringDB('ESS440')) -- ESS=威尼斯城酒館
    ESC.RMLock()



    -- 用力敲桌
    ESC.Caption(248)
    Scene.AutoPrint_W(248,'%S1'..StringDB('ESS441')) -- ESS=亂七八糟，%N真是亂七八糟！！
    ESC.WaitDLG(248)


    Scene.Print_W(248,9007,11*2,4*2,'%S1'..StringDB('ESS442')) -- ESS=我們威尼斯城向來都是自治區，教皇怎麼會去...
    ESC.WaitDLG(248)


    ESC.Caption(249)
    Scene.Print_W(249,9007,9*2,4*2,'%S0'..StringDB('ESS443')) -- ESS=是啊是啊，%N說什麼要為了上帝，將全世界...
    ESC.WaitDLG(249)


    Scene.Print_W(249,9007,8*2,4*2,StringDB('ESS444')) -- ESS=真是騙鬼！%N大海的另一邊，不是滿坑滿谷...
    ESC.WaitDLG(249)


    -- 用力敲桌
    ESC.Caption(248)
    Scene.Print_W(248,9007,9*2,4*2,'%S1'..StringDB('ESS445')) -- ESS=哼，本來就是！！%N殺光了這邊的，另一邊...
    ESC.WaitDLG(248)


    Scene.Print_W(248,9007,10*2,3*2,'%S1'..StringDB('ESS446')) -- ESS=這種可笑的謊言，也只有教會那些瘋子自己相...
    ESC.WaitDLG(248)

    -- ESC.Caption(191)
    -- Scene.Print_W(191,9007,7*2,2*2,'%S1'..StringDB('ESS447')) -- ESS=小聲，小聲點，客人！
    -- ESC.WaitDLG(191)


    -- Scene.Print_W(191,9007,11*2,4*2,StringDB('ESS448')) -- ESS=現在%C2教會%C4的勢力大得很！誰也惹...
    -- ESC.WaitDLG(191)


    ESC.Caption(248)
    -- Scene.Print_W(248,9007,8*2,3*2,'%S0'..StringDB('ESS449')) -- ESS=哼，燒死？%N燒死之前，我會先被他們餓死...
    -- ESC.WaitDLG(248)


    Scene.Print_W(248,9007,11*2,3*2,'%S0'..StringDB('ESS450')) -- ESS=我們威尼斯是貿易港，%N把外國人全抓去了...
    ESC.WaitDLG(248)

    ESC.TakeActData(1 , -1 , 8 , 0)
    ESC.RoleEnable(1)
    ESC.ScreenLock()
    ESC.BatchMove(1,    1, 34, 30)
    ESC.TakeActData(1 , -1 , 56 , 0)
    ESC.Delay(500)
    ESC.TakeActData(1 , -1 , 8 , 0)
    ESC.BatchMove(1,    1, 13, 28)
    ESC.ScreenUnlock()

    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(10)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(20)
    ESC.ChangeDIR(1, 7)


    -- ESC.Caption(1)
    -- Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS451')) -- ESS=老闆，麻煩給我一杯酒。
    -- ESC.WaitDLG(1)


    ESC.TurnFace(191, 1)
    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,'%S0'..StringDB('ESS452')) -- ESS=咦，這位客人，%N您是生面孔，是剛從外地...
    ESC.WaitDLG(191)


    ESC.Caption(191)
    Scene.Print_W(191,9007,10*2,4*2,'%S0'..StringDB('ESS453')) -- ESS=最近威尼斯很亂，%N不管你信什麼，既然來...
    ESC.WaitDLG(191)


    ESC.TurnFace(1, 191)
    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,3*2,StringDB('ESS454')) -- ESS=聖經？%N聖經我倒是讀過。
    ESC.WaitDLG(1)


    -- ESC.Caption(191)
    -- Scene.AutoPrint_W(191,'%S0'..StringDB('ESS455')) -- ESS=那就好…%N感謝主，阿門～
    -- ESC.WaitDLG(191)
    -- -- 酒店老闆畫十字

    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,2*2,StringDB('ESS456')) -- ESS=但是我不信上帝。
    ESC.WaitDLG(1)

    ESC.AddHeadSign(191 , 0)
    ESC.Delay(50)
    ESC.DelHeadSign(191)


    ESC.Caption(191)
    Scene.Print_W(191,9007,10*2,3*2,StringDB('ESS457')) -- ESS=老弟，你這話這裏說說可以，可千萬別在大街...
    ESC.WaitDLG(191)


    Scene.Print_W(191,9007,10*2,4*2,StringDB('ESS458')) -- ESS=現在他們只要看到像你這樣%C2東方臉孔%...
    ESC.WaitDLG(191)


    ESC.Caption(1)
    -- Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS459')) -- ESS=別擔心我！
    -- ESC.WaitDLG(1)
    -- -- 賽特舉杯喝酒


    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS460')) -- ESS=對了，老闆，這港口有沒有可以到%C2阿拉...
    ESC.WaitDLG(1)


    ESC.Caption(248)
    Scene.Print_W(248,9007,6*2,1*2,'%S1'..StringDB('ESS461')) -- ESS=別開玩笑了!
    ESC.WaitDLG(248)


    Scene.AutoPrint_W(248,StringDB('ESS462')) -- ESS=最近那些%C2法蘭克王國%C4來的騎士，...
    ESC.WaitDLG(248)


    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS463')) -- ESS=殺異教徒？
    ESC.WaitDLG(1)

    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,'%S0'..StringDB('ESS464')) -- ESS=沒錯，聽說打算在威尼斯廣場上，公開處他們...
    ESC.WaitDLG(191)


    -- ESC.Caption(1)
    -- Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS465')) -- ESS=這真糟糕…
    -- ESC.WaitDLG(1)


    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,'%S0'..StringDB('ESS466')) -- ESS=唉，真不曉得我們的%C2護民官%C4，怎...
    ESC.WaitDLG(191)



    Scene.ScrollMapD(11, 8, 4, 4)

    ESC.RoleEnable(250)
    ESC.RoleEnable(251)
    ESC.ChangeQQ(250, 0)
    ESC.ChangeQQ(251, 0)
    ESC.SetRoleSpeed(250 , 3)
    ESC.SetRoleSpeed(251 , 3)
    ESC.ChangeDIR(191, 1)



    -- ESC.Caption(251)
    -- Scene.Print_W(251,9007,12*2,4*2,StringDB('ESS467')) -- ESS=哈哈哈，所以我說嘛！%N威尼斯的妞兒有魚...
    -- ESC.WaitDLG(251)


    ESC.ChangeQQ(250, 8)
    ESC.ChangeQQ(251, 8)
    ESC.BatchMove(2,
    250, 30, 28,
    251, 34, 27)
    ESC.ChangeQQ(250, 0)
    ESC.ChangeQQ(251, 0)
    ESC.Delay(20)


    -- ESC.Caption(250)
    -- Scene.Print_W(250,9007,10*2,4*2,'%S0'..StringDB('ESS468')) -- ESS=可是長官，這裏的妞兒可是天天都洗澡的，哪...
    -- ESC.WaitDLG(250)


    ESC.StoryMusic(23, 0 , 0x4000) -- 【配樂】酒館中的衝突

    -- Scene.Print_W(250,9007,5*2,3*2,StringDB('ESS469')) -- ESS=老闆！%N酒來兩杯大的！
    -- ESC.WaitDLG(250)


    ESC.Caption(251)
    Scene.AutoPrint_W(251,StringDB('ESS470')) -- ESS=等一等，%N聽說威尼斯有賣%C2茶%C4...
    ESC.WaitDLG(251)


    -- ESC.Caption(250)
    -- Scene.AutoPrint_W(250,StringDB('ESS471')) -- ESS=老闆！來！%N茶也來兩杯大的！快點！
    -- ESC.WaitDLG(250)


    ESC.Caption(191)
    Scene.AutoPrint_W(191,StringDB('ESS472')) -- ESS=對…對不起，%N沒有茶了…
    ESC.WaitDLG(191)


    -- ESC.AddHeadSign(251, 0)
    -- ESC.Delay(300)
    -- ESC.DelHeadSign(251)


    -- ESC.Caption(250)
    -- Scene.AutoPrint_W(250,StringDB('ESS473')) -- ESS=什麼，%N沒有茶？
    -- ESC.WaitDLG(250)


    Scene.Print_W(250,9007,8*2,3*2,StringDB('ESS474')) -- ESS=你們威尼斯不是貿易港嗎？沒有茶？騙誰呀？...
    ESC.WaitDLG(250)


    ESC.Caption(251)
    Scene.Print_W(251,9007,11*2,3*2,StringDB('ESS475')) -- ESS=哼，老闆，瞧不起我們神聖%C2護教騎士團...
    ESC.WaitDLG(251)


    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,StringDB('ESS476')) -- ESS=可是…可是茶葉都是外國商人賣我們的…他們...
    ESC.WaitDLG(191)


    ESC.Caption(248)
    Scene.Print_W(248,9007,11*2,3*2,StringDB('ESS477')) -- ESS=因為他們都被一些混帳什麼騎士團的人抓走了...
    ESC.WaitDLG(248)


    ESC.Caption(250)
    -- Scene.Print_W(250,9007,8*2,3*2,StringDB('ESS478')) -- ESS=大膽！！%N竟敢對上帝的騎士們說這種話！...
    -- ESC.WaitDLG(250)


    Scene.Print_W(250,9007,5*2,2*2,StringDB('ESS479')) -- ESS=拆了你們的店！
    ESC.WaitDLG(250)



    -- 酒客逃走
    ESC.RoleMove(248, 24, 28)
    ESC.RoleMove(249, 19, 29)
    ESC.ChangeACT(248, 547)
    ESC.ChangeACT(249, 548)
    ESC.ChangeQQ(248, Const.WALK)
    ESC.ChangeQQ(249, Const.WALK)
    ESC.ChangeDIR(248, 0)
    ESC.ChangeDIR(249, 0)

    local RoleDisable=function(GUID)
        ESC.RoleDisable(GUID)
    end
    ESC.SetRoleSpeed(248 , 0)
    ESC.SetRoleSpeed(249 , 0)
    Scene.BatchWlak({ {248, 37, 33,-1,-1,RoleDisable},{249, 39, 33,-1,-1,RoleDisable} })

    ESC.TurnFace(251, 1)
    ESC.AddHeadSign(251 , 0)
    ESC.Delay(50)
    ESC.DelHeadSign(251)


    -- ESC.Caption(251)
    -- Scene.Print_W(251,9007,7*2,3*2,StringDB('ESS480')) -- ESS=你看…%N那邊還一個酒客不肯逃走！
    -- ESC.WaitDLG(251)



    ESC.TurnFace(250, 1)
    ESC.Delay(500)


    ESC.TurnFace(250, 251)
    ESC.TurnFace(251, 250)
    ESC.Delay(300)
    ESC.AddHeadSign(251 , 1)
    ESC.Delay(720)
    ESC.DelHeadSign(251)
    ESC.TurnFace(250, 1)


    ESC.SetRoleSpeed(250 , 2)
    ESC.ChangeQQ(250, Const.WALK)
    ESC.BatchMove(1,    250, 16, 29)
    ESC.TurnFace(250, 1)
    ESC.ChangeQQ(250, Const.STAND)
    ESC.Caption(250)


    ESC.Caption(250)
    Scene.Print_W(250,9007,6*2,3*2,StringDB('ESS481')) -- ESS=喂，老兄！%N你幹嘛賴在這不走？
    ESC.WaitDLG(250)


    -- Scene.Print_W(250,9007,11*2,4*2,StringDB('ESS482')) -- ESS=嘿～～等等，等一等！%N你臉孔不像我們一...
    -- ESC.WaitDLG(250)


    ESC.TakeActData(1, -1, Const.STAND, 3) -- 賽特轉身
    ESC.Delay(50)


    -- Scene.Print_W(250,9007,9*2,4*2,StringDB('ESS483')) -- ESS=咦，這……%N你的臉我好像以前曾在哪裏見...
    -- ESC.WaitDLG(250)


    ESC.TurnFace(1, 250)
    -- ESC.Caption(1)
    -- Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS484')) -- ESS=你…認識我？
    -- ESC.WaitDLG(1)




    ESC.Caption(250)
    Scene.Print_W(250,9007,11*2,4*2,StringDB('ESS485')) -- ESS=對了，我想起來了！%N沒錯，就是你！！你...
    ESC.WaitDLG(250)


    ESC.Delay(20)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 68)
    ESC.TILPA1(1 , 5)
    MediaFunc.PlaySound(115)

    ESC.FadeScreen( 0 , 0, 0, 10, 10, 10 , 1)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.Delay(50)

    ESC.ChangeDIR(250, 1)
    ESC.ChangeQQ(250, 33)
    ESC.BatchMove(1,    250, 16, 30)
    ESC.Unlock(250)

    ESC.TurnFace(191, 1)
    ESC.AddHeadSign(191 , 0)
    ESC.AddHeadSign( 251 , 0)
    ESC.Delay(30)
    ESC.DelHeadSign(191)
    ESC.DelHeadSign(251)

    -- ESC.PlayACT(0, 103, 420, 9006, 2) -- 頭昏效果
    ESC.PlayACT(0, 0, 40, 9006, 2, 250) -- 頭昏效果(原版位置太偏)
    ESC.Caption(1)
    ESC.OnHead(0 , -96)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS486')) -- ESS=抱歉，你不該認出我來的！
    ESC.WaitDLG(1)


    -- ESC.Caption(251)
    -- Scene.Print_W(251,9007,8*2,3*2,StringDB('ESS487')) -- ESS=豈有此理!!%N你果然也是異教徒他們一夥...
    -- ESC.WaitDLG(251)



    MediaFunc.PlaySound(60)
    ESC.SetRoleSpeed(251 , 0)
    ESC.ChangeQQ(251, Const.WALK)
    ESC.BatchMove(1,    251, 18, 30)
    ESC.ChangeQQ(251, Const.STAND)
    ESC.TurnFace(251, 1)

    ESC.StartBattle('BS98')
    ESC.AddHeadSign(251 , 2)
    ESC.ChangeQQ(251, 32) -- 昏倒


    ESC.StoryMusic(31, 31, 0x4000) -- 【配樂】沈默與恐懼

    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 251)

    ESC.ChangeDIR(251, 0)
    ESC.ChangeQQ(251, 32)



    -- ESC.Caption(191)
    -- Scene.Print_W(191,9007,7*2,3*2,'%S0'..StringDB('ESS488')) -- ESS=這…這…%N客人，你…把他們殺了…
    -- ESC.WaitDLG(191)


    ESC.TurnFace(1, 191)
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS489')) -- ESS=別擔心，我只是打昏他們而已。
    ESC.WaitDLG(1)



    ESC.TurnFace(1, 250)
    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS490')) -- ESS=下手重了點……恐怕要明天才會醒過來，只要...
    ESC.WaitDLG(1)


    ESC.Caption(191)
    Scene.Print_W(191,9007,11*2,4*2,'%S0'..StringDB('ESS491')) -- ESS=這…這…%N客…客人，你知道他們是誰嗎？...
    ESC.WaitDLG(191)


    ESC.TurnFace(1, 191)
    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS492')) -- ESS=對不起了，老闆，可能要麻煩你別去告密，這...
    ESC.WaitDLG(1)


    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,StringDB('ESS493')) -- ESS=不…不會…不會，我絕不敢去告密…酒錢也不...
    ESC.WaitDLG(191)


    -- ESC.Caption(1)
    -- Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS494')) -- ESS=對了，老闆！
    -- ESC.WaitDLG(1)


    -- ESC.Caption(191)
    -- Scene.Print_W(191,9007,6*2,2*2,StringDB('ESS495')) -- ESS=還…還有…什麼問題…
    -- ESC.WaitDLG(191)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS496')) -- ESS=最後一件事想請問一下…你知道那些%C2阿...
    ESC.WaitDLG(1)


    ESC.Caption(191)
    Scene.Print_W(191,9007,8*2,3*2,StringDB('ESS497')) -- ESS=聽…聽說…被關在%C2教堂%C4裏，我們...
    ESC.WaitDLG(191)


    Scene.Print_W(191,9007,8*2,3*2,StringDB('ESS498')) -- ESS=可…可是…我…我也不是很確定…您最好去問...
    ESC.WaitDLG(191)


    ESC.TurnFace(1, 251)
    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS499')) -- ESS=謝啦，那這兩個傢伙傢伙就麻煩您順便處理一...
    ESC.WaitDLG(1)



    -- ESC.ChangeDIR(191, 1)
    -- ESC.Caption(191)
    -- Scene.Print_W(191,9007,10*2,3*2,StringDB('ESS500')) -- ESS=哦…主啊，這下子真的天下大亂…怎麼辦…怎...
    -- ESC.WaitDLG(191)




    ESC.ScreenLock()


    Scene.MoveHero(22, 30, 5)
    Scene.MoveHero(36, 30, 5)
    ESC.RoleDisable(267)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()

    ESC.StoryMusicOff()  --  關掉劇情音樂

    ESC.RoleEnable(205)
    ESC.RoleEnable(202)
    ESC.RoleEnable(192)
    ESC.RoleDisable(250)
    ESC.RoleDisable(251)
    ESC.ChangeDIR(191, 5)

    ESC.GotoMap(20 , 80, 43, 1, 8, 5)

    ESC.ChangeDIR(191, 1)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()



    Scene.RoadFlag(StringDB('ESS501')) -- ESS=威尼斯城廣場
    ESC.Delay(60)


    ESC.RoleEnable(267) -- 關門
    MediaFunc.PlaySound(82) -- 【音效】關門聲
    ESC.AddHeadSign(1 , 1)
    ESC.Delay(50)
    ESC.DelHeadSign(1)


    ESC.TakeActData(1, -1, Const.STAND, 1)
    ESC.Delay(20)
    ESC.TakeActData(1, -1, Const.STAND, 6)
    ESC.Delay(20)
    ESC.TakeActData(1, -1, Const.STAND, 2)
    ESC.Delay(20)
    ESC.TakeActData(1, -1, Const.STAND, 4)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS502')) -- ESS=呵，我們這些%C2法蘭克人%C4，好像把...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, -1, Const.STAND, 4)
    ESC.Delay(20)
    ESC.TakeActData(1, -1, Const.STAND, 2)
    ESC.Delay(20)
    ESC.TakeActData(1, -1, Const.STAND, 6)
    ESC.Delay(20)


    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 1) -- 賽特抱手臂
    Scene.SAR_ACTCycle(1, 0)


    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS503')) -- ESS=不過這更麻煩的是…%N看來要這些宗教狂熱...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 2) -- 賽特閉目
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(20)


    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 0) -- 賽特思考
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(30)



    Scene.Print_W(1,9007,7*2,4*2,StringDB('ESS504')) -- ESS=好！%N還是得先設法找到那些%C2阿拉伯...
    ESC.WaitDLG(1)




    ESC.TakeActData(1, -1, Const.STAND, 5) -- 賽特轉立正四點方向



    ESC.ChangeRoleMap(248, 81 , 0, 26 , 26 , 623 , 0, 4) -- 把酒店人員恢復
    ESC.ChangeRoleMap(249, 81 , 0, 20 , 27 , 623 , 0, 5)
    ESC.RoleEnable(248)
    ESC.RoleEnable(249)


    Scene.QuestOn(50)
    GameFunc.FlagOff(81) --  開啟錢幣顯示
    GameFunc.FlagOff(10) -- 開啟滑鼠
end

-- ──────────────────────────────────────────【離開煉妖壺】

function Scene.TALK479UI() -- 從介面呼
    Scene.TALK479(true)
end
function Scene.TALK479(noQ)
    if GameFunc.GetFlag(23) then return end -- 煉妖壺無法用
    local select
    if noQ == nil then
        noQ=true
    else
        noQ=false
    end

    if noQ then
        if ESC.GetRoleToPosDistance(38,68,1) > 5 then goto T479_TOOFAR end  -- 檢查主角是否在旁邊
    end

    if GameFunc.GetFlag(4024) then goto T479E end -- 進煉妖壺救出奧斯曼後，此支線在卡瑪加入後取消
    if GameFunc.GetFlag(114) then goto T479D end
    if GameFunc.GetFlag(112) then goto T479B end -- 波爾被帶進去之後
    if GameFunc.GetFlag(7016) then goto T479D end
    if not GameFunc.GetFlag(260) then ESC.SceneBreak() end


    if noQ then
        Scene.MoveHero(39, 67, 1)

        ESC.ChangeQQ(1, 0)
        Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS505')) -- ESS=你要離開了嗎？%N　　1﹒%BYES.%...
        ESC.WaitDLG(1)
        select = ESC.GetBTNSelect()
    else
        select = 1
    end
    if select == 1 then
        if noQ then
            ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 330 , 230 , 6502 , 0)
            ESC.TILPA2(0, 6)
            ESC.RoleHide(1)
            ESC.TILPA2(0, 20)
        end
        ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
        ESC.FadeWait()


        ESC.GotoMap(131, 40, 38, 1, 0, 2) -- 離開煉妖壺
        ESC.RoleHide(1)
        ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
        ESC.FadeWait()
        ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 370, 220, 6502, 0)
        ESC.TILPA2(0, 6)
        ESC.RoleShow(1)
        ESC.TILPA2(0, 20)


        if GameFunc.GetFlag(7016) then ESC.SceneBreak() end -- 第一次從煉妖壺世界回來

        ESC.Delay(300)
        ESC.ChangeDIR(1, 2)
        ESC.Delay(300)
        ESC.ChangeDIR(1, 3)
        ESC.Delay(300)
        ESC.ChangeDIR(1, 2)
        ESC.Delay(300)
        ESC.ChangeDIR(1, 6)


        ESC.Caption(1)
        Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS506')) -- ESS=呼，總算是回到原來世界了…
        ESC.WaitDLG(1)


        Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS507')) -- ESS=被妮可耽誤了不少時間，我得趕快去%C2修...
        ESC.WaitDLG(1)

        GameFunc.FlagOn(7016)
        ESC.SceneBreak()
    elseif select == 2 then
        Scene.MoveHero(39, 64, 0)
        ESC.SceneBreak()
    end




-- ──────────────────────────────────────────【為了波爾的事被拖進來】



::T479B::

    if not GameFunc.GetFlag(113) then goto T479C end
    if noQ then
        Scene.MoveHero(39, 67, 1)

        ESC.ChangeQQ(1, Const.STAND)

        Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS505')) -- ESS=你要離開了嗎？%N　　1﹒%BYES.%...
        ESC.WaitDLG(1)
        select = ESC.GetBTNSelect()
    else
        select = 1
    end
    if select == 1 then
        Scene.TALK479_SEA()
        return
    else
        ESC.SceneBreak()
    end





-- ───────────────────────────────────【為了波爾的事被拖進來，但還沒有問妮可】

::T479C::
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 7)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS545')) -- ESS=該死的妮可，有事沒事就把我拖進來，今天又...
    ESC.WaitDLG(1)

    -- 還不能離開
    if noQ then
        ESC.ChangeQQ(1, Const.RUN)
        Scene.MoveHero(42, 58, 7)
    end

    ESC.SceneBreak()


::T479D::
    if noQ then
        Scene.MoveHero(39, 67, 1)
        ESC.ChangeQQ(1, 0)
        Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS505')) -- ESS=你要離開了嗎？%N%B　(1) 要.%N...
        ESC.WaitDLG(1)
        select = ESC.GetBTNSelect()
    else
        select = 1
    end
    if select == 1 then

        ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
        ESC.FadeWait()
        -----   **************************************
        -----   離開煉妖壺
        Scene.OutBottle()
        -----   **************************************
        ESC.FadeScreen(-30 , -30, -30 , 0, 0, 0 , 6)
        ESC.FadeWait()
        ESC.SceneBreak()
    else
        ESC.SceneBreak()
    end



::T479E:: -- 救出奧斯曼後
    if noQ then
        Scene.MoveHero(39, 67, 1)
        ESC.ChangeQQ(1, 0)
        Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS505')) -- ESS=你要離開了嗎？%N%B　(1) 要.%N...
        ESC.WaitDLG(1)
        select = ESC.GetBTNSelect()
    else
        select = 1
    end
    if select == 1 then
        goto T479G
    else
        ESC.SceneBreak()
    end
::T479G::
    ESC.RoleDisable(1055)
    ESC.RoleDisable(1056)
    ESC.RoleDisable(1057)
    ESC.RoleEnable(99)
    ESC.RoleEnable(30)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    -----   **************************************
    -----   離開煉妖壺
    Scene.OutBottle()
    -----   **************************************
    ESC.FadeScreen(-30 , -30, -30 , 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.Delay(300)
    ESC.TurnFace(790, 778)
    Scene.M_Print_EA(778, StringDB('ESS547')) -- ESS=嗚～葉塔！%N我以為再也見不到妳了。
    ESC.ChangeQQ(790, 8)
    ESC.BatchMove(1,    790, 30, 21)
    ESC.TakeActData(790 , -1 , 0 , 5)
    Scene.M_Print_EA(790, StringDB('ESS548')) -- ESS=感謝阿拉！%N讓父親平安逃出魔女的魔掌。...
    Scene.M_Print_EA(778, StringDB('ESS549')) -- ESS=葉塔！%N妳先去躲起來。
    ESC.ChangeQQ(790, 8)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 8, 17)
    ESC.TakeActData(790 , -1 , 0 , 5)
    ESC.SceneBreak()

::T479_TOOFAR::
    Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS550')) -- ESS=距離太遠！
end

function Scene.TALK479_SEA()
-- ──────────────────────────────────────【神秘！愛琴海女妖】


-- 回到薇達船上，第三章開始





    ESC.FadeScreen(30, 30, 30, 0, 0, 0, 1)
    ESC.FadeWait()
    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 330, 230, 6502, 0)
    ESC.TILPA2(0, 6)
    ESC.RoleHide(1)
    ESC.Delay(600)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    -- ESC.RoleShow(1)
    ESC.Progress_Off()




    ESC.GotoMap(144, 28, 18, 1, 8, 1) -- 場景回到薇達船上
    ESC.ChangeRoleMap(164, 144, 0, 28, 3, 505, Const.STAND, 1) -- 將哈倫移到船上（哈倫座標＝28,3，方向1）
    ESC.RoleDisable(164)
    ESC.RoleHide(1)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(63, 0, 0x4000) -- 【劇情音樂】海浪聲

    GameFunc.FlagOn(10) -- 取消滑鼠
    GameFunc.FlagOn(8) -- 下雨
    ESC.Delay(300)


    ESC.FadeScreen(30, 30, 30, 0, 0, 0, 1)
    ESC.FadeWait()
    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 460, 280 , 6502, 0)
    ESC.TILPA2(0, 6)
    ESC.TakeActData(1, 98, 62, 1) -- 賽特半跪
    ESC.RoleShow(1)
    ESC.TILPA2(0, 20)

    ESC.Delay(800)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.OnHead(20, -85)
    Scene.Print_W(1,9007,11*2,3*3,'%C5%S2'..StringDB('ESS508')) -- ESS=妮可還真像小孩一樣……喜歡的東西就非要放...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 1, Const.STAND, 1)
    ESC.Delay(300)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.OnHead(20, -85)
    Scene.Print_W(1,9007,9*2,3*2,'%C5%S2'..StringDB('ESS509')) -- ESS=算了…仔細想想，我自己其實不也差不多嗎？...
    ESC.WaitDLG(1)


    ESC.Delay(300)
    ESC.SetRoleSpeed(1, 3) -- 賽特回走
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 28, 26)


    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(164)
    Scene.Print_W(164,9007,7*2,3*2,StringDB('ESS510')) -- ESS=賽特先生！賽特先生！大事不好了──
    ESC.WaitDLG(164)


    ESC.ChangeDIR(1, 0)



    ESC.RoleMove(164, 28, 8)
    ESC.RoleEnable(164)
    ESC.RoleShow(164)
    ESC.SetRoleSpeed(164, 1)
    ESC.ChangeQQ(164, Const.RUN)
    ESC.BatchMove(1,    164, 28, 12+2)
    ESC.ChangeQQ(164, Const.STAND)
    ESC.Delay(300)



    Scene.Print_W(164,9007,7*2,3*2,StringDB('ESS511')) -- ESS=您…您剛才…有沒有聽到奇怪的歌聲啊？
    ESC.WaitDLG(164)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(40, -75)
    Scene.Print_WS(1,9007,7*2,1*2,'%S0'..StringDB('ESS512')) -- ESS=───！
    ESC.WaitDLG2(1)


    ESC.ChangeDIR(164, 5)
    ESC.Delay(200)


    Scene.Print_W(164,9007,10*2,4*2,StringDB('ESS513')) -- ESS=可惡，那…那一定是傳說中的%C2愛琴海%...
    ESC.WaitDLG(164)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(40, -75)
    Scene.Print_WS(1,9007,7*2,1*2,'%S1'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG2(1)


    ESC.ChangeDIR(164, 1)
    ESC.Delay(400)


    ESC.DLGClose(164)
    -- ESC.DLGHoldTime(25)
    -- ESC.DLGNoPass() ESC.DLGNoCloseKey()
    Scene.Print_W(164,9007,11*2,4*2,StringDB('ESS515')) -- ESS=賽特先生，這趟旅途什麼奇奇怪怪的事都有，...
    ESC.WaitDLG3(164)


    ESC.Delay(1300)






-- ──────────────────────────────────────【抵達貝魯特！】

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.ScreenHide()

    ESC.StoryMusic(80, 0, 0x8000) -- 【劇情音樂】伊斯蘭之月


    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()





    ESC.AniPlay('ve2dm',false, false) -- 賽特的旅行路線圖
    ESC.AniUntil( 184)
    ESC.AniUntilClose()


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    ESC.FadeWait()
    ESC.ScreenShow()




    ESC.GotoMap(200, 16, 18, 1, 0, 2) -- 場景移到薇達船上
    ESC.RoleHide(1)
    ESC.ChangeRoleMap(596 , 200, 000, 2, 9 , 541 , 52 , 3) -- 薇達的船
    ESC.ChangeRoleMap(59991, 200, 000, 5, 12 , 541 , 52 , 3) -- 薇達的船
    ESC.ChangeRoleMap(59990, 200, 000, 2, 15 , 541 , 52 , 3) -- 薇達的船

    ESC.SetRoleSpeed(596, 3)
    ESC.SetRoleSpeed(59991, 3)
    ESC.SetRoleSpeed(59990, 3)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 25)



    MediaFunc.PlaySound(314)
    ESC.BatchMove(3,
    596, 17, 9,
    59991, 20, 12,
    59990, 17, 15)
    ESC.FadeWait()
    ESC.Unlock(596)



    ESC.Unlock(59991)
    ESC.Unlock(59990)
    ESC.SetRoleSpeed(596, 15)
    ESC.SetRoleSpeed(59991, 16)
    ESC.SetRoleSpeed(59990, 17)



    ESC.ChangeRoleMap(164, 138, 0, 12, 16, 505, Const.STAND, 6) -- 將哈倫移到白日船上（哈倫座標＝12,16，方向6）
    ESC.ChangeRoleMap( 3, 138, 0, 5, 17, 3, Const.STAND, 2) -- 將薇達移到白日船上（薇達座標＝ 5,17，方向2）


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()


    ESC.TakeActData(596, -1, 71, 0)
    ESC.TakeActData(59991, -1, 72, 0)
    ESC.TakeActData(59990, -1, 73, 0)




    ESC.Progress_Off()
    ESC.GotoMap(138, 5, 18, 1, 0, 2) -- 移到船已
    ESC.RoleDisable(414)
    ESC.RoleEnable(641)
    ESC.RoleEnable(166)
    ESC.RoleEnable(578)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(575)
    ESC.RoleEnable(164)
    ESC.RoleEnable(159)
    ESC.RoleEnable(156)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleMove(166, 4, 16)
    ESC.ChangeDIR(166, 1)
    ESC.RoleEnable(3)
    ESC.RoleMove(3, 2, 18)
    ESC.ChangeDIR(3, 3)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(156, 1)
    ESC.ChangeDIR(576, 4)
    ESC.ChangeDIR(595, 4)




    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(72, 72, 0x4000) -- 【劇情音樂】伊斯蘭世界


    ESC.RoleShow(1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()
    ESC.Delay(300)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS516')) -- ESS=賽特！%N我們已經到達了，現在我們要在%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS517')) -- ESS=……貝魯特？%N我們的目的地，不是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS518')) -- ESS=沒有錯，%N貝魯特是一個小港口，往來的船...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS519')) -- ESS=不必要的麻煩……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS520')) -- ESS=這以後我再跟你講……%N我們從這裏改走陸...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(200, 16, 18, 1, 0, 2) -- 移到船上
    ESC.RoleHide(1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)



    ESC.ChangeRoleMap(228, 200, 0 , 21, 13, 541 , 60, 5)
    ESC.RoleEnable(228)
    ESC.SetRoleSpeed(228, 5)
    ESC.BatchMove(1,    228, 26, 18)
    ESC.Delay(300)
    ESC.FadeWait()



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 20)
    ESC.FadeWait()


    ESC.GotoMap(210, 21, 11, 3, 0, 7) -- 場景換到貝魯特海灘
    ESC.ChangeRoleMap(156, -1, 000, 29, 7 , 579 , 0 , 2)
    ESC.ChangeRoleMap(159, -1, 000, 32, 10 , 505 , 0 , 2)
    ESC.ChangeRoleMap(164, -1, 000, 28, 11 , 501 , 0 , 2)
    ESC.ChangeRoleMap(166, -1, 000, 22, 5 , 503 , 0 , 1)
    ESC.ChangeRoleMap(3 , -1, 000, 24, 9 , 1 , 0 , 5)
    ESC.ChangeRoleMap(641, -1, 000, 27, 5 , 411 , 0 , 1)
    ESC.ChangeRoleMap(592, -1, 000, 17, 8 , 523 , 0 , 5)
    ESC.ChangeRoleMap(593, -1, 000, 21, 14 , 411 , 0 , 7)
    ESC.ChangeRoleMap(594, -1, 000, 11, 9 , 600 , 0 , 5)
    ESC.ChangeRoleMap(595, -1, 000, 17, 12 , 599 , 0 , 7)
    ESC.ChangeRoleMap(576, -1, 000, 32, 19 , 411 , 0 , 4)
    ESC.ChangeRoleMap(577, -1, 000, 24, 20 , 523 , 0 , 7)
    ESC.ChangeRoleMap(578, -1, 000, 33, 5 , 600 , 0 , 6)
    ESC.ChangeRoleMap(579, -1, 000, 36, 10 , 599 , 0 , 2)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(579)
    ESC.TurnFace(156, 3)
    ESC.TurnFace(159, 3)
    ESC.TurnFace(164, 3)
    ESC.ChangeDIR(1, 3)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    GameFunc.FlagOff(10)

    ESC.Caption(159)
    Scene.Print_W(159,9008,10*2,3*2,StringDB('ESS521')) -- ESS=感謝阿拉真主，沒想到我們竟然還能平安回到...
    ESC.WaitDLG(159)



    ESC.Caption(164)
    Scene.Print_W(164,9008,9*2,4*2,StringDB('ESS522')) -- ESS=賽特先生，這一路上一直受您照顧，真的不知...
    ESC.WaitDLG(164)


    ESC.Caption(1)
    Scene.Print_W(3,9008,7*2,2*2,StringDB('ESS523')) -- ESS=你們接下來要去哪兒？
    ESC.WaitDLG(3)


    ESC.Caption(159)
    Scene.Print_W(159,9008,9*2,3*2,StringDB('ESS524')) -- ESS=我想去麥加朝聖，感謝阿拉真主一路上庇佑！...
    ESC.WaitDLG(159)


    ESC.Caption(164)
    Scene.Print_W(164,9008,9*2,3*2,StringDB('ESS525')) -- ESS=我想帶米雅先回故鄉%C2巴格達%C4城，...
    ESC.WaitDLG(164)


    Scene.Print_W(164,9008,12*2,4*2,StringDB('ESS526')) -- ESS=我有一位叫做%C2辛巴達%C4的堂兄弟，...
    ESC.WaitDLG(164)


    ESC.TurnFace(3, 166)
    ESC.Caption(1)
    Scene.Print_W(3,9008,4*2,2*2,StringDB('ESS527')) -- ESS=那你呢？%N莫雷？
    ESC.WaitDLG(3)


    ESC.Caption(166)
    Scene.Print_W(166,9008,9*2,3*2,StringDB('ESS528')) -- ESS=我和薇達船長私下曾經聊過……我想加入她的...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 0)

    ESC.AddHeadSign(3, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(3)


    Scene.Print_W(166,9008,10*2,4*2,StringDB('ESS529')) -- ESS=因為一輩子當海盜實在也沒有意思，我希望正...
    ESC.WaitDLG(166)


    ESC.TurnFace(3, 164)
    ESC.ChangeDIR(1, 3)

    ESC.Caption(164)
    Scene.Print_W(164,9008,9*2,3*2,StringDB('ESS530')) -- ESS=賽特先生，我們先出發了，真的非常謝謝您！...
    ESC.WaitDLG(164)


    ESC.Caption(1)
    Scene.Print_W(3,9008,6*2,2*2,StringDB('ESS531')) -- ESS=嗯！%N自己多保重！
    ESC.WaitDLG(3)


    ESC.Caption(164)
    Scene.Print_W(164,9008,8*2,3*2,StringDB('ESS532')) -- ESS=賽特先生，%N您實在是好人，真主會保佑您...
    ESC.WaitDLG(164)


    ESC.Caption(1)
    Scene.Print_W(3,9008,5*2,2*2,StringDB('ESS533')) -- ESS=……我是好人？
    ESC.WaitDLG(3)



    ESC.ChangeQQ(159, Const.WALK) -- 阿丹
    ESC.ChangeQQ(156, Const.WALK) -- 米亞
    ESC.ChangeQQ(164, Const.WALK)
    ESC.SetPos(159,37,18) ESC.SetPos(164,36,17) ESC.SetPos(156,36,15)
    for i=1,4 do
        ESC.BatchStep( 1,   159) -- 阿丹先移動
    end




::SEA_1::
    ESC.BatchStep( 3,   159, 156, 164) -- 三人一起移動
    if not ESC.RoleReach(159) then goto SEA_2 end
    ESC.TakeActData(159, -1, Const.STAND, 4)
::SEA_2::
    if not ESC.RoleReach(156) then goto SEA_3 end
    ESC.TakeActData(156, -1, Const.STAND, 4)
::SEA_3::
    if not ESC.RoleReach(164) then goto SEA_4 end
    ESC.TakeActData(164, -1, Const.STAND, 4)
::SEA_4::
    if not ESC.IsAllReach() then goto SEA_1 end

    ESC.Caption(164)
    Scene.Print_W(164, 9008, 4*2, 1*2, StringDB('ESS534')) -- ESS=保重哦！
    ESC.WaitDLG(164)
    ESC.TakeActData(159, -1, Const.WALK, 5)
    ESC.TakeActData(164, -1, Const.WALK, 5)
    ESC.TakeActData(156, -1, Const.WALK, 5)
    ESC.BatchMove(3,
    156, 44, 23,
    159, 44, 23,
    164, 44, 23)
    ESC.RoleDisable(156)
    ESC.RoleDisable(159)
    ESC.RoleDisable(164)
    ESC.Delay(700)
    ESC.SetRoleSpeed(3, 3) -- 賽特緩緩踱步
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 36, 17)
    ESC.ChangeQQ(3, Const.STAND)
    Scene.MBOn(1,9,0,140-10,390-30,32*11+30,6*11+45)
    Scene.AddHead(10001,1,50,460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS535')) -- ESS=這一別……%N恐怕今生再也沒有見面之日了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.SetRoleSpeed(1, 1) -- 薇達走近
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 36-2, 17-3)
    ESC.ChangeQQ(1, Const.STAND)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS536')) -- ESS=賽特先生，%N我們也差不多該準備啟程了，...
    ESC.WaitDLG(1)


    ESC.TurnFace(3, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS537')) -- ESS=待會兒，%N我們需要兩個人、兩個人一組，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS538')) -- ESS=這又是為什麼？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS539')) -- ESS=目前霸佔%C7哈里發%C5（阿拉伯帝國之...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS540')) -- ESS=所以如果我們%C7黑衣軍人%C5這樣一大...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS541')) -- ESS=我明白了。%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 0)
    ESC.Caption(3)
    Scene.Print_W(1,9008,11*2,3*2,StringDB('ESS542')) -- ESS=所有人聽好！%N大夥兒兩個兩個一組，分別...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 4)
    ESC.TurnFace(641, 1)
    ESC.TurnFace(166, 1)


    Scene.Print_W(1,9008,9*2,3*2,StringDB('ESS543')) -- ESS=約丹！%N你和莫雷一起留在這兒，殿後再走...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 4)
    ESC.ChangeDIR(3, 4)
    ESC.ChangeQQ(1, Const.STAND)



    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(594, Const.WALK)
    ESC.BatchMove(2,
    592, 54+2, 29-2,
    594, 54+2, 29-2)


    ESC.ChangeDIR(3, 5)
    ESC.ChangeRoleMap(592, 215, 000, 121, 34 , 602 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeRoleMap(594, 215, 000, 123, 35 , 412 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.BatchMove(2,
    595, 54+2, 29-2,
    593, 54+2, 29-2)
    ESC.ChangeRoleMap(595, 215, 000, 125, 36 , 412 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeRoleMap(593, 215, 000, 127, 37 , 602 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeDIR(1, 5)
    ESC.ChangeQQ(576, Const.WALK)
    ESC.ChangeQQ(577, Const.WALK)
    ESC.BatchMove(2,
    576, 54+2, 29-2,
    577, 54+2, 29-2)
    ESC.ChangeRoleMap(576, 215, 000, 129, 38 , 412 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeRoleMap(577, 215, 000, 131, 39 , 602 , 0 , 6) -- 搬到大馬士革皇宮前當衛兵
    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(578, Const.WALK)
    ESC.ChangeQQ(579, Const.WALK)
    ESC.BatchMove(2,
    578, 54+2, 29-2,
    579, 54+2, 29-2)
    ESC.ChangeRoleMap(578, 216, 000, 14, 7 , 602 , 0 , 5) -- 搬到大馬士革城當巡城衛兵
    ESC.ChangeRoleMap(579, 216, 000, 8, 31 , 412 , 0 , 3) -- 搬到大馬士革城當巡城衛兵



    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(1, Const.STAND)



    ESC.AddParty(3)



    ESC.RoleEnable(320)
    ESC.RoleEnable(321)
    ESC.ChangeRoleMap(320, 216, 000, 35, 18 , 412 , 0 , 6) -- 搬到大馬士革城當巡城衛兵
    ESC.ChangeRoleMap(321, 215, 000, 53, 27 , 602 , 0 , 5) -- 搬到大馬士革城當巡城衛兵
    GameFunc.FlagOff(10)
    GameFunc.FlagOn(114)
    Scene.BattleSupportOn(3) -- 薇達
    GameFunc.FlagOn(368) -- 不准進入清真寺
    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.RoleEnable(232)

    ESC.ChangeRoleMap(230, 216, 000, 63, 28 , 412 , 0 , 2) -- 搬到大馬士革城當清真寺衛兵
    ESC.ChangeRoleMap(231, 216, 000, 64, 32 , 602 , 0 , 2) -- 搬到大馬士革城當清真寺衛兵
    ESC.ChangeRoleMap(232, 216, 000, 65, 36 , 412 , 0 , 2) -- 搬到大馬士革城當清真寺衛兵



    ESC.RoleDisable(228) -- 將小船去掉
    ESC.ChangeScript(641, 'TALK641')
    Scene.Heal()    -- 賽特補血
    Scene.SetGameValue(1,3) -- 帶頭人變成是薇達
    Scene.QuestOff(84)
    Scene.QuestOn(85)
    ESC.TownTrans_Off(StringDB('ESS544')) -- ESS=薇達帶隊，無法使用。



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()  -- 【地圖音樂】貝魯特
end

-- ──────────────────────────────────────────【煉妖壺石碑】

function Scene.TALK300()
    -- 煉妖壺石碑
    Scene.MoveHero(34, 66, 4)

    if not GameFunc.GetFlag(201) then goto T300 end
    Scene.MBOn(5, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%C3'..StringDB('ESS551')) -- ESS=世外悠悠隔人間%N　　不忍悽悽亂世煙%N...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 2) -- 賽特沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1500)


    ESC.ChangeDIR(1, 2) -- 賽特沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS552')) -- ESS=這一首詩不曉得為什麼，讓我有一種哀傷的感...
    ESC.WaitDLG(1)

    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)

    ESC.TakeActData(1, -1, 0, 6)
    ESC.MBOff(5, 0)
    ESC.DelHead(10001, 0)



    Scene.DelPictureUp(1)
    ESC.SceneBreak()


::T300::


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS553')) -- ESS=咦，這裏還有一塊大石碑…
    ESC.WaitDLG(1)


    ESC.TurnFace(1, 99)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS554')) -- ESS=算了，先找可惡的妮可，問她到底又給我幹了...
    ESC.WaitDLG(1)
end


-- ──────────────────────────────────────【沙漠戰場上的莫雷】

function Scene.TALK1046()
    -- 改穿黑衣的莫雷


    ESC.Caption(166)
    Scene.Print_WS(166,9008,9*2,3*2,StringDB('ESS555')) -- ESS=賽特，你們儘管去，剩下的事情交我我來就行...
    ESC.WaitDLG(166)

end






--------------------------------- SCENE_WEST ------------------------------
--------------- 記錄點的對話

function Scene.TALK2101()
    -- 威尼斯下水道
    Scene.SAVE_MENU(246, 280)
end

function Scene.TALK2102()
    Scene.SAVE_MENU(290, 291)
end

function Scene.TALK2103()
    Scene.SAVE_MENU(513, 514)
end

function Scene.TALK2104()
    Scene.SAVE_MENU(515, 516)
end

function Scene.TALK2105()
    Scene.SAVE_MENU(499, 500)
end

function Scene.TALK2106()
    Scene.SAVE_MENU(801, 802)
end

function Scene.TALK2107()
    Scene.SAVE_MENU(803, 804)
end

function Scene.TALK2108()
    Scene.SAVE_MENU(912, 903)
end

function Scene.TALK2109()
    Scene.SAVE_MENU(557, 559)
end

function Scene.TALK2110()
    if GameFunc.GetFlag(7075) then Scene.SAVE_POOL() return end
    GameFunc.FlagOn(7075)
    Scene.SAVE_MENU(1029, 1030)
    ESC.ChangeScript(1030, 'TALK2110')
    ESC.SceneBreak()
end

function Scene.TALK2111()
    Scene.SAVE_MENU(1031, 1032)
end

function Scene.TALK2112()
    Scene.SAVE_MENU(1033, 1034)
end

function Scene.TALK2113()
    Scene.SAVE_MENU(1035, 1036)
end

function Scene.TALK2114()
    Scene.SAVE_MENU(1037, 1038)
end

function Scene.TALK2115()
    Scene.SAVE_MENU(1041, 1042)
end

function Scene.TALK2116()
    Scene.SAVE_MENU(59964, 59963)
end





-------------------------------------------------------------------
function Scene.TALK126()
    if GameFunc.GetFlag(7080) then goto T126 end
    GameFunc.FlagOn(7080)
    MediaFunc.PlaySound(171)
    ESC.BatchMove(1,    126, 33, 34)
    Scene.SAR_CSEL(Const.TOWN , 1)
::T126::
end


-------------------------------------------------------------------
function Scene.TALK141()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.WORD_ON_HEAD(Const.TOWN, 2, 0, -30, StringDB('ESS557')) -- ESS=汪!汪!汪!
    MediaFunc.PlaySound(3)
end

-------------------------------------------------------------------
function Scene.TALK142()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.WORD_ON_HEAD(Const.TOWN, 2, 0, -30, StringDB('ESS558')) -- ESS=喵～!喵嗚～!
    MediaFunc.PlaySound(2)
end


-- ──────────────────────────────────────【威尼斯教堂前的守衛】
function Scene.TALK143()

    ESC.Caption(143)
    Scene.Print_W(143,9007,10*2,3*2,StringDB('ESS559')) -- ESS=臭小子，滾開滾開！%N%C2麥爾斯隊長%...
    ESC.WaitDLG(143)



    ESC.Caption(182)
    Scene.Print_W(182,9007,8*2,2*2,StringDB('ESS560')) -- ESS=快閃遠一點！%N不准在附近閒逛！
    ESC.WaitDLG(182)

    GameFunc.FlagOn(225)
    GameFunc.FlagOff(7010)
end

-------------------------------------------------------------------
function Scene.TALK144()
    Scene.SearchFlower(971) -- ＊銅戒指 教堂外
end
-------------------------------------------------------------------
function Scene.TALK145()
    Scene.SearchFlower(718) -- ＊龍舌蘭　住宅區東
end
-------------------------------------------------------------------
function Scene.TALK146()
    Scene.SearchFlower(622) -- ＊結纍葡萄　廣場西北
end

-------------------------------------------------------------------
function Scene.TALK148()
    Scene.SearchFlower(722) -- ＊山蛇莓　旅店旁
end

-------------------------------------------------------------------
function Scene.TALK150()
    Scene.SearchFlower(719) -- ＊博落迴之根　　廣場西南
end
-------------------------------------------------------------------
function Scene.TALK151()
    Scene.OpenChest(151, 624, '%T624.' ) -- ＊無酵餅　廣場東北
end
-------------------------------------------------------------------
function Scene.TALK152()
    Scene.OpenChest(152, 1019, '%T1019.' ) -- ＊頭巾    廣場旁小寶箱
end

-------------------------------------------------------------------
function Scene.TALK154()
    Scene.SearchFlower(636) -- ＊魔法葉　威尼斯關隘
end

-------------------------------------------------------------------
function Scene.TALK168()
    Scene.SearchFlower(647) -- ＊解毒草　廣場西南
end

-------------------------------------------------------------------
function Scene.TALK173()
    Scene.SearchFlower(622) -- ＊結纍葡萄　教堂外下水道出口左
end
-------------------------------------------------------------------
function Scene.TALK176()
    Scene.SearchFlower(636) -- ＊魔法葉　教堂外下水道出口北
end
-------------------------------------------------------------------
function Scene.TALK177()
    Scene.SearchFlower(647) -- ＊解毒草 教堂外下水道出口右
end
-------------------------------------------------------------------
function Scene.TALK178()
    Scene.SearchFlower(621) -- ＊藥草　教堂通道轉角
end
-------------------------------------------------------------------
function Scene.TALK179()
    Scene.SearchFlower(621) -- ＊藥草　教堂前右
end
-------------------------------------------------------------------
function Scene.TALK180()
    Scene.SearchFlower(621) -- ＊藥草　教堂前左
end

-- ───────────────────────────────────────【火刑場上的教士】
-- 角色181

function Scene.TALK181()
    ESC.RoleLock(181)


    ESC.Caption(181)
    Scene.Print_W(181,9007,7*2,3*2,StringDB('ESS561')) -- ESS=奉耶和華上帝之名，處死邪惡的不信者！
    ESC.WaitDLG(181)


    ESC.Unlock(181)
end

-- ───────────────────────────────────────【武器行老板】
-- 角色187

function Scene.TALK187()
    ESC.RoleLock(187)


    ESC.Caption(187)
    Scene.Print_W(187,9007,10*2,3*2,StringDB('ESS562')) -- ESS=客人您好，%N您要買什麼%C2武器%C4...
    ESC.WaitDLG(187)

    ESC.OpenStore(501, 502, 503, 521, 851, 855, 0)

    ESC.Unlock(187)
end
-- ─────────────────────────────────────────【地下牢房士兵】
function Scene.TALK189()
    Scene.TALK218()
end


-- ─────────────────────────────────────【火刑場上的左教士】
function Scene.TALK199()
    ESC.RoleLock(199)


    Scene.Print_W(199,9007,10*2,3*2,StringDB('ESS563')) -- ESS=上主啊，感謝您再度伸展公義的臂膀，淨化這...
    ESC.WaitDLG(199)


    ESC.Unlock(199)
end


-------------------------------------------------------------------
function Scene.TALK203()
    --  修道院底寶箱
    Scene.OpenChest(59974, 698, '%T698.' ) -- ＊諸方神石
end
-------------------------------------------------------------------
function Scene.TALK204()
    --  修道院底寶箱
    Scene.OpenChest(59973, 636, '%T636.' ) -- ＊魔法葉
end



-- ──────────────────────────────────────────【酒客的對話】

function Scene.TALK205()
    if GameFunc.GetFlag(272) then goto T205 end

    ESC.Caption(205)
    Scene.Print_W(205,9007,8*2,3*2,StringDB('ESS564')) -- ESS=最近人真少，冷冷清清的，怪沒意思的！
    ESC.WaitDLG(205)

    GameFunc.FlagOn(272)
    ESC.SceneBreak()

::T205::

    ESC.Caption(205)
    Scene.Print_W(205,9007,5*2,3*2,StringDB('ESS565')) -- ESS=唉…%N威尼斯呀…%N唉唉…
    ESC.WaitDLG(205)

    GameFunc.FlagOff(272)
end



-------------------------------------------------------------------
function Scene.TALK209()
    Scene.SearchFlower(636) -- ＊魔法葉　民宅1 2F 中
end
-------------------------------------------------------------------
function Scene.TALK210()
    Scene.SearchFlower(621) -- ＊藥草　民宅1 2F 中
end
-------------------------------------------------------------------
function Scene.TALK211()
    Scene.SearchFlower(829) -- ＊民宅1 1F大箱子魯特琴
end
-------------------------------------------------------------------
function Scene.TALK212()
    Scene.WORD_ON_HEAD(Const.TOWN, 2, 40, -60, StringDB('ESS566')) -- ESS=鎖住的門！
end
-------------------------------------------------------------------
function Scene.TALK213()
    --  青苔迷宮寶箱
    Scene.OpenChest(59975, 636, '%T636.' ) -- ＊魔法葉
end
-------------------------------------------------------------------
function Scene.TALK214()
    --  青苔迷宮寶箱
    Scene.OpenChest(59972, 624, '%T624.') -- ＊無效餅
end
-------------------------------------------------------------------
function Scene.TALK215()
    --  青苔迷宮寶箱
    Scene.OpenChest(59971, 621, '%T621.' ) -- ＊藥草
end

-- ──────────────────────────────────────【地下牢房的四個囚犯】

function Scene.TALK219()

    ESC.Caption(219)
    Scene.Print_W(219,9007,6*2,3*2,StringDB('ESS567')) -- ESS=這位大人，求求你放我們出去！
    ESC.WaitDLG(219)

end

-------------------------------------------------------------------
function Scene.TALK220()

    ESC.Caption(220)
    Scene.Print_W(220,9007,7*2,3*2,StringDB('ESS568')) -- ESS=嗚嗚…我不要被燒死，求求你放我出去！
    ESC.WaitDLG(220)

end
-------------------------------------------------------------------
function Scene.TALK221()

    ESC.Caption(221)
    Scene.Print_W(221,9007,8*2,2*2,StringDB('ESS569')) -- ESS=救救我！求求你救我出去！
    ESC.WaitDLG(221)

end
-------------------------------------------------------------------
function Scene.TALK222()

    ESC.Caption(222)
    Scene.Print_W(222,9007,7*2,3*2,StringDB('ESS570')) -- ESS=救命呀！朋友，請救救我們一命呀！
    ESC.WaitDLG(222)

end





-------------------------------------------------------------------
function Scene.TALK223()
    Scene.OpenMeneyChest(223, 50 ) -- 教堂地牢
end
-------------------------------------------------------------------
function Scene.TALK224()
    Scene.OpenChest(224, 872, '%T872.' ) -- ＊皮手套　教堂地牢
end
-------------------------------------------------------------------
function Scene.TALK225()
    Scene.SearchFlower(624) -- ＊無效餅　教堂地牢
end

-- ──────────────────────────────────────【火刑場上的士兵】
-- 角色228

function Scene.TALK228()
    if GameFunc.GetFlag(101) then goto T228 end
    if not GameFunc.GetFlag(100) then goto T228 end

    ESC.Caption(228)
    Scene.Print_W(228,9007,7*2,2*2,StringDB('ESS571')) -- ESS=後退後退！%N不准靠得太近！
    ESC.WaitDLG(228)
::T228::
end



-- ──────────────────────────────────────【觀看火刑的薇薇安】
-- 角色229

function Scene.TALK229()
    ESC.RoleLock(229)


    ESC.Caption(229)
    Scene.Print_W(229,9007,8*2,3*2,StringDB('ESS572')) -- ESS=唉，真殘忍…%N就算是外邦人，也都是人呀...
    ESC.WaitDLG(229)


    Scene.Print_W(229,9007,8*2,3*2,StringDB('ESS573')) -- ESS=把他們趕走就好了，何必一定要活活燒死呢…...
    ESC.WaitDLG(229)


    ESC.Unlock(229)
end





-- ──────────────────────────────────────【火刑場上的士兵】
-- 角色230


function Scene.TALK230()
    if GameFunc.GetFlag(101) then goto T230 end
    if not GameFunc.GetFlag(100) then goto T230 end

    ESC.Caption(230)
    Scene.Print_W(230,9007,7*2,2*2,StringDB('ESS574')) -- ESS=安靜！安靜！%N不要竊竊私語！
    ESC.WaitDLG(230)

::T230::
end


---------------------------------------------------------
function Scene.TALK231()
    if GameFunc.GetFlag(101) then goto T231 end
    if not GameFunc.GetFlag(100) then goto T231 end
    ESC.FitSize()
    Scene.M_Print(231, StringDB('ESS575')) -- ESS=安靜！安靜！
::T231::
end



-- ───────────────────────────────────【圍觀火刑的米羅】（MILO）
-- 角色232

function Scene.TALK232()
    ESC.RoleLock(232)


    ESC.Caption(232)
    Scene.Print_W(232,9007,7*2,3*2,StringDB('ESS576')) -- ESS=哈哈！%N這一些外邦人真是活該天譴！
    ESC.WaitDLG(232)


    Scene.Print_W(232,9007,11*2,4*2,StringDB('ESS577')) -- ESS=這些騎士做得真好哇！%N我們%C2上帝的...
    ESC.WaitDLG(232)


    Scene.Print_W(232,9007,7*2,3*2,StringDB('ESS578')) -- ESS=這一些騎士替天行道，真是大快人心呀！
    ESC.WaitDLG(232)


    ESC.Unlock(232)
end



-- ──────────────────────────────────【圍觀火刑的梅伊嬸嬸】（MAY）
-- 角色233

function Scene.TALK233()
    ESC.RoleLock(233)


    ESC.Caption(233)
    Scene.Print_W(233,9007,11*2,3*2,StringDB('ESS579')) -- ESS=真殘忍…為什麼他們做的，和平常大家所知道...
    ESC.WaitDLG(233)


    Scene.Print_W(233,9007,7*2,3*2,StringDB('ESS580')) -- ESS=我們的%C2護民官%C4大人真不知道在幹...
    ESC.WaitDLG(233)

    ESC.Unlock(233)
end


-- ──────────────────────────────────【圍觀火刑的商人哈洛德】
-- 角色234

function Scene.TALK234()
    ESC.RoleLock(234)


    ESC.Caption(234)
    Scene.Print_W(234,9007,12*2,3*2,StringDB('ESS581')) -- ESS=唉，這次%C2哈倫%C4先生還是我特地請...
    ESC.WaitDLG(234)


    Scene.Print_W(234,9007,11*2,3*2,StringDB('ESS582')) -- ESS=現在他要被燒死了，我一點也無能為力，等於...
    ESC.WaitDLG(234)


    ESC.Unlock(234)
end





-- ──────────────────────────────────【圍觀火刑的威爾先生】（WILL）
-- 角色235

function Scene.TALK235()
    ESC.RoleLock(235)


    ESC.Caption(235)
    Scene.Print_W(235,9007,10*2,3*2,StringDB('ESS583')) -- ESS=可惡，他們這些教士和騎士把我們%C2威尼...
    ESC.WaitDLG(235)


    Scene.Print_W(235,9007,12*2,3*2,StringDB('ESS584')) -- ESS=再怎麼說，我們威尼斯也算是一個%C2自治...
    ESC.WaitDLG(235)


    ESC.Unlock(235)
end






---------------------------------------------------------
function Scene.TALK236()
    Scene.WORD_ON_HEAD(Const.TOWN, 10, 50, -50, StringDB('ESS585')) -- ESS=殺！殺！
end
---------------------------------------------------------
---------------------------------------------------------
function Scene.TALK238()
    Scene.SearchFlower(647) -- ＊住宅區木桶　解毒草
end


-- ──────────────────────────────────【修道院地下牢房的求救女囚】

function Scene.TALK239()


    if GameFunc.GetFlag(277) then goto T239 end

    ESC.Caption(239)
    Scene.Print_W(239,9007,7*2,3*2,StringDB('ESS586')) -- ESS=先生，先生，您…您可以救救我們嗎？
    ESC.WaitDLG(239)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS587')) -- ESS=…是可以，但我要怎麼救妳們？
    ESC.WaitDLG(1)


    ESC.Caption(239)
    Scene.Print_W(239,9007,11*2,4*2,StringDB('ESS588')) -- ESS=我…偷聽到那些僧侶說，外面那四隻%C2石...
    ESC.WaitDLG(239)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS589')) -- ESS=我知道了，我來試試看！
    ESC.WaitDLG(1)


    GameFunc.FlagOn(277)
    ESC.SceneBreak()



::T239::

    ESC.Caption(239)
    Scene.Print_W(239,9007,10*2,3*2,StringDB('ESS590')) -- ESS=四隻%C2石獅子%C4裏，有一個是地牢的...
    ESC.WaitDLG(239)


end





-- ────────────────────────────────────────【賣珍珠的潘朵拉】
-- 角色240，開關1044、1034


function Scene.TALK240()
--  【賣珍珠的潘朵拉】
--  角色240，開關1044、1034


    ESC.RoleLock(240)

    -- if GameFunc.GetFlag(100) then goto T240P2 end  -- ★進入要進入第二階段
    if GameFunc.GetFlag(1035) then goto T240P1_11 end -- ★賽特已經買到了珍珠
    if GameFunc.GetFlag(1034) then goto T240P1_00 end -- ★賽特是否跟派恩問過話
    if GameFunc.GetFlag(1044) then goto T240P1_1 end  -- ★賽特和潘朵拉問過話之前的循環對話



-- ●第一階段   主對話



    ESC.Caption(240)
    Scene.Print_W(240,9007,11*2,3*2,StringDB('ESS591')) -- ESS=聽說最近海上出現許多%C2海盜%C4，害...
    ESC.WaitDLG(240)


    Scene.Print_W(240,9007,11*2,3*2,StringDB('ESS592')) -- ESS=這一次%C2波斯%C4商人如果來跟我們買...
    ESC.WaitDLG(240)


    ESC.Unlock(240)
    GameFunc.FlagOn(1044)
    ESC.SceneBreak()



-- ●第一階段   循環對話

::T240P1_1::


    ESC.Caption(240)
    Scene.Print_W(240,9007,11*2,3*2,StringDB('ESS593')) -- ESS=…好奇怪，為什麼好久都沒有%C2波斯商人...
    ESC.WaitDLG(240)


    Scene.Print_W(240,9007,11*2,4*2,StringDB('ESS594')) -- ESS=他們再不來向我們買%C2珍珠%C4，我們...
    ESC.WaitDLG(240)

    ESC.Unlock(240)
    GameFunc.FlagOff(1044)
    ESC.SceneBreak()



-- ●第一階段   賽特買到珍珠後的循環對話

::T240P1_11::


    ESC.Caption(240)
    Scene.Print_W(240,9007,10*2,4*2,StringDB('ESS595')) -- ESS=真可惡，原來是那些%C2教會騎士%C4在...
    ESC.WaitDLG(240)


    Scene.Print_W(240,9007,7*2,3*2,StringDB('ESS596')) -- ESS=但願這些混帳們快快滾離開威尼斯！
    ESC.WaitDLG(240)


    ESC.Unlock(240)
    ESC.SceneBreak()




-- ●第一階段   派恩叫賽特來找潘朵拉

::T240P1_00::
    ESC.Caption(240)
    Scene.Print_W(240,9007,11*2,3*2,StringDB('ESS597')) -- ESS=…真奇怪，為什麼那位%C2波斯商人%C4...
    ESC.WaitDLG(240)



    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS598')) -- ESS=請問…妳是不是採珍珠的%C2派恩%C4先...
    ESC.WaitDLG(1)


    ESC.Caption(240)
    Scene.Print_W(240,9007,7*2,3*2,StringDB('ESS599')) -- ESS=是啊，我就是…%N你是%C2東方%C4來...
    ESC.WaitDLG(240)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS600')) -- ESS=我聽說妳們這裏有很棒的%C2珍珠%C4，...
    ESC.WaitDLG(1)


    ESC.Caption(240)
    Scene.Print_W(240,9007,8*2,4*2,StringDB('ESS601')) -- ESS=當然好啦！%N不過那也要看價錢……你願意...
    ESC.WaitDLG(240)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS602')) -- ESS=我想出%C2五十枚銀幣%C4，可以嗎？
    ESC.WaitDLG(1)


    ESC.Caption(240)
    Scene.Print_W(240,9007,10*2,4*2,StringDB('ESS603')) -- ESS=太少、太少了吧！%N喂，以前我們賣給波斯...
    ESC.WaitDLG(240)


    ESC.Caption(1)
    Scene.Print_W(1,9007,13*2,4*2,StringDB('ESS604')) -- ESS=您大概不曉得，最近城裏來了一批%C2騎士...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS605')) -- ESS=以後一段時間，%C2外國商人%C4大概都...
    ESC.WaitDLG(1)


    ESC.Caption(240)
    Scene.Print_W(240,9007,11*2,4*2,StringDB('ESS606')) -- ESS=真…真的呀？%N我聽說教會在抓%C2異教...
    ESC.WaitDLG(240)


    Scene.Print_W(240,9007,10*2,4*2,StringDB('ESS607')) -- ESS=好…好吧，%N這次就%C2五十枚銀幣%C...
    ESC.WaitDLG(240)



    if Scene.AUTO_VCMONEY(50,240,9007) then return end    -- ●檢查是否足夠50元，人物240

    GameFunc.PlayerGolds = GameFunc.PlayerGolds - 50  -- ●賽特扣除銀幣50枚
    MediaFunc.PlaySound(193)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS608')) -- ESS=得到%T767.

    ItemFunc.AddItem(767, 1)
    Scene.QuestOff(56)

    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS609')) -- ESS=好，%N謝謝您！
    ESC.WaitDLG(1)


    ESC.Unlock(240)
    GameFunc.FlagOn(1035) -- ★1035=賽特買到珍珠
end




-- ─────────────────────────────────────【修道院地下牢房的女囚】

function Scene.TALK241()

    ESC.Caption(241)
    Scene.Print_W(241,9007,6*2,3*2,StringDB('ESS610')) -- ESS=怎麼辦啊？%N我到底會被關多久……
    ESC.WaitDLG(241)
end


function Scene.TALK242()

    ESC.Caption(242)
    Scene.Print_W(242,9007,9*2,3*2,StringDB('ESS611')) -- ESS=我丈夫上次被那些僧侶抓去審問，就再也沒有...
    ESC.WaitDLG(242)


    Scene.Print_W(242,9007,7*2,2*2,StringDB('ESS612')) -- ESS=我好擔心他發生了什麼事哦…
    ESC.WaitDLG(242)
end



function Scene.TALK243()

    ESC.Caption(243)
    Scene.Print_W(243,9007,6*2,3*2,StringDB('ESS613')) -- ESS=姊姊，我們要被關到什麼時候？
    ESC.WaitDLG(243)


    ESC.Caption(244)
    Scene.Print_W(244,9007,5*2,3*2,StringDB('ESS614')) -- ESS=貝絲，%N別害怕！不要害怕！
    ESC.WaitDLG(244)


    Scene.Print_W(244,9007,9*2,4*2,StringDB('ESS615')) -- ESS=他們說我們是異教徒，可是我們不是，上帝一...
    ESC.WaitDLG(244)
end


-- ──────────────────────────────────────────【旅行者亨利】
function Scene.TALK245()
    if GameFunc.GetFlag(290) then goto T245C end -- 跟亨利回報過任務完成了
    if GameFunc.GetFlag(1052) then goto T245J end -- 跟賈西報過平安
    if GameFunc.GetFlag(296) then goto T245E end -- 答應幫他跟賈西報過平安
    if GameFunc.GetFlag(292) then goto T245F end -- 跟賈西說過話



    ESC.Caption(245)
    Scene.Print_W(245,9007,8*2,3*2,StringDB('ESS616')) -- ESS=真是頭痛啊！%N現在做買賣越來越不容易…...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,10*2,4*2,StringDB('ESS617')) -- ESS=海上%C2海盜%C4這麼猖獗，害我只好由...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,10*2,3*2,StringDB('ESS618')) -- ESS=真希望有人幫我回去跟我家人說一聲，免得他...
    ESC.WaitDLG(245)

    ESC.SceneBreak()



::T245E::

    ESC.Caption(245)
    Scene.Print_W(245,9007,9*2,4*2,StringDB('ESS619')) -- ESS=朋友，如果你有回%C2威尼斯%C4城，記...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,7*2,3*2,StringDB('ESS620')) -- ESS=我伯父的家在%C2威尼斯運河畔%C4，拜...
    ESC.WaitDLG(245)


    ESC.SceneBreak()



::T245F::

    ESC.Caption(245)
    Scene.Print_W(245,9007,8*2,3*2,StringDB('ESS621')) -- ESS=真傷腦筋啊！%N現在做買賣越來越麻煩了…...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,10*2,4*2,StringDB('ESS622')) -- ESS=海上%C2海盜%C4橫行，害我得由陸路才...
    ESC.WaitDLG(245)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS623')) -- ESS=您好！%N您是%C2威尼斯%C4的人嗎？...
    ESC.WaitDLG(1)


    ESC.Caption(245)
    Scene.Print_W(245,9007,7*2,2*2,StringDB('ESS624')) -- ESS=是啊！%N有什麼事情…？
    ESC.WaitDLG(245)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS625')) -- ESS=我在%C2威尼斯%C4遇見一位老先生，他...
    ESC.WaitDLG(1)


    ESC.Caption(245)
    Scene.Print_W(245,9007,10*2,3*2,StringDB('ESS626')) -- ESS=啊，那會不會是我伯父%C2賈西%C4先生...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,11*2,4*2,StringDB('ESS627')) -- ESS=我叫做%C2亨利%C4，如果您看到他，請...
    ESC.WaitDLG(245)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS628')) -- ESS=好，我知道了，如果我遇見他，會幫你轉達的...
    ESC.WaitDLG(1)
    Scene.QuestOn(57)

    GameFunc.FlagOn(296) -- 和亨利說過話了！
    ESC.SceneBreak()



::T245J::

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS629')) -- ESS=朋友！%N你還在這裏等啊…
    ESC.WaitDLG(1)


    ESC.Caption(245)
    Scene.Print_W(245,9007,10*2,4*2,StringDB('ESS630')) -- ESS=是啊！%N他們說最近在追捕%C2異教徒%...
    ESC.WaitDLG(245)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS631')) -- ESS=我上次回威尼斯時，已經向你伯父報過平安了...
    ESC.WaitDLG(1)


    ESC.Caption(245)
    Scene.Print_W(245,9007,9*2,4*2,StringDB('ESS632')) -- ESS=真的？%N感謝你，因為我也一直擔心我伯會...
    ESC.WaitDLG(245)


    Scene.Print_W(245,9007,11*2,4*2,StringDB('ESS633')) -- ESS=這是我伯父親手製的%C2無酵餅%C4，送...
    ESC.WaitDLG(245)




    ItemFunc.AddItem(624, 1) -- 【物品】得到無酵餅
    MediaFunc.PlaySound(193)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS634')) -- ESS=得到%T624.


    ESC.Delay(2000)


    GameFunc.FlagOn(290) -- 向亨利報備過了
    if GameFunc.GetFlag(290) then goto T245C end
    ESC.SceneBreak()



::T245C::

    ESC.Caption(245)
    Scene.Print_W(245,9007,8*2,3*2,StringDB('ESS635')) -- ESS=感謝你的幫忙，願上帝祝福你旅途平安！
    ESC.WaitDLG(245)

end









-- ─────────────────────────────────────────────【賈西】
-- 角色247

function Scene.TALK247()
    if GameFunc.GetFlag(1052) then goto T247J end
    if GameFunc.GetFlag(296) then goto T247B end


    ESC.RoleLock(247)

    ESC.Caption(247)
    Scene.Print_W(247,9007,8*2,3*2,StringDB('ESS637')) -- ESS=唉唉，真擔心哪！%N我那個%C2姪子%C...
    ESC.WaitDLG(247)


    Scene.Print_W(247,9007,11*2,3*2,StringDB('ESS638')) -- ESS=他上個月說要去%C2亞歷山卓%C4和%C...
    ESC.WaitDLG(247)


    Scene.Print_W(247,9007,10*2,3*2,StringDB('ESS639')) -- ESS=聽說最近%C2海盜%C4鬧得很兇，是不是...
    ESC.WaitDLG(247)


    Scene.Print_W(247,9007,8*2,2*2,StringDB('ESS640')) -- ESS=唉唉，真擔心哪！%N真是擔心死我了！
    ESC.WaitDLG(247)


    ESC.Unlock(247)

    GameFunc.FlagOn(292) -- 曾經跟賈西對話過了
    ESC.SceneBreak()



::T247B::
    ESC.RoleLock(247)


    ESC.Caption(247)
    Scene.Print_W(247,9007,8*2,3*2,StringDB('ESS637')) -- ESS=唉唉，真擔心哪！%N我那個%C2姪子%C...
    ESC.WaitDLG(247)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS641')) -- ESS=老先生！%N請問…您是不是有一個叫%C2...
    ESC.WaitDLG(1)


    ESC.Caption(247)
    Scene.Print_W(247,9007,6*2,2*2,StringDB('ESS642')) -- ESS=是啊…！%N請問您是…？
    ESC.WaitDLG(247)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS643')) -- ESS=您好，老伯！%N我也是旅行者，路上曾遇見...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS644')) -- ESS=他說他改走陸路去%C2拜占庭%C4，會慢...
    ESC.WaitDLG(1)



    ESC.Caption(247)
    Scene.Print_W(247,9007,10*2,4*2,StringDB('ESS645')) -- ESS=哦，原來如此呀…%N我一直擔心他是不是遇...
    ESC.WaitDLG(247)


    Scene.Print_W(247,9007,11*2,4*2,StringDB('ESS646')) -- ESS=感謝你為我帶來平安的話語，願上帝祝福你，...
    ESC.WaitDLG(247)


    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 100  -- ●賽特得到銀幣100枚
    MediaFunc.PlaySound(193)


    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS647')) -- ESS=得到銀幣100枚

    ESC.Delay(2000)
    Scene.QuestOff(57)
    ESC.Caption(247)
    Scene.Print_W(247,9007,10*2,4*2,StringDB('ESS648')) -- ESS=如果下次您旅行的路上遇到他，請幫我告訴他...
    ESC.WaitDLG(247)

    GameFunc.FlagOn(1052)

    ESC.SceneBreak()

::T247J::
    ESC.Caption(247)
    Scene.Print_W(247,9007,9*2,3*2,StringDB('ESS649')) -- ESS=小兄弟，謝謝你上次為我帶來平安的話，願上...
    ESC.WaitDLG(247)


end




-- ──────────────────────────────────────────【對話的酒客】

function Scene.TALK248()
    ESC.Caption(248)
    Scene.Print_W(248,9007,7*2,4*2,StringDB('ESS650')) -- ESS=唉…%N這年頭還是喝喝酒就好，別亂發議論...
    ESC.WaitDLG(248)
end


---------------------------


function Scene.TALK249()
    ESC.Caption(249)
    Scene.Print_W(249,9007,9*2,3*2,StringDB('ESS651')) -- ESS=東方商人也是教會自己逼走的，結果稅還越抽...
    ESC.WaitDLG(249)
    Scene.Print_W(249,9007,11*2,3*2,StringDB('ESS652')) -- ESS=家中沒有收入，老婆孩子又吵，只好來這裏喝...
    ESC.WaitDLG(249)
end

--------------------
function Scene.TALK254()
    Scene.OpenChest(254, 1019, '%T1019.' ) -- ＊頭巾
end
---------------------
function Scene.TALK255()
    Scene.OpenChest(255, 636, '%T636.' ) -- ＊魔法葉
end
---------------------
function Scene.TALK256()
    Scene.SearchFlower(624) -- ＊無酵餅
end
---------------------
function Scene.TALK257()
    Scene.SearchFlower(769) -- ＊靈界指標
end
---------------------
function Scene.TALK258()
    Scene.SearchFlower(653) -- ＊還神果
end
---------------------
function Scene.TALK259()
    if GameFunc.GetFlag(264) then return end
    ESC.RMLock()
    Scene.MoveHero(48, 24, 1)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(300)
    ESC.ChangeQQ(259, Const.WALK)
    Scene.SAR_CSEL(Const.TOWN, 1)
    GameFunc.FlagOn(264)
    MediaFunc.PlaySound(58)
    if GameFunc.GetFlag(295) and GameFunc.GetFlag(264) then
        Scene.T260C()
    end
end
---------------------
function Scene.TALK260()
    if GameFunc.GetFlag(295) then return end
    ESC.RMLock()
    Scene.MoveHero(16, 26, 1)
    GameFunc.FlagOn(295)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(300)
    ESC.ChangeQQ(260, Const.WALK)
    Scene.SAR_CSEL(Const.TOWN, 1)
    MediaFunc.PlaySound(58)
    if GameFunc.GetFlag(295) and GameFunc.GetFlag(264) then
        Scene.T260C()
    end
    ESC.SceneBreak()
end
function Scene.T260C()
    MediaFunc.PlaySound(57)
    ESC.ScreenShack(2 , 0, 4, 0, 2, 0, 4, 0, 2, 0, 4, 0, 2, 0, 4, 0, 2, 0, 4, 0xFF00)

    ESC.DLGNoPass() ESC.DLGHoldTime(5) ESC.DLGNoCloseKey()
    ESC.Print(1,9007,'%S1%C2'..StringDB('ESS653')) -- ESS=似乎觸動了什麼機關...
    ESC.WaitDLG(1)
    ESC.ScreenShackStop()

    MediaFunc.PlaySound(55)
    ESC.Delay(400)
    ESC.RoleEnable(121)
    GameFunc.FlagOn(288)
end

-- ──────────────────────────────────────────【護民官之母】
-- 角色261，開關1031、1032


function Scene.TALK261()
    ESC.RoleLock(261)


    if GameFunc.GetFlag(1026) then goto T261P1_0 end  -- ★西魯士賣瑪瑙給賽特以後
    if GameFunc.GetFlag(1031) then goto T261P1_1 end  -- ★循環對話



-- ●第一階段   主對話

::T261P1_0::
    GameFunc.FlagOn(1031)


    ESC.Caption(261)
    Scene.Print_W(261,9007,10*2,3*2,StringDB('ESS654')) -- ESS=唉，我兒子這一次引進找來的騎士團，給大家...
    ESC.WaitDLG(261)


    Scene.Print_W(261,9007,11*2,3*2,StringDB('ESS655')) -- ESS=到目前為止，他擔任%C2護民官%C4，大...
    ESC.WaitDLG(261)


    Scene.Print_W(261,9007,10*2,3*2,StringDB('ESS656')) -- ESS=有機會的話，我一定要叫他好好向大家道歉，...
    ESC.WaitDLG(261)


    ESC.Unlock(261)
    ESC.SceneBreak()






-- ●第一階段   第1循環對話
::T261P1_1::
    if GameFunc.GetFlag(1032) then goto T261P1_2 end  -- ★是否進入第2循環對話的開關


    ESC.Caption(261)
    Scene.Print_W(261,9007,11*2,4*2,StringDB('ESS657')) -- ESS=我兒子很生氣那些什麼%C2騎士團%C4的...
    ESC.WaitDLG(261)


    Scene.Print_W(261,9007,12*2,4*2,StringDB('ESS658')) -- ESS=前幾天半夜，一位%C2外國珠寶商人%C4...
    ESC.WaitDLG(261)


    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS659')) -- ESS=外國商人？
    ESC.WaitDLG(1)


    Scene.Print_W(261,9007,11*2,3*2,StringDB('ESS660')) -- ESS=是，我們偷偷把他藏在這裏好幾天了但他其他...
    ESC.WaitDLG(261)


    Scene.Print_W(261,9007,11*2,3*2,StringDB('ESS661')) -- ESS=他最近常到我們家後面%C2河邊空地%C4...
    ESC.WaitDLG(261)


    ESC.Unlock(261)
    GameFunc.FlagOn(1032) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()



-- ●第一階段   第2循環對話

::T261P1_2::
    ESC.Caption(261)
    Scene.Print_W(261,9007,7*2,3*2,StringDB('ESS662')) -- ESS=威尼斯有很多河流，外國商人都叫她%C2水...
    ESC.WaitDLG(261)


    Scene.Print_W(261,9007,12*2,4*2,StringDB('ESS663')) -- ESS=外國商人曾告訴我們，說我們威尼斯城有很多...
    ESC.WaitDLG(261)


    ESC.Unlock(216)
    GameFunc.FlagOff(1032) -- ★關閉進入第2循環對話的開關
end







-------------------------------------------
function Scene.TALK262()
    -- 潔西卡家地牢的寶箱

    if GameFunc.GetFlag(7012) then return end
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,22,2,StringDB('ESS664')) -- ＊靈界指標 ESS=得到%T769.和%T768.
    ItemFunc.AddItem(769, 1) -- 加ITEMS[道具]
    ItemFunc.AddItem(768, 1)
    ESC.ChangeQQ(262, Const.WALK)
    Scene.SAR_CSEL(262 , 1)
    GameFunc.FlagOn(7012) -- 打開箱子
    Scene.QuestOff(99)
end


-- ─────────────────────────────────────────【祈禱的婦人】
-- 角色194

function Scene.TALK263()
    ESC.RoleLock(194)

    if GameFunc.GetFlag(101) then goto T263MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T263FIRE end   -- ★火刑場開始

    ESC.Caption(194)
    Scene.Print_W(194,9007,8*2,4*2,StringDB('ESS665')) -- ESS=天主啊，%N我喜愛您的國度，因為它為我帶...
    ESC.WaitDLG(194)


    Scene.Print_W(194,9007,12*2,5*2,StringDB('ESS666')) -- ESS=可是天主啊，%N您一直吩咐我們，不可接近...
    ESC.WaitDLG(194)


    Scene.Print_W(194,9007,11*2,5*2,StringDB('ESS667')) -- ESS=天主啊，%N求您以聖靈的力量感動那些%C...
    ESC.WaitDLG(194)


    Scene.Print_W(194,9007,8*2,3*2,StringDB('ESS668')) -- ESS=讓我們得以走在平安正義的道路上，直到永生...
    ESC.WaitDLG(194)
    ESC.Unlock(194)
    ESC.SceneBreak()


-- ●火刑場對話

::T263FIRE::


    ESC.Caption(194)
    Scene.Print_W(194,9007,9*2,4*2,StringDB('ESS669')) -- ESS=天主啊，%N感謝您終於將那些邪惡的%C2...
    ESC.WaitDLG(194)


    Scene.Print_W(194,9007,11*2,4*2,StringDB('ESS670')) -- ESS=天主啊，%N感謝您始終眷顧我們威尼斯城，...
    ESC.WaitDLG(194)


    ESC.Unlock(194)
    ESC.SceneBreak()




-- ●火刑場對話

::T263MAPS::


    ESC.Caption(194)
    Scene.Print_W(194,9007,9*2,4*2,StringDB('ESS671')) -- ESS=天主啊，%N祈求您寬恕我們威尼斯不要因為...
    ESC.WaitDLG(194)


    Scene.Print_W(194,9007,10*2,4*2,StringDB('ESS672')) -- ESS=祈求您再次以您大能的臂膀，再次引導您的%...
    ESC.WaitDLG(194)


    ESC.Unlock(194)
end




---------------------
function Scene.TALK264()
    Scene.SearchFlower(647) -- ＊解毒草
end
---------------------
function Scene.TALK265()
    Scene.OpenChest(265, 621, '%T621.' ) -- ＊藥草
end
---------------------
function Scene.TALK266()
    Scene.SearchFlower(621) -- ＊藥草
end
---------------------
function Scene.TALK267()
    Scene.OpenChest(59983, 621, '%T621.' ) -- ＊藥草
end
---------------------
function Scene.TALK268()
    -- 修道院底寶箱
    if Scene.CheckQQ(-1, 8) then return end
    if not GameFunc.GetFlag(307) then
        ESC.Caption(1)
        ESC.FitSize()
        Scene.M_Print(1, StringDB('ESS674')) -- ESS=好像太遠了。
        return
    end
    ESC.ChangeQQ(268, Const.WALK)
    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,'%S0'..StringDB('ESS673')) -- ESS=得到%T503.與銀幣100
    ItemFunc.AddItem(503, 1) -- 加ITEMS[道具]
    Scene.SAR_CSEL(268, 1)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 100
end

function Scene.TALK269()
    if GameFunc.GetFlag(102) then return end
    Scene.WORD_ON_HEAD(1, 2, 30, -75, StringDB('ESS675')) -- ESS=門鎖著。
end

function Scene.TALK270()
    Scene.OpenChest(270, 622, '%T622.' ) -- ＊結纍葡萄
end

function Scene.TALK271()
    Scene.OpenChest(271, 636, '%T636.' ) -- ＊魔法葉
end

function Scene.TALK272()
    Scene.OpenChest(272, 625, '%T625.' ) -- ＊回復劑
end

function Scene.TALK273()
    Scene.OpenChest(273, 622, '%T622.' ) -- ＊結纍葡萄
end

function Scene.TALK274()
    Scene.SearchFlower(502) -- ＊長劍 (隱)
end

function Scene.TALK275()
    Scene.OpenChest(275, 698, '%T698.' ) -- ＊諸方神石
end

function Scene.TALK276()
    Scene.OpenMeneyChest(276, 20 ) -- ＊銀幣
end





-- ────────────────────────────────────【波斯商人西魯士】
-- 角色277，開關1049


function Scene.TALK277()
    ESC.RoleLock(277)
    local select
    if not GameFunc.GetFlag(1049) then goto T277P1_0 end -- 完全沒說過話前
    if GameFunc.GetFlag(1026) then goto T277OVER end  -- ★開關1026=已經買過瑪瑙了
    if GameFunc.GetFlag(1025) then goto T277MANAU end -- ★開關1025=預備買瑪瑙
    if GameFunc.GetFlag(1050) then goto T277P1_2 end  -- ★開關1050=第二循環對話
    if GameFunc.GetFlag(1049) then goto T277P1_1 end  -- ★開關1049=第一循環對話


-- ●第一階段   主對話
::T277P1_0::


    ESC.Caption(277)
    Scene.Print_W(277,9007,10*2,3*2,StringDB('ESS676')) -- ESS=我經常來威尼斯買賣%C2紅寶石%C4和%...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,12*2,4*2,StringDB('ESS677')) -- ESS=我和朋友一起坐船來這兒，才上岸沒多久，一...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,10*2,3*2,StringDB('ESS678')) -- ESS=我朋友們都被抓走了，結果只有我趕逃走，才...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,11*2,4*2,StringDB('ESS679')) -- ESS=幸好這城的%C2護民官%C4讓我躲在這裏...
    ESC.WaitDLG(277)


    ESC.Unlock(277)
    GameFunc.FlagOn(1049) -- ★打開第一循環對話
    ESC.SceneBreak()




-- ●購買瑪瑙

::T277MANAU::


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS680')) -- ESS=這一位外國朋友，您身上是不是有帶著%C2...
    ESC.WaitDLG(1)


    ESC.Caption(277)
    Scene.Print_W(277,9007,10*2,3*2,StringDB('ESS681')) -- ESS=有啊有啊！我還巴不得趕快把它們賣掉呢！您...
    ESC.WaitDLG(277)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS682')) -- ESS=當然了，我想要跟你買%C2紅寶石%C4，...
    ESC.WaitDLG(1)


    ESC.Caption(277)
    Scene.Print_W(277,9007,11*2,3*2,StringDB('ESS683')) -- ESS=現在情況特殊，我便宜賣給你吧！紅寶石一顆...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,9*2,4*2,StringDB('ESS684')..'%N'..StringDB('SESS2')) -- ESS=一共八十，您願意購買嗎？%N%B　（1）...
    ESC.WaitDLG(277)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T277YES
    elseif select == 2 then
        goto T277NO
    end

    ESC.Unlock(277)
    ESC.SceneBreak()



-- ●願意購買

::T277YES::



    if Scene.AUTO_VCMONEY(80,277,9007) then return end

    GameFunc.PlayerGolds = GameFunc.PlayerGolds -80
    MediaFunc.PlaySound(193)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS685')) -- ESS=得到%T766.
    ItemFunc.AddItem(766, 8)


    ESC.Caption(277)
    Scene.Print_W(277,9007,11*2,3*2,StringDB('ESS686')) -- ESS=謝謝你，老弟，你幫了我一個大忙，要不然我...
    ESC.WaitDLG(277)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS687')) -- ESS=不客氣，您自己也要小心，那些%C2騎士團...
    ESC.WaitDLG(1)


    ESC.Caption(277)
    Scene.Print_W(277,9007,10*2,3*2,StringDB('ESS688')) -- ESS=謝謝你，老弟，%N你也是外國人吧？%N自...
    ESC.WaitDLG(277)


    ESC.Unlock(277)
    GameFunc.FlagOn(1026) -- ★1026=賽特買到紅寶石
    GameFunc.FlagOn(1025) -- ★1025=賽特答應購買紅寶石
    ESC.SceneBreak()


-- ●不願意購買
::T277NO::


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS689')) -- ESS=對不起，我身上的錢不太夠，實在很抱歉…
    ESC.WaitDLG(1)


    ESC.Caption(277)
    Scene.Print_W(277,9007,12*2,3*2,StringDB('ESS690')) -- ESS=沒關係，老弟，我人會一直在這裏，你錢夠的...
    ESC.WaitDLG(277)



    ESC.Unlock(277)
    ESC.SceneBreak()



-- ●第一階段   第1循環對話
::T277P1_1::


    ESC.Caption(277)
    Scene.Print_W(277,9007,9*2,3*2,StringDB('ESS691')) -- ESS=真擔心我那些被抓去的朋友，不曉得他們會不...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,9*2,3*2,StringDB('ESS692')) -- ESS=不過這裏的%C2護民官%C4真是好人，冒...
    ESC.WaitDLG(277)


    ESC.Unlock(277)
    GameFunc.FlagOn(1050) -- ★打開第二循環對話
    ESC.SceneBreak()



-- ●第一階段   第2循環對話
::T277P1_2::
    ESC.Caption(277)
    Scene.Print_W(277,9007,12*2,3*2,StringDB('ESS693')) -- ESS=真擔心，我們這次帶來的%C2瑪瑙%C4和...
    ESC.WaitDLG(277)


    Scene.Print_W(277,9007,12*2,3*2,StringDB('ESS694')) -- ESS=如果有人願意跟我買，我願意便宜賣給他們，...
    ESC.WaitDLG(277)


    ESC.Unlock(277)
    ESC.SceneBreak()


-- ●已經買過紅寶石了

::T277OVER::


    ESC.Caption(277)
    Scene.Print_W(277,9007,9*2,2*2,StringDB('ESS695')) -- ESS=謝謝你，小老弟，願%C2阿拉真神%C4祝...
    ESC.WaitDLG(277)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS696')) -- ESS=現在城裏在捕%C2異教徒%C4，你講這樣...
    ESC.WaitDLG(1)


    ESC.Caption(277)
    Scene.Print_W(277,9007,10*2,3*2,StringDB('ESS697')) -- ESS=哦，不，朋友！%N危險歸危險，但是我不願...
    ESC.WaitDLG(277)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS698')) -- ESS=你真是一位了不起的人，老兄！
    ESC.WaitDLG(1)


    ESC.Unlock(277)
end




-- ────────────────────────────────────────────【喬安娜】
-- 角色278

function Scene.TALK278()
    ESC.RoleLock(278)


    ESC.Caption(278)
    Scene.Print_W(278,9007,10*2,3*2,StringDB('ESS699')) -- ESS=威尼斯這裏有許多曲曲折折的%C2小巷子%...
    ESC.WaitDLG(278)


    Scene.Print_W(278,9007,9*2,3*2,StringDB('ESS700')) -- ESS=用心逛一逛，你會越來越喜歡這一個美麗的水...
    ESC.WaitDLG(278)


    ESC.Unlock(278)
end


function Scene.TALK279()
    Scene.OpenChest(279, 625, '%T625.' ) -- 回復劑
end

function Scene.TALK281()
    Scene.OpenChest(281, 621, '%T621.' ) -- ＊藥草
end

function Scene.TALK282()
    Scene.OpenMeneyChest(282, 50 ) -- 銀幣
end

function Scene.TALK283()
    Scene.OpenMeneyChest(59977, 50 ) -- 銀幣
end

function Scene.TALK284()
    Scene.OpenChestBattle(284, 'BS55') -- 打開箱子 -- 怪物129&虎皮衣
end

function Scene.TALK285()
    Scene.OpenChest(285, 622, '%T622.' ) -- ＊結纍葡萄
end

function Scene.TALK286()
    if Scene.CheckQQ(286, 8) then return end
    ESC.FitSize()
    Scene.M_Print(286, StringDB('ESS701')) -- ESS=衝出一堆怪物
    Scene.OpenChestBattle2(286, 'BS56', 523, '%T523.' ) -- ＊獵弓&戰場56
end

function Scene.TALK287()
    Scene.OpenChest(287, 644, '%T644.' ) -- ＊還魄丹
end

function Scene.TALK288()
    Scene.OpenChest(59978, 625, '%T625.' ) -- ＊回復劑
end

function Scene.TALK289()
    Scene.OpenChest(59979, 907, '%T907.' ) -- ＊鋼靴907
end

function Scene.TALK290()
    Scene.OpenChest(292, 876, '%T876.' ) -- 聖皇手套876
end

function Scene.TALK291()
    Scene.OpenChest(293, 625, '%T625.' ) -- 回復劑625
end

function Scene.TALK292()
    Scene.OpenChest(294, 987, '%T987.' ) -- 銀項鍊987
end


function Scene.TALK293()
    Scene.OpenChest(297, 931, '%T931.' ) -- 薩登荊環931
end

function Scene.TALK294()
    Scene.OpenMeneyChest(59982, 20 ) -- 銀幣
end

function Scene.TALK295()
    Scene.OpenChest(59981, 647, '%T647.' ) -- 解毒草
end

function Scene.TALK296()
    Scene.OpenChest(59980, 621, '%T621.' ) -- ＊藥草
end

function Scene.TALK297()
    -- 青苔迷宮寶箱
    Scene.OpenMeneyChest(59976, 40) -- 銀幣
end

function Scene.TALK298()
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.ScrollMapD(41, 0, 4, 4)
    ESC.ScrollMapWait()
    ESC.Delay(600)
    Scene.ScrollMapD(19, 9, 4, 4)
    ESC.ScrollMapWait()

    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    Scene.Glass_SRC1(1, StringDB('ESS702')) -- ESS=真是雄偉的船．．．
    Scene.CloseGlassUp()
    Scene.DelPictureUp(1)
    ESC.ScrollMapToRole(1, 8 , 8)
    ESC.ScrollMapWait()
end

function Scene.TALK299()
    if not GameFunc.GetFlag(100) then Scene.TALK206() ESC.SceneBreak() end -- 如果火刑場未開始就阻止主角進莉蓮房間
end
-------


-- 威尼斯城事件點
-----------------------------------------------------------------------
function Scene.TALK301()
    -- 廣場往教堂
    Scene.ChangeMap(23, 69, 146, 4)
end
-----------------------------------------------------------------------
function Scene.TALK302()
    -- 廣場往墓園
    Scene.ChangeMap(31, 47, 94, 0)
end
-----------------------------------------------------------------------
function Scene.TALK303()
    -- 出民房六
    Scene.ChangeMap(21, 67, 77, 1)
end
-----------------------------------------------------------------------
function Scene.TALK304()
    -- 出威尼斯城
    Scene.OutCity(10, 71, 45, 1)
end
-----------------------------------------------------------------------
function Scene.TALK305()
    -- 瀑布
    ESC.RoleShow(1)
end
-----------------------------------------------------------------------
function Scene.TALK306()
    -- 廣場往住宅區
    Scene.ChangeMap(21, 171, 35, 2)
end
-----------------------------------------------------------------------
function Scene.TALK307()
    -- 設定廣場
    if not GameFunc.GetFlag(213) then return end

    Scene.RoadFlag(StringDB('ESS703')) -- ESS= 往　墓　園
    GameFunc.FlagOff(213)
end




-- ──────────────────────────────────────────【出威尼斯城】
function Scene.TALK308()
    -- 廣場
    if GameFunc.GetFlag(228) then goto T308A end
    if not GameFunc.GetFlag(213) then goto T308 end
    Scene.RoadFlag(StringDB('ESS501')) -- ESS=威尼斯城廣場
::T308::
    GameFunc.FlagOff(213)
    ESC.SceneBreak()
::T308A::
    ESC.Delay(300)
    ESC.AddHeadSign(1, 1)
    ESC.TurnFace(1, 165)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)
    Scene.WORD_ON_HEAD(1, 5, 0, -65, StringDB('ESS704')) -- ESS=對了，我應該先把阿拉伯人都救下來……
end



-----------------------------------------------------------------------
function Scene.TALK309()
    -- 設定鐘塔FALG
    GameFunc.FlagOn(240)
end
-----------------------------------------------------------------------
function Scene.TALK310()
    if not GameFunc.GetFlag(240) then goto T310 end
    Scene.RoadFlag(StringDB('ESS705')) -- ESS=　鐘　　塔
::T310::
    GameFunc.FlagOff(240)
end
-----------------------------------------------------------------------
function Scene.TALK311()
    -- 進入商店
    Scene.ChangeMap(80, 26, 31, 0)
    Scene.RoadFlag(StringDB('ESS706')) -- ESS= 武器防具店
end
-----------------------------------------------------------------------
function Scene.TALK312()
    -- 進入武器店
    Scene.ChangeMap(80, 57, 29, 0)
    Scene.RoadFlag(StringDB('ESS706')) -- ESS= 武器防具店
end
-----------------------------------------------------------------------
function Scene.TALK313()
    -- 進入酒店
    if not GameFunc.GetFlag(7003) then goto T313 end
    Scene.ChangeMap(81, 37, 32, 0)
::T313::
    Scene.RoadFlag(StringDB('ESS707')) -- ESS=　酒　　店
end
-----------------------------------------------------------------------
function Scene.TALK314()
    -- 進入民房
    Scene.ChangeMap(89, 28, 42, 7)
    Scene.RoadFlag(StringDB('ESS708')) -- ESS= 護民官的家
end
-----------------------------------------------------------------------
function Scene.TALK315()
    -- 民房1
    Scene.ChangeMap(85, 52, 31, 0)
    Scene.RoadFlag(StringDB('ESS709')) -- ESS=　民　房
end
-----------------------------------------------------------------------
function Scene.TALK316()
    -- 進入民房
    Scene.ChangeMap(87, 53, 33, 4)
    Scene.RoadFlag(StringDB('ESS710')) -- ESS=漁夫派恩的家
end
-----------------------------------------------------------------------
function Scene.TALK317()
    -- 出民房1
    Scene.ChangeMap(20, 161, 143, 1)
end
-----------------------------------------------------------------------
function Scene.TALK318()
    -- 出城
    Scene.OutCity(10, 66, 40, 2)
end
-----------------------------------------------------------------------
function Scene.TALK319()
    -- 住宅區往廣場
    Scene.ChangeMap(20, 3, 74, 3)
end
-----------------------------------------------------------------------
-----------------------------------------------------------------------
function Scene.TALK321()
    -- 進入旅店
    Scene.ChangeMap(83, 31, 32, 7)
    Scene.RoadFlag(StringDB('ESS711')) -- ESS=　旅　　館
end
-----------------------------------------------------------------------
function Scene.TALK322()
    -- 進入藥店
    Scene.ChangeMap(82, 19, 36, 0)
    Scene.RoadFlag(StringDB('ESS712')) -- ESS=　商　　店
end
-----------------------------------------------------------------------
function Scene.TALK323()
    -- 進入藥店
    Scene.ChangeMap(82, 50, 38, 0)
    Scene.RoadFlag(StringDB('ESS712')) -- ESS=　商　　店
end
-----------------------------------------------------------------------
function Scene.TALK324()
    -- 進入民房6
    Scene.ChangeMap(94, 18, 28, 7)
    Scene.RoadFlag(StringDB('ESS713')) -- ESS=　民　　房
end
-----------------------------------------------------------------------
function Scene.TALK325()
    -- 進入民房6
    Scene.ChangeMap(93, 45, 53, 4)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF ( 0 , 9009,320,140,6,2,'%S0%C2'..StringDB('ESS714')) -- ESS=潔西卡與貝絲的家
end
-----------------------------------------------------------------------
function Scene.TALK326()
    -- 支線迷宮 -- 進潔西卡家地窖2
    -- 在286還沒打開之前    283不可設成ON
    if GameFunc.GetFlag(7025) then goto T326A end -- 已經開過門
    if not GameFunc.GetFlag(286) then goto T326 end
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FitSize()
    Scene.WORD_ON_HEAD(1, 5, 20, -65, StringDB('ESS715')) -- ESS=用鑰匙把門打開!
    ESC.WaitDLG(1)
    ItemFunc.AddItem(764, -1)
    GameFunc.FlagOn(7025)
::T326A::
    Scene.ChangeMap(45, 27, 90, 3)
    GameFunc.FlagOn(283) -- 283 設定為進入潔西卡家的迷宮地圖
    ESC.SceneBreak()
::T326::
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS716')) -- ESS=門上鎖著。
end
-----------------------------------------------------------------------
function Scene.TALK327()
    -- 進入民房8
    Scene.ChangeMap(95, 56, 44, 4)
    Scene.RoadFlag(StringDB('ESS717')) -- ESS= 賈西的家
end
-----------------------------------------------------------------------
function Scene.TALK328()
    -- 教堂往廣場
    Scene.ChangeMap(20, 13, 11, 5)
end
-----------------------------------------------------------------------
function Scene.TALK329()
    if not GameFunc.GetFlag(213) then return end
    Scene.RoadFlag(StringDB('ESS718')) -- ESS= 往　教　堂
    GameFunc.FlagOff(213)
end



-- ───────────────────────────────────【賽特被教堂前看守士兵攔阻】
function Scene.TALK330()
    -- 是否瀏覽教堂旗標
    if GameFunc.GetFlag(100) then goto T330 end -- 關掉士兵對話

    ESC.ChangeQQ(1, Const.STAND)
    ESC.Caption(143)
    Scene.Print_W(143,9007,5*2,1*2,StringDB('ESS719')) -- ESS=走開走開！
    ESC.WaitDLG(143)


    ESC.TurnFace(1, 143)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS720')) -- ESS=真抱歉，我臨時有一點事，需要到裏頭去找一...
    ESC.WaitDLG(1)


    ESC.Caption(143)
    Scene.Print_W(143,9007,9*2,3*2,StringDB('ESS721')) -- ESS=給我滾遠一點！%N本教堂現在一律不准閒雜...
    ESC.WaitDLG(143)


    if GameFunc.GetFlag(100) then goto T330 end
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 143)



    GameFunc.FlagOff(251)
    ESC.RMLock()
    Scene.MoveHero(50, 123, 1)
    ESC.ChangeQQ(1, 0)

    ESC.ChangeDIR(1, 6) -- 賽特面向八點


    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 0) -- 賽特思考
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    ESC.Delay(200)
    ESC.AddHeadSign(1 , 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)
    ESC.Delay(100)


    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 0) -- 賽特思考
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS722')) -- ESS=果然不能直接闖進教堂……看來得找%C2另...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.MusicFadeMode(2 , 30)

    ESC.StoryMusicOff()  -- 【配樂】威尼斯城

    GameFunc.FlagOn(225)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T330::
end





-- ───────────────────────────────────【賽特第一次到威尼斯教堂】

function Scene.TALK331()

    if GameFunc.GetFlag(100) then goto T331B end
    if GameFunc.GetFlag(219) then goto T331B end


    ESC.RMLock()   -- 開始瀏覽教堂
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 0)

    ESC.ScrollMap(0, -32, 8, 4) -- 向上捲動
    ESC.ScrollMapWait()

    ESC.ScrollMap(15, 0, 8, 4) -- 向右捲動
    ESC.ScrollMapWait()
    ESC.Delay(300)

    ESC.ScrollMap(-25, 0, 8, 4) -- 向左捲動
    ESC.ScrollMapWait()
    ESC.Delay(300)

    ESC.ScrollMap(10, 32, 8, 8) -- 向下捲動
    ESC.ScrollMapWait()
    ESC.ChangeQQ(1, 8)
    ESC.RMUNlock()


    ESC.ChangeQQ(1, Const.STAND)
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS723')) -- ESS=嗯…%N好雄偉的教堂，這裏應該就是%C2...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS724')) -- ESS=看來那些%C2阿拉伯人%C4，就是被關在...
    ESC.WaitDLG(1)

    GameFunc.FlagOn(219)

::T331B::
end





-----------------------------------------------------------------------
function Scene.TALK332()
    -- 進入教堂
    Scene.ChangeMap(24, 58, 119, 0)
end
-----------------------------------------------------------------------
function Scene.TALK333()
    -- 進入右塔
    Scene.SetSceneFlag('EnterRightTower',true)
    Scene.ChangeMap(28, 53, 23, 2)
end
-----------------------------------------------------------------------
function Scene.TALK334()
    -- 進入教堂往墓園秘道
    Scene.ChangeMap(32, 35, 30, 1)
end




-----------------------------------------------------------------------
function Scene.TALK335()
    if GameFunc.GetFlag(253) then goto T335 end
    Scene.TIK()
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS725')) -- ESS=這幅畫，看起來有點不太一樣。
    ESC.SceneBreak()
::T335::
    Scene.GetItem(624, '%T624.' ) -- ＊無效餅
    GameFunc.FlagOff(253)
end


-----------------------------------------------------------------------
function Scene.TALK336()
    if GameFunc.GetFlag(229) then goto T336 end
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS726')) -- ESS=這幅畫看起來怪怪的。
    ESC.SceneBreak()
::T336::
    Scene.GetItem(622, '%T622.' ) -- ＊桑果
    GameFunc.FlagOff(229)
end

-----------------------------------------------------------------------
function Scene.TALK338()
    if not GameFunc.GetFlag(261) then goto T338 end
    Scene.GetItem(873, '%T873.' ) -- ＊鐵鎖手套
::T338::
    GameFunc.FlagOff(261)
end
-----------------------------------------------------------------------
function Scene.TALK339()
    -- 教堂往教堂外
    if not GameFunc.GetFlag(100) then goto T339 end
    if GameFunc.GetFlag(291) then goto T339A end
    if GameFunc.GetFlag(278) then goto T339A end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(002 , 23 , 0 , 55, 106 , 2 , 0 , 6)
    ESC.GotoMap(23, 49, 108, 1, 8, 1)
    ESC.RoleDisable(137)
    ESC.RoleDisable(140)
    ESC.RoleDisable(143)
    ESC.RoleDisable(182)
    ESC.RoleDisable(111)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    GameFunc.FlagOn(291)
    Scene.MoveHero(49, 114, 1)
    Scene.VEN()
    ESC.SceneBreak()
::T339A::
    Scene.ChangeMap(23, 49, 107, 1)
    ESC.SceneBreak()
::T339::
    ESC.RMLock()
    Scene.MoveHero(58, 116, 0)
    ESC.RMUNlock()
    Scene.WORD_ON_HEAD(1, 5, 0, -65, StringDB('ESS727')) -- ESS=門口有衛兵，不能從這邊出去！
end
-----------------------------------------------------------------------
function Scene.TALK340()
    -- 教堂往左塔
    Scene.ChangeMap(25, 54, 22, 2)
end
-----------------------------------------------------------------------
function Scene.TALK341()
    -- 教堂往右塔
    Scene.ChangeMap(28, 9, 24, 3)
end
-----------------------------------------------------------------------
function Scene.TALK342()
    -- 瞻仰聖像
    if GameFunc.GetFlag(288) then goto T342 end
    ESC.ChangeQQ(1, 0)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(200)
    Scene.Review(0, -14, 2, 4, 500)
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS728')) -- ESS=好漂亮的教堂！

    ESC.SceneBreak()
::T342::    -- 地牢
    Scene.ChangeMap(40, 46, 47, 0)
    if not GameFunc.GetFlag(100) then goto T342A end
::T342A::
end
-----------------------------------------------------------------------
function Scene.TALK343()
    -- 左塔往教堂
    Scene.ChangeMap(24, 16, 112, 3)
end
-----------------------------------------------------------------------
function Scene.TALK344()
    -- 左塔底往左塔中
    Scene.ChangeMap(26, 24, 17, 2)
end
-----------------------------------------------------------------------
function Scene.TALK345()
    -- 左塔中往左塔底
    Scene.ChangeMap(25, 32, 8, 3)
end
-----------------------------------------------------------------------
function Scene.TALK346()
    -- 左塔中往左塔頂
    Scene.ChangeMap(27, 24, 17, 2)
end
-----------------------------------------------------------------------
function Scene.TALK347()
    -- 左塔頂往左塔中
    Scene.ChangeMap(26, 35, 9, 3)
end
-----------------------------------------------------------------------
function Scene.TALK348()
    -- 右塔往教堂
    Scene.ChangeMap(24, 101, 112, 2)
end
-----------------------------------------------------------------------
function Scene.TALK349()
    -- 右塔底往右塔中
    Scene.ChangeMap(29, 22, 18, 2)
end
-----------------------------------------------------------------------
function Scene.TALK350()
    -- 右塔往教堂外
    if not GameFunc.GetFlag(100) then goto T350 end
    if GameFunc.GetFlag(101) then goto T350 end
    if GameFunc.GetFlag(291) then goto T350 end
    if GameFunc.GetFlag(278) then goto T350 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(23, 79, 106, 1, 8, 3)
    ESC.RoleDisable(137)
    ESC.RoleDisable(140)
    ESC.RoleDisable(143)
    ESC.RoleDisable(182)
    ESC.RoleDisable(111)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    GameFunc.FlagOn(278)

    Scene.VEN()
    ESC.SceneBreak()
::T350::
    Scene.ChangeMap(23, 79, 106, 3)
end
-----------------------------------------------------------------------
function Scene.TALK351()
    -- 右塔中往右塔底
    Scene.ChangeMap(28, 39, 7, 3)
end
-----------------------------------------------------------------------
function Scene.TALK352()
    -- 右塔中往右塔頂
    Scene.ChangeMap(30, 24, 16, 2)
end
-----------------------------------------------------------------------
function Scene.TALK353()
    -- 右頂往右塔中
    Scene.ChangeMap(29, 33, 11, 3)
end


-----------------------------------------------------------------------
function Scene.TALK354()
    -- 地牢往教堂
    if GameFunc.GetFlag(227) then goto T354A end
::T354B::
    Scene.ChangeMap(24, 58, 43, 1)
    ESC.SceneBreak()

::T354A::
    if GameFunc.GetFlag(7000) then goto T354B end

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS729')) -- ESS=不行，到外頭找水太慢了，搞不好會又遇見%...
    ESC.WaitDLG(1)
end
-----------------------------------------------------------------------
function Scene.TALK355()
    -- 教堂外井外緣
    if GameFunc.GetFlag(311) then return end
    if GameFunc.GetFlag(252) then return end
    GameFunc.FlagOn(252)
    ESC.RoleEnable(137)
    ESC.RoleEnable(140)
end
-----------------------------------------------------------------------
function Scene.TALK356()
    if not GameFunc.GetFlag(213) then
        return
    end
    Scene.RoadFlag("往墓園")
    GameFunc.FlagOff(213)
end
-----------------------------------------------------------------------
function Scene.TALK357()
    Scene.TALK169check()
    if not GameFunc.GetFlag(213) then
        return
    end
    Scene.RoadFlag(StringDB('ESS730')) -- ESS= 出威尼斯城
    GameFunc.FlagOff(213)
end


-- ────────────────────────────────────────【墓碑上的按扭】
function Scene.TALK358()
    local select
    if GameFunc.GetFlag(263) then goto T358B end
    if not GameFunc.GetFlag(230) then goto T358B end
    Scene.MoveHero(20, 32, 4)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS731')) -- ESS=有了！%N就這一塊墓碑最詭異，上頭一個字...
    ESC.WaitDLG(1)


    Scene.Question(1, StringDB('ESS732')) -- ESS=背後還有一個拉環，拉起來看看？
    select = ESC.GetBTNSelect()
    if select == 2 then return end

    GameFunc.FlagOn(263)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.RoleEnable(195)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 1)

    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 1) -- 賽特抱手臂
    Scene.SAR_ACTCycle(1, 0)

    ESC.Delay(1250)

    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 0) -- 賽特思考
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS733')) -- ESS=唔，看來這應該就是剛才那個小弟弟講的%C...
    ESC.WaitDLG(1)
    ESC.TakeActData(1, -1, 0, 6)
    Scene.QuestOff(59)
    ESC.SceneBreak()



::T358B::
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS734')) -- ESS=奇怪，所有墓碑上都有刻%C2死者的名字%...
    ESC.WaitDLG(1)
end
-----------------------------------------------------------------------
function Scene.TALK359()
    if not GameFunc.GetFlag(213) then
        return
    end
    Scene.RoadFlag(StringDB('ESS735')) -- ESS=　往住宅區
    GameFunc.FlagOff(213)
end
-----------------------------------------------------------------------
function Scene.TALK360()
    Scene.TALK169check()
    if not GameFunc.GetFlag(213) then
        return
    end
    Scene.RoadFlag(StringDB('ESS736')) -- ESS= 往　廣　場
    GameFunc.FlagOff(213)
end
-----------------------------------------------------------------------
function Scene.TALK361()
    -- 旅店出口
    Scene.ChangeMap(21, 36, 33, 1)
end




-- ────────────────────────────────────────【海洞裏的海盜船】

function Scene.TALK362()
    if not GameFunc.GetFlag(101) then goto T362 end
    if GameFunc.GetFlag(211) then goto T362 end

    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6) -- 直接從火刑場跳過來
    ESC.FadeWait()
    ESC.ChangeACT(1, 1) -- 改成抱著麗蓮
    ESC.GotoMap(130, 77, 47, 1, 1, 2)
    Scene.ScrollMapD(58, 28, 16, 16)
    ESC.ScrollMapWait()
    ESC.RMLock()
    ESC.TurnFace(156, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(166, 1)
    ESC.ChangeQQ(1, 64)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 12)
    ESC.FadeWait()


    ESC.TurnFace(166, 1)


    ESC.Caption(165)
    Scene.Print_W(166,9007,7*2,3*2,StringDB('ESS737')) -- ESS=恩公大人，%N這就是我們的船了……
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS738')) -- ESS=原來是%C2海盜船%C4啊…%N船員現在...
    ESC.WaitDLG(1)


    ESC.Caption(165)
    Scene.Print_W(166,9007,9*2,4*2,StringDB('ESS739')) -- ESS=是的，恩公大人…%N船長和其他兄弟，都已...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS740')) -- ESS=我明白了，%N大家先上去再說吧！
    ESC.WaitDLG(1)


    GameFunc.FlagOn(211)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 12)
    ESC.FadeWait()

    ESC.ChangeRoleMap(159, 42, 0 , 17, 23 , 501 , Const.STAND, 0) -- 移至海盜船
    ESC.ChangeRoleMap(166, 42, 0 , 11, 31 , 503 , Const.WALK , 1) -- 移至海盜船
    ESC.ChangeRoleMap(156, 42, 0 , 11, 16 , 579 , Const.STAND, 4) -- 移至海盜船
    ESC.ChangeRoleMap(164, 42, 0 , 24, 20 , 505 , Const.STAND, 4) -- 移至海盜船
    ESC.GotoMap(42, 19, 15, 1, Const.STAND, 6)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.RoleDisable(166)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 12)
    ESC.FadeWait()


    ESC.Delay(900)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS741')) -- ESS=她的情況如何？還好吧？
    ESC.WaitDLG(1)


    ESC.TurnFace(156, 1)
    ESC.Caption(156)
    Scene.Print_W(156,9007,10*2,4*2,StringDB('ESS742')) -- ESS=先生，她傷得滿重的，我擔心可能會撐不了，...
    ESC.WaitDLG(156)


    Scene.Print_W(156,9007,9*2,3*2,StringDB('ESS743')) -- ESS=我們能做的都做了，接下來，就全看她自己的...
    ESC.WaitDLG(156)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)

    ESC.Delay(800)


    Scene.WORD_ON_HEAD(1, 10, 10, -75, '%S2'..StringDB('ESS744')) -- ESS=對不起，莉蓮……
    ESC.Delay(1600)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 35)
    ESC.FadeWait()





-- ─────────────────────────────────────────【賽特的悲傷回憶】

    ESC.MusicFadeMode(1, 25) -- 【淡出模式】
    ESC.StoryMusic(10, 14, 0x4000) -- 【劇情配樂】賽特的回憶
    ESC.Delay(900)

    ESC.AniPlay('memory',false, false) -- 賽特陷入回憶中 畫面切至莉蓮家
    ESC.AniUntil( 1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()

    ESC.AniUntil( 67)
    MediaFunc.PlaySound(5)


    ESC.AniUntil( 98)
    MediaFunc.PlaySound(5)

    ESC.AniUntil( 84)
    Scene.MBOn(4, 4, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS745')) -- ESS=好，好！%N我知道，我知道！%N波爾乖，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10005, 0)


    ESC.AniUntil( 120)
    Scene.MBOn(6, 4, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS746')) -- ESS=波爾！%N你在幹什麼？%N壞壞哦，不想理...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10005, 0)



    ESC.AniUntil( 147)
    Scene.MBOn(0, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS747')) -- ESS=賽特，%N原來你給我躲在這裏悠閒呀？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10056, 0)


    ESC.AniUntil( 161)
    Scene.MBOn(0, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS748')) -- ESS=原來是%C7莉蓮%C5…%N好小子，你一...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10056, 0)

    MediaFunc.PlaySound(5)


    ESC.AniUntil( 166)
    Scene.MBOn(2, 4, 1, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10056, 0, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS749')) -- ESS=她是我們%C7法蘭克%C5公認最美的少女...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10056, 0)



    ESC.AniUntil( 214)
    MediaFunc.PlaySound(5) -- 【音效】狗吠


    ESC.AniUntil( 238)
    Scene.MBOn(6, 4, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS750')) -- ESS=麥爾斯！%N麥爾斯大人！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10005, 1)



    ESC.AniUntil( 275)
    Scene.MBOn(6, 4, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS751')) -- ESS=哦！%N麥爾斯，%N我的麥爾斯啊……
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10005, 1)


    ESC.AniUntil( 276)
    Scene.MBOn(3, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS752')) -- ESS=菲力斯，菲力斯，%N我問你！%N你知道這...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.AniUntil( 278)
    Scene.MBOn(8, 4, 1, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10056, 0, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS753')) -- ESS=咦？%N我以為你曉得呢！%N他就是那個%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10056, 0)


    ESC.AniUntil( 280)
    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS754')) -- ESS=主教直屬…的私人部隊？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.AniUntil( 288)
    Scene.MBOn(8, 4, 1, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10056, 0, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS755')) -- ESS=是啊！%N名義上隸屬我們%C7法蘭克王國...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10056, 0)


    ESC.AniUntil( 291)
    Scene.MBOn(3, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS756')) -- ESS=原來如此……%N這我有聽說過。
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.AniUntil( 295)
    Scene.MBOn(6, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS757')) -- ESS=賽特啊，你還是看開一點，%N看莉蓮她這樣...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10056, 0)


    ESC.AniUntil( 302)
    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS758')) -- ESS=嗯，我曉得了……%N反正從小時候起，很多...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 7)


    ESC.AniUntil( 314)
    Scene.MBOn(8, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS759')) -- ESS=賽特…%N我知道你很難過，而且小時候也吃...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10056, 0)



    MediaFunc.PlaySound(5) -- 【音效】狗吠

    ESC.AniUntil( 316)
    Scene.MBOn(6, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS760')) -- ESS=或許……%N莉蓮只是剛好心儀的對象是麥爾...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10056, 0)



    ESC.AniUntil( 320)
    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS761')) -- ESS=謝謝你，菲力斯，%N你說得對，是我不好…...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)


    ESC.AniUntil( 325)
    Scene.MBOn(6, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS762')) -- ESS=別這麼說！%N咱們這麼多年的老朋友了，%...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10056, 0)

    ESC.AniUntil( 333)
    Scene.MBOn(8, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10056, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS763')) -- ESS=我們離開這裏吧！%N不要再去想她了，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10056, 0)

    ESC.AniUntilClose()






    ESC.MusicFadeMode(2, 70) -- 【淡出模式】
    ESC.StoryMusicOff()



    ESC.ScreenShow()
    ESC.Delay(1000)

    Scene.Print_W(164,9007,3*2,2*2,StringDB('ESS764')) -- ESS=恩人！恩人！
    ESC.WaitDLG(164)

    ESC.TakeActData(1, 1, Const.STAND, 5)

    ESC.Caption(158)
    Scene.Print_W(159,9007,7*2,3*2,StringDB('ESS765')) -- ESS=這位恩人！%N您的救命之恩，我們畢生難忘...
    ESC.WaitDLG(159)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Caption(161)
    Scene.Print_W(164,9007,7*2,3*2,StringDB('ESS766')) -- ESS=如果可以，我們很想知道你的大名……
    ESC.WaitDLG(164)

    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS767')) -- ESS=我叫做%C2賽特%C4！
    ESC.WaitDLG(1)


    ESC.Caption(161)
    Scene.Print_W(164,9007,8*2,3*2,StringDB('ESS768')) -- ESS=賽特？%N這名字我好像曾經再哪裏聽過…
    ESC.WaitDLG(164)


    Scene.Print_W(164,9007,6*2,3*2,StringDB('ESS769')) -- ESS=我想起來了！%N你是%C2法蘭克%C4的...
    ESC.WaitDLG(164)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.TurnFace(1, 164)
    ESC.ChangeDIR(1, 1) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS770')) -- ESS=你怎麼會知道？%N你認識我？
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 1) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)

    ESC.Caption(161)
    Scene.Print_W(164,9007,12*2,4*2,StringDB('ESS771')) -- ESS=哦，那當然了！%N我以前去法蘭克王國%C...
    ESC.WaitDLG(164)


    ESC.ChangeDIR(1, 1) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    ESC.TurnFace(159, 164)
    ESC.Caption(158)
    Scene.Print_W(159,9007,7*2,3*2,StringDB('ESS772')) -- ESS=這麼說來，他跟剛才那些騎士是一夥的？
    ESC.WaitDLG(159)


    ESC.TurnFace(164, 159)
    ESC.Caption(161)
    Scene.Print_W(164,9007,8*2,4*2,StringDB('ESS773')) -- ESS=不不不，%N雖然同樣是騎士，他跟剛才的那...
    ESC.WaitDLG(164)


    Scene.Print_W(164,9007,9*2,4*2,StringDB('ESS774')) -- ESS=更有趣的事情是，他還是救過那個%C2矮子...
    ESC.WaitDLG(164)


    ESC.Caption(158)
    Scene.Print_W(159,9007,8*2,4*2,StringDB('ESS775')) -- ESS=丕平%C4？%N你是說目前法蘭克王國的%...
    ESC.WaitDLG(159)


    ESC.Caption(161)
    Scene.Print_W(164,9007,11*2,4*2,StringDB('ESS776')) -- ESS=沒錯，而且他還幫助丕平從事很多%C2祕密...
    ESC.WaitDLG(164)


    Scene.Print_W(164,9007,11*2,4*2,StringDB('ESS777')) -- ESS=因為他屢次建立大功，丕平就不管國內那些大...
    ESC.WaitDLG(164)


    ESC.Caption(158)
    Scene.Print_W(159,9007,8*2,3*2,StringDB('ESS778')) -- ESS=真了不起！%N原來救我們恩人，是一位大英...
    ESC.WaitDLG(159)


    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)


    ESC.Caption(158)
    Scene.Print_W(159,9007,8*2,4*2,StringDB('ESS779')) -- ESS=恩人，請您再告訴我們幾件您的英雄事蹟，讓...
    ESC.WaitDLG(159)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)



    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS780')) -- ESS=不行，那都是軍事機密，恕難隨便透露…
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)



    ESC.RoleEnable(166) -- 莫雷進入船艙


    ESC.BatchMove(1,    166, 12, 24)
    ESC.ChangeQQ(166, Const.WALK)
    ESC.TurnFace(166, 1)
    ESC.ChangeQQ(166, Const.STAND)


    ESC.Caption(165)
    Scene.Print_W(166,9007,8*2,3*2,StringDB('ESS781')) -- ESS=糟了，糟了！%N船上沒有%C2航海圖%C...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)

    ESC.TurnFace(164, 166)
    ESC.TurnFace(159, 166)
    ESC.TurnFace(156, 166)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS782')) -- ESS=沒有那個，就不能出海嗎？
    ESC.WaitDLG(1)


    ESC.Caption(165)
    Scene.Print_W(166,9007,7*2,3*2,StringDB('ESS783')) -- ESS=這當然了…%N大海這麼大，會在海上迷路的...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 2) -- 賽特沈吟
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)

    Scene.Print_W(166,9007,11*2,4*2,StringDB('ESS784')) -- ESS=航海圖非常重要，通常%C2船長%C4都把...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS785')) -- ESS=如果是這樣子，被燒死之前，應該也會先被搜...
    ESC.WaitDLG(1)


    ESC.TurnFace(164, 1)
    ESC.Caption(165)
    Scene.Print_W(166,9007,11*2,4*2,StringDB('ESS786')) -- ESS=我偷聽到那些教士們說，會把所有異教徒的物...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS787')) -- ESS=……修道院？
    ESC.WaitDLG(1)


    ESC.Caption(165)
    Scene.Print_W(166,9007,10*2,4*2,StringDB('ESS788')) -- ESS=修道院%C4不在威尼斯城裏，是在城的%C...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂貌
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS789')) -- ESS=好，%C2航海圖%C4由我去找，我不在的...
    ESC.WaitDLG(1)


    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(156, 1)
    ESC.Delay(100)

    ESC.Caption(161)
    Scene.Print_W(164,9007,8*2,3*2,StringDB('ESS790')) -- ESS=賽特先生，您要潛入修道院嗎？%N這…太危...
    ESC.WaitDLG(164)


    ESC.ChangeDIR(1, 1) -- 賽特抱臂閉目貌
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS791')) -- ESS=別擔心我，你們趕快行動，大家爭取時間離開...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 1) -- 賽特抱臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)

    ESC.ChangeQQ(159, Const.WALK)
    ESC.ChangeQQ(164, Const.WALK)
    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(3,
    159, 11, 32,
    166, 11, 32,
    164, 11, 32)
    ESC.RoleDisable(159)
    ESC.RoleDisable(166)
    ESC.RoleDisable(164)


    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(500)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS792')) -- ESS=這位女孩就麻煩妳照顧了，我很快就回來。
    ESC.WaitDLG(1)


    ESC.TurnFace(156, 1)
    ESC.Delay(100)


    ESC.Caption(156)
    Scene.Print_W(156,9007,7*2,3*2,StringDB('ESS793')) -- ESS=嗯，這個請您放心，您自己也務必小心！
    ESC.WaitDLG(156)

    ESC.ChangeRoleMap(2, 131, 0, 32, 39, 2, Const.STAND, 5)
    ESC.ChangeDIR(156, 4)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)
    GameFunc.FlagOff(10)
    Scene.QuestOn(63)
    Scene.QuestOff(62)
    Scene.Heal()
    ESC.SceneBreak()



::T362::
    Scene.EnterCity(130, 17, 84, 0)
end



----------------------------
function Scene.TALK363()
    if not GameFunc.GetFlag(213) then return end
    Scene.RoadFlag(StringDB('ESS736')) -- ESS= 往　廣　場
    GameFunc.FlagOff(213)
end





-- ───────────────────────────────────────【地下牢房的水桶】
function Scene.TALK364()
    if GameFunc.GetFlag(100) then goto T364B end
    if GameFunc.GetFlag(227) then goto T364A end

::T364B::
    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS794')) -- ESS=裝水的桶子%C4…這是給犯人喝的水吧？
    ESC.WaitDLG(1)
    ESC.SceneBreak()


::T364A::
    GameFunc.FlagOn(257) -- 取得水開關
    ESC.RMLock()
    ESC.SetRoleSpeed(1, 0)
    Scene.MoveHero(61, 40, 7)
    ESC.RMUNlock()
    if not GameFunc.GetFlag(297) then goto T364C end


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS795')) -- ESS=還好這裏正好有點水，我就先打一些給那老人...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,9*2,2*2,'%C3'..StringDB('ESS796')) -- ESS=賽特取了一些水…%C4
    ESC.WaitDLG(1)



    if Function.GetItemCount(732)>0 then
        goto T364D -- 判斷賽特身上是否已有水,如有就不給
    end
    ItemFunc.AddItem(732, 1)
::T364D::
    ESC.SceneBreak()



::T364C::
    Scene.WORD_ON_HEAD(221, 5, 30, 20, StringDB('ESS797')) -- ESS=救救我們，這位大人！%N救救我們啊！

    ESC.WaitDLG(221)
    ESC.TurnFace(1, 221)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS798')) -- ESS=對了，我應該先救他們，也許裏頭會有%C2...
    ESC.WaitDLG(1)
end





-----------------------------------------------------------------------
function Scene.TALK365()
    local select
    -- 數學家墓碑
    if GameFunc.GetFlag(591) then goto T365B end
    if GameFunc.GetFlag(284) then goto T365C end
    if GameFunc.GetFlag(259) then goto T365A end
    Scene.M_Print(1, StringDB('ESS799')) -- ESS=墓碑上的文字：底下是老夫一生的經歷，有興...
    Scene.Question(1, StringDB('ESS800')) -- ESS=是否要算算看
    select = ESC.GetBTNSelect()
    if select == 2 then
        ESC.Caption(1)
        Scene.M_Print(1, StringDB('ESS801')) -- ESS=這老頭還真無聊！
        return
    end
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS802')) -- ESS=看來挺有趣的，再接下去看看！
    GameFunc.FlagOn(259)
::T365A::
    GameFunc.FlagOff(258)
    Scene.Print_W(1,9007,16,8,StringDB('ESS803')) -- ESS=我的生命前1/7，是快樂的童年。過完童年...
    ESC.WaitDLG(1)
    Scene.Print_W(1,9007,16,14,StringDB('ESS803B')) -- ESS=
    ESC.WaitDLG(1)
    Scene.Print_W(1,9007,16,8,StringDB('ESS803C')) -- ESS=
    ESC.WaitDLG(1)
    Scene.QuestOn(52)
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS804')) -- ESS=有趣，我想一下
    Scene.M_Print(1, StringDB('ESS805')) -- ESS=賽特在墓碑上的石鈕按答案

    Scene.Print_W(1,9007,26,8,StringDB('ESS806')) -- ESS=數學家活了%N%B　　０ .%B　１０ ...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select == 9 then
        GameFunc.FlagOn(258)
    end
    Scene.KeyInNumber(1, StringDB('ESS807')) -- ESS=又
    select = ESC.GetBTNSelect()
    if select ~= 5 or not GameFunc.GetFlag(258) then
        Scene.WORD_ON_HEAD(1, 5, 30, -60, StringDB('ESS808')) -- ESS=沒有任何反應。
        ESC.WaitDLG(1)
        ESC.Caption(1)
        ESC.FitSize()
        Scene.M_Print(1, StringDB('ESS809')) -- ESS=看來我是算錯了。
        return
    end
    GameFunc.FlagOn(261)
    GameFunc.FlagOn(253)
    GameFunc.FlagOn(229)
    MediaFunc.PlaySound(322)
    Scene.WORD_ON_HEAD(1, 5, 30, -60, StringDB('ESS810')) -- ESS=上面的碑文掉下來。
    ESC.WaitDLG(1)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(1)
    Scene.M_Print(1, StringDB('ESS811')) -- ESS=咦，墓碑還有一段隱藏碑文。
    Scene.Print_W(1,9007,26,8,StringDB('ESS812')) -- ESS=第二份碑文寫著：%N嘿！不錯嘛！你可以猜...
    ESC.WaitDLG(1)
    Scene.QuestOff(52)
    GameFunc.FlagOn(284)
    if GameFunc.GetFlag(224) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
        ACH.SetAchievement("ACH_8_1") -- 數學家成就
    end
    ESC.SceneBreak()

::T365B::
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS813')) -- ESS=這老數學家真有趣！
    ESC.SceneBreak()
::T365C::
    GameFunc.FlagOn(591)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS814')) -- ESS=咦....墓碑上還有一包東西。
    Scene.GetItem(824, '%T824.')
    ESC.Delay(2000)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS815')) -- ESS=乾燥的%T824.，不知道有甚麼用。
end

-- ────────────────────────────────────────【火刑場上的衝突】

function Scene.TALK366()

    if not GameFunc.GetFlag(100) then goto T366 end
    if GameFunc.GetFlag(101) then goto T366 end
    GameFunc.FlagOn(10)

    ESC.MusicFadeMode(1, 40) -- 【淡出模式】
    ESC.StoryMusic(23, 0, 0x2000) -- 【劇情配樂】對峙


    ESC.RMLock()
    ESC.SetRoleSpeed(1, 0)
    Scene.MoveHero(77, 58, 5)
    Scene.ScrollMapD(72, 53, 2, 2)
    ESC.ScrollMapWait()
    MediaFunc.PlaySound(59) -- 【音效】火聲



    Scene.Print_W(165,9007,8*2,3*2,StringDB('ESS816')) -- ESS=可惡，放開我！%N我不要被燒死！快放開我...
    ESC.WaitDLG(165)


    Scene.Print_W(104,9007,7*2,3*2,StringDB('ESS817')) -- ESS=求求你們，不要燒我！放過我們吧！
    ESC.WaitDLG(104)


    ESC.Delay(800)
    ESC.ChangeQQ(1, 56)
    ESC.ChangeDIR(1, 1)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS818')) -- ESS=好險，%N火刑幸好還沒開始，%N那我還有...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    MediaFunc.PlaySound(59) -- 【音效】火聲
    Scene.Print_W(164,9007,7*2,3*2,StringDB('ESS819')) -- ESS=我們只來做做生意而已，為什麼要被燒死…
    ESC.WaitDLG(164)


    MediaFunc.PlaySound(59) -- 【音效】火聲
    Scene.Print_W(104,9007,8*2,3*2,StringDB('ESS820')) -- ESS=阿拉真神啊！%N請您救救我們、救救我們呀...
    ESC.WaitDLG(104)


    ESC.MusicFadeMode(1, 25) -- 【淡出模式】
    ESC.StoryMusic(39, 40, 0x2000) -- 【劇情配樂】火刑場


    Scene.MBOn(3, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS821')) -- ESS=咦，%N帶頭的那一個騎士隊長，不是%C7...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 9, 10001, 5)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS822')) -- ESS=這下頭痛了……%N不曉得四周圍騎士團的人...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10001, 5, 10001, 9)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS823')) -- ESS=不曉得剛才那個叫%C7妮可%C5什麼的怪...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 9)



    Scene.Nicole_On(75, 60, 5)



    Scene.MBOn(4, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS824')) -- ESS=賽特賽特，%N你在叫妮可呀！
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)


    ESC.TurnFace(1, 2)
    Scene.MBOn(3, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS825')) -- ESS=哇！%N妳怎麼突然冒出來了？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10001, 8)


    ESC.TurnFace(2, 1)
    Scene.MBOn(2, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS826')) -- ESS=賽特，%N是你自己叫我，我才出來的呀！
    ESC.WaitDLG(1)


    ESC.TurnFace(2, 164)
    ESC.ChangeHead(10002, 5, 10002, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS827')) -- ESS=咦，賽特，%N他們要燒活人呀？
    ESC.WaitDLG(1)


    Scene.MBOn(5, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS828')) -- ESS=是呀，%N他們是%C7法蘭克王國%C5主...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 0, 10001, 4)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS829')) -- ESS=他們雖然和我一樣都是%C7騎士%C5，%...
    ESC.WaitDLG(1)


    ESC.TurnFace(2, 1)
    ESC.ChangeHead(10002, 1, 10002, 3)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS830')) -- ESS=啊？賽特！%N原來你跟他們一樣，都是%C...
    ESC.WaitDLG(1)


    ESC.TurnFace(2, 164)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS831')) -- ESS=妮可，%N妳先回去吧，%N我需要妳幫忙的...
    ESC.WaitDLG(1)


    ESC.TurnFace(2, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS832')) -- ESS=好呀好呀，%N那妮可回去等賽特騎士叫我了...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10002, 3)
    ESC.DelHead(10001, 4)


    Scene.Nicole_Off()

    ESC.RoleMove(2, 75, 60)
    ESC.ChangeDIR(2, 5)

    GameFunc.FlagOff(213)
    GameFunc.FlagOn(228)

    ESC.BatchMove(1,    4, 85, 58)
    ESC.SetRoleSpeed(4, 0)
    ESC.ChangeQQ(4, Const.STAND)
    ESC.TurnFace(4, 1)
    ESC.TurnFace(1, 4)



    Scene.MBOn(7, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS833')) -- ESS=喂，你是什麼傢伙？%N從剛才開始就自己一...
    ESC.WaitDLG(1)



    ESC.DelHead(10004, 0)
    Scene.AddHead(10004, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS834')) -- ESS=等一等…%N你這一個長相，不是我們平常人...
    ESC.WaitDLG(1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS835')) -- ESS=老兄，您在說什麼呀，%N我只是曬得黑了一...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS836')) -- ESS=哼…%N聽起來似乎是沒有錯，但你也有可能...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 3, 10001, 7)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS837')) -- ESS=老兄，您這麼說就實在太見外了…%N
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 7, 10001, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS838')) -- ESS=我是執政大人%C7丕平%C5閣下的直屬騎...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS839')) -- ESS=哼…%N原來是那個矮鬼%C7丕平%C5的...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 1, 10001, 3)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS840')) -- ESS=我奉丕平大人之命，來威尼斯收集情報的……...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 3, 10001, 9)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS841')) -- ESS=可是你們怎麼人這麼少？%N這樣子，不怕那...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS842')) -- ESS=其他人被我派去別城繼續抓異教徒，那些異教...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 9, 10001, 3)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS843')) -- ESS=原來就只有你們三個？%N真是太好了，情報...
    ESC.WaitDLG(1)


    ESC.MBOff(7, 0)
    ESC.MBOff(1, 1)
    ESC.DelHead(10004, 0)
    ESC.DelHead(10001, 3)


    ESC.StoryMusic(33, 0, 0x8000) -- 【劇情配樂】行動！


    ESC.TurnFace(4, 1)

    ESC.Delay(200)
    ESC.ChangeDIR(1, 3) -- 賽特拔出劍來
    ESC.ChangeQQ(1, 60)

    ESC.ChangePath(4, 0)
    ESC.ChangeDIR(4, 3)
    ESC.ChangeQQ(4, 52)
    ESC.SetRoleSpeed(4, 0)
    ESC.BatchMove(1,    4, 87, 58)
    ESC.ChangeQQ(4, Const.STAND)
    ESC.ChangeDIR(4, 2)


    ESC.ChangeRoleMap(2, -1, 0, -1, -1, 2, 60, 0) -- 妮可快速出現
    ESC.RoleEnable(2)
    ESC.SetMoveHISpeed(2)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 75, 60)
    ESC.Unlock(2)
    ESC.SetRoleSpeed(2, 1)
    ESC.TakeActData(2, -1, 68, 0)
    ESC.TILPA1(2, 16)
    ESC.TakeActData(2, -1, Const.STAND, 5)
    ESC.RestoreRoleSpeed(2)

    Scene.MBOn(6, 4, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(10)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS844')) -- ESS=你…你幹什麼？%N你果然是異教徒假扮的！...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10004, 0)



    ESC.TurnFace(199, 1)
    ESC.TurnFace(7, 1)
    ESC.SetRoleSpeed(230, 0)
    ESC.SetRoleSpeed(228, 0)

    ESC.ChangeQQ(102, Const.WALK)
    ESC.ChangeQQ(105, Const.WALK)
    ESC.ChangeQQ(112, Const.WALK)
    ESC.ChangeQQ(103, Const.WALK)
    ESC.ChangeQQ(124, Const.WALK)
    ESC.ChangeQQ(106, Const.WALK)
    ESC.ChangeQQ(108, Const.WALK)
    ESC.ChangeQQ(109, Const.WALK)
    ESC.ChangeQQ(117, Const.WALK)
    ESC.ChangeQQ(119, Const.WALK)
    ESC.ChangeQQ(128, Const.WALK)
    ESC.ChangeQQ(233, Const.WALK)
    ESC.ChangeQQ(232, Const.WALK)
    ESC.ChangeQQ(229, Const.WALK)
    ESC.ChangeQQ(235, Const.WALK)
    ESC.ChangeQQ(234, Const.WALK)

    ESC.SetRoleSpeed(233, 0)
    ESC.SetRoleSpeed(232, 0)
    ESC.SetRoleSpeed(229, 0)
    ESC.SetRoleSpeed(103, 0)
    ESC.SetRoleSpeed(234, 0)
    ESC.SetRoleSpeed(235, 0)
    ESC.SetRoleSpeed(102, 0)
    ESC.SetRoleSpeed(105, 0)
    ESC.SetRoleSpeed(112, 0)
    ESC.SetRoleSpeed(124, 0)
    ESC.SetRoleSpeed(106, 0)
    ESC.SetRoleSpeed(108, 0)
    ESC.SetRoleSpeed(119, 0)
    ESC.SetRoleSpeed(117, 0)
    ESC.SetRoleSpeed(109, 0)
    ESC.SetRoleSpeed(128, 0)


    ESC.ScrollMapToRole(1, 4, 4)


    ESC.SetPos(230,85,61) ESC.SetPos(228,75,62) ESC.SetPos(232,99+5,50)
    ESC.SetPos(233,99+35,50) ESC.SetPos(229,99+5,50) ESC.SetPos(103,99+5,50)
    ESC.SetPos(234,50-30,69) ESC.SetPos(235,50-30,69) ESC.SetPos(102,50-30,69)
    ESC.SetPos(105,50,69) ESC.SetPos(112,50,69) ESC.SetPos(124,102,92)
    ESC.SetPos(106,102,92) ESC.SetPos(108,102,92) ESC.SetPos(119,102,92)
    ESC.SetPos(117,102,92) ESC.SetPos(109,102,92) ESC.SetPos(128,102,92)


::TALK366A::
    ESC.BatchStep( 18,   230, 228, 232, 233, 229, 103, 234, 235, 102, 105, 112, 124, 106, 108, 119, 117, 109, 128)

    if not ESC.RoleReach(230) then goto TALK366B end
    ESC.TurnFace(230, 1)
    if ESC.RoleReach(228) then goto TALK366D end
::TALK366B::
    if not ESC.RoleReach(228) then goto TALK366C end
    ESC.TurnFace(228, 1)
    if ESC.RoleReach(230) then goto TALK366D end

::TALK366C::
    if not ESC.IsAllReach() then
        goto TALK366A
    end


::TALK366D::
    ESC.Delay(300)
    ESC.StartBattle('BS32')


    ESC.StoryMusic(38, 38, 0x2000) -- 【劇情配樂】火刑場

    ESC.RoleDisable(123) -- 養小狗的艾蜜莉亞 (演出很礙事)
    ESC.RoleEnable(2)
    ESC.RoleDisable(230)
    ESC.RoleDisable(228)

    ESC.RoleDisable(232)
    ESC.RoleDisable(233)
    ESC.RoleDisable(234)
    ESC.RoleDisable(235)
    ESC.RoleDisable(229)

    -- 火刑場圍觀路人移回去,路徑也恢復
    ESC.RoleMove(102, 30, 89) -- 香料商人馬丁
    ESC.RoleMove(103, 101, 10) ESC.RoleDisable(103)
    ESC.RoleMove(105, 25, 75) -- 教士艾利
    ESC.RoleMove(106, 146, 66) ESC.RoleDisable(106)
    ESC.RoleMove(108, 146, 69) ESC.RoleDisable(108)
    ESC.RoleMove(109, 105, 120) ESC.RoleDisable(109)
    ESC.RoleMove(112, 60, 62) ESC.RoleDisable(112) -- 露絲
    ESC.RoleMove(117, 110, 147) ESC.RoleDisable(117)
    ESC.RoleMove(119, 117, 145) ESC.RoleDisable(119)
    ESC.RoleMove(124, 146, 72) ESC.RoleDisable(124)
    ESC.RoleMove(128, 96, 100) ESC.RoleDisable(128) -- 採珍珠的派恩



    ESC.RoleDisable(199)
    ESC.RoleDisable(200)
    ESC.RoleMove(7, 98, 99)
    ESC.ChangeDIR(7, 1)
    ESC.ChangeQQ(4, Const.STAND)



    Scene.MBOn(6, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS845')) -- ESS=你…你到底是什麼人？%N竟敢來阻止我們燒...
    ESC.WaitDLG(1)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS846')) -- ESS=那真是太抱歉了，%N打攪您寶貴的烤肉大會...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 3, 10001, 5)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS847')) -- ESS=這些阿拉伯人我救定了，%N我需要他們的航...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 5, 10001, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS848')) -- ESS=放肆！%N燒死異教徒是先知規定的神聖律法...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 1, 10001, 3)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS849')) -- ESS=哈哈！%N我才不管什麼先不先知，%N我早...
    ESC.WaitDLG(1)


    ESC.MBOff(6, 0)
    ESC.MBOff(3, 1)
    ESC.DelHead(10004, 0)
    ESC.DelHead(10001, 3)


    ESC.ChangeDIR(4, 2)
    ESC.ChangeQQ(4, 60)
    ESC.Unlock(4)


    ESC.MBWait()
    ESC.StartBattle('BS33')
    ESC.TakeActData(4, -1, 64, 2) -- 麥爾斯跪閉眼
    ESC.ScreenLock()

    ESC.ChangeDIR(1, 2) -- 賽特持劍
    ESC.ChangeQQ(1, 60)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.MusicFadeMode(1, 40) -- 【淡出模式】
    ESC.StoryMusic(38, 38, 0x2000) -- 【劇情配樂】不安

    ESC.Delay(600)

    ESC.TakeActData(5, -1, 8, 2)
    ESC.RoleEnable(5)
    ESC.RoleEnable(30)
    ESC.RoleMove(5, 99, 56)
    ESC.RoleMove(30, 100, 57)

    ESC.SetRoleSpeed(5, 0)
    ESC.ChangeQQ(5, Const.WALK) -- 莉蓮跑
    ESC.ChangeQQ(30, Const.WALK) -- 波爾跑
    ESC.SetRoleSpeed(30, 0)


    ESC.BatchMove(2,
    5, 94, 56,
    30, 93, 58)


    ESC.TurnFace(5, 4)

    Scene.MBOn(4, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS850')) -- ESS=哦，麥爾斯！%N不─────
    ESC.WaitDLG(1)
    ESC.DelHead(10005, 0)
    ESC.MBOff(4, 0)



    ESC.SetMoveHISpeed(5)
    ESC.SetRoleSpeed(30, 2)
    Scene.SAR_CSEL(5, 1)
    ESC.ChangeQQ(5, Const.WALK)
    ESC.BatchMove(2,
    5, 83-2, 58,
    30, 84, 60)    --  DOG

    ESC.TurnFace(5, 1)
    ESC.TurnFace(30, 1)
    ESC.ChangeQQ(5, 60)
    ESC.ChangeDIR(5, 2)
    ESC.Unlock(5)

    ESC.TakeActData(4, -1, 64, 2) -- 麥爾斯跪閉眼


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS851')) -- ESS=咦…%N莉…莉蓮?!%N她怎麼會───
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 9)
    ESC.MBOff(1, 1)


    ESC.TakeActData(4, -1, 63, 2) -- 麥爾斯跪張眼

    Scene.MBOn(4, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS852')) -- ESS=走開、賽特！%N你這個壞蛋，不……不准傷...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10005, 0)



    ESC.ChangeDIR(30, 2)
    ESC.ChangeQQ(30, 28)
    ESC.Unlock(30)
    MediaFunc.PlaySound(5) -- 【音效】狗叫

    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 60)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS853')) -- ESS=莉蓮…%N真的是…莉蓮……%N我……
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 9)
    ESC.MBOff(1, 1)



    ESC.TakeActData(4, -1, 64, 2) -- 麥爾斯跪閉眼


    ESC.SetRoleSpeed(1, 1) -- 賽特閃避莉蓮
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 74, 57)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(300)
    ESC.ChangeDIR(2, 4)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 36, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS854')) -- ESS=……賽特？
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.DelHead(10002, 36)
    ESC.MBOff(2, 3)


    ESC.TakeActData(4, -1, 63, 2) -- 麥爾斯跪張眼


    Scene.MBOn(4, 4, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS855')) -- ESS=給我走開，莉蓮───%N妳…妳以為我堂堂...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.TurnFace(5, 4)
    Scene.MBOn(8, 4, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS856')) -- ESS=可…可是…%N麥爾斯……我、我…我…只是...
    ESC.WaitDLG(1)
    ESC.DelHead(10005, 1)
    ESC.MBOff(8, 1)


    MediaFunc.PlaySound(5)

    ESC.Delay(300)
    ESC.ChangeDIR(2, 5)



    Scene.MBOn(2, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS857')) -- ESS=醜八怪，%N妳很討人厭耶！%N快讓開──...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)


    ESC.TurnFace(5, 1)
    ESC.TakeActData(5, -1, 60, 2)
    ESC.Unlock(5)



    Scene.MBOn(5, 4, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS858')) -- ESS=───不！
    ESC.WaitDLG(1)
    ESC.DelHead(10005, 0)
    ESC.MBOff(5, 0)



    ESC.ChangeDIR(2, 3) -- 妮可舉手
    ESC.ChangeQQ(2, 52)
    ESC.ChangeQQ(2, 56)
    ESC.TILPA1(2, 2)
    Scene.PlayACT(0, 420-32, 250-16, 622, 5) -- 閃電
    ESC.TILPA2(0, 3)
    ESC.ChangeQQ(5, 32) -- 莉蓮倒下
    ESC.ChangeDIR(5, 3)
    ESC.ChangeDIR(1, 5)
    MediaFunc.PlaySound(5)


    ESC.ChangeQQ(2, 0)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(800)

    ESC.MusicFadeMode(1, 40) -- 【淡出模式】
    ESC.StoryMusic(35, 35, 0x2000) -- 【劇情配樂】不氣味



    ESC.ChangeQQ(4, 60)
    ESC.ChangeDIR(4, 2)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.ChangeDIR(2, 5)


    Scene.MBOn(6, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS859')) -- ESS=莉…莉蓮……！！
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.DelHead(10004, 0)
    ESC.MBOff(6, 0)


    ESC.Delay(300)
    MediaFunc.PlaySound(5)

    ESC.ChangeDIR(4, 2) -- 麥爾斯憤怒拔劍
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 2)
    Scene.SAR_ACTCycle(4, 0)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS860')) -- ESS=──妮可！%N妳在做什麼？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ChangeDIR(4, 2) -- 麥爾斯憤怒拔劍
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 2)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(4, 2)
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 3)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(4, 2)
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 4)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(4, 2)
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 5)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(4, 2)
    ESC.ChangeQQ(4, 60)
    ESC.SeekACT(4, 6)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(400)


    Scene.MBOn(4, 4, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS861')) -- ESS=妳…妳這哪來的%C7惡魔%C5───%N...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.DelHead(10004, 0)
    ESC.MBOff(4, 0)



    Scene.MBOn(2, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS862')) -- ESS=吵死人了───%N你也一樣啦！%N
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)


    ESC.ChangeDIR(2, 3)
    ESC.ChangeQQ(2, 56)
    ESC.TILPA1(2, 2)
    Scene.PlayACT(0, 520-32, 250-16, 622, 5) -- 閃電
    Scene.PlayACT(0, 520-32, 250-16, 622, 5) -- 閃電
    ESC.ChangeQQ(4, 64)

    ESC.ChangeQQ(2, 0)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(800)

    ESC.TakeActData(1, -1, Const.STAND, 5)


    Scene.MBOn(2, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS863')) -- ESS=奇怪！%N為什麼會打不死？%N
    ESC.WaitDLG(1)
    ESC.DelHead(10002, 19)
    ESC.MBOff(2, 1)


    ESC.ChangeDIR(2, 2) -- 妮可舉手
    ESC.ChangeQQ(2, 53)
    ESC.SeekACT(2, 0)
    Scene.SAR_ACTCycle(2, 0)
    ESC.Delay(300)


    ESC.SetRoleSpeed(1, 1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 78, 60)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS864')) -- ESS=妮可，住手───%N妳到底在幹什麼？
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 4)
    ESC.MBOff(1, 0)


    ESC.Unlock(2)
    ESC.ChangeQQ(2, 0)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(400)


    Scene.MBOn(4, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS865')) -- ESS=人家在幫賽特的忙呀，%N幫賽特消滅敵人嘛...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS866')) -- ESS=妳自己給我看看妳做了什麼！%N妳怎麼可以...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 4)
    ESC.MBOff(1, 0)



    Scene.MBOn(4, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS867')) -- ESS=那也是敵人呀！%N是敵人一夥的嘛！%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS868')) -- ESS=妳是故意的嗎？%N那女孩光看也曉得不是敵...
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 4)
    ESC.MBOff(1, 0)



    ESC.ChangeDIR(2, 0)
    ESC.ChangeQQ(2, 53) -- 妮可揉眼睛


    Scene.MBOn(4, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS869')) -- ESS=人家怎麼知道嘛？%N人家好心幫賽特打敵人...
    ESC.WaitDLG(1)



    ESC.ChangeQQ(2, 57) -- 妮可哭

    ESC.ChangeHead(10002, 7, 10002, 35)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS870')) -- ESS=哇～%N賽特欺負妮可啦～～%N賽特隨便罵...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 35)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 6, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS871')) -- ESS=算了算了，妳別哭了，%N我投降，我投降！...
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 6)
    ESC.MBOff(1, 0)



    ESC.ChangeQQ(2, 53) -- 妮可揉眼睛


    Scene.MBOn(4, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS872')) -- ESS=賽特……%N賽特真的不生妮可氣了…？
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 7)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS873')) -- ESS=不生氣，不生氣，%N我%C3（暫時）%C...
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 2)
    ESC.MBOff(1, 0)



    ESC.ChangeQQ(2, 0)
    ESC.ChangeDIR(2, 5)
    ESC.Unlock(2)



    Scene.MBOn(4, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS874')) -- ESS=哇…好棒！%N賽特真的不生妮可氣了！
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 6, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS875')) -- ESS=唉，受不了…%N妳這傢伙看來幾乎不懂這一...
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 6)
    ESC.MBOff(1, 0)


    MediaFunc.PlaySound(5)
    ESC.ChangeDIR(1, 5)


    Scene.Nicole_Off()

    ESC.Delay(500)
    ESC.ScrollMapToRole(1, 4, 4)

    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS876')) -- ESS=沒時間了，得趕快辦辦正事……%N先把這些...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)

    ESC.ScrollMapWait()
    ESC.ScreenUnlock()

    ESC.ChangePath(4,0) -- 取消麥爾斯路徑
    ESC.RoleDisable(131) -- 街上巡邏的士兵

    ESC.UnlockAll()

    ESC.ChangePath(102,102)
    ESC.ChangePath(105,105)
    ESC.RoleEnable(112) -- 露絲
    ESC.ChangePath(112,112)
    ESC.ChangePath(103,103)
    ESC.ChangePath(124,124)
    ESC.ChangePath(106,106)
    ESC.ChangePath(108,108)
    ESC.ChangePath(109,109)
    ESC.ChangePath(117,117)
    ESC.ChangePath(119,119)
    ESC.ChangePath(128,128)
    Scene.SAR_ROL(104 , 1)
    Scene.SAR_ROL(158 , 1)
    Scene.SAR_ROL(161 , 1)
    Scene.SAR_ROL(165 , 1)

    Scene.SAR_ABSC(158 , 1) --    把木樁設定為無法穿越
    Scene.SAR_ABSC(104 , 1)
    Scene.SAR_ABSC(161 , 1)
    Scene.SAR_ABSC(165 , 1)

    Scene.SAR_ABSC(5 , 1) --  不可踩過莉蓮
    ESC.ChangeQQ(30, 0)
    ESC.ChangeDIR(30, 0)

    ESC.StoryMusicOff()


    GameFunc.FlagOn(101)
    GameFunc.FlagOff(10)
    ESC.RMUNlock()

::T366::
end



-------------------------------------------------------------
function Scene.TALK367()
    -- 下水道01換到教堂
    Scene.ChangeMap(23, 52, 23, 3)
end
-------------------------------------------------------------
function Scene.TALK368()
    -- 下水道1往下水道3右
    Scene.ChangeMap(35, 84, 19, 6)
end
--------------------------------------------------------------
function Scene.TALK369()
    if GameFunc.GetFlag(202) then goto T369 end
    Scene.ChangeMap(39, 52, 15, 2 ) -- 下水道2A往下水道道7C
    ESC.SceneBreak()
::T369::
    Scene.ChangeMap(114, 52, 15, 2)
end
-------------------------------------------------------------
function Scene.TALK370()
    if GameFunc.GetFlag(202) then goto T370 end
    Scene.ChangeMap(39, 52, 34, 2 ) -- 下水道2B往下水道道7D
    ESC.SceneBreak()
::T370::
    Scene.ChangeMap(112, 45, 19, 1)
end
-------------------------------------------------------------
function Scene.TALK371()
    Scene.ChangeMap(36, 67, 28, 4 ) -- 下水道3左A往下水道4B
end
-------------------------------------------------------------
function Scene.TALK372()
    Scene.ChangeMap(38, 155, 9, 1 ) -- 下水道3左B下水道6C
end
-------------------------------------------------------------
function Scene.TALK373()
    if GameFunc.GetFlag(202) then goto T373 end
    Scene.ChangeMap(39, 19, 36, 3 ) -- 下水道3右B往下水道07B
    ESC.SceneBreak()
::T373::
    Scene.ChangeMap(114, 52, 35, 2)
end
-------------------------------------------------------------
function Scene.TALK374()
    if GameFunc.GetFlag(202) then goto T374 end
    Scene.ChangeMap(32, 35, 81, 0 ) -- 下水道3右A往下水道01
    ESC.SceneBreak()
::T374::
    Scene.ChangeMap(112, 29, 66, 7)
end
-------------------------------------------------------------
function Scene.TALK375()
    if GameFunc.GetFlag(202) then goto T375 end
    Scene.ChangeMap(39, 17, 17, 3 ) -- 下水道4A往下水道7A
    ESC.SceneBreak()
::T375::
    Scene.ChangeMap(114, 18, 36, 3)
end
-------------------------------------------------------------
function Scene.TALK376()
    if GameFunc.GetFlag(202) then goto T376 end
    Scene.ChangeMap(34, 14, 19, 5 ) -- 下水道4B往下水道左3A
    ESC.SceneBreak()
::T376::
    Scene.ChangeMap(114, 17, 17, 3)
end
-------------------------------------------------------------
function Scene.TALK377()
    if GameFunc.GetFlag(202) then goto T377 end
    Scene.ChangeMap(38, 69, 53, 1 ) -- 下水道5A往下水道06A
    ESC.SceneBreak()
::T377::
    Scene.ChangeMap(115, 84, 19, 6)
end
-------------------------------------------------------------
function Scene.TALK378()
    -- 下水道往墓園
    if GameFunc.GetFlag(202) then goto T378 end
    Scene.ChangeMap(31, 21, 35, 3)
    ESC.SceneBreak()
::T378::
    Scene.ChangeMap(113, 18, 45, 0)
end
-------------------------------------------------------------
function Scene.TALK379()
    if GameFunc.GetFlag(202) then goto T379A end
    Scene.ChangeMap(38, 96, 17, 1 ) -- 下水道B往下水道6B
    ESC.SceneBreak()
::T379A::
    GameFunc.FlagOff(202)
    if GameFunc.GetFlag(110) then goto T379B end
    if GameFunc.GetFlag(106) then goto T379 end
::T379B::
    Scene.OutCity(140, 49, 9, 1)
    ESC.SceneBreak()
::T379::
    Scene.OutCity(141, 49, 9, 1)
end
-------------------------------------------------------------
function Scene.TALK380()
    Scene.ChangeMap(37, 29, 66, 4 ) -- 下水道6A往下水道5A
end
-------------------------------------------------------------
function Scene.TALK381()
    Scene.ChangeMap(37, 74, 91, 0 ) -- 下水道6B往下水道5B
end
-------------------------------------------------------------
function Scene.TALK382()
    Scene.ChangeMap(34, 82, 65, 4 ) -- 下水道6C往下水道左3B
end
-------------------------------------------------------------
function Scene.TALK383()
    if GameFunc.GetFlag(202) then goto T383 end
    Scene.ChangeMap(36, 36, 59, 0 ) -- 下水道7A往下水道4A
    ESC.SceneBreak()
::T383::
    Scene.ChangeMap(116, 67, 28, 4)
end
-------------------------------------------------------------
function Scene.TALK384()
    if GameFunc.GetFlag(202) then goto T384 end
    Scene.ChangeMap(35, 18, 65, 7 ) -- 下水道7B往下水道右3B
    ESC.SceneBreak()
::T384::
    Scene.ChangeMap(116, 32, 57, 0)
end
-------------------------------------------------------------
function Scene.TALK385()
    if GameFunc.GetFlag(202) then goto T385 end
    Scene.ChangeMap(33, 18, 19, 1 ) -- 下水道7C往下水道2A
    ESC.SceneBreak()
::T385::
    Scene.ChangeMap(113, 18, 19, 1)
end
-------------------------------------------------------------
function Scene.TALK386()
    if GameFunc.GetFlag(202) then goto T386 end
    Scene.ChangeMap(33, 18, 45, 0 ) --  -- 下水道7D往下水道2B
    ESC.SceneBreak()
::T386::
    Scene.ChangeMap(115, 18, 65, 7)
end
-------------------------------------------------------------
function Scene.TALK387()
    Scene.ChangeMap(71, 74, 17, 2 ) --  修道院B1 ->往下樓梯2-B
end
-------------------------------------------------------------
function Scene.TALK388()
    Scene.ChangeMap(52, 151, 213, 0 ) -- 往下樓梯2-B->修道院B1
end
-------------------------------------------------------------
function Scene.TALK389()
    Scene.ChangeMap(70, 19, 35, 2 ) -- 往下樓梯2-A->往下樓梯1-B-
end
-------------------------------------------------------------
function Scene.TALK390()
    -- LMF編號 70
    if GameFunc.GetFlag(283) then goto T390 end
    if GameFunc.MapID == 98 then goto T390A end
    -- 地圖碼為70的狀態
    Scene.ChangeMap(71, 3, 17, 3 ) -- 往下樓梯1-B->往下樓梯2-A
    ESC.SceneBreak()
::T390A::   -- 地圖碼為98
    Scene.ChangeMap(55, 60, 16, 1)
    ESC.SceneBreak()
::T390::    -- 潔西卡家地窖5->潔西卡家地窖6
    Scene.ChangeMap(49, 34, 24, 1)
end
-------------------------------------------------------------
function Scene.TALK391()
    -- LMF 70
    if GameFunc.GetFlag(283) then goto T391 end
    if GameFunc.MapID == 98 then goto T391A end
    Scene.ChangeMap(51, 100, 68, 6 ) -- 往下樓梯1-A ->修道院內
    ESC.SceneBreak()
::T391A::
    Scene.ChangeMap(51, 85, 62, 6)
    ESC.SceneBreak()
::T391::    -- 潔西卡家地窖5->潔西卡家地窖4
    Scene.ChangeMap(47, 72, 88, 0)
end
-------------------------------------------------------------
function Scene.TALK392()
    -- LMF 56
    if GameFunc.GetFlag(283) then goto T392 end
    Scene.ChangeMap(59, 101, 146, 0 ) -- 迴廊01A->迴廊04-B -- 以無作用
    ESC.SceneBreak()
::T392:: --     潔西卡家地窖2 ->潔西卡家地窖1
    Scene.ChangeMap(44, 31, 89, 0)
end
-------------------------------------------------------------
function Scene.TALK393()
    -- LMF 56
    if GameFunc.GetFlag(283) then goto T393 end
    Scene.ChangeMap(54, 35, 16, 5 ) -- 迴廊01B->左通道A -- 以無作用
    ESC.SceneBreak()
::T393:: --     潔西卡家地窖2 ->潔西卡家地窖3
    Scene.ChangeMap(46, 60, 26, 1)
end
-------------------------------------------------------------
function Scene.TALK394()
    -- LMF 56
    if GameFunc.GetFlag(283) then goto T394 end
    Scene.ChangeMap(57, 164, 88, 2 ) -- 迴廊1C->迴廊02-B
    ESC.SceneBreak()
::T394::
    Scene.ChangeMap(93, 36, 36, 6 ) -- 回潔西卡與貝絲的家
    GameFunc.FlagOff(283)
end
-------------------------------------------------------------
function Scene.TALK395()
    GameFunc.FlagOn(251)
    Scene.ChangeMap(60, 101, 146, 0 ) -- 迴廊2A->迴廊05-1-C
end
-------------------------------------------------------------
function Scene.TALK396()
    Scene.ChangeMap(56, 27, 90, 3 ) -- 迴廊2B->迴廊1C
end
-------------------------------------------------------------
function Scene.TALK397()
    if GameFunc.GetFlag(283) then goto T397 end
    Scene.ChangeMap(61, 31, 89, 0 ) -- 迴廊03->迴廊06B
    ESC.SceneBreak()
::T397::    -- 潔西卡家地窖6->潔西卡家地窖5
    Scene.ChangeMap(48, 19, 35, 2)
end
-------------------------------------------------------------
function Scene.TALK398()
    Scene.ChangeMap(53, 20, 24, 0 ) -- 迴廊04-A->單房
end

-------------------------------------------------------------
function Scene.TALK399()
    Scene.ChangeMap(54, 35, 16, 5 ) -- 迴廊01B->左通道A
end
-------------------------------------------------------------
function Scene.TALK400()
    if GameFunc.GetFlag(251) then goto T400 end
    Scene.ChangeMap(74, 20, 24, 0 ) -- 右通道2A->單房2
    ESC.SceneBreak()
::T400::
    Scene.ChangeMap(55, 43, 122, 7 ) -- 迴廊05A->右通道1B
end
-------------------------------------------------------------
function Scene.TALK401()
    if GameFunc.GetFlag(251) then goto T401 end
    Scene.ChangeMap(68, 106, 87, 2 ) -- 迴廊5B->迴廊13B
    ESC.SceneBreak()
::T401::
    Scene.ChangeMap(61, 103, 32, 2 ) -- 迴廊5B->迴廊6A
end
-------------------------------------------------------------
function Scene.TALK402()
    Scene.ChangeMap(65, 108, 32, 1 ) -- 迴廊5C->迴廊10B
end
-------------------------------------------------------------
function Scene.TALK403()
    if GameFunc.GetFlag(283) then goto T403 end
    Scene.ChangeMap(65, 38, 96, 3 ) -- 迴廊6A->迴廊05-1-B
    ESC.SceneBreak()
::T403::    -- 潔西卡家1->4
    Scene.ChangeMap(47, 15, 32, 3)
end
-------------------------------------------------------------
function Scene.TALK404()
    if GameFunc.GetFlag(283) then goto T404 end
    Scene.ChangeMap(63, 34, 24, 1 ) -- 迴廊
    ESC.SceneBreak()
::T404:: -- 潔西卡家1->2
    Scene.ChangeMap(45, 101, 25, 1)
end
-------------------------------------------------------------
function Scene.TALK405()
    if GameFunc.GetFlag(283) then goto T405 end
    Scene.ChangeMap(63, 106, 88, 2 ) -- 迴廊7A->迴廊8B
    ESC.SceneBreak()
::T405::    -- 潔西卡家4->1
    Scene.ChangeMap(44, 103, 32, 2)
end
-------------------------------------------------------------
function Scene.TALK406()
    if GameFunc.GetFlag(283) then goto T406 end
    Scene.ChangeMap(52, 145, 37, 1 ) -- 迴廊7B->修道院B1 門A
    ESC.SceneBreak()
::T406::    -- 潔西卡家4->5
    Scene.ChangeMap(48, 11, 22, 3)
end
-------------------------------------------------------------
function Scene.TALK407()
    if GameFunc.GetFlag(283) then goto T407 end
    Scene.ChangeMap(66, 32, 88, 0)
::T407::
end
-------------------------------------------------------------
function Scene.TALK408()
    Scene.ChangeMap(62, 15, 32, 3 ) -- 迴廊8B->迴廊7A
end
-------------------------------------------------------------
function Scene.TALK409()
    if GameFunc.GetFlag(283) then goto T409 end
    Scene.ChangeMap(66, 101, 32, 2 ) -- 迴廊10A->迴廊11C
    ESC.SceneBreak()
::T409:: -- 潔西卡家9->3
    Scene.ChangeMap(46, 133, 91, 2)
end
-------------------------------------------------------------
function Scene.TALK410()
    if GameFunc.GetFlag(283) then goto T410 end
    --  GameFunc.FlagOff(251)
    Scene.ChangeMap(75, 101, 146, 0 ) -- 迴廊10B->迴廊05-2-C
    ESC.SceneBreak()
::T410::    -- 潔西卡家9->8
    Scene.ChangeMap(78, 51, 122, 4)
end
-------------------------------------------------------------
function Scene.TALK411()
    Scene.ChangeMap(67, 131, 91, 2 ) -- 迴廊11A->迴廊12B
end
-------------------------------------------------------------
function Scene.TALK412()
    Scene.ChangeMap(63, 34, 23, 1 ) -- 迴廊11B->迴廊8A
end
-------------------------------------------------------------
function Scene.TALK413()
    Scene.ChangeMap(65, 38, 96, 3 ) -- 迴廊11C->迴廊10A
end
-------------------------------------------------------------
function Scene.TALK414()
    -- LMF 67
    if GameFunc.GetFlag(283) then goto T414 end
    Scene.ChangeMap(69, 87, 88, 0 ) -- 迴廊12A->迴廊14
    ESC.SceneBreak()
::T414:: -- 潔西卡家3->2
    Scene.ChangeMap(45, 101, 146, 0)
end
-------------------------------------------------------------
function Scene.TALK415()
    -- LMF 67
    if GameFunc.GetFlag(283) then goto T415 end
    Scene.ChangeMap(66, 16, 33, 3 ) -- 迴廊12B->迴廊11A
    ESC.SceneBreak()
::T415:: -- 潔西卡家3->9
    Scene.ChangeMap(79, 38, 96, 3)
end
-------------------------------------------------------------
function Scene.TALK416()
    Scene.ChangeMap(72, 110, 79, 2 ) -- 迴廊13A->洞天
end
-------------------------------------------------------------
function Scene.TALK417()
    GameFunc.FlagOff(251)
    Scene.ChangeMap(75, 30, 90, 3 ) -- 迴廊13B->迴廊05-2-B
end
-------------------------------------------------------------
function Scene.TALK418()
    Scene.ChangeMap(67, 60, 27, 1 ) -- 迴廊14->迴廊12A
end
-------------------------------------------------------------
function Scene.TALK419()
    if GameFunc.GetFlag(283) then goto T419C end
    if GameFunc.MapID == 53 then goto T419A end
    -- 這邊的房間地圖碼為 74
    Scene.ChangeMap(75, 101, 25, 1 ) -- 右通道2B->迴廊5-2-A
    ESC.SceneBreak()
::T419A::   -- 此處房間地圖瑪為53
    Scene.ChangeMap(56, 101, 25, 1 ) -- 單房->迴廊01-A
    ESC.SceneBreak()    -- 潔西卡家的房間
::T419C:: -- 潔西卡家7->8
    Scene.ChangeMap(78, 35, 16, 5)
end
-------------------------------------------------------------
function Scene.TALK420()
    -- LMF 55
    Scene.ChangeMap(98, 19, 35, 2)
end
-------------------------------------------------------------
function Scene.TALK421()
    -- LMF 55
    Scene.ChangeMap(72, 100, 78, 1)
end
-------------------------------------------------------------
function Scene.TALK422()
    -- LMF 54
    if GameFunc.GetFlag(283) then goto T422 end
    Scene.ChangeMap(56, 101, 146, 0 ) -- 左通道A->迴廊1B
    ESC.SceneBreak()
::T422:: -- 潔西卡家8->7
    Scene.ChangeMap(77, 20, 24, 0)
end
-------------------------------------------------------------
function Scene.TALK423()
    -- LMF 54
    if GameFunc.GetFlag(283) then goto T423 end
    Scene.ChangeMap(52, 159, 37, 1 ) -- 左通道B->修道院B1門B
    ESC.SceneBreak()
::T423:: -- 潔西卡家8->9
    Scene.ChangeMap(79, 108, 32, 1)
end
-------------------------------------------------------------
function Scene.TALK424()
    Scene.ChangeMap(68, 35, 25, 1 ) -- 洞天->迴廊13A
end
-------------------------------------------------------------
function Scene.TALK425()
    Scene.ChangeMap(62, 72, 88, 0 ) -- 修道院B1門A->迴廊07B
end
-------------------------------------------------------------
function Scene.TALK426()
    Scene.ChangeMap(54, 51, 122, 4 ) -- 修道院B1門B->左通道B
end
-------------------------------------------------------------
function Scene.TALK427()
    ESC.RoleHide(1) -- 隱藏主角
end
-------------------------------------------------------------
function Scene.TALK428()
    if not GameFunc.GetFlag(263) then goto T428 end
    Scene.ChangeMap(37, 45, 19, 1 ) -- 墓園往密道
::T428::
end
-------------------------------------------------------------
function Scene.TALK429()
    if not GameFunc.GetFlag(213) then return end

    Scene.RoadFlag(StringDB('ESS877')) -- ESS=　往廣場
    GameFunc.FlagOff(213)
end
-------------------------------------------------------------
function Scene.TALK430()
    -- 墓園
    Scene.ChangeMap(20, 101, 3, 1 ) -- 往廣場
end
--------------------------------------------------------------
function Scene.TALK431()
    if not GameFunc.GetFlag(101) then goto T431 end
    if GameFunc.GetFlag(211) then goto T431 end

    Scene.MoveHero(65, 39, 6)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS878')) -- ESS=威尼斯城現在有一堆士兵在找我和異教徒,我...

    ESC.SceneBreak()
::T431::
    Scene.EnterCity(21, 4, 40, 3)
    Scene.RoadFlag(StringDB('ESS879')) -- ESS=　威尼斯城
end
--------------------------------------------------------------
function Scene.TALK432()
    if not GameFunc.GetFlag(101) then goto T432 end
    if GameFunc.GetFlag(211) then goto T432 end

    Scene.MoveHero(66, 47, 6)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS878')) -- ESS=威尼斯城現在有一堆士兵在找我和異教徒,我...

    ESC.SceneBreak()
::T432::
    Scene.EnterCity(20, 104, 146, 0)
    Scene.RoadFlag(StringDB('ESS879')) -- ESS=　威尼斯城
end
--------------------------------------------------------------
function Scene.TALK433()
    -- 進修道院 -- ***
    if not GameFunc.GetFlag(101) then goto T433 end
    if GameFunc.GetFlag(211) then goto T433 end
    ESC.Caption(1)
    Scene.M_PrintS(1,StringDB('ESS880')) -- ESS=帶著異教徒，還是別進修道院，免得惹麻煩！...
    Scene.MoveHero(28, 19, 5)
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T433::
    Scene.EnterCity(50, 91, 125, 0)
    Scene.RoadFlag(StringDB('ESS881')) -- ESS= 修　道　院
end

function Scene.TALK434()
    Scene.ChangeMap(21, 77, 29, 1 ) -- 道具店
end

function Scene.TALK435()
    Scene.ChangeMap(21, 97, 29, 1 ) -- 道具屋
end

function Scene.TALK436()
    Scene.ChangeMap(20, 41, 66, 1 ) -- 武器屋
end

function Scene.TALK437()
    Scene.ChangeMap(20, 60, 65, 1 ) -- 武器屋
end

function Scene.TALK438()
    -- 酒店門口
    Scene.ChangeMap(20, 79, 44, 5)
end

function Scene.TALK439()
    -- 旅店1F->2F
    Scene.ChangeMap(84, 8, 11, 0)
    Scene.RoadFlag(StringDB('ESS882')) -- ESS=　旅館２Ｆ
end

function Scene.TALK440()
    -- 旅店2F->1F
    Scene.ChangeMap(83, 7, 10, 1)
    Scene.RoadFlag(StringDB('ESS883')) -- ESS=　旅館１Ｆ
end
-----------------------------------------------------------------------
function Scene.TALK441()
    -- 民房1-1F往1-2F
    Scene.ChangeMap(86, 12, 21, 0)
    Scene.RoadFlag(StringDB('ESS884')) -- ESS=　民房２Ｆ
end
----------------------------------------------------------------
function Scene.TALK442()
    -- 民房2-1F往1-1F
    Scene.ChangeMap(85, 7, 19, 5)
    Scene.RoadFlag(StringDB('ESS885')) -- ESS=　民房１Ｆ
end

function Scene.TALK443()
    -- 洞天出口
    if not GameFunc.GetFlag(102) then goto T443 end
    ESC.RoleDisable(212)
    Scene.ChangeMap(55, 43, 119, 7 ) -- 洞天->通道
::T443::
end

function Scene.TALK444()
    Scene.OutCity(10, 24, 18, 1 ) -- 修道院外接大地圖
end

function Scene.TALK445()
    Scene.ChangeMap(51, 47, 60, 7 ) -- 修道院外往修道院內
    if GameFunc.GetFlag(102) then goto T445 end
    GameFunc.FlagOn(285)
    if not GameFunc.GetFlag(101) then goto T445 end
    ESC.ChangeRoleMap(207, 72, 0 , 23, 27, 407, Const.STAND, 1)
::T445::
end

function Scene.TALK446()
    if not GameFunc.GetFlag(101) then goto T446 end
    Scene.ChangeMap(70, 11, 22, 3 ) -- 修道院往下樓梯1A
    ESC.SceneBreak()
::T446::
    Scene.M_Print(207, '%S0%N%S1'..StringDB('ESS886')) -- ESS=裏面是修士的臥房，%N俗人不可進入。
end

function Scene.TALK447()
    Scene.ChangeMap(50, 93, 31, 1 ) -- 修道院內往修道院外
end
------------------------------------------------------------------------------------------
function Scene.TALK448()
    Scene.OutCity(10, 76, 20, 1)
end



---------------------------------------------------------------------------------------
function Scene.TALK449()
    if not GameFunc.GetFlag(101) then goto T449 end
    if GameFunc.GetFlag(211) then goto T449 end
    ESC.Caption(1)
    Scene.M_PrintS(1,StringDB('ESS887')) -- ESS=帶著異教徒，要是碰到護教騎士團麻煩可就大...

    Scene.MoveHero(76, 21, 1)
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T449::
    Scene.EnterCity(41, 31, 59, 0)
    Scene.RoadFlag(StringDB('ESS888')) -- ESS= 法蘭克關隘
end

function Scene.TALK450()
    -- 出漁夫家
    Scene.ChangeMap(20, 186, 132, 1)
end

function Scene.TALK451()
    -- 往2F
    Scene.ChangeMap(88, 12, 26, 0)
    Scene.RoadFlag(StringDB('ESS889')) -- ESS=派恩的家２Ｆ
end

function Scene.TALK452()
    Scene.ChangeMap(87, 9, 24, 5)
    Scene.RoadFlag(StringDB('ESS890')) -- ESS=派恩的家１Ｆ
end



-- ─────────────────────────────────────────【火神姆斯比爾】

function Scene.TALK453()
    if not GameFunc.GetFlag(102) then goto T453 end
    if GameFunc.GetFlag(281) then goto T453 end
    ESC.RMLock()
    GameFunc.FlagOn(10)
    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.RoleDisable(234)
    ESC.RoleDisable(235)

    ESC.ChangeRoleMap( 2, 50, 0 , 94, 68, 2, Const.STAND, 6)
    ESC.ChangeRoleMap(104, 50, 0, 80, 45, 409, Const.STAND, 5)
    ESC.ChangeRoleMap(165, 50, 0, 88, 45, 409, Const.STAND, 5)
    ESC.ChangeRoleMap(181, 50, 0, 96, 45, 409, Const.STAND, 6)
    ESC.ChangeRoleMap(200, 50, 0, 104, 45, 409, Const.STAND, 6)
    ESC.ChangeRoleMap( 4, 50, 0 , 92, 96, 004, Const.STAND, 0)
    ESC.ChangeRoleMap(228, 50, 0, 80, 72, 409, Const.STAND, 7)
    ESC.ChangeRoleMap(229, 50, 0, 80, 78, 408, Const.STAND, 7)
    ESC.ChangeRoleMap(230, 50, 0, 84, 100, 408, Const.STAND, 7)
    ESC.ChangeRoleMap(231, 50, 0, 88, 100, 409, Const.STAND, 7)
    ESC.ChangeRoleMap(232, 50, 0, 96, 100, 408, Const.STAND, 4)
    ESC.ChangeRoleMap(233, 50, 0, 100, 100, 409, Const.STAND, 4)
    ESC.ChangeRoleMap(234, 50, 0, 102, 78, 409, Const.STAND, 4)
    ESC.ChangeRoleMap(235, 50, 0, 102, 72, 408, Const.STAND, 4)
    Scene.SAR_ABSC(104 , 0)
    Scene.SAR_ABSC(165 , 0)
    ESC.RoleEnable(4)

    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.RoleEnable(232)
    ESC.RoleEnable(233)

    ESC.RoleEnable(104)
    ESC.RoleEnable(165)
    ESC.RoleEnable(181)
    ESC.RoleEnable(200)
    Scene.SAR_Shadow(230 , 1)
    Scene.SAR_Shadow(231 , 1)
    Scene.SAR_Shadow(232 , 1)
    Scene.SAR_Shadow(233 , 1)
    Scene.SAR_Shadow(234 , 1)
    Scene.SAR_Shadow(235 , 1)
    Scene.SAR_Shadow(228 , 1)
    Scene.SAR_Shadow(229 , 1)
    Scene.SAR_Shadow(104 , 1)
    Scene.SAR_Shadow(165 , 1)
    Scene.SAR_Shadow(181 , 1)
    Scene.SAR_Shadow(200 , 1)
    Scene.MoveHero(92, 85, 1)



    ESC.StoryMusic(31, 31, 0x2000) -- 【劇情配樂】沈默與恐懼
    ESC.MusicFadeMode(1, 25) -- 【淡出模式】

    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS891')) -- ESS=哼，果然在這裏！%N抓起來！
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10004, 1)

    ESC.RMLock()


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS892')) -- ESS=糟了，%N原來剛才那個修道院長去通風報信...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.ChangeQQ(1, 16)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 92, 60)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)

    ESC.ScrollMap(0, -8, 4, 4)
    ESC.ScrollMapWait()


    ESC.StoryMusic(38, 38, 0x2000) -- 【劇情配樂】火刑場
    ESC.Delay(600)


    ESC.ChangeDIR(1, 1)
    ESC.RoleMove(4, 92, 81)
    ESC.RoleMove(230, 84, 82)
    ESC.RoleMove(231, 88, 86)
    ESC.RoleMove(232, 96, 86)
    ESC.RoleMove(233, 99, 82)


    ESC.ScrollMapD(66, 58, 4, 4)
    ESC.ChangeQQ(104, Const.WALK)
    ESC.ChangeQQ(165, Const.WALK)
    ESC.ChangeQQ(181, Const.WALK)
    ESC.ChangeQQ(200, Const.WALK)
    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(234)
    ESC.RoleEnable(235)


    ESC.SetRoleSpeed(1, 4)
    ESC.TakeActData(1, -1, 68, 1) -- 賽特後退走

    ESC.ScreenLock()

    ESC.SetPos(104, 84,68)
    ESC.SetPos(165, 88,64)
    ESC.SetPos(181, 96,64)
    ESC.SetPos(200, 99,68)
    ESC.SetPos(1, 92,70)

::T453B::
    ESC.BatchStep(5 ,104,165,181,200,1)

    if not ESC.RoleReach(1) then goto T453A end
    ESC.TakeActData(1, -1, 0, 1)
    ESC.ChangeDIR(228, 3)
    ESC.ChangeDIR(235, 2)

::T453A::
    if not ESC.IsAllReach() then
        goto T453B
    end

    ESC.ChangeQQ(104, Const.STAND)
    ESC.ChangeQQ(165, Const.STAND)
    ESC.ChangeQQ(181, Const.STAND)
    ESC.ChangeQQ(200, Const.STAND)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.ScreenUnlock()

    ESC.ChangeDIR(104, 5)
    ESC.ChangeDIR(165, 3)
    ESC.ChangeDIR(181, 2)
    ESC.ChangeDIR(200, 6)

    ESC.ScrollMapWait()


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS893')) -- ESS=邪魔歪道，這一次你是逃不掉了！%N乖乖給...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10004, 1)


    Scene.MBOn(3, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS894')) -- ESS=麥爾斯閣下，您這又是幹什麼？%N我跟你一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10001, 8)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS895')) -- ESS=幫助異教徒的人，就是上帝的叛徒！%N大家...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10004, 1)


    Scene.MBOn(3, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS896')) -- ESS=麥爾斯閣下，要捉我是沒關係，%N您忘記您...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10001, 2)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS897')) -- ESS=哼，%N她落在你們這些異教徒手上，我看你...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS898')) -- ESS=下次我再看到她，我也會按照先知摩西的律法...
    ESC.WaitDLG(1)

    ESC.MBOff(9, 1)
    ESC.DelHead(10004, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS899')) -- ESS=喂，你有沒有搞錯？%N她為了保護你，連生...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS900')) -- ESS=難道在你眼中，她這樣的犧牲，居然還不如摩...
    ESC.WaitDLG(1)

    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS901')) -- ESS=邪魔歪道，%N你們也有資格批評上帝？！%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10004, 1)



    ESC.StoryMusic(33, 33, 0x2000) -- 【劇情配樂】一觸即發
    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍



    Scene.Nicole_On(94, 68, 6)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 24, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS902')) -- ESS=賽特賽特，%N你又要開戰了嗎？%N我來幫...
    ESC.WaitDLG(1)

    ESC.ChangeHead(10002, 24, 10002, 18)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS903')) -- ESS=嘩！%N這麼多敵人？%N那人家也要找個幫...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)

    ESC.TakeActData(2, -1, 52, 2)
    ESC.TILPA1(2, 3)



    Scene.PlayACT(0, 422-220, 150+80, 622, 5) -- 妮可放出閃電
    ESC.Delay(300)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10) -- 螢幕淡出
    ESC.FadeWait()
    ESC.ScreenHide()


    ESC.PlayVedio('firegod') -- 火神姆斯比爾出現的動畫



    ESC.StoryMusic(0, 0, 0x2000) -- 【劇情配樂】火刑場


    ESC.RoleMove(6, 90-4, 73)


    ESC.ChangeDIR(6, 4)
    ESC.ChangeQQ(6, 0)
    ESC.RoleEnable(6) -- 火神姆斯比爾
    ESC.RoleEnable(29995)
    ESC.RoleMove(29995 , 90-4, 75)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10) -- 螢幕淡入
    ESC.ScreenShow()
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.Delay(600)

    ESC.StoryMusic(38, 38, 0x2000) -- 【劇情配樂】火刑場

    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)



    GameFunc.FlagOn(281)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.TurnFace(2, 1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 14, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS904')) -- ESS=賽特賽特，%N這是%C7姆斯比爾%C5，...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 14)


    ESC.TurnFace(2, 6)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS905')) -- ESS=該死的邪教徒，%N你…你們果然是魔鬼%C...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10004, 1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    ESC.ChangeQQ(230, Const.WALK)
    ESC.ChangeQQ(231, Const.WALK)
    ESC.ChangeQQ(232, Const.WALK)
    ESC.ChangeQQ(233, Const.WALK)
    ESC.ChangeQQ(229, Const.WALK)
    ESC.ChangeQQ(234, Const.WALK)
    ESC.ChangeQQ(228, Const.WALK)
    ESC.ChangeQQ(235, Const.WALK)


    ESC.BatchMove(8,
    230, 84+1, 82-1,
    231, 88+1, 86-1,
    232, 96-1, 86-1,
    233, 99-1, 82-1,
    229, 80+1, 78-1,
    234, 102-1, 78-1,
    228, 80+1, 72,
    235, 102-1, 72)

    ESC.ChangeQQ(230, Const.STAND)
    ESC.ChangeQQ(231, Const.STAND)
    ESC.ChangeQQ(232, Const.STAND)
    ESC.ChangeQQ(233, Const.STAND)
    ESC.ChangeQQ(229, Const.STAND)
    ESC.ChangeQQ(234, Const.STAND)
    ESC.ChangeQQ(228, Const.STAND)
    ESC.ChangeQQ(235, Const.STAND)


    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 12, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS906')) -- ESS=姆斯比爾！%N立刻幫我們消滅這些士兵！%...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 12)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS907')) -- ESS=妮可，%N妳以為妳自己是誰？%N敢用這種...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10006, 1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(4, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 26, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS908')) -- ESS=是撒旦大人自己說過，隨時可以召喚你過來幫...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 26)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS909')) -- ESS=臭娘兒，%N那也要看是什麼敵人，這樣不三...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10006, 1)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS910')) -- ESS=夠了夠了！%N這些士兵我自己還勉強可以應...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)

    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 2)
    Scene.SAR_ACTCycle(6, 0)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)

    Scene.MBOn(6, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS911')) -- ESS=臭…臭小子，%N你…又是什麼人？%N竟然...
    ESC.WaitDLG(1)


    ESC.RoleEnable(29999) -- 火神鬥氣（上）
    ESC.RoleEnable(29998) -- 火神鬥氣（上）
    ESC.RoleEnable(29997) -- 火神鬥氣
    ESC.RoleEnable(29996) -- 火神鬥氣
    ESC.StoryMusic(33, 33, 0x2000) -- 【劇情配樂】一觸即發


    ESC.SetRoleSpeed(6, 3)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS912')) -- ESS=哇啊啊啊啊～～！%N氣死我了！%N豈有此...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10006, 1)


    ESC.SetRoleSpeed(6, 1)
    ESC.TakeActData(6 , 6 , 0 , 5)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)


    Scene.PlayACT(0, 112 , 200 , 6002 , 0)
    ESC.Delay(120)
    ESC.TakeActData(228 , -1 , 32 , 0)

    Scene.PlayACT(0, 112 , 280 , 6002 , 0)
    ESC.Delay(120)
    ESC.Unlock(229)
    ESC.TakeActData(229 , -1 , 32 , 2)
    ESC.SetRoleSpeed(2 , 2)

    ESC.MBWait()

    ESC.TakeActData(104, -1, 67, 0)
    ESC.TakeActData(165, -1, 67, 0)
    ESC.TakeActData(181, -1, 66, 0)
    ESC.TakeActData(200, -1, 66, 0)
    ESC.Unlock(104)
    ESC.Unlock(165)
    ESC.Unlock(181)
    ESC.Unlock(200)

    ESC.SetRoleSpeed(6, 0)
    ESC.TakeActData(6 , -1, 0 , 5)

    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)


    Scene.PlayACT(0, 512 , 200 , 6002 , 0)
    ESC.Delay(120)
    ESC.TakeActData(234 , -1 , 32 , 3)

    Scene.PlayACT(0, 512 , 280 , 6002 , 0)
    ESC.Delay(120)
    ESC.Unlock(235)
    ESC.TakeActData(235 , -1 , 32 , 2)

    ESC.SetRoleSpeed(2 , 1)

    ESC.TakeActData(4, -1, 52, 1)
    ESC.BatchMove(1,    4, 92, 81+2)


    ESC.SetRoleSpeed(6, 1)
    ESC.TakeActData(6 , -1 , 0 , 5)

    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)


    Scene.PlayACT(0, 172 , 160 , 6002 , 0)
    ESC.Delay(120)
    ESC.TakeActData(104, -1, 32, 1)

    Scene.PlayACT(0, 462 , 300 , 6002 , 0)
    ESC.Delay(120)
    ESC.ChangeDIR(233, 2)
    ESC.ChangeQQ(233, 32)

    Scene.PlayACT(0, 172 , 300 , 6002 , 0)
    ESC.Delay(120)
    ESC.ChangeDIR(230, 1)
    ESC.ChangeQQ(230, 32)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS913')) -- ESS=這…這…%N這是…什麼傢伙？
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10004, 1)
    ESC.DelHead(10001, 8)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 0)


    ESC.SetRoleSpeed(2, 0)

    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 22, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS914')) -- ESS=姆斯比爾大人！%N請您冷靜點，%N別這樣...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 22)



    Scene.PlayACT(0, 242 , 120 , 6002 , 0)
    ESC.Delay(120)
    ESC.TakeActData(165, -1, 32, 0)

    Scene.PlayACT(0, 242 , 420 , 6002 , 0)
    ESC.Delay(120)
    ESC.ChangeDIR(231, 1)
    ESC.ChangeQQ(231, 32)


    ESC.SetRoleSpeed(6, 0)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 1)
    Scene.SAR_ACTCycle(6, 1)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS915')) -- ESS=氣死我了！%N在場的人，通通給我死！！%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10006, 1)


    Scene.PlayACT(0, 382 , 420 , 6002 , 0)
    ESC.Delay(120)
    ESC.Unlock(232)
    ESC.ChangeDIR(232, 2)
    ESC.ChangeQQ(232, 32)


    Scene.PlayACT(0, 382 , 120 , 6002 , 0)
    Scene.PlayACT(0, 320 , 328 , 6002, 0) -- K到麥爾斯→加上賽特被打到的音效


    ESC.Delay(200)
    ESC.TakeActData(181, -1, 32, 2)
    ESC.TakeActData(200, -1, 32, 2)


    MediaFunc.PlaySound(115)
    Scene.PlayACT(0, 320, 220, 6002, 0) -- K到賽特
    ESC.Delay(300)
    ESC.TakeActData(1, -1, 64, 3)


    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS916')) -- ESS=賽特…%N賽特！%N
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 40)


    ESC.TakeActData(4, -1, Const.WALK, 0)
    ESC.SetRoleSpeed(4, 0)
    ESC.SetMoveHISpeed(4)
    ESC.BatchMove(1,    4, 92, 95)
    ESC.RoleDisable(4)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 12)
    ESC.FadeWait()
    ESC.RoleMove(2, 94, 67)


    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.RestoreRoleSpeed(2)
    ESC.RoleDisable(6)

    ESC.RoleDisable(29999)
    ESC.RoleDisable(29998)

    ESC.RoleDisable(29995)
    ESC.RoleDisable(29997)
    ESC.RoleDisable(29996)

    ESC.StoryMusic(31, 0, 0x2000) -- 【劇情配樂】沈默與恐懼


    ESC.Delay(1200)



    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()
    --  以下三個士兵改為倒在地上(斧頭已落地)    否則玩家在這邊SAVE  LOAD會發生斧頭旋轉的事
    ESC.TakeActData(235, -1, 32, 0)
    ESC.TakeActData(229, -1, 32, 0)
    ESC.TakeActData(232, -1, 32, 0)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL(1,9009,160,200,2*18,2,'%C5%S1'..StringDB('ESS917')) -- ESS=…唔…我怎麼了……頭好痛…
    ESC.WaitDLG3(1)
    ESC.Delay(1000)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 15)
    ESC.FadeWait()
    ESC.WaitDLG(1)

    ESC.ScreenShow()

    ESC.ScreenLock()

    ESC.Delay(2400)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 15)
    ESC.FadeWait()
    ESC.Delay(300)

    ESC.ChangeQQ(1, 68)
    ESC.TILPA1(1, 7)
    ESC.TurnFace(1, 2)
    ESC.Delay(100)


    Scene.MBOn(4, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 36, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS918')) -- ESS=賽特…賽特！%N你還好吧？%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 36)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%C5'..StringDB('ESS919')) -- ESS=唔…%N那…那個叫什麼…%N%C7姆斯比...
    ESC.WaitDLG(1)

    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 16, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS920')) -- ESS=他…他…%N他……%N
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 16)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS921')) -- ESS=說呀！%N他怎麼了？%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 5)



    ESC.Delay(2000)


    ESC.ChangeDIR(1, 1)
    ESC.Delay(200)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 92, 78-5)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Unlock(2)

    ESC.SetRoleSpeed(2, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(2, Const.WALK)

    ESC.ScrollMapD(66, 65, 2, 2)

    ESC.SetPos(1,92,85)
    ESC.SetPos(2,92,83)
::T453C::
    ESC.BatchStep( 2,   1, 2)
    if not ESC.RoleReach(1) then goto T453D end
    ESC.TakeActData(1, -1, 0, 1)
::T453D::
    if not ESC.IsAllReach() then
        goto T453C
    end

    ESC.ScrollMapWait()
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    ESC.TurnFace(1, 2)

    ESC.TurnFace(2, 1)
    ESC.ChangeDIR(2, 1)
    ESC.Delay(60)
    ESC.ChangeQQ(2, 32)
    ESC.RoleMove(2, 92, 79)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 78)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 77)
    ESC.Delay(60)
    ESC.WaitDLG(1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS922')) -- ESS=說呀！%N既不肯說，又要跟過來！%N
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS923')) -- ESS=你們這些傢伙硬纏著我，%N到底是有甚麼目...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    ESC.ChangeQQ(2, 52) -- 妮可欲哭飛
    Scene.MBOn(4, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS924')) -- ESS=賽特…賽特…%N你…你不要…這麼兇嘛……...
    ESC.WaitDLG(1)


    ESC.ChangeQQ(2, 32) -- 妮可欲哭飛
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS925')) -- ESS=撒…撒旦大人…%N他希望你能夠加入魔界，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 34)



    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS926')) -- ESS=哼！%N我區區一個普通人類，能幫他什麼？...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 5)


    ESC.BatchMove(1,    2, 92, 81)
    ESC.Unlock(2)
    ESC.Delay(600)

    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 36, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS927')) -- ESS=…賽特，%N撒旦大人說，如果你答應的話，...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 36)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS928')) -- ESS=哼！%N那如果我不答應呢？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeQQ(2, Const.STAND)
    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS929')) -- ESS=賽特，為什麼你會這樣問？%N人類不是都最...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 18)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS930')) -- ESS=少給我撇開話題！%N如果我不答應，撒旦那...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    ESC.Delay(50)
    ESC.ChangeQQ(2, 32)
    ESC.RoleMove(2, 92, 79)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 78)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 77)
    ESC.Delay(60)


    ESC.BatchMove(1,    2, 92, 81)
    ESC.Unlock(2)

    ESC.ChangeQQ(2, 32)
    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 36, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS931')) -- ESS=他…他會叫%C7所有的妖魔鬼怪%C5，都...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 36)
    ESC.Delay(600)


    Scene.MBOn(7, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS932')) -- ESS=哼！%N我沒惹過撒旦，也不想與妖怪為伍，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 32) -- 妮可哀傷飛
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 26, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS933')) -- ESS=…賽特…%N那你…你的意思是…
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 26)


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS934')) -- ESS=妳回去跟他說！%N說我的答案就是：%N%...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 32) -- 妮可哀傷飛
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 22, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS935')) -- ESS=可…可是…賽特…%N那…我…我…
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 22)



    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS936')) -- ESS=這還有什麼好說的？%N妳也一樣，馬上給我...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 5)



    ESC.ChangeQQ(2, 52) -- 妮可欲哭飛
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS937')) -- ESS=…賽特…%N賽特…！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 34)



    ESC.ScrollMapD(66, 70+2, 2, 2)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 92, 88)
    ESC.SetRoleSpeed(2, 1)
    ESC.SetPos(1,92,90)
    ESC.SetPos(2,92,88-1)

    ESC.ChangeQQ(2, 32) -- 妮可哀傷飛


::T453E::
    ESC.BatchStep( 2,   1, 2)
    if not ESC.RoleReach(1) then goto T453F end
    ESC.ChangeQQ(1, Const.STAND)
::T453F::
    if not ESC.IsAllReach() then
        goto T453E
    end
    ESC.ScrollMapWait()
    ESC.Delay(150)
    ESC.TurnFace(1, 2)
    ESC.Delay(300)

    ESC.Unlock(2)


    ESC.ChangeQQ(2, 52) -- 妮可欲哭飛
    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS938')) -- ESS=叫妳回去！%N妳是聽不懂嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 56) -- 妮可哭著飛
    ESC.RoleMove(2, 92, 86)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 85)
    ESC.Delay(60)
    ESC.RoleMove(2, 92, 84)
    ESC.Delay(60)
    ESC.ChangeQQ(2, 56)
    ESC.WaitDLG(1)



    ESC.BatchMove(1,    2, 92, 86)
    ESC.Unlock(2)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS939')) -- ESS=賽特！%N不要趕我走好不好！%N人家不敢...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)



    ESC.ScrollMapD(66, 74+2, 2, 2)
    ESC.Delay(300)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 92, 92)
    ESC.SetPos(1,92,94)
    ESC.SetPos(2,92,92-2)

    ESC.ChangeQQ(2, 56) -- 妮可哭著飛


::T453G::
    ESC.BatchStep( 2,   1, 2)
    if not ESC.RoleReach(1) then goto T453H end
    ESC.ChangeQQ(1, Const.STAND)
::T453H::
    if not ESC.IsAllReach() then
        goto T453G
    end
    ESC.ScrollMapWait()
    ESC.Unlock(2)
    ESC.TurnFace(1, 2)
    ESC.RMLock()


    ESC.ChangeQQ(2, 56) -- 妮可欲哭飛

    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS940')) -- ESS=…賽特！%N求求你啦！%N
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 34)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS941')) -- ESS=我叫妳回去！%N妳為什麼還跟？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 56) -- 妮可哭飛
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS942')) -- ESS=…賽特！%N人家…人家不敢…不敢回去那個...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 34)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS943')) -- ESS=既然妳不敢回去，那妳也可以不要回去呀！
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeQQ(2, 52) -- 妮可欲哭飛
    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 44, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS944')) -- ESS=…真…真的？%N賽特…那你…是答應讓人家...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 44)


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS945')) -- ESS=我可沒說妳可以跟著我！
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 5)


    ESC.Delay(600)
    ESC.ChangeQQ(2, 56) -- 妮可哭飛
    ESC.Delay(600)


    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS946')) -- ESS=…賽特！%N人家…人家跟你一樣，以後會被...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS947')) -- ESS=人家跟著你，還可以一起應付，%N只有一個...
    ESC.WaitDLG(1)


    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 34)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)


    Scene.MBOn(9, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS948')) -- ESS=好了好了，%N別哭、別哭了，%N我答應妳...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 52) -- 妮可欲哭飛
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 44, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS949')) -- ESS=…賽特，%N你是說真的嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 44)


    Scene.MBOn(7, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS950')) -- ESS=先說好，這只是暫時先答應妳，%N妳不可以...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10001, 5)


    ESC.ChangeQQ(2, 0)
    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS951')) -- ESS=…賽特！%N你真好！！%N人家最喜歡賽特...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 30)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS952')) -- ESS=唉，%N真拿妳沒有辦法…
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.Nicole_Off()

    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()

    ESC.RMUNlock()
    ESC.ChangeDIR(1, 1)
    GameFunc.FlagOn(281)
    GameFunc.FlagOff(10)

    ESC.StoryMusicOff()

    ESC.ChangeScript(104, '')
    ESC.ChangeScript(165, '')
    ESC.ChangeScript(181, '')
    ESC.ChangeScript(200, '')
    ESC.ChangeScript(228, '')
    ESC.ChangeScript(229, '')
    ESC.ChangeScript(230, '')
    ESC.ChangeScript(231, '')
    ESC.ChangeScript(232, '')
    ESC.ChangeScript(233, '')
    ESC.ChangeScript(234, '')
    ESC.ChangeScript(235, '')


::T453::
end




function Scene.TALK454()
    -- 民宅4 住宅區
    GameFunc.FlagOff(283)
    Scene.ChangeMap(21, 82, 85, 1)
end

function Scene.TALK455()
    Scene.ChangeMap(21, 112, 77, 1)
end


function Scene.TALK456()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.Print_SL(1,9007,120,40,32,8,StringDB('ESS953')) -- ESS=書架上的書籍記載著：%N%S0希拉，雅典...
    ESC.WaitDLG(1)
    Scene.Print_SL(1,9007,120,40,32,8,StringDB('ESS954')) -- ESS=三位女神各有不同的賄賂，%N天后希拉給的...
    ESC.WaitDLG(1)
    Scene.Print_SL(1,9007,120,40,32,8,StringDB('ESS955')) -- ESS=這樣的決定，引起另外兩位女神的不滿，更糟...
    ESC.WaitDLG(1)
    Scene.Print_SL(1,9007,120,40,32,8,StringDB('ESS956')) -- ESS=就這樣，那一夜，特洛伊城，遭到屠城的命運...
    ESC.WaitDLG(1)
end


-- ────────────────────────────────────【不是祕密機關的石獅子】

function Scene.TALK457()
    ESC.DLGNoPass()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,'%C5'..StringDB('ESS957')) -- ESS=找不到機關！
end



------------------------
function Scene.TALK458()
    ESC.DLGNoPass()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,'%C5'..StringDB('ESS958')) -- ESS=沒有反應
end






-- ────────────────────────────────────【向魔界商人石獅子買東西】
-- 角色59988，開關7004、7005



function Scene.TALK459()
    if not GameFunc.GetFlag(7004) then goto T459T end -- 第一次和石獅子講過話了
    if GameFunc.GetFlag(7005) then goto T459M end -- 允許買賣
    GameFunc.FlagOn(7005)


    ESC.Caption(157)
    Scene.Print_W(59988,9007,5*2,2*2,StringDB('ESS959')) -- ESS=歡迎光臨！歡迎光臨！
    ESC.WaitDLG(59988)


    ESC.Caption(157)
    Scene.Print_W(59988,9007,9*2,3*2,StringDB('ESS960')) -- ESS=咦…？這不是普通人嗎？為什麼能看得到我們...
    ESC.WaitDLG(59988)


    ESC.Caption(157)
    Scene.Print_W(59988,9007,9*2,5*2,StringDB('ESS961')) -- ESS=……哦，原來如此！%N原來是有%C2撒旦...
    ESC.WaitDLG(59988)

::T459M::

    ESC.Caption(157)
    Scene.Print_W(59988,9007,10*2,3*2,StringDB('ESS962')) -- ESS=您好！歡迎光臨！%N本%C2魔界商店%C...
    ESC.WaitDLG(59988)
    if GameFunc.GetFlag(21) then goto T459Z end

    ESC.OpenStore(502, 503, 504, 522, 1004, 852, 636, 890, 907, 873, 1042, 621, 624, 0) -- 開交易選單
    goto T459Z1
::T459Z::
    ESC.OpenStore(502, 503, 504, 522, 1004, 852, 636, 890, 907, 873, 1042, 621, 624, 697, 0)

::T459Z1::
    if GameFunc.GetFlag(7015) then goto T459N end

    GameFunc.FlagOn(7015)

    ESC.Caption(157)
    Scene.Print_W(59988,9007,9*2,3*2,StringDB('ESS963')) -- ESS=我在這邊店開了這麼久，還是頭一次有普通人...
    ESC.WaitDLG(59988)


    Scene.Print_W(59988,9007,8*2,3*2,StringDB('ESS964')) -- ESS=就特別送您五個%C2靈界指標%C4，它可...
    ESC.WaitDLG(59988)

    ESC.MBOff(7, 1)
    ESC.DelHead(10006, 1)


    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    MediaFunc.PlaySound(193)
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,16,2,StringDB('ESS965')) -- ＊靈界指標 ESS=得到五個%T769.

    ItemFunc.AddItem(769, 5) -- 加ITEMS[道具]
    ESC.SceneBreak()


::T459N::
    ESC.FitSize()
    Scene.M_Print(Const.R_TRIG, StringDB('ESS966')) -- ESS=謝謝惠顧！

::T459T::
end





-- ─────────────────────────────────────────【地下牢房機關】

function Scene.TALK460()
    local select
    if not GameFunc.GetFlag(277) then return end
    if GameFunc.GetFlag(273) then goto T459A end
    if GameFunc.GetFlag(279) then goto T459B end
    ESC.RMLock()
    Scene.MoveHero(165, 120, 0)
    ESC.Delay(200)




    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS967')) -- ESS=有了！%N這裏有像開關一樣的東西…
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS968')) -- ESS=奇怪…！%N動也不動，旁邊還刻著一行字…...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,8*2,3*2,'%C3'..StringDB('ESS969')) -- ESS=撒旦的使徒們啊！我大地四方之魔鬼子民們啊...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,10*2,3*2,'%C3'..StringDB('ESS970')) -- ESS=凡欲開啟此機關者，請凝視石獅之眼，心中默...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS971')) -- ESS=哼，又跟魔界有關係…那我就來猜猜吧！
    ESC.WaitDLG(1)



    ESC.RMUNlock()
    GameFunc.FlagOn(279)
::T459B::
    ESC.RMLock()



    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS972')) -- ESS=魔鬼的密碼是：%N%B　(1) ⅨⅨⅨ....
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select == 1 or select == 2 then -- 答錯
        goto T459E
    end

    GameFunc.FlagOn(273)


    MediaFunc.PlaySound(180)
    ESC.Delay(300)
    MediaFunc.PlaySound(171)


    ESC.ChangeDIR(1, 4)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS973')) -- ESS=看來似乎對了，%N鐵門打開了！
    ESC.WaitDLG(1)

    ESC.Delay(3500)

    ESC.RoleDisable(227)
    ESC.RoleDisable(213)
    ESC.RoleDisable(214)
    ESC.RoleDisable(215)
    ESC.RoleDisable(216)
    ESC.ChangeDIR(1, 2)
    ESC.RoleMove(239, 115+23, 120)
    ESC.RoleMove(241, 125+20, 120)
    ESC.RoleMove(242, 189 , 120)
    ESC.RoleMove(244, 178+10, 122)
    ESC.RoleMove(243, 195 , 124)
    ESC.ChangeQQ(239, Const.WALK)
    ESC.ChangeQQ(241, Const.WALK)
    ESC.ChangeQQ(242, Const.WALK)
    ESC.ChangeQQ(243, Const.WALK)
    ESC.ChangeQQ(244, Const.WALK)
    ESC.SetRoleSpeed(239, 0)
    ESC.SetRoleSpeed(241, 0)
    ESC.SetRoleSpeed(242, 0)
    ESC.SetRoleSpeed(243, 0)
    ESC.SetRoleSpeed(244, 0)
    ESC.BatchMove(5,
    239, 157, 119-2,
    241, 158, 123-2,
    244, 174, 122-2,
    243, 175, 125-2,
    242, 175, 119-2)
    ESC.TurnFace(239, 1)
    ESC.ChangeDIR(241, 3)
    ESC.TurnFace(242, 1)
    ESC.ChangeDIR(243, 2)
    ESC.TurnFace(244, 1)
    ESC.ChangeQQ(239, Const.STAND)
    ESC.ChangeQQ(241, Const.STAND)
    ESC.ChangeQQ(242, Const.STAND)
    ESC.ChangeQQ(243, Const.STAND)
    ESC.ChangeQQ(244, Const.STAND)


    ESC.ChangeDIR(1, 6)


    ESC.Caption(239)
    Scene.Print_W(239,9007,9*2,3*2,StringDB('ESS974')) -- ESS=謝…謝謝您，%N大人，不知道要怎麼感謝您...
    ESC.WaitDLG(239)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS975')) -- ESS=先別謝了，%N妳們是犯了什麼罪，怎麼會被...
    ESC.WaitDLG(1)


    ESC.Caption(239)
    Scene.Print_W(239,9007,9*2,4*2,StringDB('ESS976')) -- ESS=我…我只是偷看希臘文聖經，對教會一些做法...
    ESC.WaitDLG(239)


    ESC.Caption(242)
    Scene.Print_W(242,9007,9*2,4*2,StringDB('ESS977')) -- ESS=我和丈夫一起來這裏做生意，因為不願意改信...
    ESC.WaitDLG(242)


    ESC.Caption(241)
    Scene.Print_W(241,9007,10*2,4*2,StringDB('ESS978')) -- ESS=修道院長希望我當他的小妾，我死也不答應，...
    ESC.WaitDLG(241)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS979')) -- ESS=原來如此…%N那妳們有沒有人知道，他們把...
    ESC.WaitDLG(1)


    ESC.Caption(241)
    Scene.Print_W(241,9007,9*2,4*2,StringDB('ESS980')) -- ESS=通常值錢的東西，%C2修道院長%C4都會...
    ESC.WaitDLG(241)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS981')) -- ESS=好，沒事了！%N妳們可以趁現在快逃！
    ESC.WaitDLG(1)


    ESC.Caption(242)
    Scene.Print_W(242,9007,6*2,2*2,StringDB('ESS982')) -- ESS=謝謝您…%N真的謝謝您…
    ESC.WaitDLG(242)



    ESC.ChangeQQ(239, Const.WALK)
    ESC.ChangeQQ(241, Const.WALK)
    ESC.ChangeQQ(242, Const.WALK)

    ESC.SetRoleSpeed(239, 0)
    ESC.SetRoleSpeed(241, 0)
    ESC.SetRoleSpeed(242, 0)
    ESC.SetRoleSpeed(243, 0)
    ESC.SetRoleSpeed(244, 0)

    ESC.BatchMove(3,
    239, 151, 141,
    241, 151, 141,
    242, 151, 141)
    ESC.RoleDisable(239)
    ESC.RoleDisable(241)
    ESC.RoleDisable(242)
    GameFunc.FlagOn(286) -- 潔西卡的門可以打開
    ESC.TurnFace(1, 243)
    ESC.Delay(200)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS983')) -- ESS=咦？%N妳們兩個怎麼還不走？
    ESC.WaitDLG(1)


    ESC.TurnFace(243, 244)
    ESC.TurnFace(244, 1)


    ESC.Caption(244)
    Scene.Print_W(244,9007,10*2,3*2,StringDB('ESS984')) -- ESS=謝…謝謝您救了我們，我們…我們…真不知該...
    ESC.WaitDLG(244)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS985')) -- ESS=不用客套了，%N快走吧，這裏危險！
    ESC.WaitDLG(1)


    ESC.ChangeDIR(243, 2)
    ESC.Caption(244)
    Scene.Print_W(244,9007,11*2,4*2,StringDB('ESS986')) -- ESS=大人……我們這裏有一隻%C2祕密鑰匙%C...
    ESC.WaitDLG(244)


    ESC.Caption(243)
    Scene.Print_W(243,9007,12*2,4*2,StringDB('ESS987')) -- ESS=那是爸爸以前發現的，他說裏面可能有%C2...
    ESC.WaitDLG(243)


    ESC.Caption(244)
    Scene.Print_W(244,9007,11*2,4*2,StringDB('ESS988')) -- ESS=我們…暫時也不敢待在威尼斯，屋子的鑰匙給...
    ESC.WaitDLG(244)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS989')) -- ESS=我知道了，謝謝妳們！
    ESC.WaitDLG(1)


    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(1)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,'%S0'..StringDB('ESS990')) -- ESS=得到祕密鑰匙！
    ESC.WaitDLG(1)
    ItemFunc.AddItem(764, 1) -- 【物品】得到鑰匙


--  Scene.WORD_ON_HEAD(1, 5, 20, -65, "拿到%C2鑰匙%C5!")



    ESC.Caption(244)
    Scene.Print_W(244,9007,6*2,2*2,StringDB('ESS991')) -- ESS=好，我們走了，謝謝您！
    ESC.WaitDLG(244)


    ESC.Caption(243)
    Scene.Print_W(243,9007,7*2,2*2,StringDB('ESS992')) -- ESS=大哥哥，謝謝您救了我們！
    ESC.WaitDLG(243)


    Scene.QuestOn(99)

    ESC.ChangeQQ(243, Const.WALK)
    ESC.ChangeQQ(244, Const.WALK)
    ESC.BatchMove(2,
    243, 151, 141,
    244, 151, 141)
    ESC.RoleDisable(243)
    ESC.RoleDisable(244)
    ESC.RMUNlock()
    ESC.SceneBreak()

::T459E::

    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS993')) -- ESS=沒反應…看來是答錯了！
    ESC.WaitDLG(1)
    ESC.SceneBreak()




::T459A::

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,8*2,3*2,'%C3'..StringDB('ESS969')) -- ESS=撒旦的使徒們啊！我大地四方之魔鬼子民們啊...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,8*2,3*2,'%C3'..StringDB('ESS994')) -- ESS=撒旦大人吩咐你們的，要牢誌不忘！牢誌不忘...
    ESC.WaitDLG(1)

end

function Scene.TALK461()
    -- 海洞往大地圖
    Scene.OutCity(10, 86, 73, 1)
    if not GameFunc.GetFlag(101) then goto T461 end
    if GameFunc.GetFlag(274) then goto T461 end
    ESC.ChangeRoleMap(166, 131, 0 , 28, 37 , 503 , Const.STAND, 6)
    ESC.RoleEnable(166)
    GameFunc.FlagOn(274)
::T461::
end

function Scene.TALK462()
    -- 往海盜船
    if GameFunc.GetFlag(103) then goto T462A end
    if GameFunc.GetFlag(7035) then goto T462SP end -- 救出阿拉伯人了
    if GameFunc.GetFlag(7036) then goto T462B end -- 去就阿拉伯人
    if GameFunc.GetFlag(102) then goto T462 end   -- 得到航海圖回來
::T462B::
    Scene.ChangeMap(131, 19, 40, 7)
    ESC.SceneBreak()





-- ─────────────────────────────────────────【海盜船出海】

::T462::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(159, 118, 0 , 44, 20 , 501 , 32, 0)
    ESC.ChangeRoleMap(164, 118, 0 , 50, 19 , 505 , 32, 0)
    Scene.SAR_ROL(159, 1)
    Scene.SAR_ROL(164, 1)
    Scene.SAR_TurnFace(159, 0)
    Scene.SAR_TurnFace(164, 0)
    ESC.GotoMap(131 , 23 , 39 , 1, 0, 7)
    ESC.RoleEnable(159)
    ESC.RoleEnable(164)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()

    ESC.Caption(166)
    Scene.Print_W(166,9007,6*2,2*2,StringDB('ESS995')) -- ESS=賽特大人，不好了！
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS996')) -- ESS=怎麼了？%N發生什麼事？
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9007,10*2,4*2,StringDB('ESS997')) -- ESS=那兩個東方商人去%C2西南方%C4的%C...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS998')) -- ESS=海盜祕密洞穴%C4？%N他們兩個跑到那兒...
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9007,13*2,4*2,StringDB('ESS999')) -- ESS=那個洞穴是以前我們海盜們祕密藏%C2食物...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9007,12*2,4*2,StringDB('ESS1000')) -- ESS=這附近很荒涼，沒什麼食物，威尼斯城又在通...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9007,9*2,3*2,StringDB('ESS1001')) -- ESS=他們兩個聽了很高興，就立刻趕過去，結果就...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS1002')) -- ESS=我明白了，%N我過去看一看！
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 6)
    ESC.RoleDisable(345) -- 消去海盜的大門
    GameFunc.FlagOff(335) -- 大門的事件點阻檔可通過
    GameFunc.FlagOn(7036)


    -- 把修道院死去的士兵消去
    ESC.RoleDisable(104)
    ESC.RoleDisable(165)
    ESC.RoleDisable(181)
    ESC.RoleDisable(200)
    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.RoleDisable(230)
    ESC.RoleDisable(231)
    ESC.RoleDisable(232)
    ESC.RoleDisable(233)
    ESC.RoleDisable(234)
    ESC.RoleDisable(235)
    Scene.QuestOn(65)
    Scene.QuestOff(64)
    ESC.SceneBreak()


::T462SP::
    ESC.RMLock()
    GameFunc.FlagOn(10)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(159, 131, 0 , 28, 40 , 501 , Const.STAND, 1)
    ESC.ChangeRoleMap(164, 131, 0 , 28, 42 , 505 , Const.STAND, 1)
    ESC.GotoMap(131 , 23 , 39 , 1, 0, 3)

    ESC.RoleEnable(159)
    ESC.RoleEnable(164)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(164, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    ESC.Caption(166)
    Scene.Print_W(166,9007,7*2,2*2,StringDB('ESS1003')) -- ESS=賽特大人，您回來啦！
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1004')) -- ESS=航海圖%C4我也拿到手了，我們立刻啟程出...
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9007,8*2,2*2,StringDB('ESS1005')) -- ESS=是的，賽特大人，不過…不過…
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS1006')) -- ESS=不過什麼？
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9007,12*2,4*2,StringDB('ESS1007')) -- ESS=賽特先生，剛才%C2哈倫%C4先生和%C...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS1008')) -- ESS=那就一路當海盜！%N只搶食物不搶錢，不就...
    ESC.WaitDLG(1)


    ESC.AddHeadSign(164 , 0) -- 大家驚訝
    ESC.AddHeadSign(159 , 0)
    ESC.AddHeadSign(166 , 0)
    ESC.Delay(600)
    ESC.DelHeadSign(164)
    ESC.DelHeadSign(159)
    ESC.DelHeadSign(166)



    ESC.TurnFace(159, 1)
    ESC.Caption(159)
    Scene.Print_W(159,9007,5*2,2*2,StringDB('ESS1009')) -- ESS=這…這有點太…太…
    ESC.WaitDLG(159)



    ESC.TurnFace(164, 1)
    ESC.Caption(164)
    Scene.Print_W(164,9007,9*2,3*2,StringDB('ESS1010')) -- ESS=我服了你，賽特先生！你果然跟其他騎士完全...
    ESC.WaitDLG(164)


    ESC.TurnFace(166, 164)
    ESC.Caption(166)
    Scene.Print_W(166,9007,10*2,4*2,StringDB('ESS1011')) -- ESS=好了好了，既然賽特大人都沒意見了，大家各...
    ESC.WaitDLG(166)


    ESC.Caption(166)
    Scene.Print_W(166,9007,8*2,3*2,StringDB('ESS1012')) -- ESS=──等一下，差點忘了還有一件事要解決！
    ESC.WaitDLG(166)



    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(1,    166, 18, 41)
    ESC.TurnFace(1, 166)
    ESC.TurnFace(159, 166)
    ESC.TurnFace(164, 166)
    ESC.BatchMove(1,    166, 4, 53)
    ESC.RoleDisable(166)

    ESC.Delay(1500)
    MediaFunc.PlaySound(103) -- 爆炸音效
    ESC.ScreenShack(4 , 1, 1 , 0, 0 , -1, 1 , 0, 0, 0xFF00)
    ESC.Delay(1000)
    ESC.ScreenShackStop()
    ESC.RoleEnable(365) -- 將海洞擋起來



    ESC.ChangeDIR(166, 7)
    ESC.RoleEnable(166)
    ESC.BatchMove(1,    166, 18, 41)
    ESC.ChangeQQ(166, Const.STAND)
    ESC.TurnFace(166, 1)

    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS1013')) -- ESS=怎麼回事？
    ESC.WaitDLG(1)

    ESC.Caption(166)
    Scene.Print_W(166,9007,8*2,3*2,StringDB('ESS1014')) -- ESS=我把洞口用落石封掉了，這樣可以防止追兵。...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9007,9*2,3*2,StringDB('ESS1015')) -- ESS=這是以前我們船長設下的機關，沒想到派上用...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,1*2,StringDB('ESS1016')) -- ESS=做的好！
    ESC.WaitDLG(1)

    ESC.TurnFace(1, 166)
    ESC.Delay(150)

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS1017')) -- ESS=那各就各位，我們出海囉！
    ESC.WaitDLG(1)

    ESC.ChangeQQ(159, Const.WALK)
    ESC.ChangeQQ(164, Const.WALK)

    ESC.SetRoleSpeed(164, 1)
    ESC.SetRoleSpeed(159, 1)

    ESC.SetPos(164,42,43)
    ESC.SetPos(159,42,42)

::T462SP_3::
    ESC.BatchStep( 2,   164, 159)
    if not ESC.RoleReach(159) then goto T462SP_1 end
    ESC.RoleDisable(159)
::T462SP_1::
    if not ESC.RoleReach(164) then goto T462SP_2 end
    ESC.RoleDisable(164)
::T462SP_2::
    if not ESC.IsAllReach() then
        goto T462SP_3
    end

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1018')) -- ESS=船出海時，我想在上面，看看大海！
    ESC.WaitDLG(1)


    ESC.TurnFace(166, 1)
    ESC.Caption(166)
    Scene.Print_W(166,9007,6*2,2*2,StringDB('ESS1019')) -- ESS=沒問題，請您上來！
    ESC.WaitDLG(166)



    ESC.ChangeQQ(166, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    166, 21, 11, -1, 0, 0,
    1, 22, 14, -1, 0, -1)

    ESC.TurnFace(166, 1)

    ESC.Caption(166)
    Scene.Print_W(166,9007,4*2,1*2,StringDB('ESS1020')) -- ESS=出發嘍！
    ESC.WaitDLG(166)

    ACH.SetAchievement("ACH_0_1")

    ESC.TakeActData(166, -1, 52, 0)

    ESC.Unlock(166)
    ESC.Delay(600)
    GameFunc.FlagOn(103) -- 海戰
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()

    ESC.StoryMusic(0, 0, 0x8000)
    --  7088 ON 就是DEMO版
    if not GameFunc.GetFlag(7088) then goto NO_TEST_PLAY end -- 判斷是不是試玩版
    -----   ALPHA1 測試版到此
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL ( 1,9009,150,200,2*20,4,'%C5%S2'..StringDB('ESS1021')) -- ESS=　試玩版的部分到此為止，%N敬請期待後面...
    ESC.WaitDLG3(1)
    ESC.Delay(1000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 12)
    ESC.FadeWait()
    ESC.DLGClose(1)
    ESC.ScreenShow()
    ESC.PlayVedio('demo')

    ESC.GameOver(1)
    ESC.SceneBreak()

::NO_TEST_PLAY::
    ESC.MusicFadeMode(2 , 25)

    -- 送審版
    if DEMO_VERSION then
        ESC.DLGNoPass()
        ESC.DLGHoldTime(-1)
        ESC.DLGNoCloseKey()
        ESC.DLGNoFrame()
        Scene.Print_SL ( 1,9009,120,140,2*20,8*2,'%C5%S1'..StringDB('ESS8050')) -- ESS=此為軒轅劍參　歐洲試玩版，%N玩家試玩過...
        ESC.WaitDLG2(1)
        ESC.DLGClose(1)

        ESC.StoryMusicOff()
        ESC.GameOver(1)
        return
    end
    -----   ---------------------------------
    ESC.PlayVedio('out-sea')
    -----   ---------------------------------

    -- 換圖 -- 以下進入海戰戰場

    ESC.ChangeRoleMap(166, 110, 0 , 127, 112 , 503 , Const.STAND, 0)
    ESC.ChangeRoleMap( 7, 110, 0 , 50, 150 , 7 , Const.STAND, 0)
    ESC.Progress_Off()

    ESC.GotoMap(110, 125, 116, 1, 0, 3)
    Scene.SAR_CSEL(7, 0)
    ESC.ScreenShack(4 , 1, 1 , 0, 0 , -1, 1 , 0, 0, 0xFF00)
    MediaFunc.PlaySound(252)
    ESC.StoryMusicOff()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(1,    166, 135, 112)
    ESC.ChangeQQ(166, Const.STAND)
    ESC.AddHeadSign(166, 0)
    ESC.Delay(1200)
    ESC.DelHeadSign(166)
    ESC.TurnFace(166, 1)
    ESC.Caption(166)
    Scene.Print_W(166,9007,16,6,StringDB('ESS1022')) -- ESS=我以為他們是要來抓我們的！結果怎麼自己打...
    ESC.WaitDLG(166)
    ESC.TurnFace(1, 166)
    ESC.Caption(1)
    Scene.Print_W(1,9007,14,6,StringDB('ESS1023')) -- ESS=你先去船艙%N跟其他人躲起來！我去查查看...
    ESC.WaitDLG(1)
    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(1,    166, 135, 124)
    ESC.TurnFace(1, 166)
    ESC.BatchMove(1,    166, 129, 138)
    ESC.RoleDisable(166)
    ESC.ChangeDIR(1, 1)
    Scene.QuestOn(67)
    Scene.QuestOff(66)
    -- 關掉此地圖之傳送與隨機存檔
    ESC.TownTrans_Off(StringDB('ESS1024')) -- ESS=在海上無法傳送
    ESC.DungeonEsc_Off(StringDB('ESS1025')) -- ESS=此地無法使用
    Scene.MapBattleOff(24 ) -- 將教堂戰鬥關掉
    Scene.MapBattleOff(25)
    Scene.MapBattleOff(26)
    Scene.MapBattleOff(27)
    Scene.MapBattleOff(28)
    Scene.MapBattleOff(29)
    Scene.MapBattleOff(30)
    Scene.Heal()    -- ●賽特補血
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T462A::
end

function Scene.TALK463()
    Scene.ChangeMap(20, 121, 43, 1)
end

function Scene.TALK464()
    Scene.ChangeMap(90, 16, 20, 0)
    Scene.RoadFlag(StringDB('ESS1026')) -- ESS=護民官家２Ｆ
end

function Scene.TALK465()
    Scene.ChangeMap(89, 20, 30, 1)
    Scene.RoadFlag(StringDB('ESS1027')) -- ESS=護民官家１Ｆ
end


-- ───────────────────────────────────────────【壺中世界】

function Scene.TALK466()
    -- 船艙1 往甲板
    if GameFunc.GetFlag(130) then goto T466B end  -- 回到莉蓮死前的時間
    Scene.ChangeMap(131, 42, 42, 4)
    if not GameFunc.GetFlag(101) then return end
    if not GameFunc.GetFlag(260) then goto T466A end
    ESC.SceneBreak()

::T466B::
    if GameFunc.GetFlag(131) then goto T466C end -- 已回到現在
    if GameFunc.GetFlag(371) then goto T466D end -- 過去中,莉蓮被抓走
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 10, 0, -75, StringDB('ESS1028')) -- ESS=嗯～去看看莉蓮最後一面。
    ESC.WaitDLG(1)
    ESC.ChangeDIR(1, 1)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T466C::
    Scene.ChangeMap(131, 42, 42, 4)
    ESC.SceneBreak()
::T466D::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 10, 0, -75, StringDB('ESS1029')) -- ESS=不對！這跟本追不上康那里士。
    ESC.WaitDLG(1)
    ESC.TakeActData(1, -1, 52, 1)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)
    Scene.WORD_ON_HEAD(1, 10, 0, -75, '%C0'..StringDB('ESS1030')) -- ESS=那個%C2魔法陣%C0應該還可以傳送我。...
    ESC.RMUNlock()

    ESC.SceneBreak()
::T466A::
    ESC.RMLock()
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 40, 38)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(300)



    Scene.Nicole_On(32, 39, 5)

    ESC.TurnFace(1, 2)
    Scene.MBOn(2, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1031')) -- ESS=嘩，賽特賽特，%N你真的是%C7騎士%C...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 3)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1032')) -- ESS=又是妳呀……%N那只是一個%C7頭銜%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(4, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1033')) -- ESS=哇，你好厲害哦！%N人家好想多知道一點你...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(3, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1034')) -- ESS=我還有重要事情要去忙，%N妳特地跑出來，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂閉目
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(2, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1035')) -- ESS=不是啦！%N人家發現你身上有一個好漂漂的...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 3)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1036')) -- ESS=妳是說這個瓷壺啊…%N
    ESC.WaitDLG(1)



    ESC.ChangeHead(10001, 8, 10001, 2)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1037')) -- ESS=這是我從小就帶在身上的寶物，聽說是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)



    Scene.MBOn(4, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1038')) -- ESS=真的呀？%N這個瓷壺裏頭有一個%C7很大...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 1)


    Scene.Nicole_Off()
    ESC.ChangeQQ(1, Const.STAND)


--  （由壺中冒出同樣的金色光芒籠罩賽特，賽特的靈魂也連同金光被吸進去）
--  （壺落在地下，倒地，賽特也正面倒地，伏在地上）
--  （畫面一閃，賽特出現在壺中世界）



    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 370 , 220 , 6502 , 0)
    ESC.TILPA2(0, 6)
    ESC.RoleHide(1)
    ESC.TILPA2(0, 20)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()



    ESC.GotoMap(22 , 38 , 66, 1, 0, 1)


    ESC.StoryMusic(35, 35, 0x8000) -- 【劇情配樂】沈默與恐懼

    ESC.RoleHide(1)
    ESC.RoleMove(99, 35, 75)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 315 , 230 , 6502 , 0)
    ESC.TILPA2(0, 6)
    ESC.RoleShow(1)
    ESC.TILPA2(0, 20)


    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(5, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1039')) -- ESS=這是什麼地方？%N妳到底給我又做了什麼事...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10001, 4)


    Scene.MBOn(4, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1040')) -- ESS=這就是人家說的%C7瓷壺裏的世界%C5嘛...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)



    ESC.ChangeQQ(99, Const.WALK)
    ESC.RMUNlock()

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)

    GameFunc.FlagOff(10)
    ESC.SetMoveHISpeed(99)
    ESC.BatchMove(1,    99, 56, 57)
    ESC.SetMoveHISpeed(99)
    ESC.BatchMove(1,    99, 61, 45)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangeDIR(99, 6)
    ESC.Unlock(99)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)

    ESC.StoryMusicOff()


end

function Scene.TALK467()
    -- 船艙2 往船艙1
    if GameFunc.GetFlag(209) then
        GameFunc.FlagOff(209)
        Scene.ChangeMap(111, 66, 5, 4)
        return
    end
    Scene.ChangeMap(132, 8, 32, 0)
end

function Scene.TALK468()
    -- 船艙1 往船艙2
    Scene.ChangeMap(133, 8, 9, 1)
end

function Scene.TALK469()
    Scene.ChangeMap(96, 19, 25, 4)
    Scene.RoadFlag(StringDB('ESS884')) -- ESS=　民房２Ｆ
end

function Scene.TALK470()
    Scene.ChangeMap(94, 19, 17, 1)
    Scene.RoadFlag(StringDB('ESS885')) -- ESS=　民房１Ｆ
end

function Scene.TALK471()
    if GameFunc.GetFlag(7001) then return end
    ESC.RMLock()
    ESC.TakeActData(1 , 1 , 0 , 0) -- ESC.ChangeQQ(1, Const.STAND 黃志榮 991101改)
    MediaFunc.PlaySound(6)
    Scene.WORD_ON_HEAD(1, 5, 20, -65, StringDB('ESS1041')) -- ESS=這.....
    ESC.WaitDLG(1)
    ESC.TakeActData(1, -1, 68, 1)
    ESC.SetRoleSpeed(1, 4)
    ESC.BatchMove(1,    1, 35, 44)
    ESC.TakeActData(1, -1, Const.STAND, 0)
    ESC.StartBattle('BS16')
    GameFunc.FlagOn(7001)
    ESC.RoleDisable(471)
end

function Scene.TALK472()
    -- 海盜船甲板往海洞
    Scene.ChangeMap(130, 77, 32, 1)
end

function Scene.TALK473()
    -- 海盜船甲板往船艙
    Scene.ChangeMap(132, 9, 9, 1)
end

function Scene.TALK474()
    -- 修道院出口
    if not GameFunc.GetFlag(102) then return end
    Scene.ChangeMap(98, 11, 23, 3)
end

function Scene.TALK475()
    --  小狗的寶物
    if not GameFunc.GetFlag(7011) then return end
    MediaFunc.PlaySound(193)
    Scene.GetItem(768, StringDB('ESS1042') ) -- 得倒兩張空白符 ESS=兩張%T768.
    ItemFunc.AddItem(768, 1) -- Scene.GetItem(已經給一張了)
    GameFunc.FlagOff(7011)
    Scene.QuestOff(58)
end

function Scene.TALK476()
    -- 修道院洞天寶箱控制
    GameFunc.FlagOn(307) -- 寶箱可以打開
end

function Scene.TALK477()
    -- 修道院洞天寶箱控制
    GameFunc.FlagOff(307) -- 寶箱不能打開
end

function Scene.TALK478()
    -- 教堂外井內物品控制
    ESC.RoleDisable(137)
    ESC.RoleDisable(140)
    GameFunc.FlagOff(252)
end



function Scene.TALK481()
    -- 大地圖進青苔迷宮
    if not GameFunc.GetFlag(101) then goto T481 end
    if GameFunc.GetFlag(211) then goto T481 end
    Scene.MoveHero(12, 71, 1)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS1043')) -- ESS=騎士團士兵四處在找我和異教徒,還是先趕快...
    ESC.SceneBreak()
::T481::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(117 , 37 , 137 , 1, 0, 7) -- 步行
    GameFunc.FlagOn(19)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK482()
    -- 青苔石迷宮2->青苔石迷宮1
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(117 , 132 , 89 , 1, 0, 6) -- 步行
    GameFunc.FlagOn(19)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK483()
    -- 青苔石迷宮1-大地圖
    Scene.OutCity(10, 11, 71, 1)
end

function Scene.TALK484()
    -- 青苔石迷宮1->青苔石迷宮2
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(118 , 17 , 123 , 1, 0, 7) -- 步行
    GameFunc.FlagOn(19)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK485()
    -- 下水道
    if not GameFunc.GetFlag(202) then return end
    if not GameFunc.GetFlag(110) then return end
    if GameFunc.GetFlag(111) then return end
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 72, 86)
    ESC.TakeActData(1, 1, 0, 3)
    Scene.OpenGlassUp(8)
    Scene.AddPicture3(1, 1)
    Scene.Glass_SRC1(1, StringDB('ESS1044')) -- ESS=薇達，我們走吧！
    Scene.DelPicture(1, 1)
    Scene.CloseGlassUp()
    ESC.AddParty(3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 74, 91)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.RoleDisable(3)
    Scene.BattleSupportOn(3) -- 薇達
    GameFunc.FlagOff(202)
    ESC.GotoMap(140, 48, 9, 96, 0, 1)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK486()
    -- 青苔迷宮的門
    if GameFunc.GetFlag(7036) then return end
    Scene.WORD_ON_HEAD(1, 5, 0, -65, StringDB('ESS1045')) -- ESS=一道石牆擋住
end



-- 音樂階梯
function Scene.TALK487()
    MediaFunc.PlaySound(281) -- DO
    Scene.SetGameValue(62, 0)
end
function Scene.TALK488()
    MediaFunc.PlaySound(282) -- CI
    Scene.SetGameValue(62, 0)
end
function Scene.TALK489()
    MediaFunc.PlaySound(285) -- LA
    if GameFunc.GetFlag(7040) then
        -- LA
        Scene.VCJE(4, 5)
        Scene.VCJE(5, 6)
        Scene.SetGameValue(62, 0)
        ESC.SceneBreak()
    end
    Scene.SetGameValue(62, 0)
end
function Scene.TALK490()
    MediaFunc.PlaySound(288) -- SO
    if GameFunc.GetFlag(7040) then
        -- SO
        Scene.VCJE(2, 3)
        Scene.VCJE(3, 4)
        Scene.VCJE(6, 7)
        Scene.SetGameValue(62, 0)
        ESC.SceneBreak()
    end
    if Scene.GetGameValue(62) >= 1 then goto T490A end

::T490B::
    Scene.SetGameValue(62, 1)
    ESC.SceneBreak()
::T490A::
    Scene.VCJE(10, 11)
    Scene.VCJE(11, 12)
    if Scene.GetGameValue(62) <= 12-1 then goto T490B end
    if Scene.GetGameValue(62) >= 12+1 then goto T490B end
    ESC.ChangeQQ(59986, 8)
    Scene.SetGameValue(62, 0)
end
function Scene.TALK491()
    MediaFunc.PlaySound(284) -- FA
    if GameFunc.GetFlag(7040) then
        -- FA
        Scene.VCJE(7, 8)
        Scene.VCJE(8, 9)
        Scene.SetGameValue(62, 0)
        ESC.SceneBreak()
    end
    Scene.VCJE(3, 4)
    Scene.VCJE(9, 10)
    Scene.SetGameValue(62, 0)
end
function Scene.TALK492()
    MediaFunc.PlaySound(286) -- MI
    if GameFunc.GetFlag(7040) then
        -- MI
        Scene.VCJE(9, 10)
        Scene.VCJE(10, 11)
        Scene.SetGameValue(62, 0)
        ESC.SceneBreak()
    end
    Scene.VCJE(1, 2)
    Scene.VCJE(2, 3)
    Scene.VCJE(8, 9)
    Scene.SetGameValue(62, 0)
end
function Scene.TALK493()
    MediaFunc.PlaySound(287) -- RE
    if GameFunc.GetFlag(7040) then
        -- RE
        Scene.VCJE(11, 12)
        Scene.VCJE(12, 13)
        Scene.SetGameValue(62, 0)
        ESC.SceneBreak()
    end
    Scene.VCJE(4, 5)
    Scene.VCJE(5, 6)
    Scene.VCJE(7, 8)
    Scene.SetGameValue(62, 0)
end
function Scene.TALK494()
    MediaFunc.PlaySound(283) -- DO
    if GameFunc.GetFlag(7040) then
        -- DO
        if Scene.GetGameValue(62) >= 1 then goto T2_494C end

        Scene.SetGameValue(62, 1)
        ESC.SceneBreak()
    end
    Scene.VCJE(6, 7)

    Scene.SetGameValue(62, 0)
    ESC.SceneBreak()

::T2_494B::
    Scene.SetGameValue(62, 1)
    ESC.SceneBreak()
::T2_494C::
    Scene.VCJE(1, 2)
    if Scene.GetGameValue(62) <= 13-1 then goto T2_494B end
    if Scene.GetGameValue(62) >= 13+1 then goto T2_494B end
    ESC.ChangeQQ(59985, 8)
    Scene.SetGameValue(62, 0)
end

-- ──────────────────────────────────────────【魔界的商人】


function Scene.TALK495()
    if GameFunc.GetFlag(7004) then goto T495A end

    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(2)
    Scene.Print_W(1,9007,5*2,2*2,StringDB('ESS1046')) -- ESS=賽特！%N賽特！
    ESC.WaitDLG(1)


    Scene.Nicole_On(154, 134, 6)

    ESC.TurnFace(1, 2)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1047')) -- ESS=妳不是在壺裏待得好好的嗎，%N什麼事又突...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1048')) -- ESS=沒有啦！%N人家感覺到有%C7魔界商人%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)


    ESC.TurnFace(1, 2)
    ESC.Delay(300)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1049')) -- ESS=魔界商人？%N在哪裏？%N我沒看到任何人...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 9)

    ESC.Delay(200)


    Scene.MBOn(4, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1050')) -- ESS=這邊%C7魔界商人%C5的商店，就附在你...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1051')) -- ESS=那我要用什麼跟他買？%N有沒有什麼危險或...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1052')) -- ESS=沒有危險啦！%N你用一般的%C7銀子%C...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)

    Scene.Nicole_Off()


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1053')) -- ESS=真是的…%N好像自從遇到她之後，我就老碰...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 1)



    GameFunc.FlagOn(7004) -- 石獅子買賣開關打開


::T495A::
end

function Scene.TALK496()
    -- 威尼斯廣場右出口
    Scene.OutCity(10, 75, 44, 1)
end

function Scene.TALK497()
    local select
    -- 音樂寶箱
    if Scene.CheckQQ(59986, 8) then goto T497A end
    Scene.MoveHero(23, 37, 0)
    Scene.SetGameValue(62, 0)
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS1054')..'%N'..StringDB('SESS2')) -- ESS=寶箱鎖住了，旁邊似乎有旋鈕開關。%N要按...
    select = ESC.GetBTNSelect()
    if select ~=1 then
        ESC.SceneBreak()
    end

::T497ES::
    ESC.MusicFadeMode(2 , 60)
    ESC.Delay(1000)
    MediaFunc.PlaySound(289) -- 音樂提示
    ESC.Delay(4000)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(500)
    Scene.TIK()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS1055')) -- ESS=按下後旋鈕發出的聲音，似乎跟前面的地板有...
    ESC.SceneBreak()
::T497A::
    if GameFunc.GetFlag(7040) then ESC.SceneBreak() return end
    GameFunc.FlagOn(7040)
    Scene.GetItem(644, '%T644.') -- ＊還魂單
    ESC.Delay(1000)
    ESC.ChangeQQ(59985, 16)
    Scene.SAR_Shadow(59985, 0) -- 把影子去掉
    ESC.RoleEnable(59985) -- 出現第二寶箱
    ESC.TILPA1(59985, 5)
    Scene.SAR_Shadow(59985, 1) -- 把影子加上
    ESC.TILPA1(59985, 8-5)
    ESC.ChangeQQ(59985, 0)
    ESC.TurnFace(1, 59985)
    ESC.Delay(500)
    Scene.TIK()
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS1056')) -- ESS=耶！又出現另一個寶箱？
end

function Scene.TALK498()
    -- 音樂寶箱
    if Scene.CheckQQ(59985, 8) then goto T498A end
    Scene.MoveHero(16, 41, 0)
    ESC.Caption(1)
-- Scene.M_Print(1, "寶箱鎖住了，而旋鈕似乎壞掉了，旁邊刻有一些模糊數字1155665...。")
    Scene.M_Print(1, StringDB('ESS1057')) -- ESS=這寶箱鎖住了，不過旁邊好像刻有一些模糊數...
    Scene.SetGameValue(62, 0)
    ESC.MusicFadeMode(2 , 60)
    ESC.SceneBreak()
::T498A::
    if GameFunc.GetFlag(7041) then goto T498B end
    GameFunc.FlagOn(7041)
    Scene.GetItem(768, '%T768.') -- ＊空白符
    ACH.SetAchievement("ACH_8_3")
::T498B::
end

function Scene.TALK499()
    -- 大地圖上擋起處
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 5, 30, -55, StringDB('ESS1058')) -- ESS=這個洞塌了。
    ESC.WaitDLG(1)
    ESC.RMUNlock()

end


-- ────────────────────────────────────────【妮可再度出現】

function Scene.VEN()
    -- 賽特剛出教堂
    ESC.RMLock()
    ESC.Delay(500)



    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1059')) -- ESS=剛才那些囚犯說騎士團要在%C7威尼斯廣場...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特按下巴
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)


    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)
    Scene.QuestOn(61)

    if GameFunc.GetFlag(278) then goto VEN_0A end
    Scene.Nicole_On(53, 113, 6 ) -- 妮可跳出來
    goto VEN_0B



::VEN_0A::
    Scene.Nicole_On(81, 101, 6)
::VEN_0B::


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1060')) -- ESS=賽特賽特！%N你要去救人是嗎？
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 3)
    ESC.TurnFace(1, 2)
    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1061')) -- ESS=哇！
    ESC.WaitDLG(1)


    ESC.MusicFadeMode(2, 90) -- 【淡出模式】
    ESC.StoryMusic(37, 37, 0x8000) -- 【劇情配樂】妮可



    ESC.DelHead(10001, 9)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1062')) -- ESS=喂，妳跟著我幹什麼？
    ESC.WaitDLG(1)



    ESC.DelHead(10002, 0)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1063')) -- ESS=人家就是來找你呀！
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1064')) -- ESS=找我？%N妳找我幹什麼？
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 2)
    Scene.AddHead(10002, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1065')) -- ESS=嗯，人家也不知道耶，反正就是%C7撒旦%...
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 5)
    Scene.AddHead(10001, 9, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1066')) -- ESS=撒旦？%N妳是說…那個大魔王%C7撒旦%...
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 0)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1067')) -- ESS=你看，你明明知道的嘛！
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 9)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1068')) -- ESS=我這個人從來一向不信什麼神和惡魔的，為什...
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 2)
    Scene.AddHead(10002, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1069')) -- ESS=人家也不曉得，反正就是撒旦大人叫人家來幫...
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 5)
    Scene.AddHead(10001, 1, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1070')) -- ESS=我可不需要撒旦什麼的幫忙，妳可以回去了！...
    ESC.WaitDLG(1)



    ESC.DelHead(10002, 0)
    Scene.AddHead(10002, 4, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1071')) -- ESS=不行，%N撒旦大人叫我要緊緊一直跟著你，...
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 1)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1072')) -- ESS=回去！給我走開！%N少纏著我！
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 4)
    Scene.AddHead(10002, 10, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1073')) -- ESS=不走！%N人家就是不走開，%N人家就是要...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1074')) -- ESS=走開！%N
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 10)
    Scene.AddHead(10002, 4, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1075')) -- ESS=不走！%N
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 5)
    Scene.AddHead(10001, 7, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1076')) -- ESS=算了算了，妳要跟就跟，%N我最討厭和女人...
    ESC.WaitDLG(1)


    ESC.DelHead(10001, 7)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1077')) -- ESS=不過先聲明在先，這可是妳自己要跟的不是我...
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 4)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1078')) -- ESS=嗯～～%N太好了！太好了！%N妮可贏了！...
    ESC.WaitDLG(1)

    ESC.MBOff(3, 1) -- 關閉透明框
    ESC.MBOff(2, 0) -- 關閉透明框
    ESC.DelHead(10002, 2) -- 清除人頭圖
    ESC.DelHead(10001, 5)


    Scene.Nicole_Off()
    ESC.Delay(300)

    if GameFunc.GetFlag(278) then goto VEN_1 end
    Scene.MoveHero(49, 124, 1)

    goto VEN_2
::VEN_1::
    Scene.MoveHero(70, 80, 2)

::VEN_2::
    ESC.Delay(500)


    ESC.ChangeDIR(1, 2) -- 賽特按下巴
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1079')) -- ESS=對了，%N我差點忘了一件事情……
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1080')) -- ESS=妮可，妮可，%N妳還在嗎？
    ESC.WaitDLG(1)



    if GameFunc.GetFlag(278) then goto VEN_2A end
    Scene.Nicole_On(54, 123, 6)
    goto VEN_2B
::VEN_2A::
    Scene.Nicole_On(67, 77, 5)
::VEN_2B::
    ESC.Delay(200)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1081')) -- ESS=賽特！%N什麼事？
    ESC.WaitDLG(1)


    ESC.TurnFace(1, 2)
    ESC.Delay(500)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1082')) -- ESS=妳自己說要幫我的忙，%N那妳會戰鬥嗎？
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 2)
    Scene.AddHead(10002, 10, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1083')) -- ESS=當然會啊！%N你要和誰戰鬥哇？
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1084')) -- ESS=等會兒我要去救一些阿拉伯人，%N可能會遇...
    ESC.WaitDLG(1)


    ESC.DelHead(10002, 10)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1085')) -- ESS=沒問題！%N這一種小事，妮可幫得上賽特的...
    ESC.WaitDLG(1)

    ESC.MusicFadeMode(1, 45) -- 【淡出】
    ESC.StoryMusicOff()

    ESC.MBOff(1, 1) -- 關閉透明框
    ESC.MBOff(2, 0) -- 關閉透明框
    ESC.DelHead(10001, 1) -- 清除人頭圖
    ESC.DelHead(10002, 2) -- 清除人頭圖

    Scene.Nicole_Off()
    ESC.RMUNlock()
    Scene.AddMainParty(2) -- 妮可加入


    -- 把路人移到火刑場
    if GameFunc.GetFlag(101) then ESC.SceneBreak() end
    if not GameFunc.GetFlag(100) then ESC.SceneBreak() end
    ESC.RoleEnable(336)
    ESC.RoleEnable(337)
    ESC.RoleDisable(2)
    ESC.RoleDisable(5)
    ESC.RoleEnable(252)
    ESC.RoleEnable(253)

    ESC.RoleEnable(203)
    ESC.RoleEnable(204)
    ESC.RoleEnable(199)
    ESC.RoleEnable(200)

    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)
    ESC.RoleEnable(232)
    ESC.RoleEnable(233)
    ESC.RoleEnable(234)
    ESC.RoleEnable(235)
    ESC.RoleEnable(7)
    ESC.RoleEnable(104)
    ESC.RoleEnable(158)
    ESC.RoleEnable(161)
    ESC.RoleEnable(165)
    ESC.RoleEnable(4)

    ESC.ChangeRoleMap(4, 20, 4, 90, 64 , 4, Const.WALK, 3)

    ESC.RoleMove(102,75,75)
    ESC.RoleMove(105,79,78)
    ESC.RoleMove(112,78, 82)
    ESC.RoleMove(103,98, 61)
    ESC.RoleMove(124,100, 76)
    ESC.RoleMove(106,99,80)
    ESC.RoleMove(108,96,84)
    ESC.RoleMove(109,80,85)
    ESC.RoleMove(117,91,84)
    ESC.RoleMove(119,83,83)
    ESC.RoleMove(128,86,86)

    ESC.ChangePath(102, 0)
    ESC.ChangePath(105, 0)
    ESC.ChangePath(112, 0)
    ESC.ChangePath(103, 0)
    ESC.ChangePath(124, 0)
    ESC.ChangePath(106, 0)
    ESC.ChangePath(108, 0)
    ESC.ChangePath(109, 0)
    ESC.ChangePath(117, 0)
    ESC.ChangePath(119, 0)
    ESC.ChangePath(128, 0)

    ESC.ChangeDIR(102, 3)
    ESC.ChangeDIR(105, 3)
    ESC.ChangeDIR(112, 3)
    ESC.ChangeDIR(103, 1)
    ESC.ChangeDIR(124, 2)
    ESC.ChangeDIR(106, 2)
    ESC.ChangeDIR(108, 0)
    ESC.ChangeDIR(109, 0)
    ESC.ChangeDIR(117, 0)
    ESC.ChangeDIR(119, 0)
    ESC.ChangeDIR(128, 0)

    ESC.ChangeQQ(102, Const.STAND)
    ESC.ChangeQQ(105, Const.STAND)
    ESC.ChangeQQ(112, Const.STAND)
    ESC.ChangeQQ(103, Const.STAND)
    ESC.ChangeQQ(124, Const.STAND)
    ESC.ChangeQQ(106, Const.STAND)
    ESC.ChangeQQ(108, Const.STAND)
    ESC.ChangeQQ(109, Const.STAND)
    ESC.ChangeQQ(117, Const.STAND)
    ESC.ChangeQQ(119, Const.STAND)
    ESC.ChangeQQ(128, Const.STAND)

    ESC.RoleMove(206, 11, 21)
    ESC.ChangeRoleMap(5, 20, 0 , 104, 80 , 5, 32, 3)
    ESC.ChangeRoleMap(2, 20, 0 , 75, 60 , 2, Const.STAND, 5)

end



function Scene.TALK501()
    -- 主船艙往船艙1
    Scene.ChangeMap(132, 16, 16, 1)
end
    ------------------------
function Scene.TALK502()
    -- 船艙1往主船艙
    Scene.ChangeMap(42, 11, 30, 0)
end
    ------------------------
function Scene.TALK503()
    -- 城堡長廊往大廳
    if GameFunc.GetFlag(223) then goto T503A end
    Scene.ChangeMap(148, 42, 59, 0)
    Scene.RoadFlag(StringDB('ESS1086')) -- ESS=　城堡大廳
    ESC.SceneBreak()
::T503A::   -- 側梯長廊往頂層
    Scene.ChangeMap(168, 13, 24, 1)
    Scene.RoadFlag(StringDB('ESS1087')) -- ESS=　城堡頂層
    GameFunc.FlagOff(223)
end


-- ──────────────────────────────────────【悲憤的藍魔神】


function Scene.TALK504()
    -- 城堡大廳往城外樓梯
    if GameFunc.GetFlag(7042) then goto T504A end
    if not GameFunc.GetFlag(310) then goto T504 end
    Scene.ChangeMap(149, 25, 36+4, 0)
::T504::
    ESC.SceneBreak()


::T504A::
    GameFunc.FlagOn(10)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()

    ESC.ScreenHide()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()


    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】無



    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL(1,9009,120,200,2*14,2,'%C5%S1'..StringDB('ESS1088')) -- ESS=就在同一個時候，移動島的海灘上……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 15)
    ESC.FadeWait()


    ESC.ScreenHide()
    ESC.GotoMap(139 , 2, 3 , 1, 0, 5)
    ESC.RoleHide(1)
    ESC.RoleHide(3)

    ESC.ScreenShow()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()
    ESC.Delay(300)



    ESC.PlayACT(0, 0, 0, 8026, 0)
    ESC.TILPA2(0, 40)
    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 315, 240, 6011, 1)
    ESC.TILPA2(0, 10)
    ESC.RoleEnable(13)
    ESC.TILPA2(0, 26)



    Scene.MBOn(8, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1089')) -- ESS=很好，%C7波西頓%C5！%N你這小子竟...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10013, 1)



    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 315, 240, 6011, 1)
    ESC.PlayACT(0, 0, 0, 8026, 1)
    ESC.TILPA2(0, 7)
    ESC.RoleDisable(13)
    ESC.TILPA2(0, 40)

    ESC.Delay(1000)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.SceneMusic(170, 65, 65, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島庭院）
    ESC.SceneMusic(149, 65, 65, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳）



    ESC.GotoMap(149 , 25, 40 , 1, 0, 0)
    ESC.RoleShow(3)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()

    GameFunc.FlagOff(7042)
    GameFunc.FlagOff(10)
end



-- ──────────────────────────────────────【移動島城堡開關】


function Scene.TALK505()
    -- 城堡大廳接城堡內迷宮
    Scene.ChangeMap(150, 99, 161, 0)
    Scene.RoadFlag(StringDB('ESS1090')) -- ESS=　城堡２樓
end
    ------------------------
function Scene.TALK506()
    -- 城堡機關接城堡內迷宮2
    Scene.ChangeMap(152, 265, 47, 1)
    Scene.RoadFlag(StringDB('ESS1091')) -- ESS=　城堡３樓
end
    ------------------------
function Scene.TALK507()
    -- 城堡機關接城堡頂層
    if GameFunc.GetFlag(304) then goto T507 end





    ESC.ChangeRoleMap(4, 168, 0, 49, 37, 4, 60 , 2) -- 將麥爾斯移到城堡頂層
    ESC.RoleEnable(4)
    ESC.ChangeRoleMap(5, 168, 0, 47, 30, 5, 32 , 1) -- 將莉蓮移到城堡頂層
    ESC.RoleEnable(5)
    ESC.ChangeRoleMap(7, 168, 0, 44, 37, 7, Const.STAND, 3) -- 將康那里士移到城堡頂層
    ESC.RoleEnable(7)


    ESC.ChangeRoleMap( 2, 168, 0 , 51, 63 , 2 , Const.STAND, 6) -- 將妮可移到城堡頂層
    ESC.ChangeRoleMap(30, 170, 0 , 93, 48 , 30 , Const.STAND, 2) -- 將波爾移至莉蓮的墓旁
    GameFunc.FlagOn(304)
::T507::
    Scene.ChangeMap(168, 46, 69, 0)
    Scene.RoadFlag(StringDB('ESS1087')) -- ESS=　城堡頂層
end
    ------------------------
function Scene.TALK508()
    -- 頂層入口接機關
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂
    Scene.ChangeMap(167, 77, 13, 1)
    Scene.RoadFlag(StringDB('ESS1092')) -- ESS=　城堡４樓
end


    ------------------------
    ------------------------
function Scene.TALK510()
    -- 頂層出口
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂
    Scene.ChangeMap(146, 96, 17, 6)
    Scene.RoadFlag(StringDB('ESS1093')) -- ESS=城堡側邊走廊
    GameFunc.FlagOn(223)
end
    ------------------------
function Scene.TALK511()
    -- 花園往城外樓梯
    Scene.ChangeMap(149, 114, 58, 2)
end
    ------------------------
function Scene.TALK512()
    -- 城堡外接城堡大地圖
    if GameFunc.GetFlag(110) then goto T512 end
    if not GameFunc.GetFlag(106) then goto T512 end
    Scene.OutCity(141, 36, 28, 1)
    ESC.SceneBreak()
::T512::
    if Scene.CheckParty(3) then goto T512A end
    Scene.OutCity(140, 36, 28, 1 ) -- 沒冰山的那張
    ESC.SceneBreak()
::T512A::   -- 薇達成為NPC
    Scene.OutCity_WIDAD(140, 36, 28, 1 ) -- 沒冰山的那張
end
    ------------------------
function Scene.TALK513()
    -- 移動島外接城堡側邊
    if not GameFunc.GetFlag(7030) then Scene.TALK518() return end
    if Scene.CheckParty(3) then goto T513 end
    Scene.EnterCity(169, 16, 55, 0)
    Scene.RoadFlag(StringDB('ESS1094')) -- ESS=　 城堡左側
    ESC.SceneBreak()
::T513::
    Scene.EnterCity_WIDAD(169, 16, 55, 0)
    Scene.RoadFlag(StringDB('ESS1094')) -- ESS=　 城堡左側
end
    ------------------------

function Scene.TALK517()
    -- 城堡大廳街長廊
    Scene.ChangeMap(147, 96, 17, 6)
    Scene.RoadFlag(StringDB('ESS1095')) -- ESS=　城堡走廊
end


-- ───────────────────────────────────────【麥爾斯逃入城堡】

function Scene.TALK518()

    if not GameFunc.GetFlag(7030) then goto T518A end
    if Scene.CheckParty(3) then goto T518_1 end
    Scene.EnterCity(145, 58, 85, 0)
    Scene.RoadFlag(StringDB('ESS1096')) -- ESS= 移動島城堡
    ESC.SceneBreak()

::T518_1::
    Scene.EnterCity_WIDAD(145, 58, 85, 0)
    Scene.RoadFlag(StringDB('ESS1096')) -- ESS= 移動島城堡
    ESC.SceneBreak()

    -- ******************************************************

::T518A::
-- ──────────────────────────────────────【英勇的麥爾斯】

    GameFunc.FlagOn(10)
    GameFunc.FlagOn(7030)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(145, 58 , 80 , 4, Const.WALK , 0)


    ESC.MusicFadeMode(2, 5)
    ESC.StoryMusic(124, 25, 0x8000) -- 【劇情配樂】晴天霹靂


    ESC.ScrollMapD(34, 47, 16, 16) -- Scene.ScrollMapD(40, 47, 16, 16)
    ESC.ScrollMapWait()
    ESC.ScreenLock()

    ESC.RoleMove(4, 60, 92)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()

    ESC.ScrollMapD(34, 37, 2, 2) -- Scene.ScrollMapD(40, 37, 2, 2)

    ESC.SetRoleSpeed(322, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.SetRoleSpeed(320, 1)
    ESC.SetRoleSpeed(321, 1)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetMoveHISpeed(322)
    ESC.SetMoveHISpeed(323)
    ESC.SetMoveHISpeed(320)
    ESC.SetMoveHISpeed(321)
    ESC.SetMoveHISpeed(1)

    -- 先讓麥爾斯走到一半

    Scene.BatchWlak({ {1, 59, 63,-1,0},{322,57,60,-1,0},{323,60,57,-1,0},{320,58,57,-1,0},{321,61,60,-1,0} })

    ESC.TakeActData(1, -1, 0, 0) -- 麥爾斯到之後轉身

    ESC.OnHead(0, -120)

    ESC.ChangeDIR(323, 4)
    ESC.ChangeDIR(321, 4)


    ESC.DLGNoCloseKey() ESC.DLGHoldTime(10)
    ESC.Caption(4)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS1097')) -- ESS=其他人都進去了，你們也趕快逃進去，我來負...
    ESC.WaitDLG(1)

    ESC.TakeActData(322, -1, 0, 1) -- 左側擲斧士兵
    ESC.TakeActData(323, -1, 0, 1) -- 右後小隊長
    ESC.TakeActData(320, -1, 0, 1) -- 左後小隊長
    ESC.TakeActData(321, -1, 0, 1) -- 右側擲斧士兵

    ESC.TurnFace(322, 1) -- 左側擲斧士兵

    ESC.Delay(300)



    ESC.Caption(189)
    Scene.Print_W(322,9007,7*2,2*2,StringDB('ESS1098')) -- ESS=麥爾斯大人…那…那您呢？
    ESC.WaitDLG(322)


    ESC.Caption(4)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS1099')) -- ESS=別管我了！%N你們快走就對了，這是命令！...
    ESC.WaitDLG(1)



    ESC.Caption(189)
    Scene.Print_W(322,9007,6*2,2*2,StringDB('ESS1100')) -- ESS=隊長…麥爾斯隊長…！
    ESC.WaitDLG(322)



    ESC.Caption(4)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS1101')) -- ESS=還可是、可是什麼？%N快進去呀！敵人就要...
    ESC.WaitDLG(1)



    ESC.TakeActData(322, -1, 8, -1)
    ESC.TakeActData(323, -1, 8, -1)
    ESC.TakeActData(320, -1, 8, -1)
    ESC.TakeActData(321, -1, 8, -1)

    ESC.SetRoleSpeed(322, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.SetRoleSpeed(320, 1)
    ESC.SetRoleSpeed(321, 1)
    ESC.SetMoveHISpeed(322)
    ESC.SetMoveHISpeed(323)
    ESC.SetMoveHISpeed(320)
    ESC.SetMoveHISpeed(321)

    -- 士兵先逃走
    ESC.SetPos(322,58,48) ESC.SetPos(323,60,48)
    ESC.SetPos(320,58,48) ESC.SetPos(321,60,48)


::T518_2::
    ESC.BatchStep( 4,   322, 323, 320, 321)
    if not ESC.RoleReach(322) then goto T518_5 end
    ESC.RoleDisable(322)
::T518_5::
    if not ESC.RoleReach(323) then goto T518_6 end
    ESC.RoleDisable(323)
::T518_6::
    if not ESC.RoleReach(321) then goto T518_7 end
    ESC.RoleDisable(321)
::T518_7::
    if not ESC.RoleReach(320) then goto T518_8 end
    ESC.RoleDisable(320)
::T518_8::
    if not ESC.IsAllReach() then
        goto T518_2
    end

    ESC.ScrollMap(0 , 18 , 0 , 8) --     麥爾斯移到這裏
    ESC.TakeActData(4 , 4, 0, 0)
    ESC.ChangeRoleMap(4, 145, 0 , 59, 63, 4, Const.STAND, 0)
    ESC.RoleEnable(4)
    ESC.RoleShow(4)
    ESC.RoleHide(1)
    ESC.ChangeRoleMap(621, 145, 0 , 1, 1, 414, Const.STAND, 6) -- 護民官搬雍來
    ESC.RoleEnable(621)
    ESC.TakeActData(621, 414, 0, 0)

    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.RoleEnable(329)
    ESC.RoleEnable(330)
    ESC.RoleShow(621)
    ESC.RoleMove(621, 59, 88)

    ESC.ScreenLock()
    ESC.ScrollMapWait()

    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(328, 01)
    ESC.SetRoleSpeed(329, 1)
    ESC.SetRoleSpeed(330, 1)
    ESC.SetRoleSpeed(621, 1)
    ESC.SetMoveHISpeed(327)
    ESC.SetMoveHISpeed(328)
    ESC.SetMoveHISpeed(329)
    ESC.SetMoveHISpeed(330)
    ESC.SetMoveHISpeed(621)

    ESC.BatchMove(5,
    621, 59, 73,
    327, 56, 75,
    328, 60, 75,
    330, 56, 78,
    329, 60, 78)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(121, 25, 0x8000) -- 【劇情配樂】拔劍


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1102')) -- ESS=該死的混帳騎士們！%N你們還想走哪去──...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10095, 9)


    ESC.Delay(800)
    ESC.ChangeDIR(4 , 1)
    ESC.WaitDLG(621)

    ESC.BatchMove(2,
    327, 57, 70,
    328, 60, 70)
    ESC.Delay(100)
    ESC.SetMoveHISpeed(3)
    ESC.SetPos(4, 59, 62)




    ESC.ChangeQQ(4, 52)
::T518_JM::
    ESC.BatchStep( 1,   4)
    if not ESC.RoleReach(4) then goto T518_JM end

    ESC.OnHead(-64, -84) ESC.FitSize()
    ESC.DLGNoCloseKey() ESC.DLGHoldTime(8)
    Scene.Print_W(4,9007,3*2,1*2,'%K'..StringDB('ESS1103')) -- ESS=哼……
    ESC.WaitDLG(4)
    ESC.Delay(400)


    ESC.Unlock(4)

    ESC.TakeActData(4, -1, 32, 0) -- 麥爾斯拔劍
    ESC.TILPA1(4, 6)

    ESC.Delay(600)


    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1104')) -- ESS=有膽的人就上啊！%N我麥爾斯人堂堂在此，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10004, 0)

    ESC.SetRoleSpeed(4, 4)
    ESC.SetMoveHISpeed(2)
    ESC.Delay(450)
    ESC.TakeActData(4, -1, 30, 0)
    ESC.BatchMove(1,    4, 59, 59)


    ESC.BatchMove(1,    4, 59, 48)
    ESC.RoleDisable(4)


    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(328, 1)
    ESC.SetRoleSpeed(329, 1)
    ESC.SetRoleSpeed(330, 1)
    ESC.SetRoleSpeed(621, 1)

    ESC.SetMoveHISpeed(327)
    ESC.SetMoveHISpeed(328)
    ESC.SetMoveHISpeed(329)
    ESC.SetMoveHISpeed(330)
    ESC.SetMoveHISpeed(621)

    ESC.SetPos(327, 56, 52+10)
    ESC.SetPos(328, 62, 54+10)
    ESC.SetPos(329, 61, 48+10)
    ESC.SetPos(621, 59, 59+10)
    ESC.SetPos(330, 57, 49+10)

::T518_9::
    ESC.BatchStep( 5,   327, 621, 328, 329, 330)
    if not ESC.RoleReach(621) then goto T518_10 end
    if GameFunc.GetFlag(7014) then goto T518_10 end
    GameFunc.FlagOn(7014)



    ESC.RoleMove(1, 59, 88)
    ESC.RoleShow(1)
    ESC.TakeActData(1, 1, 0, 0)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1105')) -- ESS=等一下───%N護民官閣下！%N不可以追...

    ESC.Delay(200)
    ESC.ScrollMapWait()
    ESC.ChangeDIR(621, 1)
    ESC.ChangeQQ(621, Const.STAND)


::T518_10::
    if not ESC.IsAllReach() then
        goto T518_9
    end


    ESC.ChangeQQ(327, Const.STAND)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.ChangeQQ(329, Const.STAND)
    ESC.ChangeQQ(330, Const.STAND)
    ESC.TurnFace(327, 1)
    ESC.TurnFace(328, 1)
    ESC.TurnFace(329, 1)
    ESC.TurnFace(330, 1)
    ESC.WaitDLG(1)

    Scene.MoveHero(59, 80, 0)


    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1106')) -- ESS=怎麼了，朋友？%N眼看我們就快殲滅這些騎...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1107')) -- ESS=護民官閣下，%N這%C7島%C5和%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1108')) -- ESS=有道理，說的也是……%N那我們就先在外頭...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10095, 8)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 15)
    ESC.FadeWait()
    ESC.ScreenHide()


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()


    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL(1,9009,200,200,2*14,2,'%C5%S0'..StringDB('ESS1109')) -- ESS=　過了許久……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.WaitDLG(1)


    Scene.SAR_CSEL(621, 0)
    Scene.SAR_CSEL(622, 0)
    Scene.SAR_CSEL(623, 0)
    Scene.SAR_CSEL(626, 0)
    Scene.SAR_CSEL(627, 0)
    ESC.ChangeRoleMap(621, 145, 0 , 61, 68, 414, Const.STAND, 6)
    ESC.ChangeRoleMap(622, 145, 0 , 47, 83, 423, Const.STAND, 0)
    ESC.ChangeRoleMap(623, 145, 0 , 72, 83, 423, Const.STAND, 1)
    ESC.ChangeRoleMap(626, 145, 0 , 62, 74, 423, Const.STAND, 3)
    ESC.ChangeRoleMap(627, 145, 0 , 56, 74, 423, Const.STAND, 0)
    ESC.ChangeRoleMap( 07, 145, 0 , 59, 85, 007, Const.WALK , 0)



    ESC.TakeActData(1, 1, 0, 0) -- 將主角ACT換回來
    ESC.RoleDisable(327)
    ESC.RoleDisable(328)
    ESC.RoleDisable(329)
    ESC.RoleDisable(330)

    -- Scene.ScrollMapD(38, 58, 16, 16)
    -- ESC.ScrollMapWait()
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.RoleMove(1, 58, 83)


    ESC.ScreenShow()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 12)


    GameFunc.FlagOff(10)
end


    -- ******************************************************




    ------------------------
function Scene.TALK519()
    -- 進停船區
    if Scene.CheckParty(3) then goto T519 end
    Scene.EnterCity(111, 5, 46, 7)
    ESC.SceneBreak()
::T519::
    Scene.EnterCity_WIDAD(111, 5, 46, 7)
end
    ------------------------
function Scene.TALK520()
    Scene.QuestOff(98)
    if GameFunc.GetFlag(110) then goto T520A end
    GameFunc.FlagOn(202)
    Scene.EnterCity(112, 74, 90, 0)
    Scene.RoadFlag(StringDB('ESS1110')) -- ESS=　洞穴
    ESC.SceneBreak()
::T520A::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 5, 20, -65, StringDB('ESS1111')) -- ESS=這個洞窟的入口塌了。
    ESC.WaitDLG(1)
    ESC.ChangeDIR(1, 1)
    ESC.RMUNlock()
end
    ------------------------
function Scene.TALK521()
    -- 城堡外圍上層右邊的門->迷宮出入口
    Scene.ChangeMap(150, 288, 158, 0)
    Scene.RoadFlag(StringDB('ESS1112')) -- ESS=　城堡二樓
end
    ------------------------
function Scene.TALK522()
    -- 城堡外圍上層左邊的門->迷宮出入口
    Scene.ChangeMap(150, 53, 161, 0)
    Scene.RoadFlag(StringDB('ESS1112')) -- ESS=　城堡二樓
end
    ------------------------
function Scene.TALK523()
    -- 城堡長廊街城堡外
    Scene.ChangeMap(145, 59, 58, 1)
end
    ----------------------------
function Scene.TALK524()
    -- 城堡外接城堡長廊
    Scene.ChangeMap(147, 19, 72, 7)
    Scene.RoadFlag(StringDB('ESS1113')) -- ESS=　 城堡走廊
end
    ------------------------
function Scene.TALK525()
    Scene.WORD_ON_HEAD(1, 5, 20, -65, StringDB('ESS1114')) -- ESS=船艙鎖起來了!
end
    ------------------------


-- ══════════════════════════════════════【康那里士呼喚移動島】

function Scene.TALK526()
    if not GameFunc.GetFlag(314) then goto T526 end
    if GameFunc.GetFlag(104) then goto T526 end

    GameFunc.FlagOn(10)
    Scene.MoveHero(48+5, 145+2, 0)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 7)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1115')) -- ESS=──咦？%N你不是上次在火刑場上，和護教...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.StoryMusic(33, 25, 0x2000) -- 【劇情配樂】賽特拔劍


    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍
    ESC.Delay(400)



    Scene.MBOn(3, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1116')) -- ESS=說──！%N那個叫麥爾斯的騎士隊長，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10001, 4)


    ESC.TurnFace(7, 1)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1117')) -- ESS=又是你啊，小鬼……%N我們可真有緣啊，竟...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10007, 1)


    Scene.MBOn(5, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1118')) -- ESS=哼，少給我東拉西扯！%N快說，騎士團隊長...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10001, 4)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1119')) -- ESS=呵……小鬼你急什麼急啊？%N欺負我們陸地...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1120')) -- ESS=呼呼……想都別想！%N我%C7康那里士%...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)


    ESC.ChangeDIR(7, 6)
    ESC.Delay(600)
    Scene.WORD_ON_HEAD(7, 10, 0, -65, StringDB('ESS1121')) -- ESS=（黑咒語）DOMO,DODOMOMO……...
    ESC.Delay(400)
    ESC.WaitDLG(7)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1122')) -- ESS=偉大的%C7耶和華上帝%C5啊！%N請您...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10007, 0)


    ESC.Delay(600)
    MediaFunc.PlaySound(239)
    ESC.ScreenShack(4 , 1, 1 , 0, 0 , -1, 1 , 0, 0, 0xFF00)
    ESC.Delay(600)


    Scene.WORD_ON_HEAD(1, 5, 0, -65, StringDB('ESS1123')) -- ESS=…嗯？
    ESC.Delay(300)
    ESC.WaitDLG(1)



    Scene.MBOn(5, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1124')) -- ESS=呵呵，小鬼…%N最精采的地獄秀，現在才要...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1125')) -- ESS=呼…%N呵呵呵呵……
    ESC.WaitDLG(1)

    ESC.MBOff(5, 1)
    ESC.DelHead(10007, 0)



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】賽特拔劍


    ESC.TakeActData(7, -1, 52, 0)
    ESC.Unlock(7) -- 康那里士在賽特前消失
    ESC.TILPA1(7, 8)
    ESC.RoleDisable(7)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)
    Scene.WORD_ON_HEAD(1, 8*2, 0, -65, StringDB('ESS1126')) -- ESS=消失了，怎麼回事…！
    ESC.WaitDLG(1)



    ESC.ChangeRoleMap(166, 110, 0, 53, 130, 503, Const.WALK , 1)
    ESC.RoleEnable(166)
    ESC.BatchMove(1,    166, 56, 139)

    ESC.ChangeQQ(166, Const.STAND)
    ESC.TurnFace(166, 1)
    ESC.Delay(200)


    ESC.Caption(166)
    Scene.Print_W(166,9007,7*2,4*2,StringDB('ESS1127')) -- ESS=大人…%N賽特大人！%N不得了、不得了啦...
    ESC.WaitDLG(166)
    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.TILPA1(1, 1)


    ESC.ChangeQQ(166, Const.RUN)
    ESC.BatchMove(1,    166, 51, 143)


    ESC.ChangeQQ(166, Const.STAND)
    ESC.TurnFace(166, 1)


    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.TILPA1(1, 5)


    ESC.TurnFace(1, 166)
    Scene.Print_W(166,9007,7*2,3*2,StringDB('ESS1128')) -- ESS=海上…%N您…您快看那邊的海上…
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 6)
    ESC.Delay(400)


    ESC.ChangeDIR(166, 6)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 36, 146)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.ScreenShackStop()

    ESC.TownTrans_On() -- 詞符功能恢復
    ESC.DungeonEsc_On()    -- 諸神方石功能恢復
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()




-- ══════════════════════════════════════【擱淺在移動島】

    -- 移動島出現
-------------------------------------------
    ESC.PlayVedio('fisland')

    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂

-------------------------------------------





    ESC.ChangeRoleMap(166, 111, 0, 38, 22, 503, Const.STAND, 2) -- 換成擱淺的地圖
    ESC.GotoMap(111, 52, 22, 1, 0, 2)



    ESC.StoryMusic(35, 63, 0x2000) -- 【劇情配樂】不氣味＋海浪聲

    ESC.RoleEnable(166)
    ESC.RoleMove(166, 50, 29)
    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, Const.RUN, 2)


    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 27, 24)
    ESC.ChangeQQ(1, Const.STAND)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1129')) -- ESS=這是怎麼回事？%N竟然真的浮出一塊陸地─...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.ChangeRoleMap(164, 111, 0 , 43, 4, 505, Const.WALK , 1)
    ESC.RoleEnable(164)
    ESC.SetRoleSpeed(164, 0)
    ESC.BatchMove(1,    164, 40, 26)
    ESC.ChangeQQ(166, Const.STAND)
    ESC.ChangeQQ(164, Const.STAND)
    ESC.ChangeDIR(164, 2)


    ESC.Caption(164)
    Scene.Print_W(164,9007,8*2,3*2,StringDB('ESS1130')) -- ESS=賽特先生…剛才是怎麼了，好大的震動啊！
    ESC.WaitDLG(164)


    ESC.TurnFace(1, 164)
    ESC.TurnFace(166, 164)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS1131')) -- ESS=我也不是很清楚……%N之前我們在威尼斯見...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS1132')) -- ESS=你們常在旅行，是不是海上本來就經常會有這...
    ESC.WaitDLG(1)


    ESC.Caption(164)
    Scene.Print_W(164,9007,10*2,3*2,StringDB('ESS1133')) -- ESS=沒這回事，賽特先生！我也是第一次遇見這樣...
    ESC.WaitDLG(164)


    Scene.Print_W(164,9007,9*2,4*2,StringDB('ESS1134')) -- ESS=我這趟航海真是什麼怪事都有……回去以後，...
    ESC.WaitDLG(164)


    ESC.SetRoleSpeed(166, 2)
    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(1,    166, 28, 28)
    ESC.TakeActData(166, -1, Const.STAND, 2)

    ESC.Delay(300)
    ESC.AddHeadSign(166, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(166)


    ESC.Caption(166)
    Scene.Print_W(166,9007,7*2,3*2,StringDB('ESS1135')) -- ESS=賽特大人！%N您看，您看島的那邊───
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 6)
    ESC.Delay(300)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.Caption(166)
    Scene.Print_W(166,9007,9*2,4*2,StringDB('ESS1136')) -- ESS=所有%C2騎士團%C4的人全都上陸了，而...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS1137')) -- ESS=糟了，那些%C2威尼斯水軍%C4全追上去...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 5)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS1138')) -- ESS=我去阻止他們，你們馬上回去控制一艘還可以...
    ESC.WaitDLG(1)


    Scene.Print_W(166,9007,4*2,1*2,StringDB('ESS1139')) -- ESS=是的──
    ESC.WaitDLG(166)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂




    ESC.ChangeQQ(166, Const.WALK)
    ESC.ChangeQQ(164, Const.WALK)
    ESC.BatchMove(2,
    166, 29, 5,
    164, 43, 3)
    ESC.RoleDisable(166)
    ESC.RoleDisable(164)
    Scene.MoveHero(24, 22, 2)
    GameFunc.FlagOn(104)



    ESC.ScreenLock()
    ESC.TakeActData(1, 98, 64, 0) -- 貼主角往下跳的TSW
    ESC.TILPA1(1, 7)
    ESC.RoleMove(1, 20, 27)
    ESC.TakeActData(1, 1, 0, 2)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    Scene.SAR_CSEL(621 , 0)


    GameFunc.FlagOn(315) -- 設可跟護民官等人說話
    GameFunc.FlagOff(10)

    ESC.Delay(600)
    ESC.StoryMusicOff()
    Scene.QuestOn(68)

::T526::
end





-- ────────────────────────────────────────────【莉蓮之死】

function Scene.TALK527()


    if GameFunc.GetFlag(305) then return end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(305)
    ESC.RMLock()

    ESC.ChangeQQ(1, Const.STAND)


    ESC.StoryMusic(124, 46, 0x4000) -- 【劇情配樂】晴天霹靂＋黑暗


    ESC.ScrollMap(0, -32, 0, 4)
    ESC.ScrollMapWait()


    ESC.Delay(800)


    ESC.Caption(4)
    Scene.Print_W(4,9007,9*2,4*2,StringDB('ESS1140')) -- ESS=康…康那里士！%N你…你是瘋了嗎？%N你...
    ESC.WaitDLG(4)



    ESC.Caption(7)
    Scene.Print_W(7,9007,10*2,4*2,StringDB('ESS1141')) -- ESS=呵呵呵…他們只是回到耶和華上帝的懷抱，這...
    ESC.WaitDLG(7)



    ESC.ScrollMap(0, 12, 0, 4)
    ESC.ScrollMapWait()

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1142')) -- ESS=這是怎麼回事？%N%C7莉蓮%C5不是應...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ScrollMap(12, 0, 4, 0)
    ESC.ScrollMapWait()

    ESC.ScrollMap(-24, 0, 4, 0)
    ESC.ScrollMapWait()


    ESC.ScrollMap(12, 0, 4, 0)
    ESC.ScrollMapWait()


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C3'..StringDB('ESS1143')) -- ESS=（剛才逃進城堡的士兵，不是死，就%N　　...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.ScrollMap(0, -12, 0, 4)
    ESC.ScrollMapWait()

    ESC.Caption(4)
    Scene.Print_W(4,9007,7*2,3*2,StringDB('ESS1144')) -- ESS=去…去你的混帳什麼上帝旨意，%N康那里士...
    ESC.WaitDLG(4)


    Scene.Print_W(4,9007,12*2,4*2,StringDB('ESS1145')) -- ESS=我們騎士團一直都嚴守你所說之來自%C2主...
    ESC.WaitDLG(4)


    ESC.Caption(7)
    Scene.Print_W(7,9007,9*2,4*2,StringDB('ESS1146')) -- ESS=呵呵呵……%N上帝需要祭品，只有鮮血與生...
    ESC.WaitDLG(7)


    Scene.Print_W(7,9007,10*2,4*2,StringDB('ESS1147')) -- ESS=看啊，麥爾斯！%N因為他們的鮮血，才完成...
    ESC.WaitDLG(7)


    ESC.Caption(4)
    Scene.Print_W(4,9007,7*2,4*2,StringDB('ESS1148')) -- ESS=什…什麼？%N康那里士──%N你…你、你...
    ESC.WaitDLG(4)


    Scene.Print_W(7,9007,13*2,5*2,StringDB('ESS1149')) -- ESS=呵呵，別急別急───%N現在輪到這名你%...
    ESC.WaitDLG(7)


    ESC.Caption(4)
    Scene.Print_W(4,9007,8*2,3*2,StringDB('ESS1150')) -- ESS=可惡，原來你這傢伙才是%C2異教徒%C4...
    ESC.WaitDLG(4)




    ESC.MBWait() -- 切麥爾斯被康那里士轟倒的戰鬥動畫
    ESC.StartBattle('BS53')



    ESC.ChangeQQ(4, 64)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂




    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1151')) -- ESS=可…可恨……！%N你這……邪惡的傢伙──...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)


    Scene.MBOn(6, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1152')) -- ESS=呵呵呵……我說麥爾斯大人呀，%N現在的您...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10007, 1)


    ESC.ChangeDIR(4, 2)
    ESC.StoryMusic(38, 31, 0x4000) -- 【劇情配樂】火刑場
    ESC.Delay(1300)



    ESC.ChangeQQ(7, Const.WALK)
    ESC.SetRoleSpeed(7, 3)
    ESC.BatchMove(1,    7, 46, 34)
    ESC.ChangeDIR(7, 0)
    ESC.ChangeQQ(7, 56)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1153')) -- ESS=主啊───%N感謝您的指引，讓我終於找到...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1154')) -- ESS=現在，我要將這名處女的生命獻給您，好平息...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1155')) -- ESS=請接受您僕人康那里士，%N最謙卑之獻祭吧...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)
    ESC.ChangeDIR(4, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1156')) -- ESS=──康那里士！%N你……你這個邪教徒！%...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(4, 2)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1157')) -- ESS=上帝是愛人的，祂怎麼可能會向人要祭品？
    ESC.WaitDLG(1)

    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)


    ESC.ChangeQQ(7, 0)
    ESC.TurnFace(7, 4)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1158')) -- ESS=呵呵呵……%N麥爾斯閣下，您又確定？
    ESC.WaitDLG(1)



    ESC.ChangeDIR(4, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1159')) -- ESS=上帝如果真的愛人，當初又怎會吩咐%C7摩...
    ESC.WaitDLG(1)


    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)
    ESC.ChangeDIR(4, 2)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1160')) -- ESS=你…你……
    ESC.WaitDLG(1)


    ESC.Delay(400)
    ESC.ChangeDIR(4, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1161')) -- ESS=──畜生，康那里士！%N原來以前你都是在...
    ESC.WaitDLG(1)

    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeDIR(4, 2)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1162')) -- ESS=呵呵呵，是呀……%N%C7魔鬼的使徒%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1163')) -- ESS=呵呵呵，不錯嘛！%N我的%C7主人%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    ESC.ChangeDIR(4, 1)
    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1164')) -- ESS=你…你這話是什麼意思？%N
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1165')) -- ESS=呵呵呵……%N我說麥爾斯閣下呀，%N我這...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(4, 2)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1166')) -- ESS=憎恨吧，麥爾斯！%N讓%C7憎恨上帝的心...
    ESC.WaitDLG(1)


    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)
    ESC.ChangeDIR(7, 0)


    ESC.Delay(1000)


    Scene.MBOn(8, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1167')) -- ESS=啊，不好，不能多說了，%N這少女快不行了...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10007, 1)


    ESC.ChangeQQ(7, 56)


    ESC.ScreenLock()
    ESC.ChangeQQ(1, 16)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 46, 40)



    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 0)
    ESC.StoryMusic(33, 0, 0x2000) -- 【劇情配樂】拔劍



    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS1168')) -- ESS=該死的邪惡教士，%N你想做什麼？%N還不...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(4, 1)
    ESC.ChangeQQ(7, 0)
    ESC.Caption(4)
    Scene.Print_W(4,9007,5*2,2*2,StringDB('ESS1169')) -- ESS=賽特？是你……
    ESC.WaitDLG(4)


    Scene.Print_W(4,9007,10*2,3*2,StringDB('ESS1170')) -- ESS=賽特…求求你！%N為…為我救救莉蓮，她…...
    ESC.WaitDLG(4)



    ESC.ChangeDIR(4, 2)
    ESC.TurnFace(1, 4)
    ESC.Delay(600)


    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS1171')) -- ESS=麥爾斯…你……
    ESC.WaitDLG(1)


    Scene.Nicole_On(42, 38, 7)


    ESC.Delay(600)
    ESC.TurnFace(2, 1)
    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1172')) -- ESS=賽特賽特，%N這一個教士，我以前在%C7...
    ESC.WaitDLG(1)



    ESC.TurnFace(1, 2)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1173')) -- ESS=他好像是%C7撒旦大人%C5的一個%N很...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)


    ESC.TurnFace(2, 7)


    ESC.ChangeDIR(1, 0)
    ESC.TurnFace(7, 4)
    ESC.Delay(800)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1174')) -- ESS=哼，原來如此！%N難怪我一直有一股不對勁...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    ESC.ChangeDIR(7, 1)

    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1175')) -- ESS=呵呵呵……%N小鬼，又是你？%N來得好，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1176')) -- ESS=沒想到為了一位美麗少女，%N你和%C7麥...
    ESC.WaitDLG(1)


    ESC.MBOff(8, 0)
    ESC.DelHead(10007, 1)



    ESC.ChangeDIR(4, 2)
    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1177')) -- ESS=賽特，%N莉蓮快要不行了……%N快…快啊...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)


    -- 切入戰鬥
    ESC.StartBattle('BS54')
    ESC.ScreenHide()

    ESC.MusicFadeMode(2, 1)
    ESC.StoryMusic(41, 0, 0x4000) -- 【劇情配樂】亙古之愛人


    ESC.RoleDisable(7)
    ESC.ChangeDIR(4, 2)
    ESC.ChangeRoleMap(650, 168, 0 , 47, 30 , 5 , 52 , 0) -- 將移動島側邊門移到城堡頂層
    -- 並換成十字架
    ESC.ChangeScript(650, '')
    ESC.RoleEnable(638) -- 麥爾斯的劍
    ESC.RoleDisable(5)
    ESC.RoleDisable(4)
    ESC.ChangeDIR(1, 1)
    ESC.TurnFace(2, 1)
    Scene.ScrollMapD(26, 17, 16, 16)
    ESC.ScrollMapWait()
-- ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
    ESC.AniPlay('LiliaDie',false, false)


    ESC.AniUntil( 1)


    ESC.Delay(400)


    ESC.AniUntil( 18)
    Scene.MBOn(1, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1178')) -- ESS=莉…莉蓮……%N撐著點……%N我…我來了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)


    ESC.AniUntil( 45)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)
    ESC.Delay(900)



    ESC.AniUntil( 74)
    Scene.MBOn(1, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1179')) -- ESS=莉蓮…莉蓮…%N是我、是我啊……%N我是...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)

    ESC.Delay(600)



    ESC.AniUntil( 84)
    Scene.MBOn(1, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1180')) -- ESS=莉蓮…%N妳聽得見我的聲音了嗎？%N是我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)


    ESC.AniUntil( 88)
    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1181')) -- ESS=…麥…爾…斯…？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10005, 3)


    ESC.AniUntil( 97)
    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1182')) -- ESS=太好了…%N莉蓮……%N妳終於醒過來了…...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10004, 0)



    ESC.Delay(600)

    ESC.AniUntil( 121)
    Scene.MBOn(5, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1183')) -- ESS=來，一切惡夢都過去了……%N我們一起回法...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10004, 0)


    ESC.Delay(1000)


    ESC.AniUntil( 123)
    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1184')) -- ESS=對了，等妳的傷好了後，我們就像以前一樣一...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)


    ESC.AniUntil( 126)
    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1185')) -- ESS=…麥…爾斯…%N…我…我好…高興……%N...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10005, 3)
    ESC.Delay(800)



    ESC.AniUntil( 128)
    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10005, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1186')) -- ESS=…我……知道…你一定會…來…的…%N莉…...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10005, 3)
    ESC.Delay(800)



    ESC.AniUntil( 137)
    ESC.Delay(800)



    ESC.AniUntil( 140)
    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1187')) -- ESS=莉蓮──！%N莉蓮───！！！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)
    ESC.Delay(600)


    ESC.AniUntil( 142)
    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1188')) -- ESS=別這樣！%N妳不要死啊──！%N莉蓮──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)
    ESC.Delay(600)


    ESC.AniUntil( 150)
    Scene.MBOn(1, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1189')) -- ESS=醒過來啊──！%N莉蓮───！%N我們剛...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)
    ESC.Delay(600)



    ESC.AniUntil( 170)
    Scene.MBOn(1, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1187')) -- ESS=莉蓮──！%N莉蓮───！！！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)

    ESC.AniUntil( 191)
    ESC.Delay(600)




    ESC.AniUntil( 204)
    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1190')) -- ESS=莉蓮──────！！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10004, 0)



    ESC.AniUntil( 210)

    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(10, 0, 0x4000) -- 【劇情配樂】賽特



    ESC.AniUntil( 230)


    ESC.AniUntil( 350) -- 撥到第350張

    ESC.AniSeek(400) -- 這段動畫從350張之後一直重複,所以直接跳到最後張400
    ESC.AniUntilClose()
-- ～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～～
    ESC.ScrollMapToRole(1, 4, 4)



    ESC.ScreenShow()
    ESC.Unlock(2)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 14, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1191')) -- ESS=…莉蓮……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 14)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1192')) -- ESS=賽特賽特，%N那個叫做麥爾斯的傢伙，%N...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10002, 19, 10002, 23)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1193')) -- ESS=明明就是你辛苦半天，才好不容易打敗那個敵...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)
    ESC.Delay(700)



    Scene.MBOn(4, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1194')) -- ESS=喂，賽特！%N你說句話嘛──！%N你說到...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 41)
    ESC.Delay(1800)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1195')) -- ESS=……老實說，%N……我真的好嫉妒麥爾斯！...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 37, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1196')) -- ESS=賽特……？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 37)
    ESC.Delay(1100)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1197')) -- ESS=……其實，我一直也都喜歡莉蓮……%N可是...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)
    ESC.Delay(600)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1198')) -- ESS=……賽特，%N你們是以前就認識了嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(0, 1)
    ESC.DelHead(10002, 19)
    ESC.Delay(700)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1199')) -- ESS=……我剛剛才終於明白，%N原來麥爾斯也是...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1200')) -- ESS=……一向高傲自大的他，%N居然會為了莉蓮...
    ESC.WaitDLG(1)
    ESC.Delay(600)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1201')) -- ESS=現在的麥爾斯，已經不是一個空殼子了……或...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)
    ESC.Delay(600)


    Scene.MBOn(4, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1202')) -- ESS=賽特…%N人家要回去了───
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 23)
    ESC.Delay(700)




    GameFunc.FlagOff(4) -- 關掉妮可的音效


    ESC.ChangeRoleMap(4, 170, 0, 89, 48, 04, 0, 7) -- 將麥爾斯移到莉蓮墳前
    ESC.RoleEnable(4)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ChangeDIR(1, 1)
    Scene.Nicole_Off()

    ESC.ChangeRoleMap(156, 145, 0 , 58, 88 , 579 , Const.WALK, 0)
    ESC.ChangeRoleMap(159, 145, 0 , 58, 85 , 501 , Const.WALK, 0)
    ESC.ChangeRoleMap(164, 145, 0 , 60, 85 , 505 , Const.WALK, 0)
    ESC.ChangeRoleMap(166, 145, 0 , 60, 88 , 503 , Const.WALK, 0)
    ESC.RoleDisable(156)
    ESC.ScreenUnlock()


    GameFunc.FlagOn(312)
    GameFunc.FlagOff(303) -- 打開與護民官談話
    GameFunc.FlagOff(10)
    GameFunc.FlagOn(4)
    Scene.QuestOff(69)
    Scene.QuestOn(70)
    -- 第一章完（哭吆，做了那麼久，第一章終於完了嗎？）
end










    ------------------------
function Scene.TALK528()
    -- 接城外左門
    Scene.ChangeMap(145, 37, 11, 1)
    Scene.RoadFlag(StringDB('ESS1203')) -- ESS= 城堡瞭望台
end
    ------------------------
function Scene.TALK529()
    -- 接大廳
    Scene.ChangeMap(148, 10, 16, 1)
    Scene.RoadFlag(StringDB('ESS1086')) -- ESS=　城堡大廳
end

    ------------------------
function Scene.TALK531()
    -- 接城外右門
    Scene.ChangeMap(145, 82, 11, 1)
    Scene.RoadFlag(StringDB('ESS1203')) -- ESS= 城堡瞭望台
end
    ------------------------
    ------------------------
function Scene.TALK533()
    -- 接迷宮2
    Scene.ChangeMap(152, 226, 150, 3)
    Scene.RoadFlag(StringDB('ESS1204')) -- ESS=　城堡三樓
end
    ------------------------
function Scene.TALK534()
    -- 接迷宮2
    Scene.ChangeMap(152, 171, 160, 0)
    Scene.RoadFlag(StringDB('ESS1204')) -- ESS=　城堡三樓
end
    ------------------------
function Scene.TALK535()
    -- 接迷宮2  密室
    Scene.ChangeMap(152, 26, 118, 0)
end
    ------------------------


-- ───────────────────────────────────────【莉蓮墳前的麥爾斯】

function Scene.TALK536()
    if GameFunc.GetFlag(308) then return end -- 308表示已說過
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(308)
    Scene.MoveHero(90, 51, 4)

    ESC.RoleShow(4)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1205')) -- ESS=麥爾斯…%N原來你在這裏……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1206')) -- ESS=…………%N……
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1207')) -- ESS=這是莉蓮的墓嗎？%N那我不打攪你了，自己...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MoveHero(82, 52, 6)


    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1208')) -- ESS=……我不懂！%N…我不懂上帝到底在想什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 1)


    ESC.Delay(600)
    ESC.TurnFace(1, 4)
    ESC.Delay(600)



    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1209')) -- ESS=麥爾斯……？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1210')) -- ESS=上帝既然有能力創造世界和人類，那祂為什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10004, 1)



    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1211')) -- ESS=………%N……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(5, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1212')) -- ESS=哼…！%N也許那個該死的康那里士講得對！...
    ESC.WaitDLG(1)





    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1213')) -- ESS=如果祂真的關心人，%N當初怎會允許我們折...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10004, 1)




    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1214')) -- ESS=…………%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.TurnFace(4, 1)
    ESC.Delay(200)


    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1215')) -- ESS=哼…我明白了！%N原來從頭到尾，上帝根本...
    ESC.WaitDLG(1)
    ESC.DelHead(10004, 0)



    ESC.Unlock(4)
    ESC.TakeActData(4, -1, 62, 0) -- 麥爾斯拔劍
    ESC.TILPA1(4, 6)
    ESC.Delay(200)



    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1216')) -- ESS=──可惡！%N這種沒用的上帝，要祂幹什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10004, 0)




    ESC.TakeActData(4, 5, 72, 6)

    ESC.SetRoleSpeed(4, 0)
    ESC.BatchMove(1,    4, 72, 52)
    ESC.ChangeDIR(1, 6)
    ESC.SetRoleSpeed(4, 1)
    ESC.BatchMove(1,    4, 61, 60)

    ESC.TakeActData(4, 4, 0, 6)

    ESC.RoleDisable(4)
    ESC.Delay(1200)
    ESC.TurnFace(1, 624)
    ESC.Delay(300)






    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C3'..StringDB('ESS1217')) -- ESS=（妳也看到了嗎，莉蓮？）
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C3'..StringDB('ESS1218')) -- ESS=（莉蓮…麥爾斯是真心為妳悲傷，%N　　但...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C3'..StringDB('ESS1219')) -- ESS=（現在妳一定很難過吧？%N　　…莉蓮！）...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)


    ESC.Delay(600)
    Scene.Nicole_On(87, 46, 5)
    ESC.TurnFace(1, 2)
    ESC.Delay(600)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1220')) -- ESS=賽特！賽特！%N這就是那個莉蓮的墳墓嗎？...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 3)


    ESC.Delay(600)
    ESC.TurnFace(2, 1)
    ESC.Unlock(2)



    ESC.Delay(600)
    Scene.MBOn(4, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1221')) -- ESS=賽特，%N你一定也是非常喜歡莉蓮，對不對...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1222')) -- ESS=妳很煩呢！%N我和莉蓮的事，%N和妳%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 6, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1223')) -- ESS=…賽特！%N你幹嘛這麼兇嘛！
    ESC.WaitDLG(1)



    ESC.TakeActData(2, -1, 53, 0) -- 妮可哭飛
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1224')) -- ESS=人家只是看你好像很難過，所以才跑出來、想...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 6)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1225')) -- ESS=哼，說起來，%N莉蓮最早也是被妳打傷的，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TakeActData(2, -1, 57, 0) -- 妮可哭飛
    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1226')) -- ESS=賽特！%N你怎麼可以這樣說人家嘛！%N你...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1227')) -- ESS=……！！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1100)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeDIR(1, 6)
    Scene.MoveHero(79, 55, 6)
    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1100)


    ESC.ChangeQQ(30, 28)
    Scene.WORD_ON_HEAD(30, 2, 0, -30, '%S1%C0'..StringDB('ESS1228')) -- ESS=汪！
    MediaFunc.PlaySound(5)
    ESC.Delay(1600)



    ESC.ChangeQQ(2, Const.WALK)
    ESC.BatchMove(1,    2, 90, 47)
    ESC.ChangeQQ(2, Const.STAND)

    ESC.Unlock(2)
    ESC.Delay(800)




    Scene.MBOn(4, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1229')) -- ESS=狗狗，%N你也好可憐哦！%N從今以後，你...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 7)
    ESC.Delay(600)



    ESC.ChangeQQ(30, 28)
    Scene.WORD_ON_HEAD(30, 2, 0, -30, '%S1%C0'..StringDB('ESS1230')) -- ESS=汪汪汪！
    MediaFunc.PlaySound(5)
    ESC.Delay(1200)



    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(112, 112, 0x2000) -- 【劇情配樂】妮可Ⅱ



    ESC.ChangeQQ(30, 0)
    Scene.MBOn(4, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1231')) -- ESS=哈哈，乖狗狗，%N你也喜歡我是不是？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10002, 3)




    ESC.ChangeQQ(30, Const.WALK)
    ESC.BatchMove(1,    30, 88, 48)
    ESC.ChangeDIR(2, 6)
    ESC.BatchMove(1,    30, 74, 43)
    ESC.ChangeDIR(30, 3)
    ESC.ChangeQQ(30, 28)
    ESC.ChangeDIR(2, 4)
    Scene.WORD_ON_HEAD(30, 2, 0, -30, '%S1%C0'..StringDB('ESS1232')) -- ESS=汪汪！！
    MediaFunc.PlaySound(5)
    ESC.Delay(600)
    ESC.ChangeQQ(30, 0)
    ESC.Delay(800)



    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 30)
    ESC.Delay(200)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1233')) -- ESS=哈哈哈！%N人家知道了啦！%N不要跑嘛，...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)
    ESC.Delay(600)



    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(30, Const.WALK)
    ESC.Unlock(30)
    ESC.ChangePath(30, 30)
    ESC.SetRoleSpeed(2, 0)
    ESC.SetRoleSpeed(30, 0)
    ESC.ChangePath(2, 30)


    ESC.BatchMove(1,    2, 44, 37)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C3'..StringDB('ESS1234')) -- ESS=（…奇怪了，%N　　我記得這隻%C7波爾...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangePath(2, 0)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    ESC.Center_X()


    ESC.Caption(2)
    Scene.Print_W(2,9007,10*2,3*2,StringDB('ESS1235')) -- ESS=賽特！賽特！%N超級大發現哦！%N你快過...
    ESC.WaitDLG(2)



    ESC.ChangeDIR(2, 3)
    ESC.ChangeDIR(2, 0)
    Scene.WORD_ON_HEAD(1, 20, 30, -50, '%C0'..StringDB('ESS1236')) -- ESS=……？
    ESC.Delay(400)



    ESC.MusicFadeMode(2, 25) -- 【等待新功能】
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    GameFunc.FlagOn(7018) -- 跳過妮可對話
    Scene.RemoveMainParty(2) -- 妮可離開隊伍
    ESC.RoleDisable(99) -- 關掉煉妖壺的妮可
    ESC.TakeActData(1, -1, Const.WALK, 4)
    GameFunc.FlagOff(10)
    ESC.RMUNlock()
end



-- ───────────────────────────────────────【華麗！相聲石像三人組】

function Scene.TALK537()
    -- 初遇移動島石像群
    if not GameFunc.GetFlag(308) then return end
    if GameFunc.GetFlag(309) then return end
    ESC.ChangeQQ(1, Const.RUN)
    Scene.MoveHero(53, 39, 4)
    Scene.TALK537A()
end


function Scene.TALK537A()
    GameFunc.FlagOff(7018) -- 讓妮可對話不再跳過來
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(309)
    Scene.AddMainParty(2) -- 妮可加入隊伍
    ESC.RoleEnable(99) -- 打開煉妖壺的妮可


    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(112, 112, 0x4000) -- 【劇情配樂】妮可Ⅱ



    ESC.TurnFace(2, 1)
    ESC.TurnFace(1, 2)
    ESC.SetRoleSpeed(30, 0)
    ESC.Unlock(2)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1237')) -- ESS=賽特賽特，%N你看！你看！%N這裏有一個...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 3)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.ChangeQQ(2, Const.STAND)
    Scene.MoveHero(42, 33, 4)
    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    ESC.ScrollMapD(13, 10, 4, 4) -- Scene.ScrollMapD(20, 10, 4, 4)
    ESC.ScrollMapWait()

    ESC.TurnFace(2, 1)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1238')) -- ESS=好詭異的石像和池子……%N不曉得是誰做的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 35, 32)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1239')) -- ESS=賽特賽特，%N你看！你看！%N這個石像頭...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 3)



    ESC.TurnFace(1, 2)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1240')) -- ESS=史…芬…克…斯……%N這個石像叫做%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 1)
    ESC.DelHead(10002, 0)



    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 37, 25)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1241')) -- ESS=賽特賽特，%N這個石像上也有刻字耶！%N...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1242')) -- ESS=雅…典…娜…%N這個石像叫做%C7雅典娜...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 3)



    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 48, 29)
    ESC.TurnFace(1, 2)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 51, 30)

    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.TurnFace(2, 19)
    ESC.Unlock(2)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1243')) -- ESS=這個石像也有刻…%N這個石像……%N這個...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 3)



    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Delay(600)
    ESC.ChangeQQ(2, Const.WALK)


    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 54, 28)
    ESC.TurnFace(2, 19)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Delay(600)


    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 54, 24)
    ESC.TurnFace(2, 19)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Delay(600)




    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 50, 25)
    ESC.Unlock(2)
    ESC.TurnFace(2, 19)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    ESC.Delay(600)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1244')) -- ESS=哇喔──！%N這個長翅膀的石像，%N長得...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 1)
    ESC.DelHead(10002, 23)


    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1245')) -- ESS=喂──！%N我不是什麼麥爾斯啦！%N
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.ChangeDIR(2, 3)
    ESC.ChangeQQ(2, 32)
    ESC.RoleMove(2, 47, 24)
    ESC.Delay(50)
    ESC.RoleMove(2, 46, 23)
    ESC.Delay(50)
    ESC.RoleMove(2, 45, 22)
    ESC.ChangeDIR(2, 5)


    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    ESC.Delay(600)


    ESC.TurnFace(2, 19)
    ESC.Unlock(2)
    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1246')) -- ESS=哇──！%N這石像還會說話！%N這到底是...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)



    ESC.Unlock(2)
    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1247')) -- ESS=我是…模仿大天使長%C7米迦勒%C5外形...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.TurnFace(2, 19)
    ESC.Unlock(2)
    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1248')) -- ESS=米迦勒──？%N他是誰呀？%N什麼又是%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)


    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1249')) -- ESS=老主人…%N您是真的忘了還是假的忘了？%...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 17, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1250')) -- ESS=不曉得！%N完全沒印象呢！
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 17)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1251')) -- ESS=…老主人啊，%N我們是%C7幾千年%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)


    ESC.TurnFace(2, 20)
    ESC.TurnFace(1, 20)
    ESC.Unlock(2)

    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1252')) -- ESS=我…？%N庭園裝飾……？%N人家怎麼一點...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 20)


    ESC.TurnFace(2, 21)
    ESC.TurnFace(1, 21)
    ESC.Unlock(2)

    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1253')) -- ESS=您後來不是說要去跟隨%C7撒旦%C5嗎？...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.TurnFace(2, 20)
    ESC.TurnFace(1, 20)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1254')) -- ESS=…是呀是呀！%N老主人，您這一丟就是好幾...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1255')) -- ESS=是啊是啊…%N後來%C7撒旦%C5也一直...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10019, 0)


    ESC.TurnFace(1, 19)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1256')) -- ESS=等一下…%N你們幾個講了大半天，這個島究...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1257')) -- ESS=……這個島？%N這整個島，就是%C7妮可...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    ESC.TurnFace(2, 20)
    ESC.TurnFace(1, 20)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1258')) -- ESS=真的嗎？%N這麼說，那邊的那一個大城堡，...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)


    ESC.TurnFace(2, 21)
    ESC.TurnFace(1, 21)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1259')) -- ESS=…是呀！%N妮可大人，我們這幾個石像就是...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1260')) -- ESS=太好了！%N那我要去我的城堡裏逛一逛！%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)


    ESC.Unlock(2)
    ESC.ChangeDIR(2, 3)
    ESC.ChangeQQ(2, Const.RUN)
    ESC.RoleMove(2, 46, 23)
    ESC.Delay(100)
    ESC.RoleMove(2, 47, 24)
    ESC.Delay(100)
    ESC.ChangeDIR(2, 5)



    ESC.TurnFace(1, 2)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.RUN)
    ESC.BatchMove(1,    2, 49, 26)
    ESC.ChangeDIR(2, 5)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Delay(500)



    ESC.Unlock(2)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1261')) -- ESS=等一下…！%N這一路上撒旦手下一直都纏著...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1262')) -- ESS=……哼！%N我討厭那個撒旦！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.TurnFace(2, 20)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)
    ESC.TurnFace(1, 20)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1263')) -- ESS=是呀是呀！%N我們才不想聽那個什麼撒旦的...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.Unlock(2)
    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1264')) -- ESS=沒錯沒錯！%N我們真正的主人又不是撒旦！...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    ESC.TurnFace(2, 19)
    ESC.TurnFace(1, 19)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.Unlock(2)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1265')) -- ESS=嘩！%N原來我真的是你們的主人哇？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 2)



    ESC.Unlock(2)
    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1266')) -- ESS=是啊，妮可大人！%N您一直是我們的……
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1267')) -- ESS=米迦勒！%N你搞清楚哦！她根本老早忘了我...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1268')) -- ESS=對呀對呀！%N說到這個，我就想到上次一隻...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1269')) -- ESS=喂，你可要記得感謝我，是我讓這個島震動一...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    ESC.TurnFace(1, 19)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1270')) -- ESS=…你們能控制這個島的行動？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.Unlock(2)
    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1271')) -- ESS=是啊是啊！%N只要%C7撒旦%C5不在，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 21)
    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1272')) -- ESS=哼！%N真是有夠小看我們！%N我們好歹也...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.TurnFace(1, 2)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1273')) -- ESS=太好了！%N妮可，請妳麻煩他們，把這個島...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)
    ESC.TurnFace(2, 1)


    ESC.TurnFace(1, 21)
    ESC.Unlock(2)
    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1274')) -- ESS=等等！%N誰說可以的？%N我們可沒承認這...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1275')) -- ESS=我們是妮可主人做出來的，妮可主人天經地義...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1276')) -- ESS=史芬克斯！%N你不要一直只曬你的太陽，%...
    ESC.WaitDLG(1)

    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1277')) -- ESS=…我？%N你們兩位都說的很有道理，%N我...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1278')) -- ESS=哼，沒用的東西！%N如果現在%C7波希頓...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1279')) -- ESS=波西頓？%N那又是誰呀？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 20)



    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1280')) -- ESS=我們三個石像是分別象徵北、東、南三塊%C...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1281')) -- ESS=不過……他被%C7撒旦的手下%C5搬去當...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 21)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1282')) -- ESS=不然這樣好了，%N請妳直接告訴我，我怎麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1283')) -- ESS=好！%N那我出%C7兩道難題%C5，如果...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1284')) -- ESS=可以！%N請說吧！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1285')) -- ESS=你們去%C7城堡瞭望台%C5的中間那道門...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1286')) -- ESS=這麼簡單？%N這也算難題？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1287')) -- ESS=哼，第一題只是給我們一點時間來趕快討論一...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(1, 19)
    Scene.MBOn(6, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1288')) -- ESS=妮可主人的朋友…這有把%C7鑰匙%C5對...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)




    Scene.GetItem(789, ' %T789.') -- 【物品】鑰匙
    GameFunc.FlagOn(7026) -- 打開哪道門的開關
    ESC.Delay(2000)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1289')) -- ESS=米迦勒，%N你不要對他們太好了！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)




    ESC.TurnFace(1, 19)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1290')) -- ESS=妮可，我們出發！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ScrollMapToRole(1, 4, 4)
    Scene.Nicole_Off()
    GameFunc.FlagOff(10)
    ESC.ScrollMapWait()
    Scene.QuestOff(71)
    Scene.QuestOn(72)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂

    ESC.SceneBreak()
end





function Scene.TALK538()
    -- 迷宮2->迷宮1
    Scene.ChangeMap(150, 64, 25, 1)
end
    ------------------------
function Scene.TALK539()
    -- 接迷宮1
    Scene.ChangeMap(150, 190, 65, 1)
    Scene.RoadFlag(StringDB('ESS1112')) -- ESS=　城堡二樓
end
    ------------------------
function Scene.TALK540()
    -- 城堡右通道接城堡花園
    Scene.ChangeMap(170, 41, 63, 3)
end
    ------------------------
function Scene.TALK541()
    -- 迷宮2接機關區
    Scene.ChangeMap(167, 77, 92, 0)
    Scene.RoadFlag(StringDB('ESS1291')) -- ESS=　城堡四樓
end
    ------------------------
function Scene.TALK542()
    -- 接迷宮1
    Scene.ChangeMap(150, 241, 55, 2)
    Scene.RoadFlag(StringDB('ESS1112')) -- ESS=　城堡二樓
end
    ------------------------
function Scene.TALK543()
    -- 設可跟護民官等說話
    GameFunc.FlagOn(315)
    Scene.SAR_CSEL(621, 0)
    Scene.SAR_CSEL(622, 0)
    Scene.SAR_CSEL(623, 0)
    Scene.SAR_CSEL(626, 0)
    Scene.SAR_CSEL(627, 0)
end
    ------------------------
function Scene.TALK544()
    if GameFunc.GetFlag(104) then return end
    GameFunc.FlagOff(315)
    Scene.SAR_CSEL(621, 1)
    Scene.SAR_CSEL(622, 1)
    Scene.SAR_CSEL(623, 1)
    Scene.SAR_CSEL(626, 1)
    Scene.SAR_CSEL(627, 1)
end
    ------------------------
function Scene.TALK545()
    if not GameFunc.GetFlag(303) then Scene.TALK621() ESC.SceneBreak() end -- 跟護民官追殺騎士團的談話
end
    ------------------------
function Scene.TALK546()
    if not GameFunc.GetFlag(316) then return end -- 316打開就執行詢問冰山的事

    -- 詢問石像群有關冰魔之事
    GameFunc.FlagOn(10)

    ESC.ChangePath(159, 0) -- 阿拉伯人被冰
    ESC.TakeActData(159, -1, 52 , 0)
    ESC.ChangePath(164, 0)
    ESC.TakeActData(164, -1, 52 , 0)
    ESC.TakeActData(166, -1, 52 , 1)
    ESC.RoleDisable(156) -- 阿拉伯女人
    ESC.ChangeRoleMap(156, 170, 0 , 58, 41 , 579 , Const.WALK, 0)


    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 55, 36)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 42, 33)
    ESC.ChangeQQ(1, Const.STAND)




    ESC.TurnFace(1, 19)
    Scene.Nicole_On(44-6, 36, 7)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1292')) -- ESS=妮可主人的朋友，%N剛才好大的撞擊啊──...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1293')) -- ESS=我看到好大一塊冰，直直地往我們這個島撞上...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(7, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1294')) -- ESS=啊───%N那一定是%C7藍人%C5牠們...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 20)
    ESC.TurnFace(2, 20)
    ESC.Unlock(2)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1295')) -- ESS=───藍人？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    ESC.TurnFace(1, 19)


    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1296')) -- ESS=他們是一群住在海上的妖魔，偶爾會找找人類...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.TurnFace(1, 20)
    ESC.TurnFace(2, 20)
    ESC.Unlock(2)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1297')) -- ESS=不過奇怪了，%N這次藍人為什麼會突然找上...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    ESC.TurnFace(1, 21)
    ESC.TurnFace(2, 21)
    ESC.Unlock(2)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1298')) -- ESS=還用問？%N擺明是衝著妮可和她朋友來的嘛...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    Scene.TIK()
    ESC.TakeActData(30, -1, 28, 3)
    ESC.TILPA1(30, 2)
    MediaFunc.PlaySound(3)
    ESC.TurnFace(1, 30)
    ESC.TurnFace(2, 30)
    ESC.Unlock(2)

    ESC.ChangeDIR(156, 4)
    ESC.RoleMove(639, 67+13, 43+7)
    ESC.RoleMove(156, 58+3, 41)
    ESC.RoleEnable(156)
    ESC.RoleEnable(639)
    ESC.SetRoleSpeed(639 , 1)
    ESC.SetRoleSpeed(156 , 1)
    ESC.SetMoveHISpeed(639)
    ESC.SetMoveHISpeed(156)



    ESC.StoryMusic(121, 25, 0x2000) -- 【劇情配樂】拔劍


    ESC.DLGHoldTime(10)
    ESC.FitSize()
    ESC.OnHead(0,-120)
    ESC.Caption(156)
    ESC.Print_S(156,9007,'%S0'..StringDB('ESS1299')) -- ESS=賽特先生！救命！

    ESC.ChangeDIR(1, 5)
    ESC.BatchMove(2,
    156, 50, 36,
    639, 52, 38)


    MediaFunc.PlaySound(244) -- 冰凍聲
    ESC.TakeActData(156, -1, 52 , 0)
    ESC.TakeActData(30 , -1 , 52 , 0)
    Scene.SAR_TurnFace(156, 0)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1300')) -- ESS=什麼──？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)

    ESC.TakeActData(1, -1, 63, 0)
    ESC.SetRoleSpeed(639 , 0)
    ESC.BatchMove(1,    639, 45, 35)

    ESC.StartBattle('BS80') -- 直接切入戰鬥
    ESC.RoleDisable(639)


    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.TakeActData(1, -1, 62, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, Const.STAND, 5)
    ESC.Delay(800)
    ESC.ChangeDIR(1, 5)
    Scene.TIK()


    ESC.SetRoleSpeed(2, 0)
    ESC.TakeActData(2, -1, Const.RUN, 5)
    ESC.BatchMove(1,    2, 49, 36)

    ESC.TakeActData(2, -1, Const.STAND, 1)
    ESC.Unlock(2)
    ESC.ChangeQQ(2, 32) -- 妮可欲哭飛

    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1301')) -- ESS=好厲害、好厲害！%N一口氣就解決了兩隻藍...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1302')) -- ESS=不過女人和狗一瞬間就被凍起來了！%C7冰...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.ChangeQQ(2, 56) -- 妮可哭飛



    Scene.MBOn(3, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1303')) -- ESS=波爾───！%N還人家的的波爾來啦──！...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 9)
    ESC.TurnFace(1, 19)
    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1304')) -- ESS=妮可主人的朋友，%N您必須趕快去%C7冰...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)

    ESC.TurnFace(1, 2)
    ESC.ChangeQQ(2, 52) -- 妮可哭飛

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1305')) -- ESS=妮可！%N我們走！%N去冰山島找藍魔神去...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.QuestOff(78 ) -- 到冰山島找藍魔神
    Scene.QuestOn(79)


    Scene.Nicole_Off()
    GameFunc.FlagOff(316) -- 關掉就執行詢問冰山的事
    GameFunc.FlagOff(10)
    GameFunc.FlagOn(7028) -- 冰山攻過來了，大廳的人被冰起來了

    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂
end



    ------------------------

function Scene.TALK547()
    if GameFunc.GetFlag(7028) then goto T547A end
::T547::
    Scene.ChangeMap(148, 73, 16, 1)
    Scene.RoadFlag(StringDB('ESS1086')) -- ESS=　城堡大廳
    ESC.SceneBreak()
::T547A::
    if GameFunc.GetFlag(207) then goto T547 end   -- 看見薇達登陸
    GameFunc.FlagOn(207)
    GameFunc.FlagOn(10)
    Scene.SAR_TurnFace(159, 0) -- 將大廳阿拉伯人設不轉頭
    Scene.SAR_TurnFace(164, 0)
    Scene.SAR_TurnFace(166, 0)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(148 , 73, 18, 1, 0, 6)
    ESC.ChangeRoleMap(228, 148, 306, 53 , 20, 166, Const.WALK , 3)
    ESC.ChangeRoleMap(229, 148, 307, 56 , 34, 166, Const.WALK , 3)
    ESC.ChangeRoleMap(230, 148, 301, 43 , 29, 166, Const.WALK , 6)
    ESC.ChangeRoleMap(231, 148, 302, 28 , 30, 166, Const.WALK , 4)
    ESC.ChangeRoleMap(232, 148, 303, 33 , 35, 166, Const.WALK , 0)
    ESC.ChangeRoleMap(233, 148, 304, 49 , 19, 166, Const.WALK , 3)
    ESC.ChangeRoleMap(234, 148, 305, 45 , 35, 166, Const.WALK , 3)

    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.RoleEnable(232)
    ESC.RoleEnable(233)
    ESC.RoleEnable(234)

    Scene.SAR_EVENT(230, 1)
    Scene.SAR_EVENT(231, 1)
    Scene.SAR_EVENT(232, 1)
    Scene.SAR_EVENT(233, 1)
    Scene.SAR_EVENT(234, 1)
    Scene.SAR_ROL(230, 1)
    Scene.SAR_ROL(231, 1)
    Scene.SAR_ROL(232, 1)
    Scene.SAR_ROL(233, 1)
    Scene.SAR_ROL(234, 1)

    ESC.ChangeScript(230 , 'TALK723')
    ESC.ChangeScript(231 , 'TALK724')
    ESC.ChangeScript(232 , 'TALK725')
    ESC.ChangeScript(233 , 'TALK726')
    ESC.ChangeScript(234 , 'TALK727')
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    MediaFunc.PlaySound(253)
    Scene.ScrollMapD(15, 8, 8, 8)
    ESC.ScrollMapWait()


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1306')) -- ESS=什、什麼？%N這是─────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    MediaFunc.PlaySound(253)
    Scene.ScrollMapD(15+18, 8, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.SetMoveHISpeed(228)
    ESC.SetMoveHISpeed(229)
    ESC.SetPos(228, 73, 20)
    ESC.SetPos(229, 73, 20)
    for i=1,12 do
        ESC.BatchStep( 2,   228, 229)
    end
    ESC.TakeActData(1, 1, 28, 2)
::T574_1::
    ESC.BatchStep( 2,   228, 229)
    if ESC.RoleReach(228) then goto T574_2 end
    if ESC.RoleReach(229) then goto T574_2 end
    goto T574_1
::T574_2::
    MediaFunc.PlaySound(244)
    ESC.StartBattle('BS82')
    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.FitSize()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS1307')) -- ESS=先把這些傢伙清理掉。
    ESC.TakeActData(1, 1, 76, 0)
    ESC.ScrollMapWait()
    ESC.SetRoleSpeed(1, 4)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, 0, 6)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
end
-- ──────────────────────────────────────【最後一隻藍人】
-- （這裏音樂會大亂）



function Scene.BLUEMAN()
    if GameFunc.GetFlag(323) and GameFunc.GetFlag(324) and GameFunc.GetFlag(325) and GameFunc.GetFlag(326) and GameFunc.GetFlag(327) then
        goto T547SP
    end
    ESC.SceneBreak()
::T547SP:: -- 打完大廳所有冰怪之後才執行這段程式
    GameFunc.FlagOn(322)
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(2, 5)
    ESC.StoryMusic(25, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.ChangeDIR(1, 2) -- 賽特持劍
    ESC.ChangeQQ(1, 28)
    ESC.SeekACT(1, 7)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Delay(300)
    MediaFunc.PlaySound(246)
    ESC.Delay(800)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1308')) -- ESS=什麼？%N又發生什麼事情了─────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.Unlock(1)
    ESC.SetRoleSpeed(1, 3)
    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.TILPA1(1, 5)
    ESC.SetRoleSpeed(1, 1)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 10, 18)

    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(145 , 37, 12, 1, 0, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 59, 28)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)
    ESC.TakeActData(1, -1, 78, 0) -- 賽特看望遠鏡
    ESC.TILPA1(1, 4)
    ESC.Delay(500)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.TakeActData(596, 541, 52, 2)
    ESC.TakeActData(59991, 541, 52, 2)
    ESC.TakeActData(59990, 541, 52, 2)
    ESC.Progress_Off()


    ESC.GotoMap(141, 51, 47, 1, 0, 1)
    ESC.LineObj(9003, 64, 55+10, 55+10, 0, 0, 1)
    ESC.RoleEnable(596)
    ESC.RoleEnable(59991)
    ESC.RoleEnable(59990)

    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    ESC.StoryMusic(61, 25, 0x2000) -- 【劇情配樂】移動島城堡62



    ESC.RoleMove(596, 72+3, 54)
    ESC.RoleMove(59991, 72, 54+3)
    ESC.RoleMove(59990, 72+3, 54+6)
    ESC.SetRoleSpeed(596, 3)
    ESC.SetRoleSpeed(59991, 3)
    ESC.SetRoleSpeed(59990, 3)
    ESC.BatchMove(3,
    596, 56, 54,
    59991, 56-3, 54+3,
    59990, 56, 54+6)
    ESC.Unlock(596)
    ESC.Unlock(59991)
    ESC.Unlock(59990)
    ESC.SetRoleSpeed(596, 15)
    ESC.SetRoleSpeed(59991, 16)
    ESC.SetRoleSpeed(59990, 17)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.TakeActData(596, -1, 68, 0)
    ESC.TakeActData(59991, -1, 69, 0)
    ESC.TakeActData(59990, -1, 70, 0)



-- ──────────────────────────────────────【薇達登場】

    ESC.GotoMap(138, 21, 21, 1, 0, 1)


    ESC.RoleHide(1)
    ESC.RoleEnable(3)
    ESC.ChangeRoleMap(3, 138 , 0 , 15, 14, 3 , Const.STAND, 6)
    ESC.RoleEnable(3)
    Scene.PlayACT(0, 210, 284+40, 411, 7)
    Scene.PlayACT(0, 152, 326+40, 411, 7)
    Scene.PlayACT(0, 176, 378+40, 411, 7)
    Scene.PlayACT(0, 328, 220+40, 411, 4)
    Scene.PlayACT(0, 356, 208+40, 411, 4)
    Scene.PlayACT(0, 324, 294+40, 411, 4)
    Scene.PlayACT(0, 358, 290+40, 411, 4)
    ESC.ChangeRoleMap(228, 138, 0 , 24, 24, 600 , 0, 4)
    ESC.ChangeRoleMap(229, 138, 0 , 22, 27, 411 , 0, 4)
    ESC.ChangeRoleMap(230, 138, 0 , 23, 29, 600 , 0, 4)
    ESC.ChangeRoleMap(231, 138, 0 , 19, 28, 411 , 0, 4)

    ESC.ChangeRoleMap(232, 138, 0 , 13, 29, 600 , 0, 7)
    ESC.ChangeRoleMap(233, 138, 0 , 9, 28, 600 , 0, 7)

    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.RoleEnable(232)
    ESC.RoleEnable(233)


    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.DLGNoPass()


    ESC.Caption(645)
    Scene.Print_W(3,9008,8*2,4*2,StringDB('ESS1309')) -- ESS=所有人聽好！%N待會兒我們從島上登陸，目...
    ESC.WaitDLG(3)


    Scene.Print_W(3,9008,9*2,3*2,StringDB('ESS1310')) -- ESS=消滅這些海上妖魔，是我們之神聖任務，大家...
    ESC.WaitDLG(3)



    ESC.Caption(143)
    Scene.Print_W(592,9008,6*2,1*2,StringDB('ESS1311')) -- ESS=是───！
    ESC.WaitDLG(592)



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.Progress_Off()



    ESC.GotoMap(141, 51, 47, 1, 0, 1)
    ESC.LineObj(9003, 64, 55, 55, 0, 0, 1)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SetRoleSpeed(596, 15)
    ESC.SetRoleSpeed(59991, 16)
    ESC.SetRoleSpeed(59990, 17)



    ESC.ChangeRoleMap(228, 141, 0 , 58, 53, 541 , 60, 0)
    ESC.RoleEnable(228)
    ESC.SetRoleSpeed(228, 5)
    ESC.BatchMove(1,    228, 57, 52)

    ESC.ChangeRoleMap(229, 141, 0 , 59, 53, 541 , 60, 0)
    ESC.RoleEnable(229)
    ESC.ChangeRoleMap(230, 141, 0 , 56, 53, 541 , 60, 0)
    ESC.RoleEnable(230)
    ESC.SetRoleSpeed(228, 4)
    ESC.SetRoleSpeed(229, 4)
    ESC.SetRoleSpeed(230, 4)
    ESC.BatchMove(3,
    228, 54, 49,
    229, 56, 50,
    230, 53, 50)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()

    ESC.ChangeRoleMap(592, 139, 0 , 18, 10, -1 , 0, 4)
    ESC.ChangeRoleMap(595, 139, 0 , 3, 16, -1 , 0, 1)
    ESC.ChangeRoleMap(594, 139, 0 , 12, 16, -1 , 0, 4)
    ESC.ChangeRoleMap(593, 139, 0 , 22, 7, -1, 0, 4)
    ESC.ChangeRoleMap(3 , 139, 0 , 8, 6, 3, 0, 5)


    ESC.ScreenUnlock()-- 沙灘上喊進攻
    ESC.Progress_Off()


    ESC.GotoMap(139, 25, 10, 1, 0, 1)
    ESC.TurnFace(592, 3)
    ESC.TurnFace(593, 3)
    ESC.TurnFace(594, 3)
    ESC.TurnFace(595, 3)


    ESC.RoleHide(1)
--  GUID ,MAPID ,PATH ,X ,Y ,ACT ,QQ ,DIR
    ESC.ChangeRoleMap(200, 139, 0 , 22, 10, 600 , 0, 4)
    ESC.ChangeRoleMap(201, 139, 0 , 25, 8, 411 , 0, 4)
    ESC.ChangeRoleMap(218, 139, 0 , 26, 11, 600 , 0, 4)
    ESC.ChangeRoleMap(219, 139, 0 , 28, 13, 411 , 0, 4)
    ESC.ChangeRoleMap(220, 139, 0 , 31, 15, 600 , 0, 4)
    ESC.ChangeRoleMap(221, 139, 0 , 33, 12, 411 , 0, 4)
    ESC.ChangeRoleMap(222, 139, 0 , 30, 9, 600 , 0, 4)

    ESC.ChangeRoleMap(228, 139, 0 , 15, 12, 600 , 0, 4)
    ESC.ChangeRoleMap(229, 139, 0 , 19, 13, 600 , 0, 4)
    ESC.ChangeRoleMap(230, 139, 0 , 20, 15, 411 , 0, 4)
    ESC.ChangeRoleMap(231, 139, 0 , 22, 18, 600 , 0, 4)
    ESC.ChangeRoleMap(232, 139, 0 , 13, 19, 411 , 0, 4)
    ESC.ChangeRoleMap(233, 139, 0 , 17, 15, 600 , 0, 4)
    ESC.ChangeRoleMap(234, 139, 0 , 18, 17, 411 , 0, 4)
    ESC.ChangeRoleMap(235, 139, 0 , 18, 21, 600 , 0, 4)
    ESC.ChangeRoleMap(250, 139, 0 , 15, 22, 411 , 0, 4)
    ESC.ChangeRoleMap(251, 139, 0 , 15, 17, 600 , 0, 4)

    ESC.ChangeRoleMap(252, 139, 0 , 7, 15, 600 , 0, 7)
    ESC.ChangeRoleMap(253, 139, 0 , 9, 18, 411 , 0, 0)

    ESC.ChangeRoleMap(320, 139, 0 , 10, 21, 600 , 0, 0)
    ESC.ChangeRoleMap(321, 139, 0 , 11, 24, 411 , 0, 4)
    ESC.ChangeRoleMap(322, 139, 0 , 6, 19, 600 , 0, 7)
    ESC.ChangeRoleMap(323, 139, 0 , 4, 21, 411 , 0, 7)

    ESC.ChangeRoleMap(327, 139, 0 , 7, 23, 600 , 0, 7)
    ESC.ChangeRoleMap(328, 139, 0 , 2, 23, 411 , 0, 7)
    ESC.ChangeRoleMap(329, 139, 0 , 5, 25, 600 , 0, 7)
    ESC.ChangeRoleMap(330, 139, 0 , 11, 13, 411 , 0, 4)

    ESC.RoleEnable(200)
    ESC.RoleEnable(201)
    ESC.RoleEnable(218)
    ESC.RoleEnable(219)
    ESC.RoleEnable(220)
    ESC.RoleEnable(221)
    ESC.RoleEnable(222)

    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.RoleEnable(232)
    ESC.RoleEnable(233)
    ESC.RoleEnable(234)
    ESC.RoleEnable(235)
    ESC.RoleEnable(250)
    ESC.RoleEnable(251)
    ESC.RoleEnable(252)
    ESC.RoleEnable(253)
    ESC.RoleEnable(320)
    ESC.RoleEnable(321)
    ESC.RoleEnable(322)
    ESC.RoleEnable(323)
    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.RoleEnable(329)
    ESC.RoleEnable(330)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()
    Scene.WORD_ON_HEAD(3, 10, 70, -75, StringDB('ESS1312')) -- ESS=進攻──！
    ESC.Delay(600)

    ESC.TakeActData(200, -1, 62, 0)
    ESC.TakeActData(201, -1, 62, 0)
    ESC.TakeActData(218, -1, 62, 0)
    ESC.TakeActData(219, -1, 62, 0)
    ESC.TakeActData(220, -1, 62, 0)
    ESC.TakeActData(221, -1, 62, 0)
    ESC.TakeActData(222, -1, 62, 0)
    ESC.TakeActData(228, -1, 62, 0)
    ESC.TakeActData(229, -1, 62, 0)
    ESC.TakeActData(230, -1, 62, 0)
    ESC.TakeActData(231, -1, 62, 0)
    ESC.TakeActData(232, -1, 62, 0)
    ESC.TakeActData(233, -1, 62, 0)
    ESC.TakeActData(234, -1, 62, 0)
    ESC.TakeActData(235, -1, 62, 0)
    ESC.TakeActData(250, -1, 62, 0)
    ESC.TakeActData(251, -1, 62, 0)
    ESC.TakeActData(252, -1, 63, 0)
    ESC.TakeActData(253, -1, 62, 0)
    ESC.TakeActData(320, -1, 62, 0)
    ESC.TakeActData(321, -1, 62, 0)
    ESC.TakeActData(322, -1, 63, 0)
    ESC.TakeActData(323, -1, 63, 0)
    ESC.TakeActData(327, -1, 63, 0)
    ESC.TakeActData(328, -1, 63, 0)
    ESC.TakeActData(329, -1, 63, 0)
    ESC.TakeActData(330, -1, 62, 0)

    MediaFunc.PlaySound(250)
    ESC.Delay(2000)



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6) -- 畫面回到移動島城堡瞭望台上
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(145 , 59, 28, 1, 78, 0)


    ESC.SeekACT(1, 4)
    ESC.RoleShow(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.Delay(500)
    ESC.TakeActData(1, -1, 79, 0)
    ESC.TILPA1(1, 4)
    ESC.TakeActData(1, -1, 0, 5)
    ESC.ScreenLock()


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1313')) -- ESS=……這些人又是什麼人？%N從哪裏突然冒出...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.Nicole_On(61, 26, 6)



    Scene.MBOn(3, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1314')) -- ESS=賽特賽特，%N別管他們啦！%N再不快一點...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10002, 8)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)
    ESC.TakeActData(1, -1, 78, 0)
    ESC.TILPA1(1, 4)
    ESC.Delay(500)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1315')) -- ESS=奇怪了……%N他們好像目標也是那座冰山島...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TakeActData(1, -1, 79, 0)
    ESC.TILPA1(1, 4)
    ESC.TakeActData(1, -1, 0, 5)


    Scene.Nicole_Off()



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 46, 17)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(700)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 37, 12)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(148 , 10, 18, 1, 0, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(3, 180 , 0 , 47, 37, 3 , 64, 1) -- 薇達移進冰山


    ESC.RoleDisable(200)
    ESC.RoleDisable(201)
    ESC.RoleDisable(218)
    ESC.RoleDisable(219)
    ESC.RoleDisable(220)
    ESC.RoleDisable(221)
    ESC.RoleDisable(222)
    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.RoleDisable(230)
    ESC.RoleDisable(231)
    ESC.RoleDisable(232)
    ESC.RoleDisable(233)
    ESC.RoleDisable(234)
    ESC.RoleDisable(235)
    ESC.RoleDisable(250)
    ESC.RoleDisable(251)
    ESC.RoleDisable(252)
    ESC.RoleDisable(253)
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)
    ESC.RoleDisable(322)
    ESC.RoleDisable(323)
    ESC.RoleDisable(327)
    ESC.RoleDisable(328)
    ESC.RoleDisable(329)
    ESC.RoleDisable(330)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.RoleEnable(507)
    ESC.RoleEnable(59970)
    GameFunc.FlagOff(10)

    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


end



    ------------------------
function Scene.TALK548()
    -- 移動島大地圖接沙地小船
    if not GameFunc.GetFlag(322) then return end
    if Scene.CheckParty(3) then goto T548A end
    Scene.EnterCity(139, 3, 3, 5)
    ESC.SceneBreak()
::T548A::
    Scene.EnterCity_WIDAD(139, 3, 3, 5)
end
    ------------------------
function Scene.TALK549()
    -- 沙地小船接大地圖
    if GameFunc.GetFlag(110) then goto T549 end   -- 此時冰山已沉
    if not GameFunc.GetFlag(106) then goto T549 end -- 冰山未出現
    Scene.OutCity(141, 51, 47, 2)
    ESC.SceneBreak()
::T549::
    if Scene.CheckParty(3) then goto T549A end
    Scene.OutCity(140, 51, 47, 2)
    ESC.SceneBreak()
::T549A::
    Scene.OutCity_WIDAD(140, 51, 47, 2)
end
    ------------------------
    ------------------------
    ------------------------
function Scene.TALK552()
    -- 擱淺船隻->浮島大地圖
    if GameFunc.GetFlag(110) then goto T552 end   -- 此時冰山已沉
    if not GameFunc.GetFlag(106) then goto T552 end -- 冰山未出現
    Scene.OutCity(141, 36, 44, 0)
    ESC.SceneBreak()
::T552::
    if Scene.CheckParty(3) then goto T552A end
    Scene.OutCity(140, 37, 44, 0)
    ESC.SceneBreak()
::T552A::
    Scene.OutCity_WIDAD(140, 37, 44, 0)
end
    ------------------------


-- ──────────────────────────────────────【移動島瞭望台上的賽特】

function Scene.TALK553()
    if GameFunc.GetFlag(7031) then goto T553B end -- DOMO小組的命運（第三次）
    if GameFunc.GetFlag(7024) then goto T537_NU4 end -- 撥冰山撞過來的MPG（第二次）
    if GameFunc.GetFlag(7029) then goto T553A end -- 沒有望遠鏡（第一次）
    ESC.SceneBreak()

-- ──────────────────────────────────【冰山島出現】



::T537_NU4::    -- 進入瞭望台




    if GameFunc.GetFlag(106) then ESC.SceneBreak() end -- 判斷是不是看過冰山動畫
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(316) -- 打開就執行詢問冰山的事
    GameFunc.FlagOn(106)



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂

    ESC.SceneMusic(145, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳：迷宮Ⅲ）
    ESC.SceneMusic(170, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島庭院：迷宮Ⅲ）


    Scene.SetGameValue(63, 0)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 59, 28)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)
    ESC.TakeActData(1, -1, 78, 0)
    ESC.TILPA1(1, 4)
    ESC.Delay(500)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()

    ESC.PlayVedio('colision') -- 【動畫】冰山島出現



    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.Delay(500)
    ESC.TakeActData(1, -1, 79, 0)
    ESC.TILPA1(1, 4)
    ESC.TakeActData(1, -1, 0, 5)
    Scene.TIK()
    Scene.TIK()


    ESC.ChangeDIR(1, 1) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1316')) -- ESS=……這是怎麼回事？%N好大一塊冰撞上我們...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 1) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1317')) -- ESS=我去問那幾個石像，%N也許它們知道怎麼回...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    GameFunc.FlagOff(10)

    Scene.QuestOff(77)
    Scene.QuestOn(78)
    Scene.QuestOff(98 ) -- 把支線去掉
    Scene.QuestOff(97)

    ESC.ChangeQQ(1, Const.STAND) -- 賽特站
    ESC.ChangeDIR(1, 5)
    ESC.SceneBreak()

::T553A::
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 59, 28)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(500)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(500)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(500)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(500)
    ESC.ChangeDIR(1, 1)
    Scene.TIK()

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1318')) -- ESS=不行，%N看得不夠遠…什麼都看不見！
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1319')) -- ESS=回去問哈倫他們看看有沒有什麼辦法…
    ESC.WaitDLG(1)




    GameFunc.FlagOff(7029)
    ESC.SceneBreak()
::T553B:: -- 偷看
    if GameFunc.GetFlag(7033) then return end -- 有偷看過了
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 59, 28)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)

    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(103, 103, 0x4000)

    ESC.Delay(500)
    Scene.WORD_ON_HEAD(1, 5, 20, -65, '%S0'..StringDB('ESS1320')) -- ESS=嘿～～！
    ESC.Delay(500)
    ESC.TakeActData(1, -1, 78, 0)
    ESC.TILPA1(1, 4)
    ESC.Delay(500)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.RoleHide(1)
    GameFunc.FlagOn(19)
    ESC.RoleEnable(59984)

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 36)
    ESC.FadeWait()

    ESC.SetRoleSpeed(59984, 30)
    ESC.TILPA1(59984, 4)
    ESC.Delay(3000)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 32)
    ESC.FadeWait()
    ESC.Delay(500)
    ESC.RoleDisable(59984)
    ESC.RoleShow(1)
    GameFunc.FlagOff(19)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
--  Scene.WORD_ON_HEAD(1, 15, 20, -65, "那是什麼怪東西？")
    Scene.MAIN_TALKS_3(1, 9, 27, StringDB('ESS1321')) -- ESS=那是什麼怪東西？

    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()

    ESC.TakeActData(1, -1, 79, 0)
    ESC.TILPA1(1, 4)
    ESC.TakeActData(1, -1, 0, 5)
    GameFunc.FlagOn(7033) -- 設定偷看過
    GameFunc.FlagOff(10)
end

    ------------------------



function Scene.TALK554()

    if not GameFunc.GetFlag(7026) then goto T554A end -- 瞭望台門的開關
    if GameFunc.GetFlag(7027) then goto T554B end -- 門已經開過
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 5, 20, -65, '%S0'..StringDB('ESS1322')) -- ESS=用鑰匙開門！
    ESC.WaitDLG(1)
    ESC.RoleEnable(519) -- 瞭望台中間的門
    GameFunc.FlagOn(7027)
    ItemFunc.AddItem(789, -1)


::T554B::   -- 跳到迷宮
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(151 , 84 , 166, 1, 0, 0)
    GameFunc.FlagOn(19)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()

    Scene.RoadFlag(StringDB('ESS1112')) -- ESS=　城堡二樓
    ESC.SceneBreak()


::T554A::
    Scene.WORD_ON_HEAD(1, 5, 20, -65, '%S0'..StringDB('ESS1323')) -- ESS=門鎖起來了！
end



function Scene.TALK555()
    -- 小迷宮出口
    Scene.ChangeMap(145, 58, 13, 1)
    Scene.RoadFlag(StringDB('ESS1203')) -- ESS= 城堡瞭望台
end
    ------------------------
function Scene.TALK556()
    -- 小迷宮寶箱
    if Scene.CheckQQ(59989, 8) then goto T556 end
    ESC.ChangeQQ(59989, 8)
    ESC.StartBattle('BS83')
    GameFunc.FlagOn(7032)
    Scene.QuestOff(72)
    Scene.QuestOn(73)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(100)
    Scene.TIK()
    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS1324')) -- ESS=這大概就是第一道難題吧！
    ESC.WaitDLG(1)
::T556::
end
    ------------------------
    ------------------------
    ------------------------
function Scene.TALK559()
    -- 側梯進頂層通道
    GameFunc.FlagOn(223)
    GameFunc.FlagOn(333)
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(146 , 39 , 60 , 1, Const.STAND, 7)
    Scene.ScrollMapD(41, 27, 16, 16)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1093')) -- ESS=城堡側邊走廊
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 65, 40)
    ESC.TakeActData(1, -1, 0, 7)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
end
    ------------------------
function Scene.TALK560()
    if not GameFunc.GetFlag(223) then goto T560 end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 61, 43)
    Scene.ScrollMapD(42, 28, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 39, 60)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(169 , 17 , 21 , 1, Const.STAND, 6)
    ESC.ScreenUnlock()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1094')) -- ESS=　 城堡左側
    ESC.RMUNlock()
    GameFunc.FlagOff(223)

::T560::
end
    ------------------------
function Scene.TALK723()
    ESC.TurnFace(230, 1)
    ESC.Delay(100)
    ESC.StartBattle('BS81')
    Scene.SAR_ROL(230, 0)
    ESC.RoleDisable(230)
    GameFunc.FlagOn(323)
    Scene.BLUEMAN()
end

function Scene.TALK724()
    ESC.TurnFace(231, 1)
    ESC.Delay(100)
    ESC.StartBattle('BS81')
    Scene.SAR_ROL(231, 0)
    ESC.RoleDisable(231)
    GameFunc.FlagOn(324)
    Scene.BLUEMAN()
end

function Scene.TALK725()
    ESC.TurnFace(232, 1)
    ESC.Delay(100)
    ESC.StartBattle('BS82')
    Scene.SAR_ROL(232, 0)
    ESC.RoleDisable(232)
    GameFunc.FlagOn(325)
    Scene.BLUEMAN()
end

function Scene.TALK726()
    ESC.TurnFace(233, 1)
    ESC.Delay(100)
    ESC.StartBattle('BS81')
    Scene.SAR_ROL(233, 0)
    ESC.RoleDisable(233)
    GameFunc.FlagOn(326)
    Scene.BLUEMAN()
end

function Scene.TALK727()
    -- 移動島大廳與主角戰鬥之藍人
    ESC.TurnFace(234, 1)
    ESC.Delay(800)
    ESC.StartBattle('BS82')
    Scene.SAR_ROL(234, 0)
    ESC.RoleDisable(234)
    GameFunc.FlagOn(327)
    Scene.BLUEMAN()
end

-- ──────────────────────────────────────【冰山島的祕密洞穴】

function Scene.TALK561()
    Scene.TALK561_TimeTrick = Scene.TALK561_TimeTrick or 0
    if GetTicks() > Scene.TALK561_TimeTrick + 2000 then
        Scene.WORD_ON_HEAD(1, 5, 22, -65, StringDB('ESS1325')) -- ESS=洞穴崩塌，無法進入！
        Scene.TALK561_TimeTrick = GetTicks()
    end
end



    ------------------------
function Scene.TALK562()
    Scene.OutCity(141, 54, 43, 2)
end
    ------------------------
function Scene.TALK563()
    Scene.ChangeMap(184, 53, 148, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK564()
    if GameFunc.GetFlag(107) then goto T564 end
    Scene.ChangeMap(175, 27, 18, 6)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
    ESC.SceneBreak()
::T564::
    Scene.ChangeMap(176, 27, 18, 6)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK565()
    Scene.ChangeMap(179, 35, 54, 7)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK566()
    Scene.ChangeMap(186, 19, 26, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK567()
    Scene.ChangeMap(183, 115, 104, 2)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK568()
    Scene.ChangeMap(184, 147, 80, 2)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK569()
    Scene.ChangeMap(181, 21, 11, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK570()
    Scene.ChangeMap(179, 70, 53, 4)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK571()
    Scene.ChangeMap(185, 102, 151, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK572()
    Scene.ChangeMap(179, 18, 10, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK573()
    Scene.ChangeMap(177, 19, 26, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK574()
    if GameFunc.GetFlag(204) then goto T574 end
    if GameFunc.MapID == 177 then goto T574 end
    Scene.ChangeMap(184, 84, 14, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
    ESC.SceneBreak()
::T574::
    Scene.ChangeMap(185, 100, 36, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end




-- ──────────────────────────────────────【炎上!!移動島攻擊冰山島】

function Scene.TALK575()
    -- 回到移動島(四石像會合)

    if GameFunc.GetFlag(110) then goto T575B end
    if GameFunc.GetFlag(107) then return end   -- 四石像是否攻過冰山
    if not GameFunc.GetFlag(208) then return end  -- 若沒跟三個藍人打過,不執行
    GameFunc.FlagOn(10)



    ESC.RMLock()
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.SetPos(1, 42, 33)


::T575A::
    ESC.BatchStep( 1,   1)
    if not ESC.RoleReach(1) then goto T575A end
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(100)


    ESC.TurnFace(1, 19)
    Scene.Nicole_On(46, 34, 0)



    Scene.MBOn(3, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1326')) -- ESS=好消息！好消息！%N我把波西頓石像給帶回...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10002, 30)



    ESC.AddHeadSign(19, 0)
    ESC.AddHeadSign(20, 0)
    ESC.AddHeadSign(21, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(19)
    ESC.DelHeadSign(20)
    ESC.DelHeadSign(21)



    ESC.ChangeDIR(1, 0)
    ESC.ChangeRoleMap(22 , 170 , 0 , 42 , 31, 6502 , 0 , 0)
    ESC.RoleEnable(22)
    ESC.TILPA1(22, 20)
    ESC.SetRoleSpeed(22, 1)
    MediaFunc.PlaySound(218)
    ESC.TakeActData(22, -1, 1, 0)
    ESC.BatchMove(1,    22, 45, 27)
    ESC.ChangeDIR(1, 7)



    ESC.TakeActData(22, 22, 53, 0)
    ESC.RoleMove(574, 44, 27)
    ESC.RoleEnable(574) -- 波西頓光暈
    ESC.ChangeDIR(574, 1)
    Scene.PlayACT(0, 360, 220-90, 6502 , 9)
    ESC.TILPA2(0, 9)
    ESC.TakeActData(22, 22, 0, 2)
    ESC.Delay(250)


    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1327')) -- ESS=──真的是你，波西頓！%N幾千年不見，你...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1328')) -- ESS=哈哈，波西頓！%N這下我們%C7四個石像...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1329')) -- ESS=唉呀唉呀，%N這對我波西頓根本不算什麼啦...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1330')) -- ESS=倒是你們看看，%N歷經千辛萬苦，我終於幫...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1331')) -- ESS=喂喂喂！%N是我們先找到的好不好！%N你...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1332')) -- ESS=而且這種笨主人，找到她還真算我們倒大楣呢...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    ESC.ChangeDIR(2, 4)


    Scene.MBOn(3, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1333')) -- ESS=那個…那個……%C3（叫不出對方名字）%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10002, 22)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1334')) -- ESS=雅典娜，別這樣嘛！%N難得波西頓也回來了...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)




    ESC.ChangeDIR(2, 0)

    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1335')) -- ESS=是呀是呀！%N難得我們四個聚在一起，這下...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1336')) -- ESS=說到這一個，%N我要請你們幫個忙！
    ESC.WaitDLG(1)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(25, 25, 0x4000) -- 【劇情配樂】不安（換上新的緊張曲）


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1337')) -- ESS=我要用%C7火山%C5去攻擊那個把我抓去...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)


    Scene.MBOn(7, 11, 0, 140-10, 190-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    Scene.AddHead(10021, 1, 50, 120)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,190-20,32,8,'%S0%C5'..StringDB('ESS1338')) -- ESS=沒問題！%N小事一樁──────
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)
    ESC.DelHead(10021, 1)
    ESC.DelHead(10019, 0)

    ESC.Delay(300)
    ESC.ChangeDIR(2, 0)

    ESC.StoryMusic(0, 0, 0x4000) -- 【劇情配樂】無



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.PlayVedio('volcano')
    ESC.ChangeRoleMap(641, 187, 0, 54, 46, 411, 0, 6) -- 把原冰山外士兵搬進來




    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂



    ESC.ChangeDIR(571, 3) -- 四石像發光之光影
    ESC.ChangeDIR(572, 3)
    ESC.ChangeDIR(573, 3)
    ESC.ChangeDIR(574, 3)

    ESC.RoleEnable(571)
    ESC.RoleEnable(572)
    ESC.RoleEnable(573)
    ESC.RoleEnable(574)

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()-- 光影轉暗


    ESC.ChangeDIR(2, 4)

    Scene.MBOn(3, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 26, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1339')) -- ESS=哇啊───！%N原來你們幾個這麼厲害呀？...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10002, 26)


    ESC.ChangeDIR(2, 0)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1340')) -- ESS=哈哈哈，痛快痛快───！%N這下子冰山島...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1341')) -- ESS=波西頓呀！%N我們是不是太久沒用這力量啦...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    ESC.ChangeDIR(574, 1) -- 波西頓石像熄滅光暈
    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1342')) -- ESS=說的也是…%N大家先休息一下，待會%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    ESC.Delay(300)
    ESC.ChangeDIR(571, 1)
    ESC.ChangeDIR(572, 1)
    ESC.ChangeDIR(573, 1)
    ESC.Delay(700)
    ESC.TurnFace(1, 22)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1343')) -- ESS=喂，等一等！%N我們最初目的，是要去找%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1344')) -- ESS=你們這樣把藍魔神和冰山島一塊給轟沈了，那...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1345')) -- ESS=那是你家的事情，%N和我又有什麼關係？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)


    Scene.MBOn(3, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1346')) -- ESS=別這樣子嘛，%N石像先生！
    ESC.WaitDLG(1)


    ESC.ChangeHead(10002, 18, 10002, 24)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1347')) -- ESS=給我們一點時間嘛，人家和賽特趕快去冰山找...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10002, 24)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1348')) -- ESS=波西頓，看在妮可老主人的面子上我們就%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1349')) -- ESS=其他人有沒有什麼意見？
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1350')) -- ESS=都好都好，從五百年以前，我就已經沒有任何...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)

    Scene.Nicole_Off()


    Scene.QuestOff(80 ) -- 【主線任務取消】將波西頓石像，帶回移動島庭園，
    Scene.QuestOn(81 ) -- 【主線任務追加】到冰山島，儘快找到藍魔神



    GameFunc.FlagOn(107)
    ItemFunc.AddItem(791, -1) -- 把波西頓從物品攔拿掉
    ESC.RMUNlock()
    GameFunc.FlagOff(10)

    ESC.RoleDisable(571) -- 把石像發光關掉
    ESC.RoleDisable(572)
    ESC.RoleDisable(573)
    ESC.RoleDisable(574)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.SceneBreak()


-- ──────────────────────────────────────【冰封藍魔神！】

::T575B::
    if GameFunc.GetFlag(111) then return end

    ESC.RMLock()-- 封住冰魔
    GameFunc.FlagOn(10)
    Scene.BattleSupportOff(3) -- 薇達
    ESC.RoleMove(22, 45, 27)

    ESC.ChangeRoleMap(13, -1, 0, 20-1, 20+3, 13, Const.STAND, 1)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3 , 8, 6 , 0xD100)

    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.SetMoveHISpeed(1)


    ESC.BatchMove(1,    1, 42, 33)



    ESC.TurnFace(3, 19)
    ESC.ChangeQQ(3, 8) -- 薇達站
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.TakeActData(1, -1, Const.STAND, 7)
    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS1351')) -- ESS=──喂！%N你們這幾個不守信用的石像，是...
    ESC.WaitDLG(1)


    ESC.ScreenLock()
    ESC.RoleEnable(2)
    ESC.ChangeRoleMap(2, -1, 0, 46, 25, 2, 68, 0)
    ESC.TILPA1(2, 16)
    ESC.TakeActData(2, -1, 56, 1)
    ESC.Unlock(2)
    ESC.Delay(300)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1352')) -- ESS=賽特，%N對不起啦───！%N幸好你平安...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1353')) -- ESS=妮可主人的朋友，實在很抱歉…我們弄錯妮可...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1354')) -- ESS=說來說去，還是妮可太笨了，%N連話都講不...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)




    ESC.Unlock(3)
    ESC.ChangeQQ(3, 8) -- 薇達走
    ESC.SetRoleSpeed(3, 1)

    ESC.BatchMove(1,    3, 36, 31)


    ESC.TurnFace(3, 19)
    ESC.ChangeQQ(3, 8) -- 薇達站
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1355')) -- ESS=對不起，%N這位…會飛的小妖魔……
    ESC.WaitDLG(1)



    ESC.Unlock(2)
    ESC.TakeActData(2, -1, 52, 1)
    ESC.Delay(400)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1356')) -- ESS=在冰山島上發生的事情，%N我感到對你們十...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.StoryMusic(124, 121, 0x2000) -- 【劇情配樂】晴天霹靂



    ESC.PlayACT(0, 0, 0, 8026, 0)
    ESC.TILPA2(0, 15)
    ESC.TakeActData(1, 1, 32, 2)
    ESC.Delay(800)
    Scene.BattleSupportOff(3) -- 薇達




    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1357')) -- ESS=────大家小心！%N是%C7藍魔神%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    Scene.ScrollMapD(1, 5, 4, 4)
    ESC.Delay(500)

    ESC.TakeActData(1, 1, 28, 0) -- 賽特戒備
    ESC.TurnFace(3, 1)
    ESC.ChangeDIR(2, 1)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ScrollMapWait()
    ESC.DLGClose(1) -- 賽特的對話框關閉   否則玩家若沒關掉，將會持續到戰鬥


    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 280, 330, 6011, 1) -- 藍魔神出現
    ESC.TILPA2(0, 10)
    ESC.RoleEnable(13)
    ESC.TILPA2(0, 26)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1358')) -- ESS=波西頓%C5小子！%N我好心照顧了你幾千...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1359')) -- ESS=今天我不把你們所有人殺光，%N老娘我就不...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    ESC.ChangeDIR(1, 0) -- 賽特拔劍搜索
    ESC.ChangeQQ(1, 28)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Unlock(2)

    ESC.TakeActData(13, -1, 52, 1) -- 藍魔神潛入水中
    ESC.TILPA1(13, 1)
    Scene.SAR_Shadow(13, 0)
    ESC.TILPA1(13, 6)
    ESC.RoleMove(13, 27-3, 20)
    ESC.TakeActData(13, -1, 56, 0)


    Scene.ScrollMapD(22, 13, 4, 4)
    ESC.SetMoveHISpeed(13)
    ESC.BatchMove(1,    13, 34, 28)



    ESC.TakeActData(13, 13, 52, 3)
    ESC.Unlock(13)
    ESC.TILPA1(13, 3) -- 薇達被附身


    ESC.Delay(100)
    Scene.PlayACT(0, 230, 300, 6011, 2) -- 薇達驚叫
    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍



    ESC.AddHeadSign(1, 0)
    ESC.TakeActData(2, -1, Const.STAND, 6)
    ESC.ChangeDIR(2, 6)
    ESC.RoleMove(13, 36, 31)
    ESC.TakeActData(13, 13, Const.STAND, 1)


    Scene.SAR_Shadow(13, 1)
    ESC.DelHeadSign(1)
    ESC.TILPA2(0, 10)
    Scene.AddMainParty(2) -- 妮可加入



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(5)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1360')) -- ESS=───糟了！%N
    ESC.WaitDLG3(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    ESC.StartBattle('BS92') -- 池塘中第一次與藍魔神戰鬥


    ESC.StoryMusic(122, 25, 0x2000) -- 【劇情配樂】不安



    ESC.RoleMove(3, 37, 32)
    ESC.TakeActData(3, 3, 69, 0) -- 薇達倒地


    ESC.Delay(300)
    ESC.TakeActData(2, -1, Const.STAND, 6)
    ESC.Unlock(2)


    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1361')) -- ESS=哼，可惡的賽特──！%N算你夠狠──！！...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1362')) -- ESS=不過我藍魔神能夠化身為%C7水%C5，%...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)


    ESC.TakeActData(13, -1, 52, 1) -- 藍魔神跳入水中
    ESC.TILPA1(13, 6)
    ESC.RoleDisable(13)
    ESC.RoleMove(13, 41, 30)


    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.Delay(300)
    ESC.TakeActData(1, -1, 0, 7) -- 賽特站


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1363')) -- ESS=糟糕───！%N被逃掉了！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1364')) -- ESS=笨傢伙，自投羅網───！%N看我們的──...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)




    ESC.TakeActData(1, 1, Const.STAND, 0)
    ESC.WaitDLG(22)




    ESC.RoleEnable(571) -- 石像發光
    ESC.RoleEnable(572)
    ESC.RoleEnable(573)
    ESC.RoleEnable(574)

    ESC.ChangeDIR(571, 2)
    ESC.ChangeDIR(572, 2)
    ESC.ChangeDIR(573, 2)
    ESC.ChangeDIR(574, 2)



    Scene.SAR_Shadow(19, 0)
    Scene.SAR_Shadow(20, 0)
    Scene.SAR_Shadow(21, 0)
    Scene.SAR_Shadow(22 , 0)
    ESC.TakeActData(19, -1, 28, 0)
    ESC.TakeActData(20, -1, 28, 0)
    ESC.TakeActData(21, -1, 28, 0)
    ESC.TakeActData(22 , -1, 28, 0)

    ESC.RoleEnable(485)
    ESC.TILPA1(485, 2)
    ESC.TakeActData(13, 13, 64, 1)
    ESC.RoleEnable(13)
    ESC.TILPA1(485, 7-2)
    ESC.RoleEnable(413)
    ESC.RoleEnable(420)
    ESC.RoleEnable(421)
    ESC.RoleEnable(422)
    ESC.RoleEnable(423)
    ESC.RoleEnable(424)
    ESC.RoleEnable(425)
    ESC.RoleEnable(426)
    ESC.RoleEnable(427)
    ESC.TakeActData(625, -1, 24, 0)
    ESC.TakeActData(19, -1, 28, 1)
    ESC.TakeActData(20, -1, 28, 1)
    ESC.TakeActData(21, -1, 28, 1)
    ESC.TakeActData(22 , -1, 28, 1)


    Scene.SAR_Shadow(19, 1)
    Scene.SAR_Shadow(20, 1)
    Scene.SAR_Shadow(21, 1)
    Scene.SAR_Shadow(22 , 1)



    ESC.ChangeDIR(571, 1)
    ESC.ChangeDIR(572, 1)
    ESC.ChangeDIR(573, 1)
    ESC.ChangeDIR(574, 1)
    ESC.TILPA1(13, 5)



    MediaFunc.PlaySound(96)
    ESC.TILPA1(13, 6-5)
    ESC.TakeActData(13, 13, 64, 2)
    ESC.RoleDisable(485)
    ESC.Delay(1200)



    ESC.ChangeQQ(2, Const.WALK)
    ESC.BatchMove(1,    2, 41+3, 30-2)

    ESC.ChangeQQ(2, Const.STAND)
    ESC.TurnFace(2, 13)
    ESC.Unlock(2)
    ESC.Delay(300)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1365')) -- ESS=哇────%N你們幾個好厲害哦！%N她被...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)


    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1366')) -- ESS=呵呵────！%N藍魔神呀，%C7冰凍%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    ESC.ChangeDIR(3, 2) -- 薇達起身閉眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身閉眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身閉眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1367')) -- ESS=哇────%N她的臉看起來好生氣哦！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)




    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身閉眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達起身閉眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1368')) -- ESS=不過這下子也麻煩了……%N如果被她走掉可...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)


    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(75, 75, 0x4000) -- 【劇情配樂】灼熱的沙漠



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1369')) -- ESS=是呀是呀，%N反正這傢伙是%C7水%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1370')) -- ESS=嘩────！%N那她不就變成裝飾品了？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)



    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)



    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1371')) -- ESS=笨蛋，「嘩」什麼「嘩」──%N我們的島也...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1372')) -- ESS=什麼───？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.ChangeDIR(3, 2) -- 薇達起身張眼
    ESC.ChangeQQ(3, 68)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1373')) -- ESS=……賽特，%N…你們…是要去%C7阿拉伯...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.TurnFace(1, 3)
    ESC.Delay(500)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1374')) -- ESS=啊，妳醒來了……？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1375')) -- ESS=……醒來很久了，%N而且也聽到不少你還有...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1376')) -- ESS=啊，對不起……%N我幾乎忘了妳是來執行%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.Unlock(3)
    ESC.TakeActData(3, 3, 71, 0) -- 薇達站起
    ESC.Delay(600)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1377')) -- ESS=……賽特，%N你們如果要去阿拉伯的話，%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1378')) -- ESS=………那兒是我的國家，正好順路而已，事情...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.Delay(600)
    ESC.SetRoleSpeed(3, 2)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 42, 36)


    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(2, 5)
    ESC.Unlock(2)


    ESC.SetRoleSpeed(3, 1)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 54-1, 39-1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1379')) -- ESS=……謝謝妳了！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1380')) -- ESS=……我只不過是不喜歡欠任何人的人情罷了，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.Delay(200)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 70, 44)
    ESC.Delay(200)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1381')) -- ESS=好有個性的女孩子……%N不過倒挺有她自己...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    ESC.AddHeadSign(2, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(2)

    ESC.Delay(400)


    ESC.TurnFace(1, 2)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1382')) -- ESS=好，妮可───！%N那我們也準備動身出發...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)



    ESC.Unlock(1)
    ESC.ChangeDIR(2, 1) -- 妮可目視賽特離開
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)

    ESC.SetRoleSpeed(1, 1)
    ESC.BatchMove(1,    1, 53, 38)
    ESC.ChangeDIR(2, 5)

    ESC.SetRoleSpeed(1, 1)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 58, 41)
    ESC.AddHeadSign(2, 1)

    ESC.SetRoleSpeed(1, 1)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 71, 43)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.DelHeadSign(2)


    ESC.ChangeQQ(2, Const.STAND)
    ESC.SetRoleSpeed(2, 3)
    ESC.BatchMove(1,    2, 46, 30)
    ESC.ChangeDIR(2, 5)
    ESC.Unlock(2)
    ESC.Delay(1500)


    ESC.SetRoleSpeed(2, 0)
    ESC.TurnFace(2, 22)
    ESC.Delay(200)
    ESC.Unlock(2)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 38, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1383')) -- ESS=──喂！%N人家有%C7重要事情%C5要...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 38)


    ESC.Delay(400)


    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeDIR(2, 5)
    ESC.Unlock(2)
    ESC.Caption(2)
    Scene.Print_WS(2,9007,7*2,3*2,StringDB('ESS1384')) -- ESS=賽特！%N賽特！%N等人家一下嘛！
    ESC.WaitDLG(2)


    ESC.SetRoleSpeed(2, 0)
    ESC.ChangeDIR(2, 5)
    ESC.ChangeQQ(2, Const.RUN)
    ESC.Unlock(2)
    ESC.BatchMove(1,    2, 66, 39)     --  69,43


    ESC.Caption(21)
    Scene.Print_W(21,9007,8*2,4*2,StringDB('ESS1385')) -- ESS=───哼，%N什麼重要事情啊？根本就是去...
    ESC.WaitDLG(21)


    ESC.Caption(20)
    Scene.Print_W(20,9007,8*2,3*2,StringDB('ESS1386')) -- ESS=啊啊啊───%N又要看家啊──？%N這次...
    ESC.WaitDLG(20)


    ESC.Caption(19)
    Scene.Print_W(19,9007,8*2,3*2,StringDB('ESS1387')) -- ESS=反正沒差，%N我們大多數時間也是在睡覺而...
    ESC.WaitDLG(19)


    ESC.Caption(22)
    Scene.Print_W(22,9007,10*2,3*2,StringDB('ESS1388')) -- ESS=老天！%N這個臭婆娘也要一直陪我們幾百多...
    ESC.WaitDLG(22)


    ESC.AddHeadSign(19, 1)
    ESC.AddHeadSign(20, 1)
    ESC.AddHeadSign(21, 1)
    ESC.Delay(1400)
    ESC.DelHeadSign(19)
    ESC.DelHeadSign(20)
    ESC.DelHeadSign(21)



    Scene.Print_W(22,9007,11*2,3*2,StringDB('ESS1389')) -- ESS=哇，讓我死了吧──！%N我後悔了！死婆娘...
    ESC.WaitDLG(22)

    -- 解決哈倫可能擋路
    ESC.ChangeRoleMap(164, 148, 164, 38, 24 , 505 , Const.WALK, 1)
    ESC.RoleEnable(164)

    ESC.ChangeRoleMap(3, 148, 0, 37, 32, 3, Const.STAND, 6) -- 將薇達移到大廳
    ESC.RoleMove(2, 85, 46)
    ESC.TakeActData(2, -1, Const.STAND, 3)
    ESC.RoleMove(1, 87, 49)
    ESC.TakeActData(1, -1, Const.STAND, 7)

    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()



    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS1390')) -- ESS=莉蓮，我即將就要離開這個島，繼續我的%C...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS1391')) -- ESS=───我也想去尋找一些我心中問題的答案，...
    ESC.WaitDLG(1)


    ESC.Delay(400)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(400)


    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS1392')) -- ESS=走吧，妮可！%N新的旅程要開始了──
    ESC.WaitDLG(1)

    ACH.SetAchievement("ACH_0_2")

    Scene.Nicole_Off()
    GameFunc.FlagOn(7043) -- 冰魔事件結束，決定搭薇達的船


    ESC.SceneMusic(148, 12, 30, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳）


    ESC.RoleEnable(99)
    ESC.RMUNlock()


    GameFunc.FlagOff(10)
    GameFunc.FlagOn(111)
    Scene.BattleSupportOff(3) -- 薇達


    ESC.RoleDisable(571) -- 把石像發光關掉
    ESC.RoleDisable(572)
    ESC.RoleDisable(573)
    ESC.RoleDisable(574)

    Scene.QuestOff(83)
    Scene.QuestOn(84)

    ESC.SceneBreak()






end






    ------------------------
function Scene.TALK576()
    Scene.ChangeMap(183, 20, 43, 5)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK577()
    Scene.ChangeMap(188, 63, 44, 6)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK578()
    Scene.ChangeMap(184, 13, 81, 5)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK579()
    Scene.ChangeMap(182, 85, 98, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end
    ------------------------
function Scene.TALK580()
    Scene.ChangeMap(183, 71, 13, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end




-- ──────────────────────────────────────【藍魔神現身！】


function Scene.TALK581()


    if GameFunc.GetFlag(109) then goto T581A end
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(1, 25) -- 【淡出模式】
    ESC.StoryMusic(125, 56, 0x2000) -- 【劇情配樂】不氣味


    Scene.MoveHero(45, 39, 7)



    ESC.RMLock()
    ESC.DLGNoPass()
    ESC.DLGNoFrame()
    Scene.Print_LF ( 1,9009,180,5,18,6,'%C6'..StringDB('ESS1393')) -- ESS=哈哈哈！%N賽特呀，你可終於來啦！
    ESC.WaitDLG(1)



    Scene.WORD_ON_HEAD(1, 10, 20, -75, '%C0'..StringDB('ESS1394')) -- ESS=───什麼人？



    ESC.ChangeDIR(1, 4)
    ESC.Delay(150)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(050)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(150)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(150)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(150)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(450)




    Scene.Nicole_On(47+4, 41+4, 4)


    ESC.PlayACT(0, 0, 0, 8026, 0)
    ESC.TILPA2(0, 13)
    ESC.TakeActData(1, 1, 32, 2)
    ESC.TakeActData(13, 13, 8, 1) -- 賽特往上看
    ESC.ScrollMapD(18, 0, 4, 4) -- Scene.ScrollMapD(24, 0, 4, 4)
    ESC.ScrollMapWait()
    ESC.TILPA2(0, 59)
    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 330, 200, 6011 , 1)
    ESC.TILPA2(0, 10)
    Scene.SAR_Shadow(13, 0) -- 把冰魔影子去掉
    ESC.RoleEnable(13) -- 藍魔神出現
    ESC.TILPA2(0, 26)
    ESC.RoleHide(1)
    ESC.TakeActData(1, 13, 0, 1)

    ESC.RoleMove(1, 43, 13)
    Scene.SAR_Shadow(1, 0) -- 因為雙方換圖所以影子交換
    ESC.RoleShow(1)
    ESC.RoleHide(13)
    ESC.RoleMove(13, 45, 43)
    ESC.TakeActData(13, 1 , 0, 0)
    Scene.SAR_Shadow(13, 1) -- 因為雙方換圖所以影子交換
    ESC.RoleShow(13)



    ESC.PlayACT(0, 0, 0, 8026, 1) -- 藍魔神往下走
    ESC.TILPA2(0, 5)
    ESC.SetRoleSpeed(1, 0)
    ESC.BatchMove(1,    1, 43, 33)
    Scene.SAR_Shadow(1, 1) -- 因為雙方換圖所以影子交換
    ESC.ScreenLock()
    ESC.TakeActData(13, 1 , 0, 0)
    ESC.TILPA2(0, 53-5)

    Scene.SAR_Shadow(13, 1) -- 因為雙方換圖所以影子交換
    ESC.RoleMove(1, 45, 43)
    ESC.RoleMove(13, 43, 33)
    ESC.TakeActData(1, 1, Const.STAND, 0)
    ESC.TakeActData(13, 13, 0, 1)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1395')) -- ESS=呵呵，你就是那個賽特嗎？%N今天我可總算...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1396')) -- ESS=藍．魔．神───？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1397')) -- ESS=沒錯！%N我問你，為什麼把%C7波西頓%...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1398')) -- ESS=哼，問得好！%N那我倒要先問問妳，為什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1399')) -- ESS=呵呵呵，答得好！答得好！%N這麼說來，其...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1400')) -- ESS=──扯平？%N搞清楚，波西頓他攻擊妳，是...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS1401')) -- ESS=請立刻將我同伴身上的冰解開！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1402')) -- ESS=解開？%N呵呵呵，可以───%N
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1403')) -- ESS=聽說連%C7姆斯比爾%C5也栽在你手上，...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)


    ESC.Delay(500)
    ESC.StartBattle('BS91') -- 與冰魔戰鬥

    ESC.StoryMusic(125, 46, 0x2000) -- 【劇情配樂】不氣味

    ESC.Delay(400)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1404')) -- ESS=不錯嘛！%N名不虛傳，難怪能夠打敗姆斯比...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1405')) -- ESS=如何，加入我們魔界吧？%N以前%C7恐懼...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1406')) -- ESS=免了！%N我已經贏了，我問妳，到底要不要...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1407')) -- ESS=好，這有何難的？%N區區小事罷了！
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)


    ESC.PlayACT(0, 0, 0, 8026, 0)
    ESC.TILPA2(0, 13)


    ESC.Delay(3000)


    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1408')) -- ESS=好了，%N你同伴身上的冰凍，%N我全都幫...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1409')) -- ESS=那些%C7阿拉伯士兵%C5呢？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1410')) -- ESS=他們？%N他們早就死在我的凍氣和冰柱攻擊...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1411')) -- ESS=……%N……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1412')) -- ESS=不過還有一個沒有死，就是這個潑辣辣的小妮...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MoveHero(45, 38, 5)

    ESC.AddHeadSign(217, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(217)



    ESC.TurnFace(1, 13)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1413')) -- ESS=為什麼妳沒殺她？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1414')) -- ESS=呵呵……%N你是在擔心我做了什麼手腳是嗎...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1415')) -- ESS=放心……%N本來我也是打算要殺死她的，不...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    ESC.TurnFace(1, 3)
    ESC.AddHeadSign(217, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(217)


    ESC.TakeActData(1, 91, 73-7, 7) -- 賽特跪



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1416')) -- ESS=妳還好嗎……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 0)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)




    ESC.TakeActData(1, 1, 0, 7)
    Scene.WORD_ON_HEAD(3, 20, 40, -65, '%C3'..StringDB('ESS293')) -- ESS=………



    ESC.AddHeadSign(3, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(3)



    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1417')) -- ESS=妖魔……！%N別靠近我────
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1418')) -- ESS=我不是妖魔！%N妳誤會了！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達直立坐起眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(500)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1419')) -- ESS=走開──！！%N你們…你們殺死我全部的士...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1420')) -- ESS=不，我是來救妳的，%N妳弄錯了！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1421')) -- ESS=哈哈，賽特呀！%N我先走了，那這個小妮子...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 330, 246, 6011, 1)
    ESC.TILPA2(0, 10)
    ESC.RoleDisable(13)
    ESC.TILPA2(0, 26)
    ESC.Delay(1200)



    ESC.ChangeDIR(3, 2) -- 薇達直立坐起眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)

    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達直立坐起眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1422')) -- ESS=可恨！%N明、明明就是一夥的，%N還敢說...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)




    ESC.SetRoleSpeed(2, 0)
    ESC.TakeActData(2, -1, Const.RUN, 4)
    ESC.BatchMove(1,    2, 43, 34)
    ESC.TakeActData(2, -1, 0, 5)
    ESC.Unlock(2)


    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1423')) -- ESS=喂，妳這個臭女人很過分哦！%N人家賽特好...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 41)



    ESC.ChangeDIR(3, 2) -- 薇達直立坐起眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.ChangeDIR(3, 2) -- 薇達欲起立
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)



    ESC.ChangeDIR(3, 2) -- 薇達欲起立
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 7)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)




    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1424')) -- ESS=──滾開！%N你們這些可惡的妖魔！%N再...
    ESC.WaitDLG(1)
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(121, 25, 0x2000) -- 【劇情配樂】賽特拔劍



    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1425')) -- ESS=妳真的很討厭耶！%N囉唆死了！
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 23)



    ESC.ChangeDIR(2, 3)
    ESC.ChangeQQ(2, 52)
    ESC.ChangeQQ(2, 56)
    ESC.TILPA1(2, 2)
    Scene.PlayACT(0, 351, 248, 622, 5) -- 閃電
    ESC.TILPA2(0, 3) -- 妮可放閃電打傷薇達，薇達倒下



    ESC.TakeActData(3, -1, 64, 0) -- 薇達倒地
    ESC.Unlock(3)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1426')) -- ESS=妮可────%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.Delay(600)
    ESC.TurnFace(1, 2)


    ESC.ChangeDIR(2, 7)
    ESC.ChangeQQ(2, 28)
    ESC.RoleMove(2, 42, 33)
    ESC.Delay(60)
    ESC.RoleMove(2, 41, 32)
    ESC.Delay(60)
    ESC.RoleMove(2, 40, 31)
    ESC.Delay(400)



    ESC.TakeActData(2, -1, 32, 3) -- 妮可悲傷（斜線前進）



    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1427')) -- ESS=我…我…%N人家只是…只是……只是……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 7)



    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 0)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)


    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)


    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)



    ESC.Delay(200)
    ESC.TakeActData(2, -1, 16, 5) -- 妮可悲傷（斜線前進）
    ESC.BatchMove(1,    2, 43, 34)
    ESC.Unlock(2)


    ESC.TakeActData(2, -1, 32, 3) -- 妮可悲傷（斜線前進）
    ESC.Delay(600)



    ESC.TakeActData(2, -1, 52, 1) -- 妮可哭著飛
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1428')) -- ESS=妳還過來幹什麼────！%N是不是又想給...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.TakeActData(2, -1, 56, 1) -- 妮可哭著飛


    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 35, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1429')) -- ESS=人家…人家……%N人家只是看這兇巴巴的女...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 35)



    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1430')) -- ESS=夠了夠了，%N妳先回%C7移動島%C5去...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)




    ESC.TakeActData(2, -1, 52, 1) -- 妮可揉眼睛飛

    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1431')) -- ESS=不要啦……%N人家…人家…人家……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 7)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1432')) -- ESS=立刻回去──！！%N不要以為每次用哭的，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)

    ESC.TakeActData(2, -1, 56, 1) -- 妮可哭著飛


    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 35, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1433')) -- ESS=賽特……%N賽特………%N怎麼這樣子啦…...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 35)



    Scene.WORD_ON_HEAD(3, 15, 40, -65, '%C3'..StringDB('ESS1434')) -- ESS=………！



    ESC.TakeActData(2, -1, 56, 1) -- 妮可哭著飛走
    ESC.BatchMove(1,    2, 46, 59)
    ESC.RoleDisable(2)





-- ──────────────────────────────────────【淒絕！冰山島沈沒】


    ESC.StoryMusic(122, 25, 0x2000) -- 【劇情配樂】不安




    ESC.ScreenUnlock()
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6) -- 螢幕淡出
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6) -- 秀出字幕
    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,200,200,28,4,'%C5%S2'..StringDB('ESS1435')) -- ESS=幾分鐘之後，移動島上……
    ESC.WaitDLG3(1)

    ESC.Delay(300)


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30, 25) -- 字幕淡出
    ESC.FadeWait()
    ESC.RoleDisable(30)
    ESC.ScreenShow()
    ESC.RoleDisable(156)



    ESC.RoleDisable(99) -- 煉妖壺中的妮可消失
    ESC.Progress_Off()
    ESC.GotoMap(170, 74, 45, 2, Const.WALK, 4)
    ESC.RoleHide(1)
    ESC.ChangeRoleMap(2, -1, 000, 56, 39, 2, Const.WALK, 2)
    ESC.RoleEnable(2)
    ESC.SetMoveHISpeed(0)

    ESC.BatchMove(1,    2, 53, 39)
    ESC.RoleDisable(2)
    ESC.SetMoveHISpeed(1)
    ESC.RoleShow(1) -- 賽特變成妮可

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25) -- 螢幕淡入



    ESC.BatchMove(1,    1, 41, 33)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, Const.STAND)




    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1436')) -- ESS=喂，讓我們等這麼久！%N妳們煩不煩呀？
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1437')) -- ESS=是呀，我快等到不耐煩了！%N既然妳們要救...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1438')) -- ESS=……等等，%N妮可主人的朋友還沒回來！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(3, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 35, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1439')) -- ESS=賽特、賽特他迷上別的女生，%N把人家趕回...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 35)



    ESC.TakeActData(1, 2, 56, 1) -- 妮可哭著飛
    ESC.Delay(1200)




    Scene.MBOn(8, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1440')) -- ESS=果然是笨妮可，%N挑男人的眼光就是不行～...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10021, 1)




    Scene.MBOn(6, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1441')) -- ESS=────可惡！%N竟敢欺負我們妮可主人，...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10019, 0)



    Scene.MBOn(7, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1442')) -- ESS=從五百年以前，我就已經沒有任何意見了。
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10020, 1)



    Scene.MBOn(99, 11, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 1, 50, 460)
    Scene.AddHead(10021, 1, 50, 120)
    Scene.AddHead(10019, 0, 560, 120)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS1443')) -- ESS=太好了！%N全體意見一致──────
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10020, 1)
    ESC.DelHead(10021, 1)
    ESC.DelHead(10019, 0)
    ESC.DelHead(10022, 0)




    ESC.ChangeDIR(571, 3) -- 四石像發光之光影
    ESC.ChangeDIR(572, 3)
    ESC.ChangeDIR(573, 3)
    ESC.ChangeDIR(574, 3)

    ESC.RoleEnable(571)
    ESC.RoleEnable(572)
    ESC.RoleEnable(573)
    ESC.RoleEnable(574)

    ESC.Delay(600)

    ESC.ChangeDIR(571, 1)
    ESC.ChangeDIR(572, 1)
    ESC.ChangeDIR(573, 1)
    ESC.ChangeDIR(573, 1)


    ESC.Delay(400)



    ESC.ChangeDIR(571, 3) -- 四石像發光之光影
    ESC.ChangeDIR(572, 3)
    ESC.ChangeDIR(573, 3)
    ESC.ChangeDIR(574, 3)

    ESC.RoleEnable(571)
    ESC.RoleEnable(572)
    ESC.RoleEnable(573)
    ESC.RoleEnable(574)




    ESC.TakeActData(1, 2, 52, 1) -- 妮可揉眼飛
    ESC.Delay(1400)
    ESC.TakeActData(1, 2, Const.STAND, 7) -- 妮可站




    Scene.MBOn(3, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1444')) -- ESS=哇────！%N你們幹什麼啊────！%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 41)



    ESC.ChangeDIR(571, 1)
    ESC.ChangeDIR(572, 1)
    ESC.ChangeDIR(573, 1)
    ESC.ChangeDIR(574, 1)


    ESC.Delay(300)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6) -- 冰山島沈沒動畫
    ESC.FadeWait()
    ESC.PlayVedio('volcano2')


    ESC.SceneMusic(180, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(182, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(188, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(187, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(189, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(190, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(178, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(183, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(176, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(175, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(184, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(186, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(185, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(177, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(179, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(181, 49, 49, 0x4000) -- 【地圖音樂】更換地圖音樂（逃離冰山島）
    ESC.SceneMusic(148, 65, 65, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島大廳）





    ESC.Progress_Off()
    ESC.GotoMap(180 , 45, 39 , 1 , Const.STAND , 7)



    ESC.StoryMusic(121, 121, 0x4000) -- 【劇情配樂】拔劍



    GameFunc.FlagOn(8) -- 打開雨水效果



    ESC.ChangeDIR(3, 2) -- 薇達坐
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)



    ESC.ScreenShack(4, 1, 1, 0, 0, -1, 1, 0, 0, 0xFF00)
    ESC.RoleDisable(565)
    ESC.RoleDisable(566)
    ESC.RoleDisable(517)
    ESC.RoleDisable(518)
    ESC.FadeScreen(30, 30, 30, 0, 0, 0, 6)
    ESC.FadeWait()



    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.ChangeDIR(3, 2) -- 薇達坐睜眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1445')) -- ESS=發…發生什麼事情？
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeDIR(3, 2) -- 薇達坐閉眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1446')) -- ESS=──該死的石像！%N竟然不守信用，自行開...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 1, 10001, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1447')) -- ESS=這一個島馬上就要沈沒了！%N我們趕快離開...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.ChangeDIR(3, 2) -- 薇達坐張眼
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(500)
    ESC.DelHeadSign(3)



    ESC.ChangeDIR(3, 2) -- 薇達直立坐起
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1448')) -- ESS=不…我不走！
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1449')) -- ESS=──!!%N──為什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeDIR(3, 2) -- 薇達直立坐起
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1450')) -- ESS=我的士兵弟兄們，因為我而葬身在這個%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1451')) -- ESS=───大傻瓜！%N妳陪他們死，又代表了什...
    ESC.WaitDLG(1)



    ESC.AddHeadSign(3, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(3)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1452')) -- ESS=妳不是他們的%C7船長%C5嗎？%N剛才...
    ESC.WaitDLG(1)



    ESC.AddHeadSign(3, 1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1453')) -- ESS=──沒錯！%N我知道妳很難過，所以妳才更...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)

    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 2) -- 薇達直立坐起
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 7)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.ChangeDIR(3, 2) -- 薇達直立坐起
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 8)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.TakeActData(3, -1, 0, 6)


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1454')) -- ESS=謝謝你……%N你說的對，剛才是我的不應該...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10003, 0)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1455')) -- ESS=別多說了───！%N時間不多，%N我們趕...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    Scene.RemoveMainParty(2) -- 戰鬥中妮可消失

    ESC.TimeLimit(5, 0, 'TALK728') -- 【計時】設定5分鐘時限
    Scene.Heal()




    ESC.TownTrans_Off(StringDB('ESS1456')) -- ESS=冰山被藍魔神之魔法封住，無法使用！
    ESC.DungeonEsc_Off(StringDB('ESS1456')) -- ESS=冰山被藍魔神之魔法封住，無法使用！

    GameFunc.FlagOn(18)



    ESC.AddParty(3) -- 計時開始
    ESC.RoleDisable(581)
    ESC.RoleDisable(583)
    ESC.RoleDisable(584)
    ESC.RoleDisable(585)
    ESC.RoleDisable(587)
    ESC.RoleDisable(588)
    ESC.RoleDisable(589)
    ESC.RoleDisable(646)
    GameFunc.FlagOn(109)
    Scene.BattleSupportOn(3) -- 薇達 -- 薇達成為主角的夥伴
    GameFunc.FlagOff(10)
    GameFunc.FlagOn(233)
    GameFunc.FlagOn(241)
    Scene.QuestOff(81)
    Scene.QuestOn(82)
::T581A::
end







-- ──────────────────────────────────────【第二次前往冰山島】

function Scene.TALK582()
    Scene.ChangeMap(187, 47, 58, 0)
    if GameFunc.GetFlag(108) then goto T582 end
    GameFunc.FlagOn(108)
    ESC.RMLock()
    ESC.Delay(50)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(50)
    ESC.AddHeadSign(641, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(641)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 50, 51)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(641)
    Scene.Print_W(641,9008,8*2,2*2,StringDB('ESS1457')) -- ESS=──朋友，你…你也還活著嗎？
    ESC.WaitDLG(641)


    ESC.TurnFace(1, 641)

    Scene.Print_W(641,9008,10*2,3*2,StringDB('ESS1458')) -- ESS=剛才…這座冰山晃動得好厲害，不曉得發生什...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,10*2,4*2,StringDB('ESS1459')) -- ESS=你趕快逃吧──%N隔壁島的火山爆發，這座...
    ESC.WaitDLG(1)



    ESC.TakeActData(641 , 411 , 52 , 2)
    ESC.Delay(300)


    ESC.Caption(641)
    Scene.Print_W(641,9008,8*2,2*2,StringDB('ESS1460')) -- ESS=什麼──%N這是…真的嗎？
    ESC.WaitDLG(641)


    ESC.TakeActData(641, 411, 52, 1)
    ESC.Delay(100)


    ESC.ChangeQQ(641, Const.WALK)
    ESC.BatchMove(1,    641, 45, 45)
    ESC.RoleDisable(645)
    ESC.TakeActData(641, 411, 60, 0) -- 阿拉伯士兵背起傷兵
    ESC.TurnFace(1, 641)



    Scene.Print_W(641,9008,11*2,3*2,StringDB('ESS1461')) -- ESS=我是可以馬上就離開……但是%C2船長%C...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,9*2,3*2,StringDB('ESS1462')) -- ESS=你們這些人到底是發生什麼事？是全軍覆沒了...
    ESC.WaitDLG(1)



    ESC.Caption(641)
    Scene.Print_W(641,9008,10*2,4*2,StringDB('ESS1463')) -- ESS=不曉得…%N剛才洞門被震動震開，我一進來...
    ESC.WaitDLG(641)



    Scene.Print_W(641,9008,12*2,4*2,StringDB('ESS1464')) -- ESS=這位受傷的同伴說，一個%C2藍色的妖魔%...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,3*2,1*2,StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)



    ESC.Caption(641)
    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS1465')) -- ESS=對了，我一次無法救兩個人，可不可以請您幫...
    ESC.WaitDLG(641)



    ESC.Caption(1)
    Scene.Print_W(1,9008,3*2,1*2,StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)



    Scene.Print_W(1,9008,11*2,4*2,StringDB('ESS1466')) -- ESS=…算了，你不是對手的！你先趕快帶你伙伴逃...
    ESC.WaitDLG(1)



    ESC.Caption(641)
    Scene.Print_W(641,9008,7*2,3*2,StringDB('ESS1467')) -- ESS=太感激了！%N願%C2阿拉真主%C4祝福...
    ESC.WaitDLG(641)



    ESC.TakeActData(641, 411, 60, 1) -- 士兵拖著傷兵離開
    ESC.BatchMove(1,    641, 47-1, 58)
    ESC.RoleDisable(641)
    ESC.ChangeDIR(1, 6)


    if Function.CheckEquip(1004) then goto T582 end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 39, 51)
    ESC.TakeActData(1, -1, 0, 2)



    Scene.TIK()
    Scene.TIK()


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(20, -75)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS1468')) -- ESS=……奇怪，好冷呀！%N好像比上次來還要冷...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.OnHead(20, -75)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS1469')) -- ESS=也許我應該先向那些魔界商人買買禦寒物品的...
    ESC.WaitDLG(1)



    ESC.TakeActData(1, -1, 0, 3)
    ESC.RMUNlock()



::T582::
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end



--  Scene.Nicole_On(47, 48, 5)
--  Scene.OpenGlassUp(8)
--  Scene.AddPicture1(2, 0 ) -- 需換成略為生氣的圖
--  Scene.Glass_SRC1(2, "都什麼時候了，還逞英雄。") -- 微嗔
--  ESC.TurnFace(1, 2)
--  Scene.OpenGlassDown(8)
--  Scene.AddPictureDown(1)
--  Scene.TIK()
--  Scene.Glass_SRC2(1, "他們船長是個女性，我想去看看。")
--  Scene.Glass_SRC1(2, "什麼嘛！還不是想英雄救美，%N然後趁機佔人家便宜不是嗎？" ) -- 生氣
--  Scene.Glass_SRC2(1, "沒錯，%N我做一些壞事讓撒旦欣賞，%N妳也好交差不是嗎？" ) -- 笑
--  Scene.Glass_SRC1(2, "這……" ) -- 換回平常用的臉
--  Scene.Glass_SRC2(1, "好了，咱們走吧。") -- 換回平常用的臉
--  Scene.DelPictureDown(1)
--  Scene.CloseGlassDown()
--  Scene.DelPictureUp(2)
--  Scene.CloseGlassUp()
--  Scene.Nicole_Off()
    -- 沒穿上某件衣服時





function Scene.TALK583()
    Scene.ChangeMap(178, 76, 27, 2)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
end








-- ──────────────────────────────────────────【海葬】

function Scene.TALK584()
    Scene.ChangeMap(176, 24, 43, 5)
    if GameFunc.GetFlag(110) then goto T584A end -- 已經逃出冰山
    if GameFunc.GetFlag(109) then goto T584 end   -- 正要逃出冰山
::T584A::
    ESC.SceneBreak()


::T584::
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3 , 0 , 5 , 0xD100)
    ESC.TimeLimitStop()    -- *計時結束+
    GameFunc.FlagOff(17)
    ESC.DungeonEsc_On()    -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    GameFunc.FlagOn(8)
    GameFunc.FlagOn(110) -- 已經逃出冰山
    GameFunc.FlagOn(10)
    ESC.Delay(50)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 24, 48)
    ESC.ScreenShack(3 , 2, 2, -2, -2, 2, -2, -2, 2, 0xFF00)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(3, 1)
    ESC.Delay(50)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,3*2,StringDB('ESS1470')) -- ESS=這冰山快要沈了，我們從這兒上岸！
    ESC.WaitDLG(1)



    ESC.SetMoveHISpeed(1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(3)
    ESC.ChangeQQ(3, Const.RUN)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 20)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.BatchMove(2,
    1, 35, 55,
    3, 35, 55)
    ESC.FadeWait()

    ESC.PlayVedio('volcano3')

    ESC.Delay(1)

    ESC.ScreenShackStop()-- 逃出冰山後,薇達等人行軍禮
    GameFunc.FlagOff(241) -- 逃出冰山
    GameFunc.FlagOff(233) -- 是否及時逃出冰山的計時開關

    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂

    ESC.ChangeRoleMap(596 , 140, 000, 56, 49 , 541 , 68, 0) --  大地圖版薇達的船
    ESC.ChangeRoleMap(59991, 140, 000, 53, 52 , 541 , 68, 1) --  大地圖版薇達的船
    ESC.ChangeRoleMap(59990, 140, 000, 56, 55 , 541 , 68, 2) --  大地圖版薇達的船
    ESC.ChangeRoleMap(59970, 140, 000, 53, 47 , 541 , 61, 0) --  大地圖版薇達的小船




    ESC.GotoMap(139 , 2, 3 , 1, 0, 5)
    ESC.ChangeRoleMap(320, -1, 000, 19, 9 , 411 , Const.STAND, 5) -- 士兵
    ESC.ChangeRoleMap(321, -1, 000, 25, 10 , 599 , Const.STAND, 5) -- 士兵
    ESC.ChangeRoleMap(322, -1, 000, 10, 14, 600 , Const.STAND, 5) -- 士兵
    ESC.ChangeRoleMap(641, -1, 000, 12, 9 , 411 , Const.STAND, 5) -- 士兵
    ESC.ChangeRoleMap(13 , -1, 000, 18, 13, 13 , Const.STAND, 1) -- 藍魔神
    ESC.ChangeRoleMap(3 , 139, 000, 4, 2, 3 , Const.STAND, 5) -- 微達


    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.TakeActData(592 , 411, 0 , 5)
    ESC.TakeActData(593 , 599, 0 , 5)
    ESC.TakeActData(594 , 600, 0 , 5)
    ESC.TakeActData(595 , 599, 0 , 5)
    ESC.RoleDisable(13)
    ESC.RoleEnable(320)
    ESC.RoleEnable(321)
    ESC.RoleEnable(322)
    ESC.RoleEnable(641)
    ESC.FadeScreen( -30, -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()


    ESC.SetRoleSpeed(3, 3)
    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(2,
    3, 10, 7,
    1, 8, 8)

    ESC.ChangeQQ(1, Const.STAND)

    ESC.ChangeDIR(3, 5) -- 薇達悲傷站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.TurnFace(593, 3)
    ESC.Delay(600)



    ESC.Caption(641)
    Scene.Print_W(593,9008,8*2,3*2,StringDB('ESS1471')) -- ESS=大家快看！%N是船長──！%N船長回來了...
    ESC.WaitDLG(593)



    ESC.TurnFace(320, 1)
    ESC.TurnFace(321, 1)
    ESC.TurnFace(322, 1)
    ESC.TurnFace(592, 1)
    ESC.TurnFace(593, 1)
    ESC.TurnFace(594, 1)
    ESC.TurnFace(595, 1)
    ESC.TurnFace(641, 1)
    ESC.Delay(50)



    ESC.Caption(641)
    Scene.Print_W(641,9008,6*2,2*2,StringDB('ESS1472')) -- ESS=船長──！%N真的是船長？
    ESC.WaitDLG(641)


    ESC.Caption(641)
    Scene.Print_W(595,9008,8*2,2*2,StringDB('ESS1473')) -- ESS=太好了！%N船長也平安無事！
    ESC.WaitDLG(595)


    ESC.SetRoleSpeed(3, 2)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 16, 14)


    ESC.TurnFace(320, 3)
    ESC.TurnFace(321, 3)
    ESC.TurnFace(322, 3)
    ESC.TurnFace(592, 3)
    ESC.TurnFace(593, 3)
    ESC.TurnFace(594, 3)
    ESC.TurnFace(595, 3)
    ESC.TurnFace(641, 3)


    ESC.SetRoleSpeed(3, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 16+2, 14+2)     --  必要時減1
    ESC.ChangeQQ(3, Const.STAND)
    ESC.Delay(600)



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(20, -65)
    ESC.Print_S(3,9008,'%C3%S1'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG(3)


    ESC.SetRoleSpeed(641, 3)
    ESC.ChangeQQ(641, Const.WALK)
    ESC.BatchMove(1,    641, 16-2, 14-2)
    ESC.ChangeQQ(641, Const.STAND)
    ESC.Delay(800)


    ESC.Caption(645)
    Scene.Print_W(3,9008,7*2,2*2,StringDB('ESS1474')) -- ESS=…就只剩你們幾個人而已嗎？
    ESC.WaitDLG(3)



    ESC.Caption(641)
    Scene.Print_W(641,9008,7*2,3*2,StringDB('ESS1475')) -- ESS=…是的，%N其他弟兄們不幸都已經……
    ESC.WaitDLG(641)




    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(20, -65)
    ESC.Print_S(3,9008,'%C3%S0'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(3)
    ESC.Delay(600)


    ESC.SetRoleSpeed(3, 5)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 18-1, 20-1)



    ESC.ChangeDIR(3, 5) -- 薇達悲傷站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(1000)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1500)
    ESC.DelHeadSign(1)


    ESC.TurnFace(641, 1)
    ESC.Caption(641)
    Scene.Print_W(641,9008,8*2,3*2,StringDB('ESS1476')) -- ESS=對了，這位先生，%N實在感謝你救出我們船...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS1477')) -- ESS=舉手之勞罷了，沒什麼。
    ESC.WaitDLG(1)



    ESC.ChangeDIR(3, 0) -- 薇達抱臂閉眼
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(3, 0) -- 薇達抱臂睜眼
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)



    ESC.Caption(645)
    Scene.Print_W(3,9008,6*2,2*2,StringDB('ESS1478')) -- ESS=……約丹，你也認識他？
    ESC.WaitDLG(3)



    ESC.TurnFace(641, 3)
    ESC.Caption(641)
    Scene.Print_W(641,9008,11*2,3*2,StringDB('ESS1479')) -- ESS=是的，船長…%N是在冰山上認識的，這位先...
    ESC.WaitDLG(641)



    Scene.Print_W(641,9008,10*2,3*2,StringDB('ESS1480')) -- ESS=後來冰山快要沈時，是我拜託他冒險進去將您...
    ESC.WaitDLG(641)


    ESC.ChangeDIR(3, 0) -- 薇達側站
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(3)
    ESC.TurnFace(3, 1)





    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1481')) -- ESS=這位朋友，%N剛才真是對不起……%N我還...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.TurnFace(1, 3)

    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1482')) -- ESS=別在意！%N倒是妳有一群真的非常不錯的好...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1483')) -- ESS=……好部下嗎？%N
    ESC.WaitDLG(1)


    ESC.Delay(400)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1484')) -- ESS=他們不是我的部下，他們是和我一起同生共死...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1211')) -- ESS=………%N……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.Delay(1600)
    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1485')) -- ESS=對了，%N可否請教您的大名？%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1486')) -- ESS=──賽特。
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(3, 1)
    ESC.ChangeDIR(3, 6) -- 薇達叉腰站
    ESC.ChangeQQ(3, 0)


    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1487')) -- ESS=我們是%C7伊斯蘭%C5最光榮的%C7地...

    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1488')) -- ESS=……原來如此！%N我目前暫住這島上那邊的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1489')) -- ESS=………%N
    ESC.WaitDLG(1)



    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.Delay(600)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1490')) -- ESS=好吧！%N就依你所說───
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)

    ESC.Delay(200)


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.SetRoleSpeed(3, 4)
    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 18+1, 20+1)
    ESC.ChangeDIR(3, 5) -- 薇達步向海邊
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.StoryMusic(5, 5, 0x4000) -- 【劇情配樂】悲傷的心




    ESC.Unlock(3)
    MediaFunc.PlaySound(60)
    ESC.TakeActData(3, 3, 60, 0) -- 薇達拔刀
    ESC.TILPA1(3, 3)


    ESC.Caption(3)
    Scene.Print_W(3,9008,6*2,2*2,StringDB('ESS1491')) -- ESS=向死去的弟兄們致敬──！
    ESC.WaitDLG(3)
    ESC.Delay(200)




    ESC.ChangeDIR(320, 5)
    ESC.ChangeDIR(321, 5)
    ESC.ChangeDIR(322, 5)
    ESC.ChangeDIR(592, 5)
    ESC.ChangeDIR(593, 5)
    ESC.ChangeDIR(594, 5)
    ESC.ChangeDIR(595, 5)
    ESC.ChangeDIR(641, 5)
    ESC.ChangeDIR(1, 5)



    ESC.Delay(750)
    MediaFunc.PlaySound(60)



    ESC.TakeActData(320 , -1, 64 , 0)
    ESC.TakeActData(321 , -1, 64 , 0)
    ESC.TakeActData(322 , -1, 64 , 0)
    ESC.TakeActData(592 , -1, 64 , 0)
    ESC.TakeActData(593 , -1, 64 , 0)
    ESC.TakeActData(594 , -1, 64 , 0)
    ESC.TakeActData(595 , -1, 64 , 0)
    ESC.TakeActData(641 , -1, 64 , 0)



    Scene.Print_W(1,9008,6*2,2*2,StringDB('ESS1491')) -- ESS=向死去的弟兄們致敬──！
    ESC.WaitDLG(1)



    ESC.Delay(1500)



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)
    ESC.RoleDisable(322)

    ESC.GotoMap(148, 44, 27, 1, 0, 2) -- 跳到移動島大廳
    ESC.ChangeRoleMap(3, 148, 000, 40, 27, 3, Const.STAND, 5) -- 薇達
    ESC.ChangeRoleMap(156, 148, 000, 60, 34 , 579 , Const.STAND, 4) -- 米雅恢復原狀
    ESC.ChangeRoleMap(641, 148, 000, 34, 39 , 411 , Const.STAND, 7) -- 士兵
    ESC.ChangeRoleMap(592, 148, 000, 61, 19+9, 411 , Const.STAND, 4) -- 士兵
    ESC.ChangeRoleMap(593, 148, 000, 59, 17+9, 599 , Const.STAND, 5) -- 士兵
    ESC.ChangeRoleMap(594, 148, 000, 30, 34 , 600 , Const.STAND, 7) -- 士兵
    ESC.ChangeRoleMap(595, 148, 000, 44, 37 , 411 , Const.STAND, 4) -- 士兵
    --  ESC.ChangeRoleMap(GUID , MAPID , PATH , X , Y , ACT , QQ , DIR)





    ESC.TakeActData(166, 503, Const.STAND, 3)
    ESC.TakeActData(159, 501, Const.WALK, 1)
    ESC.ChangePath(159, 159)
    ESC.TakeActData(164, 505, Const.STAND, 1)

    ESC.RoleDisable(30)
    ESC.RoleEnable(156)
    ESC.RoleMove(164, 37, 33)
    ESC.ChangeDIR(164, 6)

    Scene.SAR_TurnFace(156 , 1) -- 夥伴恢復TALK時可轉身
    Scene.SAR_TurnFace(159 , 1)
    Scene.SAR_TurnFace(164 , 1)
    Scene.SAR_TurnFace(166 , 1)

    ESC.ChangeScript(641, 'TALK642') -- 把阿拉伯水軍的對話都改同一句
    ESC.ChangeScript(592, 'TALK642')
    ESC.ChangeScript(593, 'TALK642')
    ESC.ChangeScript(594, 'TALK642')
    ESC.ChangeScript(595, 'TALK642')

    Scene.SAR_TurnFace(641 , 1)
    Scene.SAR_TurnFace(592 , 1)
    Scene.SAR_TurnFace(593 , 1)
    Scene.SAR_TurnFace(594 , 1)
    Scene.SAR_TurnFace(595 , 1)


    ESC.ChangeDIR(1, 6)


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1492')) -- ESS=這就是我目前住的城堡……%N感覺上可能陰...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)




    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1493')) -- ESS=……賽特先生，%N上次那件事實在很對不起...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 11)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1494')) -- ESS=……又什麼事了？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1495')) -- ESS=……你為了救我，結果害你跟你的那位同起了...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 11)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1496')) -- ESS=別擔心，%N當時是妮可自己不好，%N別放...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1497')) -- ESS=……不管怎麼說，我還是想當面向她道歉不然...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 11)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1498')) -- ESS=我沒意見，%N反正我也正想找那幾個不守信...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.AddParty(3) -- 薇達加入伙伴



    GameFunc.FlagOff(10)
    ESC.ChangeQQ(164, Const.WALK)
    ESC.ChangePath(164, 164)

    Scene.QuestOff(82)
    Scene.QuestOn(83)





    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    GameFunc.FlagOn(7042) -- 冰魔神二度可以出現的開關
end










    ------------------------
function Scene.TALK585()
    Scene.ChangeMap(190, 59, 86, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK586()
    Scene.ChangeMap(187, 14, 14, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK587()
    Scene.ChangeMap(189, 67, 118, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK588()
    Scene.ChangeMap(190, 21, 14, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK589()
    Scene.ChangeMap(188, 42, 55, 0)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK590()
    Scene.ChangeMap(189, 65, 18, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK591()
    Scene.ChangeMap(180, 43, 69, 0)
    if GameFunc.GetFlag(109) then goto T591 end
::T591::
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK592()
    Scene.ChangeMap(188, 22, 12, 1)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水
    end
end
    ------------------------
function Scene.TALK593()
    if not GameFunc.GetFlag(322) then return end
    if GameFunc.GetFlag(107) then goto T593 end
    Scene.EnterCity(175, 37, 84, 0)
    ESC.SceneBreak()
::T593::
    Scene.EnterCity(176, 37, 84, 0)
end
    ------------------------
    ------------------------





-- ──────────────────────────────────────【邂逅波西頓石像】



function Scene.TALK595()
    if GameFunc.GetFlag(7038) then goto T595A end -- 波西頓出現
    Scene.ChangeMap(178, 3, 26, 3)
    if GameFunc.GetFlag(233) then
        GameFunc.FlagOn(8) -- 打開雨水效果
    end
    ESC.SceneBreak()
::T595A::
    ESC.RoleMove(22, 11, 26)
    Scene.ChangeMap(178, 3, 26, 3)
    ESC.RMLock()
    GameFunc.FlagOn(10)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    ESC.TakeActData(1, -1, 63, 0)
    ESC.Delay(200)

    ESC.Caption(1)
    Scene.Print_W(22,9007,7*2,3*2,StringDB('ESS1499')) -- ESS=可惡！%N這一個石像肯定有問題！
    ESC.WaitDLG(22)




    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1500')) -- ESS=哇───！%N我…我不是敵人！我只是感受...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1501')) -- ESS=……會說話的石像？%N原來如此，我大概知...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)
    ESC.Delay(400)



    ESC.TakeActData(1, -1, 62, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, Const.STAND, 5)



    Scene.Nicole_On(6, 24, 6)
    ESC.Unlock(2)


    Scene.MBOn(5, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1502')) -- ESS=賽特賽特！%N我聽到有人在叫人家的名字，...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(13, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1503')) -- ESS=啊啊──%N果…果然是妮可主人！%N外型...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 0)
    ESC.DelHead(10022, 0)


    ESC.TurnFace(2, 22)
    ESC.Unlock(2)



    ESC.DLGNoFrame()
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(10)
    ESC.DLGNoPass()
    Scene.Print_W(2,9007,7*2,1*2,StringDB('ESS1504')) -- ESS=　　%C3……？


    ESC.Delay(2200)



    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1505')) -- ESS=哇───！%N我知道了，原來你就是那個失...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 19)



    Scene.MBOn(13, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1506')) -- ESS=妮可主人！%N我是被那個叫做%C7藍魔神...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1507')) -- ESS=另外三個叫…叫做…%N我又忘掉他們叫什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 3)



    Scene.MBOn(13, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1508')) -- ESS=什麼？%N移…移動島就在附近？
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1509')) -- ESS=太好了，妮可主人！%N那我可要好好教訓這...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 0)
    ESC.DelHead(10022, 0)



    Scene.MBOn(3, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1510')) -- ESS=怎麼報呢？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10002, 19)


    Scene.MBOn(13, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1511')) -- ESS=妮可主人，您忘了呀？%N我是那個移動島的...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 0)
    ESC.DelHead(10022, 0)



    ESC.TurnFace(2, 1)
    ESC.Unlock(2)


    Scene.MBOn(5, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1512')) -- ESS=賽特，怎麼樣，%N我這一個部下很不錯耶！...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10002, 2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1513')) -- ESS=我沒意見…%N可是我們還得去找那個%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TakeActData(2, -1, 57, 0) -- 妮可哭飛
    Scene.MBOn(5, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1514')) -- ESS=賽特，不行啦！%N我們還是要趕快去救波爾...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 0)
    ESC.DelHead(10002, 8)



    ESC.TakeActData(2, -1, 53, 0) -- 妮可哭飛



    Scene.MBOn(13, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1515')) -- ESS=妮可主人！%N%C7藍魔神%C5喜愛偷襲...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS1516')) -- ESS=如果你們先帶我回去的話，我可以幫你們將這...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 0)
    ESC.DelHead(10022, 0)



    ESC.TurnFace(2, 22)
    ESC.ChangeDIR(1, 3)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1517')) -- ESS=他說的對……%N妮可，妳就先將它帶到%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.TakeActData(22, -1, 52, 0)

    ESC.ChangeRoleMap(203 , 178 , 0 , 11 , 26, 6502 , 0 , 0)
    ESC.RoleEnable(203)
    ESC.TILPA1(203, 20)


    Scene.SAR_Shadow(22, 0)
    ESC.RoleDisable(22)
    ESC.SetRoleSpeed(203, 1)
    MediaFunc.PlaySound(218)
    ESC.TakeActData(203, -1, 1, 0)
    ESC.BatchMove(1,    203, 4, 26)
    ESC.RoleDisable(203)



    Scene.QuestOff(79 ) -- 【主線任務取消】到冰山島找藍魔神
    Scene.QuestOn(80 ) -- 【主線任務追加】將波西頓石像，帶回移動島庭園，




    Scene.GetItem(791, '%T791.' ) -- 波西頓石像
    GameFunc.FlagOn(208) -- 打開四石像會合開關
    GameFunc.FlagOff(7038) -- 把波西頓出現開關關掉
    Scene.Nicole_Off()

    GameFunc.FlagOff(10)
end





-- ──────────────────────────────────────【波西頓廳的藍人攻擊】


function Scene.TALK596()
    -- 藍人埋伏攻擊
    if GameFunc.GetFlag(7039) then return end
    GameFunc.FlagOn(10)
    ESC.RMLock()
    ESC.ChangeRoleMap(321, -1, 0, 1, 26, 166, Const.WALK , 3)
    ESC.ChangeRoleMap(322, -1, 0, 47, 25, 166, Const.WALK , 2)
    ESC.ChangeRoleMap(320, -1, 0, 47, 28, 166, Const.WALK , 2)
    ESC.RoleEnable(321)
    ESC.RoleEnable(322)
    ESC.RoleEnable(320)
    ESC.ChangeDIR(1, 2)
    ESC.SetMoveHISpeed(321)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.BatchMove(1,    321, 16, 26)
    ESC.ChangeQQ(321, Const.STAND)


    ESC.Caption(642)
    Scene.Print_W(321,9007,6*2,3*2,StringDB('ESS1518')) -- ESS=入侵者！%N這裏還有一個入侵者！
    ESC.WaitDLG(321)
    ESC.Unlock(321)



    ESC.SetMoveHISpeed(322)
    ESC.SetMoveHISpeed(320)
    ESC.BatchMove(2,
    322, 35, 25,
    320, 35, 28)
    ESC.ChangeQQ(322, Const.STAND)
    ESC.ChangeQQ(320, Const.STAND)



    ESC.Caption(642)
    Scene.Print_W(322,9007,6*2,3*2,StringDB('ESS1519')) -- ESS=是賽特！%N是%C2撒旦大人%C4要找的...
    ESC.WaitDLG(322)



    ESC.TakeActData(1, -1, 30, 0)
    ESC.TILPA1(1, 5)




    ESC.StartBattle('BS90') -- 和三個藍人戰鬥
    ESC.RoleDisable(321)
    ESC.RoleDisable(322)
    ESC.RoleDisable(320)



    ESC.TakeActData(1, -1, 76, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 6)
    GameFunc.FlagOn(7039)
    GameFunc.FlagOn(7038)
    GameFunc.FlagOff(10)

end





-- ──────────────────────────────────────【波西頓石像】


function Scene.TALK597()
    if GameFunc.GetFlag(317) then return end   -- 遇到波西頓石像1

    ESC.RMLock()    -- 鎖定玩家操作
    ESC.TakeActData(22, -1, 55, 0)
    MediaFunc.PlaySound(244) -- 【音效】冰凍聲
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(700)


    ESC.TakeActData(22, -1, 0, 2)
    ESC.TurnFace(1, 22)
    ESC.Delay(500)


    ESC.Caption(1)
    Scene.Print_W(1,9007,3*2,1*2,StringDB('ESS1236')) -- ESS=……？
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1520')) -- ESS=是我的錯覺嗎？%N剛才好像聽到什麼聲音…...
    ESC.WaitDLG(1)



    GameFunc.FlagOn(317)

end




function Scene.TALK598()
    if GameFunc.GetFlag(110) then goto T598 end   -- 此時冰山已沉
    if not GameFunc.GetFlag(106) then goto T598 end -- 冰山未出現
    Scene.OutCity(141, 33, 26, 6)
    ESC.SceneBreak()
::T598::
    if Scene.CheckParty(3) then goto T598A end
    Scene.OutCity(140, 33, 26, 6)
    ESC.SceneBreak()
::T598A::
    Scene.OutCity_WIDAD(140, 33, 26, 6)
end




-- ──────────────────────────────────────【波西頓石像Ⅱ】

function Scene.TALK599()
    if GameFunc.GetFlag(7037) then return end -- 遇到波西頓石像2
    ESC.RMLock()    -- 鎖定玩家操作
    ESC.TakeActData(22, -1, 54, 0)
    MediaFunc.PlaySound(244) -- 【音效】冰凍聲
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(700)
    ESC.TakeActData(22, -1, 0, 2)
    ESC.TurnFace(1, 22)
    ESC.Delay(500)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS1521')) -- ESS=不對，確實是這一個%C2石像%C4發出來...
    ESC.WaitDLG(1)



    GameFunc.FlagOn(7037)
end






function Scene.TALK600()
    -- 擱淺區秘密船艙
    GameFunc.FlagOn(209)
    Scene.ChangeMap(99, 8, 8, 1)
    Scene.QuestOff(97)
end





-- ──────────────────────────────────────【賽特泡冰海冰澡】

function Scene.TALK728()
    -- 冰山沉沒
    if not GameFunc.GetFlag(241) then return end
    -- 冰山沉沒動畫
    GameFunc.FlagOff(17)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)

    ESC.ScreenShackStop()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.PlayVedio('volcano3')
    ESC.ScreenHide()
    ESC.FadeScreen( -30, -30, -30, 0, 0, 0 , 1)


    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,170,200,12*2,4,'%C5%S2'..StringDB('ESS1522')) -- ESS=可憐的賽特來不及逃出，%N隨著冰山沉沒在...
    ESC.WaitDLG3(1)
    ESC.Delay(2000)
    ESC.DLGClose(1)


    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,170,200,12*2,4,'%C5%S2'..StringDB('ESS1523')) -- ESS=冰冷的海水，彷彿悠悠訴說%N這段未盡旅程...
    ESC.WaitDLG3(1)
    ESC.Delay(2000)
    ESC.DLGClose(1)

    ESC.FadeWait()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,170,200,12*2,4,'%C5%S2'..StringDB('ESS1524')) -- ESS=　哈啾───！
    ESC.WaitDLG3(1)
    ESC.Delay(2000)
    ESC.DLGClose(1)




    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 25)
    ESC.FadeWait()
    ESC.WaitDLG(1)
    ESC.ScreenShow()
    ESC.StoryMusicOff()
    ESC.GameOver(0)

end




function Scene.TALK601()
    if GameFunc.GetFlag(618) then goto T601A end
    GameFunc.FlagOn(602)
    GameFunc.FlagOn(603)
    GameFunc.FlagOn(604)
    GameFunc.FlagOn(607)
    GameFunc.FlagOn(609)
    GameFunc.FlagOn(610)
    GameFunc.FlagOn(612)
    GameFunc.FlagOn(613)
    GameFunc.FlagOn(615)
    GameFunc.FlagOn(617)
::T601A::
    if GameFunc.GetFlag(237) then return end
    ESC.RoleDisable(611)
    ESC.RoleDisable(551)
    ESC.RoleDisable(560)
    ESC.RoleDisable(561)
    ESC.RoleDisable(562)
    GameFunc.FlagOn(237)

end
    ------------------------
function Scene.TALK602()
    -- 機關2 自身不動   控制1,6

    if ESC.GetRoleToPosDistance(53,53,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    ESC.RoleDisable(502)
    ESC.RoleEnable(602)
    ESC.SeekACT(602 , 1)
    ESC.TILPA1(602, 2)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    if GameFunc.GetFlag(601) then goto T602A end
    ESC.RoleDisable(501)
    ESC.RoleEnable(601)
    ESC.ChangeQQ(601, Const.WALK) -- 1橋面轉上
    ESC.RoleEnable(606)
    ESC.RoleDisable(506)
    ESC.ChangeQQ(606, Const.WALK) -- 6橋面轉右
    ESC.TILPA1(601, 6)
    ESC.RoleEnable(551)
    ESC.RoleDisable(601)
    ESC.TILPA1(606, 6)
    ESC.RoleEnable(556)
    ESC.RoleDisable(606)
    GameFunc.FlagOn(601) -- 1左方,6左方不可通過
    GameFunc.FlagOff(602) -- 1上方,6右方可通過
    goto T602B
::T602A::
    ESC.RoleDisable(501)
    ESC.RoleEnable(601)
    ESC.RoleDisable(551)
    ESC.ChangeQQ(601, Const.STAND) -- 1橋面轉左
    ESC.RoleEnable(606)
    ESC.RoleDisable(556)
    ESC.ChangeQQ(606, Const.STAND) -- 6橋面轉左

    ESC.TILPA1(601, 6)
    ESC.RoleEnable(506)
    ESC.RoleDisable(606)
    ESC.TILPA1(606, 6)
    GameFunc.FlagOff(601) -- 1左方,6左方可通過
    GameFunc.FlagOn(602) -- 1上方,6右方不可通過
::T602B::
    ESC.RoleDisable(602)
    ESC.RoleEnable(502)
    ESC.RMUNlock()
end

    ------------------------
function Scene.TALK604()
    -- 機關4 僅控制自己

    if ESC.GetRoleToPosDistance(65,41,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end  -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(603) then goto T604 end
    GameFunc.FlagOn(603) -- 4左方通道不可行
    GameFunc.FlagOff(605) -- 4上方通到可行
    ESC.RoleDisable(554)
    ESC.RoleEnable(604)
    ESC.ChangeQQ(604, Const.STAND) -- 4橋面轉上
    ESC.TILPA1(604, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(604, 6)
    ESC.RoleEnable(504)
    ESC.RoleDisable(604)
    goto T604A
    ESC.SceneBreak()
::T604::
    GameFunc.FlagOff(603) -- 4左方通道可行
    GameFunc.FlagOn(605) -- 4上方通到不可行
    ESC.RoleDisable(504)
    ESC.RoleEnable(604)
    ESC.ChangeQQ(604, Const.WALK) -- 4橋面轉左
    ESC.TILPA1(604, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(604, 6)
    ESC.RoleEnable(554)
    ESC.RoleDisable(604)
::T604A::
    ESC.RMUNlock()
end
    ------------------------
function Scene.TALK605()
    -- 機關5 控制自己

    if ESC.GetRoleToPosDistance(66,53,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(606) then goto T605A end
    ESC.RoleDisable(505)
    ESC.RoleEnable(605)
    ESC.ChangeQQ(605, Const.WALK) -- 5橋面向左
    ESC.TILPA1(605, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(605, 6)
    ESC.RoleEnable(555)
    ESC.RoleDisable(605)
    GameFunc.FlagOn(606) -- 5上方不可通過
    GameFunc.FlagOff(604) -- 5左方可通過
    goto T605B
::T605A::
    ESC.RoleDisable(555)
    ESC.RoleEnable(605)
    ESC.ChangeQQ(605, Const.STAND) -- 5橋面向上
    ESC.TILPA1(605, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(605, 6)
    ESC.RoleEnable(505)
    ESC.RoleDisable(605)
    GameFunc.FlagOn(604) -- 5上方可通過
    GameFunc.FlagOff(606) -- 5左方不可通過
::T605B::
    ESC.RMUNlock()
end

    ------------------------
function Scene.TALK608()
    -- 機關8控制自己

    if ESC.GetRoleToPosDistance(78,52,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(608) then goto T608 end
    GameFunc.FlagOn(608) -- 8上方不可通過
    GameFunc.FlagOff(609) -- 8右方可通過
    ESC.RoleDisable(508)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.WALK) -- 8橋面轉右方
    ESC.TILPA1(608, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(558)
    ESC.RoleDisable(608)
    goto T608A
    ESC.SceneBreak()
::T608::
    GameFunc.FlagOff(608) -- 8上方可通過
    GameFunc.FlagOn(609) -- 8右方不可通過
    ESC.RoleDisable(558)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.STAND) -- 8橋面轉上方
    ESC.TILPA1(608, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(508)
    ESC.RoleDisable(608)
::T608A::
    ESC.RMUNlock()
end
    ------------------------
-- 機關9 自身不動 控制 12,6,1
function Scene.TALK609()
    if ESC.GetRoleToPosDistance(78,65,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(618) then goto T609A end
    ESC.RoleEnable(612)
    ESC.RoleDisable(512)
    ESC.ChangeQQ(612, Const.WALK) -- 12橋面轉左
    ESC.TILPA1(612, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(562)
    ESC.RoleDisable(612)
    GameFunc.FlagOff(610) -- 12左方可通過
    GameFunc.FlagOn(614) -- 12右不可通過
    GameFunc.FlagOn(618) -- 機關9第一次啟動
    goto T609E
    ESC.SceneBreak()
    -----------------------------------
::T609A::
    if GameFunc.GetFlag(610) and GameFunc.GetFlag(602) then
        goto T609B
    end
    if GameFunc.GetFlag(610) or GameFunc.GetFlag(602) then
        goto T609C
end
    ESC.RoleEnable(612)
    ESC.RoleDisable(562)
    ESC.ChangeQQ(612, Const.STAND) -- 12橋面轉右
    ESC.RoleDisable(501)
    ESC.RoleEnable(601)
    ESC.ChangeQQ(601, Const.STAND) -- 1橋面轉左
    ESC.RoleEnable(606)
    ESC.RoleDisable(556)
    ESC.ChangeQQ(606, Const.STAND) -- 6橋面轉左
    ESC.TILPA1(612, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(512)
    ESC.RoleDisable(612)
    ESC.TILPA1(601, 6)
    ESC.RoleEnable(551)
    ESC.RoleDisable(601)
    ESC.TILPA1(606, 6)
    ESC.RoleEnable(506)
    ESC.RoleDisable(606)
    GameFunc.FlagOff(601) -- 1左方,6左方可通過
    GameFunc.FlagOn(602) -- 1上方,6右方不可通過
    GameFunc.FlagOn(610) -- 12左方不可通過
    GameFunc.FlagOff(614) -- 12右可通過
    goto T609E
    ---------------------------
::T609B::
    ESC.RoleEnable(612)
    ESC.RoleDisable(512)
    ESC.ChangeQQ(612, Const.WALK) -- 12橋面轉左
    ESC.RoleEnable(601)
    ESC.RoleDisable(551)
    ESC.ChangeQQ(601, Const.WALK) -- 1橋面轉上
    ESC.RoleEnable(606)
    ESC.RoleDisable(506)
    ESC.ChangeQQ(606, Const.WALK) -- 6橋面轉右
    ESC.TILPA1(612, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(562)
    ESC.RoleDisable(612)
    ESC.TILPA1(601, 6)
    ESC.RoleEnable(501)
    ESC.RoleDisable(601)
    ESC.TILPA1(606, 6)
    ESC.RoleEnable(556)
    ESC.RoleDisable(606)
    GameFunc.FlagOn(601) -- 1左方,6左方不可通過
    GameFunc.FlagOff(602) -- 1上方,6右方可通過
    GameFunc.FlagOff(610) -- 12左方可通過
    GameFunc.FlagOn(614) -- 12右不可通過

    goto T609E
    ----------------------------
::T609C::
    if GameFunc.GetFlag(610) then goto T609D end
    ESC.RoleEnable(612)
    ESC.RoleDisable(562)
    ESC.ChangeQQ(612, Const.STAND) -- 12橋面轉右
    ESC.RoleEnable(601)
    ESC.RoleDisable(501)
    ESC.ChangeQQ(601, Const.WALK) -- 1橋面轉上
    ESC.RoleEnable(606)
    ESC.RoleDisable(506)
    ESC.ChangeQQ(606, Const.WALK) -- 6橋面轉右
    ESC.TILPA1(612, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(512)
    ESC.RoleDisable(612)
    ESC.TILPA1(606, 6)
    ESC.RoleEnable(556)
    ESC.RoleDisable(606)
    ESC.TILPA1(601, 6)
    ESC.RoleEnable(551)
    ESC.RoleDisable(601)
    GameFunc.FlagOff(602) -- 1上方,6右可通過
    GameFunc.FlagOn(601) -- 1左方,6左方不可通過
    GameFunc.FlagOn(610) -- 12左方不可通過
    GameFunc.FlagOff(614) -- 12右可通過
    goto T609E
    -----------------------------
::T609D::
    ESC.RoleEnable(612)
    ESC.RoleDisable(512)
    ESC.ChangeQQ(612, Const.WALK) -- 12橋面轉左
    ESC.RoleEnable(606)
    ESC.RoleDisable(556)
    ESC.ChangeQQ(606, Const.STAND) -- 6橋面轉左
    ESC.RoleEnable(601)
    ESC.RoleDisable(551)
    ESC.ChangeQQ(601, Const.STAND) -- 1橋面轉左
    ESC.TILPA1(612, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(562)
    ESC.RoleDisable(612)
    ESC.TILPA1(606, 6)
    ESC.RoleEnable(506)
    ESC.RoleDisable(606)
    ESC.TILPA1(601, 6)
    ESC.RoleEnable(501)
    ESC.RoleDisable(601)
    GameFunc.FlagOn(614) -- 12右不可通過
    GameFunc.FlagOff(610) -- 12左方可通過
    GameFunc.FlagOn(602) -- 1上方,6右方不可通過
    GameFunc.FlagOff(601) -- 1左方,6左方可通過
    --------------------------------
::T609E::
    ESC.RMUNlock()
end
    ------------------------
function Scene.TALK610()
    -- 機關10 控制自己與12

    if ESC.GetRoleToPosDistance(90,41,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(611) then goto T610A end
    if GameFunc.GetFlag(610) then goto T610B end
    GameFunc.FlagOn(611) -- 10上方不可通過
    GameFunc.FlagOff(612) -- 10右方可通過
    ESC.RoleDisable(510)
    ESC.RoleEnable(610)
    ESC.ChangeQQ(610, Const.WALK) -- 10橋面轉右
    GameFunc.FlagOff(610) -- 12左方可通過
    GameFunc.FlagOn(614) -- 12右方不可通過
    ESC.RoleDisable(512)
    ESC.RoleEnable(612)
    ESC.ChangeQQ(612, Const.WALK) -- 12橋面轉左
    ESC.TILPA1(610, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(562)
    ESC.RoleDisable(612)
    ESC.RoleEnable(560)
    ESC.RoleDisable(610)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T610B::
    -- 611F 610F
    GameFunc.FlagOn(611) -- 10上方不可通過
    GameFunc.FlagOff(612) -- 10右方可通過
    ESC.RoleDisable(510)
    ESC.RoleEnable(610)
    ESC.ChangeQQ(610, Const.WALK) -- 10橋面轉右
    GameFunc.FlagOn(610) -- 12左方不可通過
    GameFunc.FlagOff(614) -- 12右可通過
    GameFunc.FlagOn(610) -- 12左方不可通過
    GameFunc.FlagOff(614) -- 12右可通過
    ESC.RoleDisable(562)
    ESC.RoleEnable(612)
    ESC.ChangeQQ(612, Const.STAND) -- 12橋面轉右
    ESC.TILPA1(610, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(512)
    ESC.RoleDisable(612)
    ESC.RoleEnable(560)
    ESC.RoleDisable(610)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T610A::
    if GameFunc.GetFlag(610) then goto T610C end
    -- 611T 610F
    GameFunc.FlagOff(611) -- 10上方可通過
    GameFunc.FlagOn(612) -- 10右方不可通過
    ESC.RoleDisable(560)
    ESC.RoleEnable(610)
    ESC.ChangeQQ(610, Const.STAND) -- 10橋面轉上
    GameFunc.FlagOn(610) -- 12左方不可通過
    GameFunc.FlagOff(614) -- 12右可通過
    ESC.RoleDisable(562)
    ESC.RoleEnable(612)
    ESC.ChangeQQ(612, Const.STAND) -- 12橋面轉右
    ESC.TILPA1(610, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(512)
    ESC.RoleDisable(612)
    ESC.RoleEnable(510)
    ESC.RoleDisable(610)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T610C::  -- 611T 610T
    GameFunc.FlagOff(611) -- 10上方可通過
    GameFunc.FlagOn(612) -- 10右方不可通過
    ESC.RoleDisable(560)
    ESC.RoleEnable(610)
    ESC.ChangeQQ(610, Const.STAND) -- 10橋面轉上
    GameFunc.FlagOff(610) -- 12左方可通過
    GameFunc.FlagOn(614) -- 12右方不可通過
    ESC.RoleDisable(512)
    ESC.RoleEnable(612)
    ESC.ChangeQQ(612, Const.WALK) -- 12橋面轉左
    ESC.TILPA1(610, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(612, 6)
    ESC.RoleEnable(562)
    ESC.RoleDisable(612)
    ESC.RoleEnable(510)
    ESC.RoleDisable(610)
    ESC.RMUNlock()
end
------------------------
function Scene.TALK611()
    -- 移動島機關11 控制本身與8

    if ESC.GetRoleToPosDistance(90,53,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    ESC.RMLock()
    if GameFunc.GetFlag(616) then goto T611 end
    if not GameFunc.GetFlag(608) then goto T611A end
    -- 616F 608T
    GameFunc.FlagOn(616) -- 11上方不可通過
    GameFunc.FlagOff(613) -- 11右方可通過
    ESC.RoleDisable(511)
    ESC.RoleEnable(611)
    ESC.ChangeQQ(611, Const.WALK) -- 11橋面轉右方
    GameFunc.FlagOff(608) -- 8上方可通過
    GameFunc.FlagOn(609) -- 8右方不可通過
    ESC.RoleDisable(558)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.STAND) -- 8橋面轉上方
    ESC.TILPA1(611, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(508)
    ESC.RoleDisable(608)
    ESC.RoleEnable(561)
    ESC.RoleDisable(611)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T611A::
    -- 616F 608F
    GameFunc.FlagOn(616) -- 11上方不可通過
    GameFunc.FlagOff(613) -- 11右方可通過
    GameFunc.FlagOn(616) -- 11上方不可通過
    GameFunc.FlagOff(613) -- 11右方可通過
    ESC.RoleDisable(511)
    ESC.RoleEnable(611)
    ESC.ChangeQQ(611, Const.WALK) -- 11橋面轉右方
    GameFunc.FlagOn(608) -- 8上方不可通過
    GameFunc.FlagOff(609) -- 8右方可通過
    ESC.RoleDisable(508)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.WALK) -- 8橋面轉右方
    ESC.TILPA1(611, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(558)
    ESC.RoleDisable(608)
    ESC.RoleEnable(561)
    ESC.RoleDisable(611)
    ESC.RMUNlock()
    ESC.SceneBreak()

::T611::
    if GameFunc.GetFlag(608) then goto T611B end
    -- 611T 608F
    GameFunc.FlagOff(616) -- 11上方可通過
    GameFunc.FlagOn(613) -- 11右方不可通過
    ESC.RoleDisable(561)
    ESC.RoleEnable(611)
    ESC.ChangeQQ(611, Const.STAND) -- 11橋面轉上
    GameFunc.FlagOn(608) -- 8上方不可通過
    GameFunc.FlagOff(609) -- 8右方可通過
    ESC.RoleDisable(508)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.WALK) -- 8橋面轉右方
    ESC.TILPA1(611, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(558)
    ESC.RoleDisable(608)
    ESC.RoleEnable(511)
    ESC.RoleDisable(611)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T611B::
    -- 611T 608T
    GameFunc.FlagOff(616) -- 11上方可通過
    GameFunc.FlagOn(613) -- 11右方不可通過
    ESC.RoleDisable(561)
    ESC.RoleEnable(611)
    ESC.ChangeQQ(611, Const.STAND) -- 11橋面轉上
    if not GameFunc.GetFlag(608) then goto T611A end
    GameFunc.FlagOff(608) -- 8上方可通過
    GameFunc.FlagOn(609) -- 8右方不可通過
    ESC.RoleDisable(558)
    ESC.RoleEnable(608)
    ESC.ChangeQQ(608, Const.STAND) -- 8橋面轉上方
    ESC.TILPA1(611, 3)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(608, 6)
    ESC.RoleEnable(508)
    ESC.RoleDisable(608)
    ESC.RoleEnable(511)
    ESC.RoleDisable(611)
    ESC.RMUNlock()
end

    ------------------------
function Scene.TALK614()
    -- 移動島機關14 本身不動    控制13 運做1次

    if ESC.GetRoleToPosDistance(102,51,1) > 2 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！

    Scene.SAR_CSEL(Const.TOWN , 1)
    if not GameFunc.GetFlag(615) then return end
    ESC.RMLock()
    MediaFunc.PlaySound(58)
    ESC.TakeActData(614, -1, 56, 1)
    GameFunc.FlagOff(615) -- 13右邊可通過
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.TakeActData(640, -1, 52, 0)
    if not GameFunc.GetFlag(617) then goto T614A end
    ESC.RoleEnable(640)
    ESC.SeekACT(640, 1)
    ESC.TILPA1(640, 6)
    ESC.TakeActData(613 , -1 , 8 , 5)
    ESC.RoleDisable(640)
    goto T614C
    ESC.SceneBreak()
::T614A::
--  -- 13兩邊都浮出
    ESC.RoleEnable(640)
    ESC.SeekACT(640, 1)
    ESC.TILPA1(640, 6)
    ESC.TakeActData(613 , -1 , 64, 3)
    ESC.RoleDisable(640)
::T614C::
    ESC.RMUNlock()
end

    ------------------------
function Scene.TALK616()
    -- 機關F 只能運作1次 控制7
    if not GameFunc.GetFlag(607) then return end
    ESC.RMLock()
    Scene.MoveHero(140, 41, 0)
    MediaFunc.PlaySound(58)
    ESC.ChangeQQ(616, Const.WALK)
    Scene.SAR_CSEL(Const.TOWN , 1)
    GameFunc.FlagOff(607) -- 7往上可行走
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.ChangeQQ(607, 24) -- 將木樁7通道浮出
    ESC.RMUNlock()
end
    ------------------------
function Scene.TALK617()
    -- 機關G 控制 13 運作一次
    if ESC.GetRoleToPosDistance(140,59,1) > 10 then ESC.FitSize() Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊   -- 不作限制的話 會發生從上方點選下方機關 ESS=距離太遠，無法觸動機關！
    if not GameFunc.GetFlag(617) then return end
    ESC.RMLock()
    Scene.MoveHero(141, 60, 0)
    ESC.Delay(600)
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.ChangeQQ(617, Const.WALK)
    Scene.SAR_CSEL(Const.TOWN , 1)
    GameFunc.FlagOff(617) -- 13上方可通過
    if GameFunc.GetFlag(615) then goto T617A end
    ESC.ChangeQQ(613, 16) -- 木樁13浮出兩邊通道
    ESC.RMUNlock()
    ESC.SceneBreak()
::T617A::
    MediaFunc.PlaySound(56)
    ESC.Delay(400)
    MediaFunc.PlaySound(58)
    ESC.ChangeQQ(613, 24) -- 木樁13只浮上方通道
    ESC.Unlock()
end
    ------------------------
function Scene.TALK618()
    Scene.OpenChest(619, 853, '%T853.' ) -- 聖皇鎧
end
    ------------------------
function Scene.TALK619()
    Scene.OpenChest(618, 698, '%T698.' ) -- 諸方神石
end
    ------------------------
function Scene.TALK620()
    Scene.OpenMeneyChest(Const.TOWN, 300)
end
    ------------------------



-- ────────────────────────────────────────────【護民官】

function Scene.TALK621()
    local select
    if GameFunc.GetFlag(312) then goto T621F end
    if not GameFunc.GetFlag(104) then Scene.T621B() return end
    if GameFunc.GetFlag(305) then return end
    if GameFunc.GetFlag(303) then goto T621 end
    GameFunc.FlagOn(303)

    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1526')) -- ESS=奇怪……%N這些騎士這麼久了也沒半點兒動...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 8)



    Scene.MoveHero(58, 72, 0)

    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1527')) -- ESS=護民官閣下，%N我想進城堡裏，窺探一下情...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(621, 1)


    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1528')) -- ESS=朋友───%N就如您說的，裏頭很可能有埋...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10095, 8)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1529')) -- ESS=不……%N就算有埋伏，我一個人進去，%N...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1530')) -- ESS=再說，那些騎士會考慮我很可能是誘餌，即使...
    ESC.WaitDLG(1)


    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1531')) -- ESS=有道理……%N這樣一直枯耗下去，也不是辦...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)


    Scene.QuestOn(69)
    Scene.QuestOff(68)
    Scene.MoveHero(59, 56, 0)
    Scene.ChangeMap(147, 19, 72, 7)
    ESC.SceneBreak()





-- 【移動島上循環對話對話】

::T621::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(621, 1)


    ESC.Caption(621)
    Scene.Print_W(621,9007,7*2,2*2,StringDB('ESS1532')) -- ESS=朋友，你自己多小心點。
    ESC.WaitDLG(621)


    ESC.TurnFace(1, 621)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS1533')) -- ESS=我知道了，謝謝你。
    ESC.WaitDLG(1)

    ESC.RMUNlock()
    ESC.SceneBreak()

::T621F::
    if GameFunc.GetFlag(313) then ESC.SceneBreak() end

-- ────────────────────────────────────────────【和護民官話別】

    ESC.RoleDisable(637) -- 第二章開始
    GameFunc.FlagOn(313)
    Scene.MoveHero(57, 68, 3)
    ESC.TurnFace(621, 1)


    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1534')) -- ESS=朋友，%N你進去這麼久，遲遲沒有出來，%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1535')) -- ESS=謝謝您的關心，%N護民官閣下。%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1536')) -- ESS=對了…剛才你進去看過，%N裏面的情況如何...
    ESC.WaitDLG(1)

    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1537')) -- ESS=非常詭異───我進去時，騎士團的人已全被...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1538')) -- ESS=什麼！%N那是怎麼回事？%N是誰做的？
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1539')) -- ESS=是個以前和他們一直為伍的教士…%N他們之...
    ESC.WaitDLG(1)

    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1540')) -- ESS=呃…竟有這種事！%N這麼說來，那個會魔法...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1541')) -- ESS=不…他到最後也被殺死了！%N倒是城堡裏有...
    ESC.WaitDLG(1)

    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1542')) -- ESS=真是可怕…%N原來這些口口聲聲說要肅清異...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1543')) -- ESS=不過話說回來，%N雖說他們是自己內鬨消滅...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10095, 8)


    ESC.Delay(600)
    ESC.ChangeDIR(621, 1)
    ESC.Caption(621)
    Scene.Print_W(621,9007,7*2,3*2,StringDB('ESS1544')) -- ESS=好了，各位！%N我們要收兵回去了！
    ESC.WaitDLG(621)


    ESC.TurnFace(622, 1)
    ESC.TurnFace(623, 1)
    ESC.TurnFace(626, 1)
    ESC.TurnFace(627, 1)



    Scene.Print_W(621,9007,10*2,3*2,StringDB('ESS1545')) -- ESS=所有人先回去船上，把船隻整頓一下，我們儘...
    ESC.WaitDLG(621)



    ESC.ChangeQQ(623, Const.WALK)
    ESC.ChangeQQ(626, Const.WALK)

    ESC.SetRoleSpeed(622, 0)
    ESC.SetRoleSpeed(623, 0)
    ESC.SetRoleSpeed(626, 0)
    ESC.SetRoleSpeed(627, 0)

    Scene.BatchWlak({ {622, 47, 88,-1,-1,RoleDisable},{623, 72, 88,-1,-1,RoleDisable}
                        ,{626, 60, 88,-1,-1,RoleDisable},{627, 58, 88,-1,-1,RoleDisable}
    })
    ESC.RoleDisable(622)
    ESC.RoleDisable(623)
    ESC.RoleDisable(626)
    ESC.RoleDisable(627)
    ESC.ChangeDIR(1,Const._DOWN)
    ESC.RoleEnable(164)
    ESC.RoleEnable(166)
    ESC.RoleEnable(156)
    ESC.RoleEnable(159)
    ESC.SetRoleSpeed(164, 0)
    ESC.SetRoleSpeed(166, 0)
    ESC.SetRoleSpeed(159, 0)
    ESC.SetRoleSpeed(156, 0)

    Scene.BatchWlak({   {164, 57, 71,Const.WALK,-1},{166, 59, 72,Const.WALK,-1}
                       ,{159, 56, 73,Const.WALK,-1},{156, 58, 75,Const.WALK,-1}
    })

::T523C::
    ESC.TurnFace(159, 1)
    ESC.TurnFace(621, 1)
    -- if not ESC.RoleReach(166) then goto T523G end
    -- if GameFunc.GetFlag(7017) then goto T523G end
    GameFunc.FlagOn(7017)

    ESC.ChangeQQ(166, Const.STAND)
    ESC.TurnFace(1, 166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS1546')) -- ESS=你們怎麼了？慌慌張張的！
    ESC.WaitDLG(1)


    ESC.TurnFace(166, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(156, 1)


    ESC.Caption(164)
    Scene.Print_W(164,9007,9*2,3*2,StringDB('ESS1547')) -- ESS=……賽特先生！%N島…這個島…在…在%C...
    ESC.WaitDLG(164)


    ESC.Caption(621)
    Scene.Print_W(621,9007,8*2,2*2,StringDB('ESS1548')) -- ESS=島在移動？%N你們在說什麼啊？
    ESC.WaitDLG(621)


    ESC.TurnFace(166, 621)
    ESC.TurnFace(164, 621)
    ESC.TurnFace(159, 621)
    ESC.TurnFace(156, 621)


    ESC.Caption(159)
    Scene.Print_W(159,9007,8*2,3*2,StringDB('ESS1549')) -- ESS=是真的！%N這個島…這個島真的在移動！
    ESC.WaitDLG(159)



    ESC.Caption(166)
    Scene.Print_W(166,9007,10*2,4*2,StringDB('ESS1550')) -- ESS=我們剛才在檢查船隻時，發現這個島竟在緩緩...
    ESC.WaitDLG(166)


    ESC.Caption(621)
    Scene.Print_W(621,9007,8*2,3*2,StringDB('ESS1551')) -- ESS=是不是弄錯了？%N這世界上哪有會移動的島...
    ESC.WaitDLG(621)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS1552')) -- ESS=護民官閣下，%N島會從海中冒出來就夠怪了...
    ESC.WaitDLG(1)


    ESC.Caption(621)
    Scene.Print_W(621,9007,9*2,4*2,StringDB('ESS1553')) -- ESS=說的也是…%N對了，我得離開了，你們要不...
    ESC.WaitDLG(621)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS1554')) -- ESS=不，你們先走吧！%N我倒是想利用這一個島...
    ESC.WaitDLG(1)


    ESC.TurnFace(166, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(156, 1)


    ESC.Caption(621)
    Scene.Print_W(621,9007,5*2,1*2,StringDB('ESS1555')) -- ESS=利用……？
    ESC.WaitDLG(621)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS1556')) -- ESS=既然這一個島是向南方移動，我們為什麼不直...
    ESC.WaitDLG(1)



    ESC.AddHeadSign(164 , 0) -- 大家驚訝
    ESC.AddHeadSign(159 , 0)
    ESC.AddHeadSign(166 , 0)
    ESC.Delay(600)
    ESC.DelHeadSign(164)
    ESC.DelHeadSign(159)
    ESC.DelHeadSign(166)


    ESC.Caption(159)
    Scene.Print_W(159,9007,7*2,3*2,StringDB('ESS1557')) -- ESS=賽特先生，%N這…這主意太…太大膽了吧？...
    ESC.WaitDLG(159)


    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS1558')) -- ESS=有什麼關係？%N我們先調查一下，如果有危...
    ESC.WaitDLG(1)


    ESC.Caption(621)
    Scene.Print_W(621,9007,7*2,3*2,StringDB('ESS1559')) -- ESS=朋友，那我先走了，您自己千萬多小心！
    ESC.WaitDLG(621)



    ESC.ChangeQQ(621, Const.WALK)
    ESC.SetRoleSpeed(621, 1)
    ESC.BatchMove(1,    621, 58, 88)
    ESC.RoleDisable(621)




-- ::T523G::
    -- if not ESC.RoleReach(164) then goto T523C end
    ESC.ChangeQQ(164, Const.STAND)
    ESC.TurnFace(164, 1)
    -- if not ESC.RoleReach(156) then goto T523C end
    ESC.ChangeQQ(156, Const.STAND)


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS1560')) -- ESS=你們呢？%N想先離開的人，可以和那位護民...
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS1561')) -- ESS=賽特大人，%N我是海盜，可不敢跟他一塊兒...
    ESC.WaitDLG(1)


    ESC.Caption(164)
    Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS1562')) -- ESS=是啊…%N怎麼樣都好，我只希望早一點回到...
    ESC.WaitDLG(1)


    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS1563')) -- ESS=好，那我來調查一下四周的環境，你們先進這...
    ESC.WaitDLG(1)


    ESC.SceneMusic(168, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂（移動島堡頂換回迷宮音樂）




    ESC.SetRoleSpeed(164, 0)
    ESC.SetRoleSpeed(166, 0)
    ESC.SetRoleSpeed(159, 0)
    ESC.SetRoleSpeed(156, 0)

    Scene.BatchWlak({   {164, 59, 54,Const.WALK,-1},{166, 59, 54,Const.WALK,-1}
                       ,{159, 59, 54,Const.WALK,-1},{156, 59, 54,Const.WALK,-1}
    })

    ESC.ChangeRoleMap(164, 148, 164, 38, 24 , 505 , Const.WALK, 1)
    ESC.ChangeRoleMap(166, 148, 000, 21, 20 , 503 , Const.STAND, 3)
    ESC.ChangeRoleMap(159, 148, 159, 60, 34 , 501 , Const.WALK, 1)
    ESC.ChangeRoleMap(156, 148, 000, 60, 34 , 579 , Const.STAND, 4)

    ESC.RoleEnable(30)

    GameFunc.FlagOn(310)

    Scene.QuestOn(71)
    Scene.QuestOff(70)
    ESC.ChangeDIR(1, 0)

    ESC.SceneBreak()
end

function Scene.T621B()
    local select
-- 【第一次和護民官講話】
    if not GameFunc.GetFlag(315) then return end
    if GameFunc.GetFlag(314) then

        ESC.TurnFace(621, 1)

        ESC.Caption(621)
        Scene.Print_W(621,9007,7*2,3*2,StringDB('ESS1578')) -- ESS=現在這裏非常危險，請您自己要多小心。
        ESC.WaitDLG(621)

        ESC.Caption(621)
        Scene.Print_W(621,9007,5*2,2*2,StringDB('ESS1579')) -- ESS=在這裏先休息一下吧！
        ESC.WaitDLG(621)


        MediaFunc.PlaySound(95)
        Scene.FullHeal()    -- ●賽特補血
        --ESC.Delay(600)
        ESC.ChangeDIR(621, 1)
        return
    end

    GameFunc.FlagOn(314)

    Scene.MoveHero(104, 119, 2)


    ESC.TurnFace(1, 621)
    ESC.TurnFace(623, 1)
    ESC.TurnFace(626, 1)
    ESC.Delay(300)


    ESC.Caption(623)
    Scene.Print_W(627,9007,6*2,3*2,'%S0'..StringDB('ESS1564')) -- ESS=幹什麼？%N不准接近%C2護民官大人%C...
    ESC.WaitDLG(627)


    ESC.Delay(300)
    ESC.TurnFace(621, 1)
    ESC.Delay(200)


    ESC.Caption(621)
    Scene.Print_W(621,9007,6*2,2*2,StringDB('ESS1565')) -- ESS=休得無禮！%N這不是敵人！
    ESC.WaitDLG(621)


    Scene.Print_W(621,9007,9*2,3*2,'%S0'..StringDB('ESS1566')) -- ESS=他是上次和%C2騎士團%C4作對，最後救...
    ESC.WaitDLG(621)


    ESC.ChangeDIR(623, 6)
    ESC.ChangeDIR(626, 1)
    ESC.Delay(400)


    Scene.MoveHero(104, 112, 2)
    ESC.Delay(300)


    ESC.Caption(621)
    Scene.Print_W(621,9007,7*2,3*2,StringDB('ESS1567')) -- ESS=抱歉，%N剛才真是失禮，朋友……
    ESC.WaitDLG(621)


    ESC.ChangeDIR(1, 6)
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1568')) -- ESS=到底發生什麼事？%N怎麼你們和騎士團的人...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    ESC.RoleEnable(7) -- 康那里士出現在別艘船上
    ESC.ChangeDIR(7, 4)
    ESC.TurnFace(621, 1)
    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 9, 50, 120)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1569')) -- ESS=唉…%N這說來話長了……%N
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1570')) -- ESS=威尼斯過去一直為%C7海盜%C5所苦，因...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1571')) -- ESS=不料他們來了以後，卻大肆濫捕來做生意的外...
    ESC.WaitDLG(1)

    ESC.MBOff(2, 1)
    ESC.DelHead(10095, 9)


    ESC.TurnFace(621, 623)
    ESC.Delay(400)



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 8, 50, 120)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1572')) -- ESS=您瞧！%N像剛才也沒經我們同意，隨隨便便...
    ESC.WaitDLG(1)


    ESC.MBOff(4, 1)
    ESC.DelHead(10095, 8)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1573')) -- ESS=所以你們追了上來，%N想消滅他們？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.TurnFace(621, 1)

    Scene.MBOn(6, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1574')) -- ESS=正是！%N一則%C7海戰%C5我們遠比他...
    ESC.WaitDLG(1)

    Scene.QuestOff(67)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1575')) -- ESS=朋友，%N這一次你還願意幫助我們嗎？%C...
    ESC.WaitDLG(1)

    select = ESC.GetBTNSelect()
    if select == 1 then
         -- 如果選願意，開關7013打開，然後戰鬥中就不會遇到水軍
        GameFunc.FlagOn(7013) --   設水軍戰鬥不出現


        ESC.DLGNoFrame()
        ESC.DLGHoldTime(-1)
        ESC.DLGNoPass()
        Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1576')) -- ESS=非常感謝您，%N那請您自己多小心了。
        ESC.WaitDLG(1)

        ESC.MBOff(6, 1)
        ESC.DelHead(10095, 9)
        Scene.QuestOn(68)
        ESC.ChangeDIR(621, 1)
    elseif select == 2 then
        ESC.DLGNoFrame()
        ESC.DLGHoldTime(-1)
        ESC.DLGNoPass()
        Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1577')) -- ESS=現在這兒敵我不分，非常危險，%N請您自己...
        ESC.WaitDLG(1)

        ESC.MBOff(6, 1)
        ESC.DelHead(10095, 9)

        ESC.ChangeDIR(621, 1)
    end


end



-- ──────────────────────────────────────────【威尼斯的水軍】


-- （第一組性感丁字褲水軍）

function Scene.TALK622()
    if not GameFunc.GetFlag(104) then Scene.T622A() return end
    if not GameFunc.GetFlag(328) then goto T622C end
    if not GameFunc.GetFlag(329) then goto T622D end
    ESC.Caption(Const.TOWN)
    Scene.M_Print(Const.TOWN, StringDB('ESS1580')) -- ESS=對了！在我們的船艙內有一些奇特的物品，你...
    if GameFunc.GetFlag(7076) then goto T662U end
    Scene.QuestOn(97)
    GameFunc.FlagOn(7076)
::T662U::
    ESC.SceneBreak()
::T622D::
    GameFunc.FlagOn(329)
::T622C::
    GameFunc.FlagOn(328)

    ESC.Caption(623)
    Scene.Print_W(Const.TOWN,9007,7*2,3*2,StringDB('ESS1581')) -- ESS=奇怪，那些騎士們進去就不再出來了…
    ESC.WaitDLG(Const.TOWN)

    ESC.SceneBreak()







end
function Scene.T622A()
-- 【海戰戰場，還未和護民官說話時】
    if GameFunc.GetFlag(314) then
        -- 【海戰戰場，已和護民官說過話】
        ESC.Caption(623)
        Scene.Print_W(627,9007,6*2,2*2,'%S0'..StringDB('ESS1582')) -- ESS=我們要保護%C2護民官%C4大人！
        ESC.WaitDLG(627)
        return
    end
    if not GameFunc.GetFlag(315) then return end

    ESC.Caption(623)
    Scene.Print_W(627,9007,6*2,3*2,'%S0'..StringDB('ESS1583')) -- ESS=幹什麼？%N不准靠近%C2護民官大人%C...
    ESC.WaitDLG(627)

    Scene.T621B()
end


-- ▔▔▔▔▔▔▔▔▔▔▔▔▔▔▔▔▔

-- （第二組性感丁字褲水軍）


function Scene.TALK623()
    if not GameFunc.GetFlag(104) then Scene.T622A() return end
    if not GameFunc.GetFlag(330) then goto T623A end
    if not GameFunc.GetFlag(331) then goto T623B end
    ESC.Caption(Const.TOWN)
    Scene.M_Print(Const.TOWN, StringDB('ESS1584')) -- ESS=我們的人在島的東北方發現一個奇怪的洞穴，...
    if GameFunc.GetFlag(7077) then goto T623U end
    Scene.QuestOn(98)
    GameFunc.FlagOn(7077)
::T623U::
    ESC.SceneBreak()
::T623B::
    GameFunc.FlagOn(331)
::T623A::
    GameFunc.FlagOn(330)


    ESC.Caption(623)
    Scene.Print_W(Const.TOWN,9007,7*2,3*2,StringDB('ESS1585')) -- ESS=這些孬種騎士，是打算躲在裏面一輩子嗎？
    ESC.WaitDLG(Const.TOWN)

end




-- ────────────────────────────────【莉蓮之墓】

function Scene.TALK624()
    -- 莉蓮的墓碑
    if not GameFunc.GetFlag(308) then Scene.TALK536() ESC.SceneBreak() end
    Scene.MoveHero(89, 48, 7)

    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,2*2,StringDB('ESS1586')) -- ESS=安息吧，莉蓮……
    ESC.WaitDLG(1)

end


function Scene.TALK628()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1587')) -- ESS=這人被化成石像。
end
    ------------------------
function Scene.TALK629()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1588')) -- ESS=這人已死了。
end
    ------------------------
function Scene.TALK630()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1588')) -- ESS=這人已死了。
end

function Scene.TALK631()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1587')) -- ESS=這人被化成石像。
end
    ------------------------
function Scene.TALK632()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1588')) -- ESS=這人已死了。
end
    ------------------------
function Scene.TALK633()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1587')) -- ESS=這人被化成石像。
end
    ------------------------
function Scene.TALK634()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1588')) -- ESS=這人已死了。
end
    ------------------------
function Scene.TALK635()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1587')) -- ESS=這人被化成石像。
end
    ------------------------
function Scene.TALK636()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(50 , -20)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1587')) -- ESS=這人被化成石像。
end
    ------------------------

function Scene.TALK638()
    Scene.SearchFlower(503)
end


-- ──────────────────────────────────────【薇達的手下士兵】

function Scene.TALK641()
    if GameFunc.GetFlag(114) then goto T641C end
    if GameFunc.GetFlag(206) then goto T641B end
    if not GameFunc.GetFlag(205) then goto T641A end -- 第一次進冰山跟門口前士兵說話

    -- （第二次說，士兵面對賽特）

    MediaFunc.PlaySound(311) -- 敲門聲

    ESC.Caption(1)
    Scene.Print_W(1,9008,10*2,4*2,StringDB('ESS1589')) -- ESS=對了，你們船長是誰？%N我剛才遠遠看見一...
    ESC.WaitDLG(1)


    ESC.TakeActData(641, 411, 52, 1)
    ESC.TurnFace(641, 1)


    ESC.Caption(641)
    Scene.Print_W(641,9008,6*2,3*2,StringDB('ESS1590')) -- ESS=是啊！%N原來你也看見了？
    ESC.WaitDLG(641)


    Scene.Print_W(641,9008,13*2,4*2,StringDB('ESS1591')) -- ESS=我們的船長，她可是我們伊斯蘭的英雄%C2...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,11*2,4*2,StringDB('ESS1592')) -- ESS=原來如此……%N不過聽我的阿拉伯朋友說，...
    ESC.WaitDLG(1)


    ESC.Caption(641)
    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS1593')) -- ESS=是啊……%N船長她嫌蒙面起來戰鬥不便，所...
    ESC.WaitDLG(641)


    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS1594')) -- ESS=一些長官大概覺得她這樣違反%C2阿拉真主...
    ESC.WaitDLG(641)


    GameFunc.FlagOn(206)
    ESC.TakeActData(641, 411, 52, 0)
    MediaFunc.PlaySound(311) -- 敲門聲


    ESC.SceneBreak()

::T641A::
    GameFunc.FlagOn(10)
    ESC.RMLock()
    MediaFunc.PlaySound(311)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 23, 45)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 641)


    ESC.Caption(641)
    Scene.Print_W(641,9008,8*2,2*2,StringDB('ESS1595')) -- ESS=可惡，門打不開！該死──！
    ESC.WaitDLG(641)



    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,2*2,StringDB('ESS1596')) -- ESS=你們是…%C2阿拉伯人%C4？
    ESC.WaitDLG(1)




    ESC.TakeActData(641, 411, 52, 2)
    ESC.AddHeadSign(641, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(641)
    ESC.Delay(100)
    ESC.TakeActData(641, 411, 52, 1)


    ESC.Caption(641)
    Scene.Print_W(641,9008,8*2,2*2,StringDB('ESS1597')) -- ESS=嚇、嚇我一大跳！我還以為是……
    ESC.WaitDLG(641)


    Scene.Print_W(641,9008,10*2,4*2,StringDB('ESS1598')) -- ESS=看你的樣子，不像是冰山的妖魔……但你又是...
    ESC.WaitDLG(641)


    ESC.Caption(1)
    Scene.Print_W(1,9008,12*2,4*2,StringDB('ESS1599')) -- ESS=我有幾位阿拉伯朋友，旅途中被這些妖魔們冰...
    ESC.WaitDLG(1)



    ESC.Caption(641)
    Scene.Print_W(641,9008,7*2,2*2,StringDB('ESS1600')) -- ESS=原來如此…那就是友方了！
    ESC.WaitDLG(641)



    Scene.Print_W(641,9008,9*2,4*2,StringDB('ESS1601')) -- ESS=我們是%C2伊斯蘭的海軍%C4，負責在海...
    ESC.WaitDLG(641)



    Scene.Print_W(641,9008,9*2,4*2,StringDB('ESS1602')) -- ESS=這次我們%C2船長%C4發現這些搔擾船隻...
    ESC.WaitDLG(641)



    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,2*2,StringDB('ESS1603')) -- ESS=原來如此……%N那他們呢？
    ESC.WaitDLG(1)


    ESC.Caption(641)
    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS1604')) -- ESS=船長帶領軍隊從這道門進去，可是一進去後，...
    ESC.WaitDLG(641)



    ESC.Caption(1)
    Scene.Print_W(1,9008,10*2,3*2,StringDB('ESS1605')) -- ESS=……糟糕，這可能是陷阱，先把他們先引誘進...
    ESC.WaitDLG(1)




    ESC.TakeActData(641, 411, 52, 2)


    ESC.Caption(641)
    Scene.Print_W(641,9008,7*2,3*2,StringDB('ESS1606')) -- ESS=───什麼？%N那…那大家不是有危險了？...
    ESC.WaitDLG(641)


    MediaFunc.PlaySound(311)
    ESC.TakeActData(641, 411, 52, 0)
    ESC.RMUNlock()



    Scene.Print_W(641,9008,6*2,3*2,StringDB('ESS1607')) -- ESS=該死──！%N開門呀！%N可惡的傢伙！
    ESC.WaitDLG(641)



    MediaFunc.PlaySound(311)
    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,3*2,StringDB('ESS1608')) -- ESS=我到別的地方，找找看有沒有其他通道。
    ESC.WaitDLG(1)


    MediaFunc.PlaySound(311) -- 敲門聲




    GameFunc.FlagOn(205) -- 換掉跟冰山門口前士兵說話
    GameFunc.FlagOff(10)
    ESC.SceneBreak()

::T641B::

    MediaFunc.PlaySound(311) -- 敲門聲
    ESC.Caption(641)
    Scene.Print_W(641,9008,14,4,StringDB('ESS1609')) -- ESS=───可惡！%N門還是打不開！
    ESC.WaitDLG(641)

    MediaFunc.PlaySound(311)

    ESC.SceneBreak()

::T641C::
    Scene.M_Print_EA(641, StringDB('ESS1610')) -- ESS=船長！您放心好了，我一定好好教莫雷的。
end


    ------------------------
function Scene.TALK642()
    ESC.Caption(Const.TOWN)
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS1611')) -- ESS=這真是個奇特的地方．．．
end
    ------------------------
    ------------------------
    ------------------------
    ------------------------
function Scene.TALK646()
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(20 , -65)
    ESC.Print(Const.TOWN,9007,'%C6'..StringDB('ESS1612')) -- ESS=這人被冰凍了。
end
    ------------------------
    ------------------------
    ------------------------
    ------------------------
function Scene.TALK650()
    -- 側邊樓梯門
    Scene.WORD_ON_HEAD(1, 5, 10, -60, '%S0'..StringDB('ESS1613')) -- ESS=這個門卡住了。
end
    ------------------------

function Scene.TALK651()
    local select
    -- 移動島城堡旅店

    ESC.Caption(Const.TOWN)
    Scene.Print_W(651,9007,6*2,1*2,StringDB('ESS1614')) -- ESS=歡迎，歡迎！
    ESC.WaitDLG(651)

    if GameFunc.GetFlag(2017) then goto T651B0 end -- ★判斷是否進入循環對話

    ESC.Caption(651)
    Scene.Print_W(651,9007,8*2,3*2,StringDB('ESS1615')) -- ESS=總算開張了，%N自從主人離開後就少有生意...
    ESC.WaitDLG(651)
    ESC.Caption(651)
    Scene.Print_W(651,9007,8*2,3*2,StringDB('ESS1615B')..'%N'..StringDB('SESS2')) -- ESS=為了好好慶祝，休息一次只要...
    ESC.WaitDLG(651)
    goto T651B1

::T651B0::
    ESC.Caption(651)
    Scene.Print_W(651,9007,9*2,2*2,StringDB('ESS1616')..'%N'..StringDB('SESS2')) -- ESS=好好休息一次只要%C2五十枚銀幣%C4。...
    ESC.WaitDLG(651)

::T651B1::
    GameFunc.FlagOn(2017)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T651B
    elseif select == 2 then
        goto T651C
    else
        ESC.SceneBreak()
    end

::T651B::
    if Scene.AUTO_VCMONEY(50,651,9007) then return end

    GameFunc.PlayerGolds = GameFunc.PlayerGolds -50  -- ●賽特扣除銀幣
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    Scene.FullHeal()    -- ●賽特補血
    ESC.RoleMove(1, 42, 45)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 15)
    ESC.FadeWait()

::T651C::
    ESC.Caption(651)
    Scene.Print_W(651,9007,8*2,2*2,StringDB('ESS1617')) -- ESS=謝謝您，如有需要，請再光臨！
    ESC.WaitDLG(651)
end
    ------------------------
function Scene.TALK652()
    -- 移動島雜貨店
    if not GameFunc.GetFlag(7020) then -- 第一次光臨島上魔界商店
        ESC.Caption(652)
        Scene.Print_W(Const.TOWN,9007,14*2,3*2,StringDB('ESS1618')) -- ESS=哎喲！自從主人離開後就少有生意了，沒想到...
        ESC.WaitDLG(Const.TOWN)
        GameFunc.FlagOn(7020) -- 關掉第一次光臨島上魔界商店
    end

    ESC.Caption(652)
    Scene.Print_W(652,9007,11*2,1*2,StringDB('ESS1619')) -- ESS=客人您好需要些什麼嗎？
    ESC.WaitDLG(652)

    if GameFunc.GetFlag(21) then goto T652B end

    ESC.OpenStore(698, 621, 622, 564, 972, 973, 988, 999, 1043, 1021, 0)
    goto T652B1

::T652B::
    ESC.OpenStore(698, 621, 622, 564, 972, 973, 988, 999, 1043, 1021, 697, 0)

::T652B1::
    ESC.Caption(652)
    Scene.Print_W(652,9007,8*2,1*2,StringDB('ESS1620')) -- ESS=謝謝！請再光顧。
    ESC.WaitDLG(652)
    ESC.SceneBreak()
end
    ------------------------
function Scene.TALK653()
    -- 移動島武器店
    if not GameFunc.GetFlag(7020) then -- 第一次光臨島上魔界商店
        ESC.Caption(653)
        Scene.Print_W(Const.TOWN,9007,14*2,3*2,StringDB('ESS1618')) -- ESS=哎喲！自從主人離開後就少有生意了，沒想到...
        ESC.WaitDLG(Const.TOWN)
        GameFunc.FlagOn(7020) -- 關掉第一次光臨島上魔界商店
    end

    ESC.Caption(653)
    Scene.Print_W(653,9007,12*2,3*2,StringDB('ESS1621')) -- ESS=您好，我這裏的武器有些可是其他地方買不到...
    ESC.WaitDLG(653)

    ESC.OpenStore(503, 504, 523, 528, 538, 524, 0)

    ESC.Caption(653)
    Scene.Print_W(653,9007,5*2,1*2,StringDB('ESS1622')) -- ESS=歡迎再來。
    ESC.WaitDLG(653)
    ESC.SceneBreak()


end
    ------------------------
function Scene.TALK654()
    -- 移動島防具店
    if not GameFunc.GetFlag(7020) then -- 第一次光臨島上魔界商店
        ESC.Caption(654)
        Scene.Print_W(Const.TOWN,9007,14*2,3*2,StringDB('ESS1618')) -- ESS=哎喲！自從主人離開後就少有生意了，沒想到...
        ESC.WaitDLG(Const.TOWN)
        GameFunc.FlagOn(7020) -- 關掉第一次光臨島上魔界商店
    end

    ESC.Caption(654)
    Scene.Print_W(654,9007,10*2,2*2,StringDB('ESS1623')) -- ESS=我的防具堅固又耐用，大爺您就多買一些吧！...
    ESC.WaitDLG(654)

    ESC.OpenStore(854, 856, 1005, 1004, 1006, 892, 893, 874, 875, 1044, 1033, 1034, 907, 0)

    ESC.Caption(654)
    Scene.Print_W(654,9007,5*2,1*2,StringDB('ESS1624')) -- ESS=要再來喔！
    ESC.WaitDLG(654)
    ESC.SceneBreak()
end
    ------------------------
function Scene.TALK655()
    -- 移動島藥店
    if not GameFunc.GetFlag(7020) then -- 第一次光臨島上魔界商店
        ESC.Caption(655)
        Scene.Print_W(Const.TOWN,9007,14*2,3*2,StringDB('ESS1618')) -- ESS=哎喲！自從主人離開後就少有生意了，沒想到...
        ESC.WaitDLG(Const.TOWN)
        GameFunc.FlagOn(7020) -- 關掉第一次光臨島上魔界商店
    end

    ESC.Caption(655)
    Scene.Print_W(655,9007,12*2,2*2,StringDB('ESS1625')) -- ESS=在外面闖蕩多少都會受點傷買些藥劑以備不時...
    ESC.WaitDLG(655)

    ESC.OpenStore(625, 627, 626, 629, 636, 637, 651, 644, 655, 659, 0)

    ESC.Caption(655)
    Scene.Print_W(655,9007,6*2,1*2,StringDB('ESS1626')) -- ESS=歡迎再光臨。
    ESC.WaitDLG(655)
    ESC.SceneBreak()
end
    ------------------------
function Scene.TALK658()
    local select
    if Scene.CheckQQ(658, 8) then goto T658 end
    if GameFunc.GetFlag(2050) then goto T658A end
    if GameFunc.GetFlag(2051) then goto T658D end
    ESC.Caption(658)
    Scene.Print_W(658,9007,12*2,4*2,StringDB('ESS1627')..'%N'..StringDB('SESS2')) -- ESS=旅行者，我被困在這箱子內如果你能幫我離開...
    ESC.WaitDLG(658)

    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T658A
    elseif select == 2 then
        GameFunc.FlagOn(2051)
        Scene.Print_W(658,9007,5*2,1*2,StringDB('ESS1628')) -- ESS=那就算了。
        ESC.WaitDLG(658)
        ESC.SceneBreak()
end
::T658A::
    GameFunc.FlagOn(2050)
    if Function.GetItemCount(140) == 0 or Function.GetItemCount(141) == 0 then
        Scene.Print_W(658,9007,8*2,4*2,StringDB('ESS1629')) -- ESS=我需要一隻妖貓、一隻牛頭魚，才能離開這個...
        ESC.WaitDLG(658)
        ESC.SceneBreak()
    end
    Scene.Print_W(658,9007,8*2,3*2,StringDB('ESS1630')) -- ESS=太好了，你身上有牛頭魚和妖貓；我馬上出來...
    ESC.WaitDLG(658)
::T658C::
    ESC.ChangeQQ(658, 8)
    MediaFunc.PlaySound(193)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS1631')) -- ESS=阿高斯%C4加入隊伍
    ItemFunc.AddItem(174, 1)
    ItemFunc.AddItem(140, -1)
    ItemFunc.AddItem(141, -1)
    ESC.SceneBreak()

::T658D::
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS1632')) -- ESS=寶箱沒有動靜



::T658::
end
    ------------------------
    ------------------------
function Scene.TALK660()
    Scene.OpenChest(664, 622, '%T622.' ) -- 結纍葡萄622
end
    ------------------------
function Scene.TALK661()
    Scene.OpenChest(661, 929, '%T929.' ) -- 朱雀火羽929
end
    ------------------------
function Scene.TALK662()
    Scene.OpenChest(662, 698, '%T698.' ) -- 諸方神石698
end
    ------------------------
function Scene.TALK663()
    Scene.OpenChest(663, 636, '%T636.' ) -- 魔法葉636
end
    ------------------------
function Scene.TALK664()
    Scene.OpenChest(665, 644, '%T644.',3 ) -- 還魄丹644 x3
end
    ------------------------
function Scene.TALK665()
    Scene.OpenChest(666, 698, '%T698.' ) -- 諸方神石698
end
    ------------------------
function Scene.TALK666()
    Scene.OpenMeneyChest(667, 300) -- 銀幣300
end
    ------------------------
function Scene.TALK667()
    Scene.OpenChest(668, 983, '%T983.' ) -- 銀笛983
end
    ------------------------
function Scene.TALK668()
    Scene.OpenMeneyChest(669, 300 ) -- 銀幣300
end
    ------------------------
function Scene.TALK669()
    Scene.OpenChest(670, 627, '%T627.' ) -- 滑石粉627
end
    ------------------------
function Scene.TALK670()
    Scene.OpenChest(671, 637, '%T637.' ) -- 魔晶粉637
end
    ------------------------
function Scene.TALK671()
    Scene.OpenChest(672, 644, '%T644.' ) -- 還魂丹644
end
    ------------------------
function Scene.TALK672()
    if GameFunc.GetFlag(400) then ESC.SceneBreak() end
    GameFunc.FlagOn(400)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 673)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    ESC.FitSize()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS1633')) -- ESS=莉蓮......

    ESC.Caption(5)
    Scene.Print_W(673,9007,10*2,3*2,StringDB('ESS1634')..'%N'..StringDB('SESS2')) -- ESS=賽特，我的靈魂被囚禁在這冰山島內，你可以...
    ESC.WaitDLG(673)

    local select = ESC.GetBTNSelect()
    if select == 1 then
        Scene.Print_W(1,9007,14*2,1*2,StringDB('ESS1635')) -- 男 ESS=當然可以，但是我要怎麼作呢？
        ESC.WaitDLG(1)
        ESC.Caption(5)
        ESC.FitSize()
        ESC.Print(673,9007,StringDB('ESS1636')) -- 女 ESS=過來抱住我就可以了
        ESC.WaitDLG(673)
        ESC.ChangeQQ(1, Const.RUN)
        ESC.BatchMove(1,        1, 16, 24)
        ESC.TakeActData(1, -1, 0, 4)
        ESC.FadeScreen(0, 0, 0, -30, -30, -30 , 3)
        ESC.FadeWait()
        MediaFunc.PlaySound(117)
        ESC.Delay(500)
        ESC.FadeScreen(-30, -30, -30, 0, 0, 0 , 3)
        ESC.FadeWait()
        ESC.StartBattle('BS113')
        ESC.RoleDisable(673)
        ESC.SceneBreak()
end

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,2*2,StringDB('ESS1637')) -- ESS=妳的言行舉止都不像莉蓮，我不能相信妳。
    ESC.WaitDLG(1)
    ESC.FitSize()
    ESC.Caption(673)
    Scene.M_Print(673, StringDB('ESS1638') ) -- 女 ESS=那你就去地獄找莉蓮吧！
    ESC.StartBattle('BS107')
    ESC.RoleDisable(673)

end
    ------------------------
function Scene.TALK673()
    Scene.OpenChest(674, 769, '%T769.' ) -- 靈界指標769
end
    ------------------------
function Scene.TALK674()
    Scene.OpenChest(675, 936, '%T936.' ) -- 水靈珠936
end
    ------------------------
function Scene.TALK675()
    Scene.OpenChest(676, 768, '%T768.' ) -- 空白符紙768
end
    ------------------------
function Scene.TALK676()
    Scene.OpenChest(677, 698, '%T698.' ) -- 諸方神石698
end
    ------------------------
function Scene.TALK677()
    Scene.OpenChest(678, 625, '%T625.' ) -- 回復劑625
end
    ------------------------
function Scene.TALK678()
    if Scene.CheckQQ(679, 8) then goto T678Z end
    ESC.ChangeQQ(679, 8)
    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,'%S0'..StringDB('ESS1639')) -- ESS=得到10個%T621.
    ItemFunc.AddItem(621, 10) -- 藥草10
    ESC.SceneBreak()

::T678Z::
end
    ------------------------
function Scene.TALK679()
    Scene.OpenChest(680, 625, '%T625.' ) -- 回復劑625
end
    ------------------------
function Scene.TALK681()
    Scene.SearchFlower(621) -- 藥草
end

function Scene.TALK682()
    Scene.SearchFlower(726) -- 延胡索之花
end

function Scene.TALK683()
    Scene.SearchFlower(1006) -- 蛇鱗甲
end

function Scene.TALK684()
    Scene.SearchFlower(932) -- 武聖手鐲
end
    ------------------------
function Scene.TALK685()
    Scene.OpenChest(688, 972, '%T972.' ) -- 鐵戒指
end
    ------------------------
function Scene.TALK686()
    Scene.OpenChest(689, 627, '%T627.' ) -- 滑石粉
end
    ------------------------
function Scene.TALK687()
    Scene.OpenChest(690, 622, '%T622.' ) -- 結纍葡萄
end
    ------------------------
function Scene.TALK688()
    Scene.OpenChest(691, 1022, '%T1022.' ) -- 安碧特麗之冠
end
    ------------------------
function Scene.TALK689()
    Scene.OpenChest(692, 651, '%T651.' ) -- 溶石藥劑
end
    ------------------------
function Scene.TALK690()
    -- 判斷是否其中一Scene.OpenChest(已開啟)
    if Scene.CheckQQ(693, 8) or Scene.CheckQQ(694, 8) or Scene.CheckQQ(695, 8) then
        Scene.WORD_ON_HEAD(1, 10, 30, -60, '%C2'..StringDB('ESS1641')) -- ESS=這個箱子打不開了。
        return
    end

    -- 亂數決定得到那一種物品
    Scene.RandomBox3()


end

-- 亂數取物品區
function Scene.RandomBox3()
    local rnd = math.random(1,3)
    if rnd==1 then
        Scene.OpenChestBattle(Const.TOWN, 'BS78') -- 戰鬥
    elseif rnd==2 then
        Scene.OpenChest(Const.TOWN, 623, '%T623.' ) -- 聖石榴
    else
        Scene.OpenChest(Const.TOWN, 528, '%T528.' ) -- 烏紋弓
    end
end




    ------------------------
function Scene.TALK691()
    -- 判斷是否其中一Scene.OpenChest(已開啟)
    if Scene.CheckQQ(693, 8) or Scene.CheckQQ(694, 8) or Scene.CheckQQ(695, 8) then
        Scene.WORD_ON_HEAD(1, 10, 30, -60, '%C2'..StringDB('ESS1641')) -- ESS=這個箱子打不開了。
        return
    end
    Scene.RandomBox3()
end
    ------------------------
function Scene.TALK692()
    -- 判斷是否其中一Scene.OpenChest(已開啟)
    if Scene.CheckQQ(693, 8) or Scene.CheckQQ(694, 8) or Scene.CheckQQ(695, 8) then
        Scene.WORD_ON_HEAD(1, 10, 30, -60, '%C2'..StringDB('ESS1641')) -- ESS=這個箱子打不開了。
        return
    end
    Scene.RandomBox3()
end
    ------------------------
function Scene.TALK693()
    Scene.OpenChest(696, 637, '%T637.' ) -- 魔晶粉
end
    ------------------------
function Scene.TALK694()
    Scene.OpenChest(697, 644, '%T644.' ) -- 還魄丹
end
    ------------------------
function Scene.TALK695()
    Scene.OpenChest(698, 625, '%T625.' ) -- 回復劑
end
    ------------------------
function Scene.TALK696()
    Scene.SearchFlower(621) -- 藥草
end
    ------------------------
function Scene.TALK697()
    Scene.SearchFlower(621) -- 藥草
end
    ------------------------
function Scene.TALK698()
    Scene.SearchFlower(621) -- 藥草
end
    ------------------------
function Scene.TALK699()
    local select
    if Scene.CheckQQ(699, 8) then return end
    if GameFunc.GetFlag(2030) then goto T699A end -- 檢查開關是否打開是則跳至699
    ESC.Caption(699)
    Scene.Print_W(699,9007,12*2,3*2,StringDB('ESS1642')..'%N'..StringDB('SESS2')) -- ESS=請投進10個藥草以換取生命的泉源。　%B...
    ESC.WaitDLG(699)

    select = ESC.GetBTNSelect()
    if select == 2 then
        return
    end

::T699A::
    GameFunc.FlagOn(2030)
    if Function.GetItemCount(621) >= 10 then
        goto T699C
    end
    goto T699T

::T699T::
    Scene.Print_W(699,9007,9*2,2*2,StringDB('ESS1643')) -- ESS=抱歉需要10個藥草，才能體會生命之源。
    ESC.WaitDLG(699)
    ESC.SceneBreak()

::T699C::
    ESC.ChangeQQ(699, 8)
    MediaFunc.PlaySound(193)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS1644')) -- ESS=得到%T672.
    ItemFunc.AddItem(672, 1)
    ItemFunc.AddItem(621, -10)
end
    ------------------------
    ------------------------
-----------------------------
function Scene.TALK1151()
    Scene.OpenChest(1151, 627, '%T627.' ) -- 滑石粉
end
-----------------------------
function Scene.TALK1152()
    Scene.SearchFlower(725) -- 紫藤葉
end
-----------------------------
function Scene.TALK1153()
    if Scene.CheckQQ(1153, 8) then return end
    if GameFunc.GetFlag(2031) then goto T1153A end
    ESC.Caption(1153)
    Scene.Print_W(1153,9007,14*2,2*2,StringDB('ESS1645')..'%N'..StringDB('SESS2')) -- ESS=請投進 300個銀幣以換取乾糧。%B是....
    ESC.WaitDLG(1153)

    if ESC.GetBTNSelect() == 2 then return end

::T1153A::
    GameFunc.FlagOn(2031)
    if GameFunc.PlayerGolds < 300 then -- 檢查是否夠銀幣
        Scene.Print_W(1153,9007,11*2,1*2,StringDB('ESS1646')) -- ESS=抱歉請投進 300個銀幣。
        ESC.WaitDLG(1153)
        ESC.SceneBreak()
    end
    GameFunc.PlayerGolds = GameFunc.PlayerGolds - 300
    ItemFunc.AddItem(674, 1)
    ESC.ChangeQQ(1153, 8)
    MediaFunc.PlaySound(193)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS1647')) -- ESS=得到%T674.
end
-----------------------------
function Scene.TALK1154()
    Scene.OpenChest(1154, 644, '%T644.' ) -- 還魂丹644
end
-----------------------------
-----------------------------
function Scene.TALK1156()
    Scene.SearchFlower(636) -- 魔法葉636
end
-----------------------------
function Scene.TALK1157()
    Scene.SearchFlower(721) -- 721海檸果
end
-----------------------------
function Scene.TALK1158()
    Scene.SearchFlower(637) -- 魔晶粉637
end
-----------------------------
function Scene.TALK1159()
    Scene.OpenChest(1159, 627, '%T627.' ) -- 滑石粉627
end
-----------------------------
function Scene.TALK1160()
    Scene.OpenChest(1160, 768, '%T768.' ) -- 空白符咒768
end
-----------------------------
function Scene.TALK1161()
    Scene.OpenChest(1161, 636, '%T636.' ) -- 魔法葉636
end
-----------------------------
function Scene.TALK1162()
    Scene.OpenChest(1162, 722, '%T722.' ) -- 山蛇莓722
end
-----------------------------
function Scene.TALK1163()
    Scene.OpenChest(1163, 698, '%T698.' ) -- 諸方神石698
end
-----------------------------
function Scene.TALK1164()
    Scene.OpenChest(1164, 629, '%T629.' ) -- 精華藥水629
end
-----------------------------
function Scene.TALK1165()
    Scene.OpenChest(1165, 655, '%T655.' ) -- 定心丸655
end
-----------------------------
function Scene.TALK1166()
    Scene.OpenChest(1166, 565, '%T565.' ) -- 飛去來器565
end
-----------------------------
function Scene.TALK1167()
    Scene.OpenChest(1167, 627, '%T627.' ) -- 滑石粉627
end
-----------------------------
function Scene.TALK1168()
    Scene.OpenChest(1168, 1023, '%T1023.' ) -- 翠玉金釵
end
-----------------------------
function Scene.TALK1169()
    Scene.OpenChest(1169, 937, '%T937.' ) -- 神偷面具937
end
-----------------------------
function Scene.TALK1170()
    Scene.OpenChest(1170, 894, '%T894.' ) -- 鷹矢盔894
end
-----------------------------
function Scene.TALK1171()
    Scene.OpenChest(1171, 627, '%T627.' ) -- 滑石粉627
end
-----------------------------
function Scene.TALK1172()
    Scene.OpenMeneyChest(1172, 400 ) -- 銀幣400
end
-----------------------------
function Scene.TALK1173()
    Scene.SearchFlower(729) -- 神秘果729
end
-----------------------------
function Scene.TALK1174()
    Scene.OpenChest(1174, 644, '%T644.' ) -- 還魂丹644
end
-----------------------------
function Scene.TALK1175()
    Scene.OpenChest(1175, 681, '%T681.' ) -- 不老之泉水681
end
-----------------------------
function Scene.TALK1176()
    Scene.OpenChest(1176, 688, '%T688.' ) -- 蜂王露688
end
-----------------------------
function Scene.TALK1177()
    Scene.OpenChestBattle2(1177, 'BS145', 799, '%T799.' ) -- 暗黑修羅砧(劇情用)
end
-----------------------------
function Scene.TALK1178()
    Scene.OpenMeneyChest(-1, 300 ) -- 銀幣300
end
-----------------------------
function Scene.TALK1178_2()
    Scene.OpenMeneyChest(-1, 30000 ) -- 銀幣300
end
-----------------------------
function Scene.TALK1179()
    Scene.OpenChest(-1, 627, '%T627.' ) -- 滑石粉627
end
-----------------------------
function Scene.TALK1180()
    Scene.OpenChest(-1, 637, '%T637.' ) -- 魔晶粉627
end
-----------------------------
function Scene.TALK1181()
    Scene.SearchFlower(986) -- 惡魔風笛986
end
-----------------------------
function Scene.TALK1182()
    Scene.OpenChest(-1, 627, '%T627.' ) -- 滑石粉627
end
-----------------------------
function Scene.TALK1183()
    Scene.OpenChest(-1, 728, '%T728.' ) -- 菟絲魔子728
end
-----------------------------
function Scene.TALK1184()
    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 43, 28)
    ESC.ChangeQQ(1, 0)
    ESC.FitSize()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    Scene.M_Print(-1, '%K'..StringDB('ESS1648')) -- ESS=啊！糟糕，是個陷阱。
    Scene.PlayACT(0, 318, 230, 7004, 0)
    ESC.TILPA2(0, 8)
    MediaFunc.PlaySound(117)
    ESC.RoleDisable(-1)
    ESC.Healing(1, -100, 0, 0)
end
-----------------------------
function Scene.TALK1185()
    Scene.OpenChest(-1, 1000, '%T1000.' ) -- 象牙耳環1000
end
-----------------------------
function Scene.TALK1186()
    Scene.SearchFlower(1016) -- 血殷長袍1016
end
-----------------------------
function Scene.TALK1187()
    Scene.OpenChest(-1, 638, '%T638.' ) -- 魔力水638
end
-----------------------------
function Scene.TALK1188()
    Scene.OpenMeneyChest(-1, 200 ) -- 銀幣200
end
-----------------------------
function Scene.TALK1188_2()
    Scene.OpenMeneyChest(-1, 10000 ) -- 銀幣10000
end
-----------------------------
function Scene.TALK1189()
    Scene.OpenChest(-1, 644, '%T644.' ) -- 還魂丹644
end
-----------------------------
function Scene.TALK1190()
    if Scene.CheckQQ(-1, 8) then return end
    Scene.OpenChest(-1, 566, '%T566.' ) -- 流雲針566
end
-----------------------------
function Scene.TALK1191()
    Scene.SearchFlower(537) -- 彎刀537
end
-----------------------------
function Scene.TALK1192()
    Scene.SearchFlower(508) -- 月牙劍508
end
-----------------------------
function Scene.TALK1193()

    MediaFunc.PlaySound(353) -- 鐘聲
    ESC.Delay(500)
    if Scene.GetGameValue(50) <20 then
        Scene.AddGameValue(50,1)
    end
    if Scene.GetGameValue(50) == 20 then goto T1193C end
    ESC.SceneBreak()


::T1193C::
    Scene.SetGameValue(50,21) -- 只能拿一次
    ESC.Delay(500)
    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0%K'..StringDB('ESS1649')) -- ESS=得到絕情貓袖箭
    ItemFunc.AddItem(533, 1)
end

-- ──────────────────────────────────────【大馬士革城路標】

function Scene.TALK701()
    if not GameFunc.GetFlag(115) then -- 判斷是否微達帶隊(115未開之前是微達帶隊)
        if not Scene.CheckParty(3) then goto T701A end
        ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
        ESC.FadeWait()
        ESC.GotoMap(215 , 6, 40, 3, 0, 3)
        ESC.RoleEnable(3)
        ESC.ChangeACT(3 , 1)
        ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
        ESC.FadeWait()

        Scene.RoadFlag(StringDB('ESS1650')) -- ESS=　大馬士革
        return
    end
::T701A::
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T701C
    end
    ESC.ChangeRoleMap(805, 215, 0, 4, 44, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 215, 0, 5, 45, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T701B
::T701C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T701B::
    Scene.EnterCity_NPC(215, 6, 40, 3)
    Scene.RoadFlag(StringDB('ESS1650')) -- ESS=　大馬士革
    ESC.SceneBreak()


end

function Scene.TALK702()
    if not GameFunc.GetFlag(115) then goto T702 end -- 判斷是否微達帶隊(115未開之前是微達帶隊)
::T702A::
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T702C
    end
    ESC.ChangeRoleMap(805, 210, 0, 53, 26, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 210, 0, 54, 27, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T702B
::T702C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T702B::
    Scene.EnterCity_NPC(210, 47, 26, 0)
    Scene.RoadFlag(StringDB('ESS1651')) -- ESS=　貝魯特海岸
    ESC.SceneBreak()
::T702::
    if not Scene.CheckParty(3) then goto T702A end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(210 , 47, 26, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.RoleEnable(3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1651')) -- ESS=　貝魯特海岸
end


-- ──────────────────────────────────────【第一次來到塔德莫爾】


function Scene.TALK703()
    if GameFunc.GetFlag(377) then goto T703 end


    GameFunc.FlagOn(10)


    ESC.ChangeRoleMap(805, 269, 0, 36, 46, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 269, 0, 37, 48, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設塔得莫爾的駱駝出現
    ESC.RoleEnable(806)
    ESC.ChangeQQ(1, Const.STAND)

    GameFunc.FlagOn(377)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 25)
    ESC.FadeWait()


    ESC.GotoMap(269, 33, 47, 1, 0, 6)
    ESC.RoleEnable(9)
    ESC.RemoveParty(9, 0,'TALK9',9,Const.STAND,7,0xD100)
    ESC.RoleMove(9, 31, 48)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1652')) -- ESS=賽特，到了！%N這裏就是%C7塔德莫爾%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)

    ESC.ChangeDIR(1, 4)

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1653')) -- ESS=看來我們慢了一步…%N%C7麥爾丹%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1654')) -- ESS=這下怎麼辦……？%N還要進去嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.ChangeDIR(1, 6)

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1655')) -- ESS=當然了，%N總不能讓他們把惡魔放出來……...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1656')) -- ESS=我們先觀察敵情，%N待會兒想法子設法溜進...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 4)
    ESC.SetRoleSpeed(9, 3)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 24+3, 42-2)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.ChangeDIR(9, 7)


    Scene.Nicole_On(35+1, 49, 4)


    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1657')) -- ESS=賽特賽特，%N這裏是哪裏呀？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)


    ESC.TurnFace(1, 2)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1658')) -- ESS=塔德莫爾……%N一個沙漠中的廢墟。
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1659')) -- ESS=好奇怪哦！%N為什麼這個地方%C7血腥味...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 18)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1660')) -- ESS=這裏幾年前被人家屠城，%N血腥味重應該是...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5%C3'..StringDB('ESS1661')) -- ESS=（嗅嗅）%N%C5不對不對……%N有%C...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 20)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    ESC.Delay(300)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 24, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1662')) -- ESS=賽特賽特，我先回去了，%N等一下有需要再...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 24)


    Scene.Nicole_Off()

    ESC.Delay(300)


    ESC.ChangeDIR(1, 1) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)

    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove2(1,    1, 23, 37, -1, 0, 7)

    ESC.AddParty(9)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()



::T703::
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T703A
    end
    ESC.ChangeRoleMap(805, 269, 0, 36, 46, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 269, 0, 37, 48, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設塔得莫爾的駱駝出現
    ESC.RoleEnable(806)
    goto T703B
::T703A::
    ESC.RoleDisable(805) -- 把塔得莫爾的駱駝去掉
    ESC.RoleDisable(806)
::T703B::
    Scene.EnterCity_NPC(269, 33, 47, 4)
    Scene.RoadFlag(StringDB('ESS1663')) -- ESS=　塔德莫爾
end

function Scene.TALK704()
    GameFunc.FlagOff(7)
end





-- ──────────────────────────────────────【初到肯迪家】


function Scene.TALK705()
    if not GameFunc.GetFlag(115) then goto T705 end -- 判斷是否微達帶隊(115未開之前是微達帶隊)
    if Function.GetItemCount(402) == 0 then    -- 判斷身上有無駱駝
        goto T705E
    end
    ESC.ChangeRoleMap(805, 250, 0, 1, 44, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 250, 0, 2, 45, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T705F
::T705E::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T705F::
    Scene.EnterCity_NPC(250, 4, 44, 7)
    Scene.RoadFlag(StringDB('ESS1664')) -- ESS=　肯迪的家
    ESC.SceneBreak()




::T705::
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.RoleEnable(3)
    ESC.RemoveParty(3, 0,'TALK3',3,0,6,0xD100)
    ESC.GotoMap(250, 2, 46, 1, 0, 7)
    ESC.ChangeRoleMap(3, 250, 0, 5, 45, 3 , Const.STAND, 7)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.Delay(300)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.SetPos(1, 6, 44)
    ESC.SetPos(3, 13, 42)
::T705D::
    ESC.BatchStep( 2,   1, 3)
    if not ESC.RoleReach(1) then goto T705D end
    ESC.ChangeQQ(1, Const.STAND)

    if not ESC.IsAllReach() then
        goto T705D
    end

    ESC.ChangeQQ(3, Const.STAND)

    ESC.TurnFace(3, 1)
    ESC.TurnFace(1, 3)
    ESC.Delay(300)

    GameFunc.FlagOn(115)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1665')) -- ESS=賽特先生，這裏就是我說的那位有名的大學者...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetPos(3, 28, 36)
    ESC.SetPos(1, 25, 38)
::T705C::
    ESC.BatchStep( 2,   3, 1)
    if not ESC.RoleReach(3) then goto T705A end
    ESC.TakeActData(3, -1, Const.STAND, 7)
::T705A::
    if not ESC.RoleReach(1) then goto T705B end
    ESC.TakeActData(1, -1, Const.STAND, 7)
::T705B::
    if not ESC.IsAllReach() then
        goto T705C
    end


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1666')) -- ESS=薩西爺爺，好久不見了！%N我想找您家主人...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1667')) -- ESS=好久不見了───薇達小姐。
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1668')) -- ESS=我家主人───這幾天有點風寒，可能有點不...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1669')) -- ESS=啊？%N肯迪大師得了風寒嗎？%N很嚴重嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1670')) -- ESS=這個───%N我想…我想應該很嚴重吧……...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1671')) -- ESS=是這樣的，薩西爺──%N這位是久仰肯迪大...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1672')) -- ESS=我想肯迪大師得了風寒，還是可以見人的，所...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 34, 32)
    ESC.TakeActData(3, -1, Const.STAND, 7)
    ESC.TurnFace(29, 3)



    Scene.MBOn(29, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1673')) -- ESS=薇達…薇達小姐啊，%N我…我家主人……最...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)




    ESC.TurnFace(3, 29)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1674')) -- ESS=有什麼關係───？%N我們家和肯迪大師熟...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1675')) -- ESS=再說，我還記得他以前得了風寒，照樣還是很...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 36, 30)
    ESC.TurnFace(3, 1)
    ESC.Delay(300)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1676')) -- ESS=賽特先生，%N沒關係的，請您也直接進來吧...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeDIR(3, 7)
    ESC.Delay(150)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 37, 29)



    ESC.ChangeRoleMap(3, 251, 0, 29, 36, -1, Const.STAND, 6)
    ESC.RMUNlock()



    Scene.MBOn(29, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1677')) -- ESS=薇達…薇達小姐……%N真的不行啊……
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    Scene.SetGameValue(1, 1) -- 帶頭人換回賽特

    Scene.BattleSupportOff(3) -- 薇達
    GameFunc.FlagOn(7044) -- 第一次進肯迪家
    ESC.TownTrans_On() -- 改為賽特帶隊 祠符功能重新啟動
end




function Scene.TALK706()
    if GameFunc.GetFlag(7054) then goto T706A end -- 如果主角是以後再飛行回來預防用的(判斷主角是不是從塔得莫爾走出來)
    if Function.GetItemCount(402) == 0 then
        goto T706
    end
    GameFunc.FlagOff(210)
::T706A::
    ESC.SceneBreak()
::T706::
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS1678')) -- ESS=這沙漠好大啊，再過去的話，水和食物可能會...
    ESC.WaitDLG(1)

end





-- ──────────────────────────────────────【進入美索不達米亞】


function Scene.TALK707()

    if GameFunc.GetFlag(7052) then goto T707A end -- 以用以防止傳回地中海東岸
    if not GameFunc.GetFlag(137) then goto T707A end -- 薇達未送賽特水與駱駝

    GameFunc.FlagOn(10)
    GameFunc.FlagOn(7052) -- 再用走的的到巴格達會重覆啟動對話用

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()


    ESC.GotoMap(119, 27, 32, 94, Const.WALK, 3)
    ESC.RemoveParty(10, 0 , 'TALK10', 94, 24, 3 , 0xD100)
    ESC.RoleMove(10, 25, 34)
    ESC.SetRoleSpeed(10, 1)


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 26)
    ESC.BatchMove(2,
    1, 27+40, 32,
    10, 25+40, 34)
    ESC.FadeWait()


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 26)
    ESC.BatchMove(2,
    1, 27+50, 32,
    10, 25+50, 34)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()


    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()
    ESC.AddParty(10)



    ESC.AniPlay('dm2bd',false, false) -- 賽特路線圖
    ESC.AniUntilClose()


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()


    ESC.ScreenShow()
    ESC.Progress_Off()
    ESC.GotoMap(6, 1, 1, 1, 0, 5)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)


    ESC.TakeActData(10, 10, Const.STAND, 3) -- 將慧彥騎駱駝換回走路的圖
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.BatchMove(1,    1, 6, 3)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeWait()



    ESC.Delay(400)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1679')) -- ESS=賽特啊，%N這裏就是%C7美索不達米亞%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1680')) -- ESS=巴格達？%N那又是個怎樣的一個地方？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1681')) -- ESS=它是%C7美索不達米亞平原%C5上一個貿...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.QuestOff(276)
    Scene.QuestOn(277)

    GameFunc.FlagOff(10)
    ESC.SceneBreak()



::T707A::
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS1678')) -- ESS=這沙漠好大啊，再過去的話，水和食物可能會...
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 2)
end


function Scene.TALK710()
    -- 離開敘利亞沙漠   -- 此處將有劇情控制
    GameFunc.FlagOn(210)
    GameFunc.FlagOn(7)
    GameFunc.FlagOff(7054) -- 如果主角是以後再飛行回來預防用的(關掉讓主角能通過沙漠防線)
end



function Scene.TALK902()
    -- 塔得莫爾 內圈
    GameFunc.FlagOff(210)
    GameFunc.FlagOn(7)
    GameFunc.FlagOn(7054) -- 如果主角是以後再飛行回來預防用的(讓主角能通過沙漠防線)
end

-- 貝魯特城事件點
function Scene.TALK711()
    if GameFunc.GetFlag(115) then goto T711 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(200 , 28, 19, 96, 0, 1) -- 暫時,須把薇達換成小圖
    ESC.RoleDisable(3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    if not GameFunc.GetFlag(238) then Scene.T711A() end
    ESC.SceneBreak()

::T711::
    Scene.OutCity_NPC(200, 28, 19, 1)
end

function Scene.T711A()

    ESC.RoleDisable(166)
    ESC.RoleDisable(641)
    GameFunc.FlagOn(238)
    ESC.ChangeScript(592 , 'TALK721') -- 對話段改成皇宮衛兵
    ESC.ChangeScript(593 , 'TALK721')
    ESC.ChangeScript(594 , 'TALK721')
    ESC.ChangeScript(595 , 'TALK721')
    ESC.ChangeScript(576 , 'TALK721')
    ESC.ChangeScript(577 , 'TALK721')
    ESC.ChangeScript(579 , 'TALK722') -- 對話段改為巡城衛兵
    ESC.ChangeScript(578 , 'TALK722')
    ESC.ChangeScript(320 , 'TALK722')
    ESC.ChangeScript(321 , 'TALK722')
    ESC.ChangeScript(230 , 'TALK718')
    ESC.ChangeScript(231 , 'TALK718')
    ESC.ChangeScript(232 , 'TALK718')
    ESC.SceneBreak()
end

function Scene.TALK712()
    if GameFunc.GetFlag(115) then goto T712 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(211 , 18, 25 , 3, 0, 5)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1682')) -- ESS=貝魯特小商店
    if not GameFunc.GetFlag(238) then Scene.T711A() end
    ESC.SceneBreak()
::T712::
    Scene.ChangeMap(211, 18, 25, 5)
    Scene.RoadFlag(StringDB('ESS1682')) -- ESS=貝魯特小商店
end

function Scene.TALK713()
    if GameFunc.GetFlag(115) then goto T713 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(212 , 11, 25 , 3, 0, 3)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1683')) -- ESS= 貝魯特民房
    if GameFunc.GetFlag(386) then goto T713B end
    ESC.AddHeadSign(730, 1)
::T713B::
    if not GameFunc.GetFlag(238) then Scene.T711A() end
    ESC.SceneBreak()
::T713::
    Scene.ChangeMap(212, 11, 25, 3)
    Scene.RoadFlag(StringDB('ESS1683')) -- ESS= 貝魯特民房
end

function Scene.TALK714()
    if not Scene.CheckParty(3) then goto T714 end
    if GameFunc.GetFlag(115) then goto T714 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(210 , 44, 9 , 3, 0, 6)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T714::
    Scene.ChangeMap(210, 44, 9, 6)
end

function Scene.TALK715()
    if GameFunc.GetFlag(115) then goto T715 end
    ESC.RMLock()
    ESC.MusicFadeMode(2, 10) -- 【淡出模式】
    ESC.StoryMusicOff()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(210 , 51, 17 , 3, 0, 2)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T715::
    Scene.ChangeMap(210, 51, 17, 2)
end
-- ──────────────────────────────────────────【大馬士革進出入】

function Scene.TALK731()
    -- TEST
    if GameFunc.GetFlag(115) then goto T731 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(200 , 36, 51, 96, 0, 2)
    ESC.RoleDisable(3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()
::T731::
    Scene.OutCity_NPC(200, 36, 51, 2)
end

function Scene.TALK732()
    -- 大馬士革城外1->2
    if GameFunc.GetFlag(115) then goto T732 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 26, 5 , 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()
::T732::
    Scene.ChangeMap(216, 26, 5, 1)
end




-- ──────────────────────────────────────────【大馬士革皇宮入口】

function Scene.TALK733()
    Scene.ChangeMap(198, 20, 60, 7)
    if not GameFunc.GetFlag(7051) then goto T733 end -- 第一次到皇宮
    ESC.SceneBreak()


::T733::
    GameFunc.FlagOn(7051)
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 47)
    ESC.TakeActData(1, -1, Const.STAND, 7)

    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.STAND , 7 , 0xD100)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1684')) -- ESS=嘩───%N這就是%C7歐馬亞王宮%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ChangeDIR(1, 4)
    ESC.Delay(200)
    Scene.ScrollMapD(0, 0, 1, 4)
    ESC.ScrollMapWait()
    ESC.Delay(1000)
    Scene.ScrollMapD(24, 0, 4, 4)
    ESC.ScrollMapWait()
    ESC.Delay(1000)
    ESC.ChangeDIR(1, 7)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.TurnFace(1, 3)
    ESC.Delay(200)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1685')) -- ESS=沒想到在沙漠之中，%N還會有這麼巨大雄偉...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1686')) -- ESS=這是歐馬亞家當年，他們花了許多時間和人力...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)

    ESC.ChangeDIR(1, 7)
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)

    GameFunc.FlagOff(10)
end


-- ──────────────────────────────────────────【大馬士革路標】

function Scene.TALK734()
    if not GameFunc.GetFlag(213) then goto T734 end
    Scene.RoadFlag(StringDB('ESS1687')) -- ESS=　出大馬士革
::T734::
    GameFunc.FlagOff(213)
end

function Scene.TALK735()
    if not GameFunc.GetFlag(213) then goto T735 end
    Scene.RoadFlag(StringDB('ESS1688')) -- ESS=　往皇宮
::T735::
    GameFunc.FlagOff(213)
end



function Scene.TALK736()
    -- 大馬士革城外2->1
    if GameFunc.GetFlag(115) then goto T736 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215, 24, 52, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()
::T736::
    Scene.ChangeMap(215, 24, 52, 0)
end

function Scene.TALK737()
    -- 進雜貨店
    if GameFunc.GetFlag(115) then goto T737 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(225 , 16, 24, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1689')) -- ESS=　商店
    ESC.SceneBreak()
::T737::
    Scene.ChangeMap(225, 16, 24, 0)
    Scene.RoadFlag(StringDB('ESS1689')) -- ESS=　商店
end



function Scene.TALK738()
    -- 出雜貨店
    if GameFunc.GetFlag(115) then goto T738 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 84, 35, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()
::T738::
    Scene.ChangeMap(215, 84, 35, 1)
end


function Scene.TALK739()
    -- 出民房4
    if GameFunc.GetFlag(115) then goto T739 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 54, 34, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T739::
    Scene.ChangeMap(216, 54, 34, 0)
end


function Scene.TALK740()
    -- 進民房4
    if GameFunc.GetFlag(115) then goto T740 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(230 , 22, 12, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1690')) -- ESS=　列拉的家
    ESC.SceneBreak()
::T740::
    Scene.ChangeMap(230, 22, 12, 1)
    Scene.RoadFlag(StringDB('ESS1690')) -- ESS=　列拉的家
end



function Scene.TALK741()
    -- 進民房3
    if GameFunc.GetFlag(115) then goto T741 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(229 , 32, 22, 3, 0, 4)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1691')) -- ESS=　奧斯曼家
    ESC.SceneBreak()
::T741::
    Scene.ChangeMap(229, 32, 22, 4)
    Scene.RoadFlag(StringDB('ESS1691')) -- ESS=　奧斯曼家
end


function Scene.TALK742()
    -- 出民房3
    if GameFunc.GetFlag(4026) then goto T742B end
    if not GameFunc.GetFlag(4015) then goto T742B end
    ESC.TimeLimitStop()
    GameFunc.FlagOff(4015)
::T742B::
    if GameFunc.GetFlag(115) then goto T742 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 22, 20, 3, 0, 3)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T742::
    Scene.ChangeMap(216, 22, 20, 3)
end

function Scene.TALK743()
    -- 進民房6
    if GameFunc.GetFlag(115) then goto T743 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(232 , 29, 24, 3, 0, 4)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1692')) -- ESS= 提布克與蘇珊的家
    ESC.SceneBreak()
::T743::
    Scene.ChangeMap(232, 29, 24, 4)
    Scene.RoadFlag(StringDB('ESS1692')) -- ESS= 提布克與蘇珊的家
end

function Scene.TALK744()
    -- 出民房6
    if not Scene.CheckParty(3) then goto T744 end
    if GameFunc.GetFlag(115) then goto T744 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 33, 44, 3, 0, 5)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T744::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 33, 44, 1, 0, 5)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK745()
    -- 進民房2
    if GameFunc.GetFlag(115) then goto T745 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(228 , 22, 25, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1693')) -- ESS=　珠寶商人的家
    ESC.SceneBreak()
::T745::
    Scene.ChangeMap(228, 22, 25, 0)
    Scene.RoadFlag(StringDB('ESS1693')) -- ESS=　珠寶商人的家
end

function Scene.TALK746()
    -- 出民房2
    if GameFunc.GetFlag(115) then goto T746 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 69, 36, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T746::
    Scene.ChangeMap(215, 69, 36, 1)
end

function Scene.TALK747()
    -- 民房2 1F->2F
    if GameFunc.GetFlag(115) then goto T747 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(233 , 19, 13, 3, 0, 2)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1694')) -- ESS=　珠寶商家二樓
    ESC.SceneBreak()
::T747::
    Scene.ChangeMap(233, 19, 13, 2)
    Scene.RoadFlag(StringDB('ESS1694')) -- ESS=　珠寶商家二樓
end

function Scene.TALK748()
    -- 民房2 2F-1F
    if GameFunc.GetFlag(115) then goto T748 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(228 , 24, 6, 3, 0, 5)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()

    Scene.RoadFlag(StringDB('ESS1695')) -- ESS=　珠寶商家一樓
    ESC.SceneBreak()
::T748::
    Scene.ChangeMap(228, 24, 6, 7)
    Scene.RoadFlag(StringDB('ESS1695')) -- ESS=　珠寶商家一樓
end

function Scene.TALK749()
    -- 民房2 2F->頂樓
    if GameFunc.GetFlag(115) then goto T749 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 68, 17, 3, 0, 2)
    ESC.ChangeACT(3 , 1)
    Scene.SAR_Shadow(1, 0)
    Scene.SAR_Shadow(3, 0)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T749::
    Scene.ChangeMap(215, 68, 17, 2)
end

function Scene.TALK750()
    -- 民房2頂樓 ->2F
    if GameFunc.GetFlag(115) then goto T750 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(233 , 7, 7, 3, 0, 5)
    Scene.SAR_Shadow(1, 1)
    Scene.SAR_Shadow(3, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1694')) -- ESS=　珠寶商家二樓
    ESC.SceneBreak()
::T750::
    Scene.ChangeMap(233, 7, 7, 5)
    Scene.RoadFlag(StringDB('ESS1694')) -- ESS=　珠寶商家二樓
end

function Scene.TALK751()
    -- 進民房5
    if GameFunc.GetFlag(115) then goto T751 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(231 , 35, 18, 3, 0, 4)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1696')) -- ESS=　民房
    ESC.SceneBreak()
::T751::
    Scene.ChangeMap(231, 35, 18, 4)
    Scene.RoadFlag(StringDB('ESS1696')) -- ESS=　民房
end

function Scene.TALK752()
    -- 出民房5
    if GameFunc.GetFlag(115) then goto T752 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216 , 12, 23, 3, 0, 5)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T752::
    Scene.ChangeMap(216, 12, 23, 5)
end

function Scene.TALK753()
    -- 進民房1
    if GameFunc.GetFlag(115) then goto T753 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(227 , 22, 25, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1697')) -- ESS=　阿里的家
    ESC.SceneBreak()
::T753::
    Scene.ChangeMap(227, 22, 25, 0)
    Scene.RoadFlag(StringDB('ESS1697')) -- ESS=　阿里的家
end

function Scene.TALK754()
    -- 出民房1
    if GameFunc.GetFlag(4004) then Scene.TALK800() ESC.SceneBreak() end -- 謝崇輝加的幫阿里看家的控制開關
    if GameFunc.GetFlag(115) then goto T754 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 93, 34, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T754::
    Scene.ChangeMap(215, 93, 34, 1)
end

function Scene.TALK755()
    -- 民房1 1F->2F
    GameFunc.FlagOn(4011)
    GameFunc.FlagOff(4012)
    if GameFunc.GetFlag(115) then goto T755 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(234 , 11, 14, 3, 0, 3)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1698')) -- ESS=　阿里的家二樓
    ESC.SceneBreak()
::T755::
    Scene.ChangeMap(234, 11, 14, 3)
    Scene.RoadFlag(StringDB('ESS1698')) -- ESS=　阿里的家二樓
end

function Scene.TALK756()
    -- 民房1 2F-1F
    GameFunc.FlagOff(4011)
    GameFunc.FlagOff(4012)
    if GameFunc.GetFlag(115) then goto T756 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(227 , 11, 5, 3, 0, 6)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1699')) -- ESS=　阿里的家一樓
    ESC.SceneBreak()
::T756::
    Scene.ChangeMap(227, 11, 5, 6)
    Scene.RoadFlag(StringDB('ESS1699')) -- ESS=　阿里的家一樓
end

function Scene.TALK757()
    -- 民房1 2F->頂樓
    GameFunc.FlagOn(4012)
    GameFunc.FlagOff(4011)
    if GameFunc.GetFlag(115) then goto T757 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 98, 18, 3, 0, 2)
    ESC.ChangeACT(3 , 1)
    Scene.SAR_Shadow(1, 0)
    Scene.SAR_Shadow(3, 0)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T757::
    Scene.ChangeMap(215, 98, 18, 2)
end

function Scene.TALK758()
    -- 民房1頂樓 ->2F
    GameFunc.FlagOn(4011)
    GameFunc.FlagOff(4012)
    if GameFunc.GetFlag(115) then goto T758 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(234 , 26, 6, 3, 0, 6)
    Scene.SAR_Shadow(1, 1)
    Scene.SAR_Shadow(3, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1698')) -- ESS=　阿里的家二樓
    ESC.SceneBreak()
::T758::
    Scene.ChangeMap(234, 26, 6, 6)
    Scene.RoadFlag(StringDB('ESS1698')) -- ESS=　阿里的家二樓
end


function Scene.TALK759()
    -- 旅店
    if GameFunc.GetFlag(115) then goto T759 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(223 , 21, 23, 3, 0, 0)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1700')) -- ESS=　大馬士革旅店
    ESC.SceneBreak()
::T759::
    Scene.ChangeMap(223, 21, 23, 0)
    Scene.RoadFlag(StringDB('ESS1700')) -- ESS=　大馬士革旅店
end


function Scene.TALK760()
    -- 酒店 入口
    if GameFunc.GetFlag(115) then goto T760 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(224 , 17, 26, 3, 0, 4)
    ESC.RoleMove(792, 27, 23)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1701')) -- ESS=　　　武器店
    ESC.SceneBreak()
::T760::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(224 , 17, 26, 1, 0, 4)
    ESC.RoleMove(792, 27, 23)
    ESC.ChangeDIR(792, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS1701')) -- ESS=　　　武器店
end

function Scene.TALK761()
    -- 占卜店
    if GameFunc.GetFlag(115) then goto T761 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(226 , 26, 27, 3, 0, 4)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1702')) -- ESS=　　　占卜屋
    ESC.SceneBreak()
::T761::
    Scene.ChangeMap(226, 26, 27, 4)
    Scene.RoadFlag(StringDB('ESS1702')) -- ESS=　　　占卜屋
end

function Scene.TALK763() -- 清真寺
    Scene.ChangeMap(222, 17, 40, 7)
end

function Scene.TALK764()
    -- 酒店1F=B1
    if GameFunc.GetFlag(115) then goto T764 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(235 , 32, 8, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1703')) -- ESS=　黑市
    ESC.SceneBreak()
::T764::
    Scene.ChangeMap(235, 32, 8, 1)
    Scene.RoadFlag(StringDB('ESS1703')) -- ESS=　黑市
end

function Scene.TALK765()
    -- 酒店B1->1F
    if not Scene.CheckParty(3) then goto T765 end
    if GameFunc.GetFlag(115) then goto T765 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(224 , 9, 19, 3, 0, 7)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1701')) -- ESS=　　　武器店
    ESC.SceneBreak()
::T765::
    Scene.ChangeMap(224, 9, 19, 7)
    Scene.RoadFlag(StringDB('ESS1701')) -- ESS=　　　武器店
end

function Scene.TALK766()
    -- 酒店OUT
    GameFunc.FlagOff(236)
    if GameFunc.GetFlag(115) then goto T766 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 45, 37, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T766::
    Scene.ChangeMap(215, 45, 37, 1)
end

function Scene.TALK767()
    -- 酒店一樓事件點
    ESC.RMLock()

    ESC.ChangeDIR(792, 4)

    ESC.Caption(792)
    Scene.Print_W(792,9008,5*2,1*2,StringDB('ESS1704')) -- ESS=等一下──
    ESC.WaitDLG(792)


    ESC.TakeActData(1, -1, Const.STAND, 1)
    ESC.ChangeQQ(792, Const.WALK)

    ESC.BatchMove(1,    792, 26, 14)
    ESC.TakeActData(792, -1, Const.STAND, 4)

    ESC.TurnFace(792, 1)

    ESC.Caption(792)
    Scene.Print_W(792,9008,7*2,3*2,StringDB('ESS1705')) -- ESS=對不起，%N樓上是我們的倉庫…
    ESC.WaitDLG(792)

    Scene.Print_W(792,9008,7*2,3*2,StringDB('ESS1706')) -- ESS=要買酒的話，請往左下方的樓梯走。
    ESC.WaitDLG(792)


    ESC.TakeActData(792, -1, Const.STAND, 6)
    ESC.Unlock(3)
    ESC.RMUNlock()

end


function Scene.TALK768()
    -- 占卜店出入口
    if GameFunc.GetFlag(115) then goto T768 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 107, 35, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T768::
    Scene.ChangeMap(215, 107, 35, 1)
end

function Scene.TALK769()
    -- 旅店1F->出旅店
    if GameFunc.GetFlag(115) then goto T769 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(215 , 20, 36, 3, 0, 1)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    ESC.SceneBreak()
::T769::
    Scene.ChangeMap(215, 20, 36, 1)
end

function Scene.TALK770()
    if GameFunc.GetFlag(115) then goto T770 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(236 , 17, 14, 3, 0, 6)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1707')) -- ESS=　　　旅店二樓
    ESC.SceneBreak()
::T770::
    Scene.ChangeMap(236, 17, 14, 6)
    Scene.RoadFlag(StringDB('ESS1707')) -- ESS=　　　旅店二樓
end

function Scene.TALK716()
    if GameFunc.GetFlag(115) then goto T716 end
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(223 , 20, 6, 3, 0, 3)
    ESC.ChangeACT(3 , 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    Scene.RoadFlag(StringDB('ESS1708')) -- ESS=　　　旅店一樓
    ESC.SceneBreak()
::T716::
    Scene.ChangeMap(223, 20, 6, 3)
    Scene.RoadFlag(StringDB('ESS1708')) -- ESS=　　　旅店一樓
end


-- ──────────────────────────────────────【大馬士革清真寺的士兵】


function Scene.TALK718()
    -- 清真寺前衛兵對話

    if not GameFunc.GetFlag(368) then return end
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Caption(701)
    Scene.Print_W(Const.TOWN,9008,7*2,3*2,StringDB('ESS1709')) -- ESS=哈里發%C4大人目前不准人們進入%C2清...
    ESC.WaitDLG(Const.TOWN)

    ESC.RMUNlock()
end




-- ──────────────────────────────────────【大馬士革皇宮外的士兵】

function Scene.TALK721()
    -- 大馬士革皇宮前衛兵（白衣）
    if GameFunc.GetFlag(132) then goto T721 end

    ESC.Caption(701)
    Scene.Print_W(Const.TOWN,9008,7*2,3*2,StringDB('ESS1710')) -- ESS=沒有%C2哈里發%C4大人的命令，不可以...
    ESC.WaitDLG(Const.TOWN)

    ESC.SceneBreak()




-- ──────────────────────────────────────【比伊斯蘭更強的國家】

::T721:: -- 大馬士革皇宮前衛兵（黑衣）

    if GameFunc.GetFlag(133) then goto T721A end
    GameFunc.FlagOn(10)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 3 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)

    ESC.SetRoleSpeed(3, 1)
    ESC.SetRoleSpeed(4, 1)
    ESC.SetRoleSpeed(9, 1)
    ESC.SetPos(1, 119, 40)
    ESC.SetPos(3, 123, 38)
    ESC.SetPos(4, 120, 38)
    ESC.SetPos(9, 124, 40)


::T721_1::
    ESC.BatchStep( 4,   1, 9, 3, 4)
    if not ESC.RoleReach(1) then goto T721_2 end
    ESC.TakeActData(1, -1, 0, 7)
::T721_2::
    if not ESC.RoleReach(3) then goto T721_3 end
    ESC.TakeActData(3, -1, 0, 7)
::T721_3::
    if not ESC.RoleReach(4) then goto T721_4 end
    ESC.TakeActData(4, -1, 0, 7)
::T721_4::
    if not ESC.RoleReach(9) then goto T721_5 end
    ESC.TakeActData(9, -1, 0, 7)
::T721_5::
    if not ESC.IsAllReach() then
        goto T721_1
    end



    ESC.Caption(703)
    Scene.Print_WS(592,9008,7*2,3*2,StringDB('ESS1711')) -- ESS=薇達長官、麥爾斯大人，你們好───！
    ESC.WaitDLG(592)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,7*2,3*2,StringDB('ESS1712')) -- ESS=辛苦了！%N目前你們這邊戰況如何？
    ESC.WaitDLG(3)


    ESC.Caption(703)
    Scene.Print_WS(592,9008,11*2,4*2,StringDB('ESS1713')) -- ESS=報告薇達長官，戰鬥已經結束了，%C2歐馬...
    ESC.WaitDLG(592)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,8*2,3*2,StringDB('ESS1714')) -- ESS=是嗎……%N看來這場革命，勝敗已經分曉了...
    ESC.WaitDLG(3)


    ESC.Caption(703)
    Scene.Print_WS(592,9008,11*2,3*2,StringDB('ESS1715')) -- ESS=是的，%C2蘇里曼長官%C4已經親自去追...
    ESC.WaitDLG(592)



    ESC.Caption(3)
    Scene.Print_WS(3,9008,10*2,3*2,StringDB('ESS1716')) -- ESS=怎麼了？%N不都已經勝利了，接收上還有什...
    ESC.WaitDLG(3)


    ESC.Caption(703)
    Scene.Print_WS(592,9008,11*2,4*2,StringDB('ESS1717')) -- ESS=是的，可是……%N王宮裏面出現一隻%C2...
    ESC.WaitDLG(592)


    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(3)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS1718')) -- ESS=───可惡！%N該不會又是%C2撒旦%C...
    ESC.WaitDLG(1)



    ESC.Caption(703)
    Scene.Print_WS(592,9008,12*2,4*2,StringDB('ESS1719')) -- ESS=那個怪物不但刀槍不入，而且旁邊還有一位奇...
    ESC.WaitDLG(592)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1400)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1720')) -- ESS=唐國%C5？%N那又是哪裏的國家%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(4, 5)
    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(3, 6)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1721')) -- ESS=賽特，%N那是一個聽說是在很遙遠%C7東...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1722')) -- ESS=哦……？%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1723')) -- ESS=賽特，我得進去看看到底是怎麼了，你願意協...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1724')) -- ESS=你們伊斯蘭已經很強了，我倒滿想看看那一個...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    ESC.AddParty(3)
    ESC.AddParty(9)
    ESC.AddParty(4)
    Scene.SAR_TurnFace(592, 1) -- 設士兵說話會轉身
    Scene.SAR_TurnFace(595, 1)
    Scene.SAR_TurnFace(576, 1)




    GameFunc.FlagOn(133)
    GameFunc.FlagOn(7048)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()


::T721A::
    ESC.TurnFace(Const.TOWN, 3)

    ESC.Caption(703)
    Scene.Print_W(Const.TOWN,9008,14,4,StringDB('ESS1725')) -- ESS=那怪物很厲害。%N請你們小心。
    ESC.WaitDLG(Const.TOWN)
    ESC.ChangeDIR(Const.TOWN, 6)

end




-- ──────────────────────────────────────【大馬士革白衣巡邏兵】

function Scene.TALK722()
    -- 大馬士革巡城衛兵
    if GameFunc.GetFlag(119) then goto T722 end

    ESC.Caption(702)
    Scene.Print_W(Const.TOWN,9008,7*2,2*2,StringDB('ESS1726')) -- ESS=哈里發%C4大人下令目前全城戒備！
    ESC.WaitDLG(Const.TOWN)
    ESC.SceneBreak()


::T722::


    ESC.Caption(702)
    Scene.Print_W(Const.TOWN,9008,8*2,3*2,StringDB('ESS1727')) -- ESS=阿拔斯%C4家族打算作亂，沒事不要在街上...
    ESC.WaitDLG(Const.TOWN)
end




-- 皇宮的部份
function Scene.TALK888()
    -- 入口往街道
    Scene.ChangeMap(215, 129, 34, 6)
end







-- ──────────────────────────────────────【神秘的中國僧人】


function Scene.TALK889()
    -- 往宮殿


    if GameFunc.GetFlag(134) then goto T889 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(134) -- 初遇唐僧慧彥

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(197, 19, 32, 1, 0, 7)


    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.STAND , 7 , 0xD100)
    ESC.RoleMove(3, 22, 34)
    ESC.RoleMove(9, 18, 33)
    ESC.RoleMove(4, 16, 32)
    ESC.ChangeDIR(10, 7)
    ESC.RoleMove(10, 23, 20)

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(3)



    ESC.StoryMusic(124, 121, 0x8000) -- 【劇情配樂】晴天霹靂＋拔劍

    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(4+0x8000,
    1, 30-1, 20-3, -1, 77, 0,
    4, 20, 22, -1, 64, 0,     --  朝右的麥爾斯
    3, 30-1, 21, -1, Const.STAND,4,
    9, 22, 28, -1, Const.STAND,7)
    ESC.ChangeDIR(10, 5)
    ESC.TILPA1(4, 5)


    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1728')) -- ESS=小心，應該就是這傢伙！%N把他圍住，別讓...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1729')) -- ESS=就是你嗎？%N殺死我們許多弟兄的那個外國...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1730')) -- ESS=……老衲確是外國來的沒錯，但這些士兵，並...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1731')) -- ESS=可恨，%N證據就活生生擺在大家眼前，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.SetRoleSpeed(3, 0)
    ESC.ChangeQQ(3, Const.RUN)
    ESC.BatchMove(1,    3, 27, 20)
    MediaFunc.PlaySound(181) -- 慧彥出掌
    ESC.TakeActData(10, -1, 58, 5) -- 彗彥攻擊姿態
    ESC.Delay(60)
    MediaFunc.PlaySound(61) -- 薇達慘叫
    ESC.TakeActData(3, -1, 62, 2) -- 薇達被慧彥一掌彈開
    ESC.Unlock(3)


    ESC.RoleMove(3, 28, 20)
    ESC.Delay(50)
    ESC.RoleMove(3, 29, 20)
    ESC.Delay(250)



    ESC.ChangeDIR(3, 2) -- 薇達起身
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)
    ESC.ChangeDIR(3, 2)
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)
    ESC.ChangeDIR(3, 2)
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)
    ESC.ChangeDIR(3, 2)
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    ESC.TakeActData(10, -1, 56, 5) -- 彗彥防禦姿態
    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍（面左）
    ESC.Delay(400)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1732')) -- ESS=這位女施主……%N人眼所見，不見得就是真...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.ChangeDIR(3, 2) -- 薇達撐起身來
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1733')) -- ESS=小心！%N這…這傢伙會%C7奇怪的妖術%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1734')) -- ESS=────喂！%N你就是那一個歐馬亞家他們...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1735')) -- ESS=老衲是從%C7大唐%C5來的沒有錯，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1736')) -- ESS=那你為何從%C7東方%C5來到這裏？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1737')) -- ESS=老衲喜歡雲遊四海，這次隨著我國商隊從%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(3, 2) -- 薇達撐起來
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 5)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達撐起來
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 6)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(3, 2) -- 薇達撐起來
    ESC.ChangeQQ(3, 60)
    ESC.SeekACT(3, 7)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1738')) -- ESS=可恨，%N那你的意思是說，這裏滿地的屍體...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1739')) -- ESS=殺你們士兵的另有其人……%N老衲剛才還在...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1740')) -- ESS=誰會相信你的鬼話？%N我們先大家合力把他...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)
    Scene.BattleSupportOn(4) -- 麥爾斯

    ESC.StartBattle('BS160') -- 和慧彥戰鬥

    ESC.RoleMove(4, 26+2, 22+1)
    ESC.RoleMove(3, 30, 19)
    ESC.TakeActData(4, 4, 25-4, 4) -- 朝左的麥爾斯

    Scene.AddMainParty(2)
    Scene.AddMainParty(3)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1741')) -- ESS=這老人的身手好詭異！%N無論怎麼攻擊，他...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    MediaFunc.PlaySound(316)
    ESC.Delay(100)



    ESC.RoleMove(47, 31, 9-1)
    ESC.ChangeDIR(47, 1)
    ESC.RoleEnable(47)

    ESC.StoryMusic(126, 126, 0x2000) -- 【劇情配樂】TMH

    ESC.TurnFace(10, 47)
    ESC.Delay(250)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.TakeActData(4, -1, 0, 0)
    ESC.TakeActData(3, -1, 0, 0)
    Scene.ScrollMapD(10, 1, 2, 2)

    ESC.TakeActData(47, -1, Const.WALK, 1)
    ESC.SetRoleSpeed(47, 6)
    ESC.SetMoveHISpeed(47)
    ESC.BatchMove(1,    47, 31, 12)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.TakeActData(47, -1, 0, 1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1742')) -- ESS=哇啊─────%N那是什麼怪物──？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1743')) -- ESS=你們要找的，%N應該是這一個傢伙才對吧？...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    MediaFunc.PlaySound(315)
    ESC.Delay(800)

    ESC.StartBattle('BS161')

    ESC.StoryMusicOff()

    Scene.BattleSupportOff(4) -- 麥爾斯

    ESC.TakeActData(47, -1, 60, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1744')) -- ESS=這種莫名其妙的怪物，肯定又是%C7康那里...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)




    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 29, 14)
    ESC.TakeActData(10, -1, 0, 7)


    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1745')) -- ESS=不，您錯了，%N這是%C7人造%C5的機...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1746')) -- ESS=人造的機關……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1747')) -- ESS=唉……%N%C7那傢伙%C5還是一直執迷...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.RoleMove(10, 30, 8+1)
    ESC.TakeActData(10, -1, 56, 5) -- 彗彥防禦姿態
    ESC.Delay(300)


    ESC.TakeActData(10, -1, Const.STAND, 0) -- 彗彥站立
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.RoleMove(10, 32, 5+1)
    ESC.Delay(300)



    ESC.RoleDisable(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 30, 14)
    ESC.TakeActData(1, -1, 0, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1748')) -- ESS=喂，等等───%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)





    ESC.ChangeQQ(4, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)


    ESC.SetPos(4, 28, 11)
    ESC.SetPos(3, 28, 13)
    ESC.SetPos(9, 33, 14)
::T889_1::
    ESC.BatchStep( 3,   9, 3, 4)
    if not ESC.RoleReach(3) then goto T889_3 end
    ESC.TakeActData(3, -1, 0, 7)
::T889_3::
    if not ESC.RoleReach(4) then goto T889_4 end
    ESC.TakeActData(4, -1, 0, 3)
::T889_4::
    if not ESC.RoleReach(9) then goto T889_5 end
    ESC.TakeActData(9, -1, 0, 4)
::T889_5::
    if not ESC.IsAllReach() then
        goto T889_1
    end



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1749')) -- ESS=──什麼？%N這怪物，是用%C7木頭%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.ChangeDIR(1, 7)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1750')) -- ESS=好精巧的手法……%N沒想到使用這樣的材料...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1751')) -- ESS=──一定是%C7惡魔的力量%C5！%N又...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.TurnFace(1, 4)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1752')) -- ESS=那老人說的話不知是真是假，%N我們還是趕...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1753')) -- ESS=賽特，你們去就好了，%N我想留在這裏研究...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.ChangeDIR(1, 7)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1754')) -- ESS=不行，留下來太危險了！%N你先跟上來，等...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.ChangeDIR(1, 0)
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()

    GameFunc.FlagOff(10)

    Scene.QuestOff(271)
    Scene.QuestOn(272)
    ESC.SceneBreak()
::T889::
    Scene.ChangeMap(197, 20, 32, 7)
end




function Scene.TALK890()
    -- 往皇宮出口
    if GameFunc.GetFlag(398) then goto T890 end   -- 未執行過公元750 之相關敘述
    if GameFunc.GetFlag(7050) then goto Y750 end  -- 已追殺過黃雷
::T890::
    Scene.ChangeMap(198, 30, 35, 6)
    ESC.SceneBreak()

-- ──────────────────────────────────────【西元七五Ｏ年】

::Y750::
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(398) -- 執行公元750之敘述
    Scene.BattleSupportOff(3) -- 薇達
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(198, 30, 35, 1, 0, 6)
    ESC.ChangeRoleMap(323, 198, 0 , 19, 55, 599, Const.WALK, 7)
    ESC.RoleEnable(323)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(10 , 0 , 'TALK10' , 10, Const.WALK , 6 , 0xD100)


    ESC.BatchMove2(5,
    1,   30,   36,   -1, Const.STAND,6,
    3,   32,   37+2, -1, Const.STAND,6,
    10,  28,   34,   -1, Const.STAND,1,
    9,   27-1, 36+1, -1, Const.STAND,1,
    323, 27,   43,   -1, Const.STAND,7)



    ESC.Caption(230)
    Scene.Print_WS(323, 9008,11*2,4*2,StringDB('ESS1755')) -- ESS=薇達長官，聽說皇宮內出現怪物，%C2阿布...
    ESC.WaitDLG(323)



    ESC.Caption(3)
    Scene.Print_WS(3,9008,10*2,4*2,StringDB('ESS1756')) -- ESS=辛苦了 ！%N那些怪物已被消滅了，待會我...
    ESC.WaitDLG(3)



    Scene.Print_WS(3,9008,7*2,3*2,StringDB('ESS1757')) -- ESS=對了───%N目前其他的軍區戰況如何？
    ESC.WaitDLG(3)


    ESC.Caption(230)
    Scene.Print_WS(323,9008,10*2,4*2,StringDB('ESS1758')) -- ESS=歐馬亞家%C4的勢力差不多全瓦解了，除一...
    ESC.WaitDLG(323)


    Scene.Print_WS(323,9008,10*2,3*2,StringDB('ESS1759')) -- ESS=阿拔斯大人%C4正打算召開會議，請大家一...
    ESC.WaitDLG(323)



    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 4) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS1760')) -- ESS=賽特，接下來我可能要忙碌一陣子，那你們呢...
    ESC.WaitDLG(3)



    ESC.TurnFace(1, 3)
    ESC.Delay(200)

    ESC.ChangeDIR( 9, 5)
    ESC.ChangeDIR(10, 5)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS1761')) -- ESS=我應該還是繼續留在肯迪那兒研究知識吧？
    ESC.WaitDLG(1)


    Scene.Print_WS(1,9008,11*2,4*2,StringDB('ESS1762')) -- ESS=而且，現在還有這位%C2東方唐國%C4的...
    ESC.WaitDLG(1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1763')) -- ESS=薇達姊姊，妳好笨哦！%N妳聽不出來嗎？%...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1764')) -- ESS=賽特他一定是想偷偷向這一位唐國來的慧彥老...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1765')) -- ESS=肯迪！%N我可是真的滿想學的，不過光明正...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(1400)
    ESC.DelHeadSign(3)



    ESC.ChangeDIR(3, 6)
    ESC.Delay(40)
    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)




    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1766')) -- ESS=賽特───%N我薇達絕對不會允許自己永遠...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(25, 25, 0x2000) -- 【劇情配樂】伊斯蘭皇宮



    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(9, 1)
    ESC.ChangeDIR(10, 1)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(600)

    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)

    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 30)


    ESC.BatchMove(2,
    3, 19, 53,
    323, 19, 53)
    ESC.FadeWait()

    ESC.DelHeadSign(1)
    ESC.RoleDisable(323) -- 將黑衣人去掉



    ESC.Progress_Off()
    ESC.GotoMap(3, 19, 18, 6250, 0, 1) -- 字幕 軒三古地圖



    ESC.StoryMusic(80, 25, 0x2000) -- 【劇情配樂】伊斯蘭皇宮


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,100,170,20*2,4*2,'%S1'..StringDB('ESS1767')) -- ESS=西元七五○年，%C7阿拉伯帝國%C5（伊...
    ESC.WaitDLG2(1)
    ESC.DLGClose(1)



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009, 100,200-20,40,10,'%S1'..StringDB('ESS1768')) -- ESS=黑衣大食%C5停止過去的軍事擴張政策，全...
    ESC.WaitDLG2(1)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 45)
    ESC.FadeWait()
    ESC.DLGClose(1)



    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(30)
    ESC.DLGNoCloseKey()
    Scene.Print_SL( 1,9009,120,190,40,8,'%S1'..StringDB('ESS1769')) -- ESS=同一時間，%N賽特與%C7慧彥法師%C5...
    ESC.WaitDLG3(1)
    ESC.Delay(1000)



    ESC.FadeScreen(0 , 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.DLGClose(1)


    ESC.StoryMusic(98, 25, 0x4000) -- 【劇情配樂】少林寺木人巷


    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()

    ESC.AniPlay('kungfu',false, false) -- 賽特學武功

    ESC.AniUntil( 34)
    MediaFunc.PlaySound(379)
    MediaFunc.PlaySound(181)

    ESC.AniUntil( 47)
    MediaFunc.PlaySound(56)
    ESC.AniUntil( 55)
    MediaFunc.PlaySound(322)

    ESC.AniUntil( 125)
    MediaFunc.PlaySound(396)
    MediaFunc.PlaySound(89)

    ESC.AniUntil( 163)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 181)
    MediaFunc.PlaySound(511)

    ESC.AniUntil( 202)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 328)
    MediaFunc.PlaySound(514)

    ESC.AniUntil( 332)
    MediaFunc.PlaySound(513)

    ESC.AniUntil( 336)
    MediaFunc.PlaySound(515)

    ESC.AniUntil( 343)
    MediaFunc.PlaySound(516)

    ESC.AniUntil( 347)
    MediaFunc.PlaySound(514)

    ESC.AniUntil( 351)
    MediaFunc.PlaySound(513)

    ESC.AniUntil( 355)
    MediaFunc.PlaySound(515)

    ESC.AniUntil( 362)
    MediaFunc.PlaySound(516)

    ESC.AniUntil( 400)
    MediaFunc.PlaySound(124)
    MediaFunc.PlaySound(15)

    ESC.AniUntil( 427)
    MediaFunc.PlaySound(124)
    MediaFunc.PlaySound(87)

    ESC.AniUntil( 457)
    MediaFunc.PlaySound(211)
    MediaFunc.PlaySound(229)

    ESC.AniUntil( 525)
    MediaFunc.PlaySound(512)

    ESC.AniUntil( 528)
    MediaFunc.PlaySound(517)
    MediaFunc.PlaySound(514)

    ESC.AniUntil( 532)
    MediaFunc.PlaySound(515)

    ESC.AniUntil( 539)
    MediaFunc.PlaySound(513)

    ESC.AniUntil( 544)
    MediaFunc.PlaySound(420)

    ESC.AniUntil( 592)
    MediaFunc.PlaySound(420)

    ESC.AniUntil( 600)
    MediaFunc.PlaySound(482)

    ESC.AniUntil( 610)
    MediaFunc.PlaySound(496)

    ESC.AniUntil( 640)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 654)
    MediaFunc.PlaySound(511)

    ESC.AniUntil( 660)
    MediaFunc.PlaySound(448)

    ESC.AniUntil( 685)
    MediaFunc.PlaySound(124)
    MediaFunc.PlaySound(15)

    ESC.AniUntil( 702)
    MediaFunc.PlaySound(124)
    MediaFunc.PlaySound(87)

    ESC.AniUntil( 709)
    MediaFunc.PlaySound(511)

    ESC.AniUntil( 734)
    MediaFunc.PlaySound(211)
    MediaFunc.PlaySound(229)

    ESC.AniUntil( 785)
    MediaFunc.PlaySound(379)
    MediaFunc.PlaySound(181)

    ESC.AniUntil( 793)
    MediaFunc.PlaySound(56)

    ESC.AniUntil( 801)
    MediaFunc.PlaySound(322)

    ESC.AniUntil( 810)
    MediaFunc.PlaySound(425)

    ESC.AniUntil( 815)
    MediaFunc.PlaySound(411)

    ESC.AniUntil( 832)
    MediaFunc.PlaySound(276)

    ESC.AniUntil( 340)
    ESC.SkillLearn(1, 1636)

    ESC.AniUntil( 345)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS1770')) -- ESS=賽特學會%C2御劍燎原



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(132, 132, 0x4000) -- 【劇情配樂】賽特吉他版


    ESC.AniUntilClose()


    Scene.BattleSupportOff(10) -- 慧彥 -- 慧彥脫離伙伴行列




    ESC.FadeScreen(0 , 0, 0, -30, -30, -30, 30)
    ESC.FadeWait()
    ESC.ScreenHide()




    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()

    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL(1,9009,220,200,2*14,2,'%C5%S1'..StringDB('ESS1771')) -- ESS=西元七五一年……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 15)
    ESC.FadeWait()
    ESC.WaitDLG(1)

    ESC.ScreenHide()




    ESC.GotoMap(252, 23, 23, 1, Const.STAND, 6) -- 【高塔版】場景移到肯迪家高塔



    ESC.ChangeRoleMap(10 , 250, 0 , 30, 39, 10, Const.STAND, 7)
    ESC.ChangeRoleMap( 3 , 250, 0 , 24, 35, 3, Const.STAND, 7)
    ESC.RoleMove(29, 20, 33)
    ESC.RoleMove(408, 11, 40)
    ESC.RoleMove(409, 9, 42)
    ESC.RoleEnable(408) -- 設駱駝出現
    ESC.RoleEnable(409)
    ESC.ChangeScript(408, '')
    ESC.ChangeScript(409, '')



    ESC.ChangeDIR(1, 2) -- 【二樓版】賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    ESC.ScreenShow()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 30)
    ESC.FadeWait()



    ESC.ChangeDIR(1, 2) -- 【高塔版】賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1772')) -- ESS=時間過得好快呀……%N距離我踏上%C7阿...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 2) -- 【二樓版】賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1773')) -- ESS=原來%C7占星術%C5並不是我要尋找的東...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(800)



    ESC.ChangeRoleMap(9, 252, 0, 22, 22, 9, Const.WALK, 5) -- 【高塔版】肯迪出現
    ESC.SetRoleSpeed(9, 2)
    ESC.BatchMove(1,    9, 21, 23)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.ChangeDIR(9, 5)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1774')) -- ESS=賽特大哥，賽特大哥！%N%C7慧彥%C5...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1775')) -- ESS=還有啦，%N人家也想一起去%C7唐國%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    ESC.SeekACT(1, 1)
    ESC.Delay(500)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1776')) -- ESS=肯迪，%N我說不可以就是不可以！
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1777')) -- ESS=這一趟路可不是開玩笑的，%N你這樣每天來...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)



    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS111')) -- ESS=──哼，%N每次都這樣！
    ESC.WaitDLG(9)


    ESC.ChangeDIR(9, 7) -- 【高塔版】
    ESC.Delay(200)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 24, 21)
    ESC.Delay(800)

    ESC.ChangeRoleMap(9, 250, 0, 39, 12, 9, Const.WALK, 6) -- 把肯迪搬到一樓
    ESC.RoleMove(9, 33, 38)
    ESC.TakeActData(9, -1, Const.STAND, 6)

    -- 插入動畫
    -- 以下為恢復大馬士革城外路人段
    -- 皇宮門士兵消失
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.RoleDisable(576)
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)

    ESC.RoleDisable(47)
    ESC.RoleDisable(327)
    ESC.RoleDisable(328)
    ESC.RoleDisable(329)
    ESC.RoleDisable(330)
    ESC.RoleDisable(218)

    -- 路人
    -- 大馬士革的駱駝
    ESC.RoleEnable(402)
    ESC.RoleEnable(403)
    ESC.RoleEnable(404)
    ESC.RoleEnable(405)
    ESC.RoleEnable(406)
    ESC.RoleEnable(407)
    ESC.ChangeRoleMap(402, 215, 000, 53, 36 , -1 , Const.STAND, 4)
    ESC.ChangeRoleMap(403, 215, 000, 111, 44 , -1 , Const.STAND, 4)
    ESC.ChangeRoleMap(404, 215, 000, 73, 37 , -1 , Const.STAND, 7)
    ESC.ChangeRoleMap(405, 215, 000, 54, 37 , -1 , Const.STAND, 2)
    ESC.ChangeRoleMap(406, 216, 000, 38, 20 , -1 , Const.STAND, 7)
    ESC.ChangeRoleMap(407, 215, 000, 57, 36 , -1 , Const.STAND, 3)
    -- 將歐洲商人...搬出來
    ESC.ChangeRoleMap(787, 215, 000, 32, 35 , -1 , Const.STAND, 5) -- 商人羅伯特破產了
    ESC.ChangeRoleMap(791, 215, 000, 61, 33 , -1 , Const.STAND, 6) -- 旅行商人迪克
    ESC.ChangeRoleMap(782, 215, 000, 109, 45 , -1 , Const.STAND, 4) -- 僕人吉恩
    ESC.ChangeRoleMap(788, 216, 379, 21, 11 , -1 , Const.WALK , 5) -- 商人貝克
    -- 將其它的路人顯示
    ESC.RoleDisable(772) -- 提布克
    ESC.RoleDisable(773) -- 馬斯歐迪
    ESC.RoleDisable(789) -- 蘇珊
    ESC.RoleDisable(796) -- 住旅館的艾敏
    ESC.RoleEnable(781) -- 穆台瓦基里經商老頭
    ESC.ChangeRoleMap(781, 216, 000, 16, 23 , -1 , Const.STAND, 5) -- 穆台瓦基里經商老頭

    -- 清真寺的屍體消失
    ESC.RoleDisable(223)
    ESC.RoleDisable(231)
    ESC.RoleDisable(251)
    ESC.RoleDisable(252)
    ESC.RoleDisable(199)
    ESC.RoleDisable(200)
    ESC.RoleDisable(320)
    ESC.RoleDisable(219)
    ESC.RoleDisable(220)
    ESC.RoleDisable(222)
    ESC.RoleDisable(221)
    ESC.RoleDisable(321)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)
    Scene.SAR_TurnFace(29, 1)
    Scene.SAR_TurnFace(9, 1)
    Scene.SAR_TurnFace(10, 1)


    Scene.QuestOff(274)
    Scene.QuestOn(275)



    ESC.TakeActData(1, 1, Const.WALK, 6)
    ESC.Unlock(1)
    ESC.ScreenUnlock()


    GameFunc.FlagOn(21) -- 主角可用移動系法術
    GameFunc.FlagOff(10)
    ESC.RoleDisable(902) -- 底下的門打開
    GameFunc.FlagOn(336) --  旋轉塔可變阻檔ON
    GameFunc.FlagOn(332) --  旋轉塔可變阻檔ON    主角在SHOW的狀態    此兩開關需打開

end





-- ──────────────────────────────────────【小肯迪的武術解說】


function Scene.TALK891()
    -- '往大廳
    if GameFunc.GetFlag(7049) then goto T891 end
    ESC.ChangeQQ(1, Const.STAND)

    GameFunc.FlagOn(7049) -- 設定只執行一次
    GameFunc.FlagOn(10)

    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.STAND , 7 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.STAND , 7 , 0xD100)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1778')) -- ESS=賽特，賽特！%N我突然想到一件事情──
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetRoleSpeed(9, 1)
    ESC.BatchMove(1,    9, 27, 10)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.TurnFace(9, 1)
    ESC.TurnFace(1, 9)
    ESC.TurnFace(4, 9)
    ESC.TurnFace(3, 9)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1779')) -- ESS=以前爺爺曾經說，東方%C7唐國%C5那兒...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1780')) -- ESS=我猜剛才那一位神奇的老人，說不定就是使用...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1781')) -- ESS=哦……？%N聽起來滿有趣的！%N這麼說來...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1782')) -- ESS=這我就不曉得了……%N所以我才想把它拆開...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1783')) -- ESS=好，我們趕快去找到那老人！%N也許他那%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 0)
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)
    ESC.MBWait()
    GameFunc.FlagOff(10)
    ESC.SceneBreak()

::T891::
    Scene.ChangeMap(196, 3, 25, 3)
end




function Scene.TALK892()
    -- 往迷宮
    Scene.ChangeMap(195, 38, 226, 7)
    if not GameFunc.GetFlag(7050) then return end
    GameFunc.FlagOff(12)
end

function Scene.TALK893()
    -- 往走廊
    Scene.ChangeMap(197, 30, 10, 6)
    GameFunc.FlagOn(12)
end





-- ──────────────────────────────────────【慧彥與黃雷】

function Scene.TALK894()
    -- 遇見黃雷
    if GameFunc.GetFlag(135) then return end
    GameFunc.FlagOn(135)
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(124, 121, 0x2000) -- 【劇情配樂】晴天霹靂




    ESC.RoleDisable(498) -- 把牆打開
    ESC.ChangeQQ(1, Const.STAND)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(350)
    ESC.DelHeadSign(1)
    ESC.ChangeRoleMap(10 , 196, 0 , 42+4, 21+2, 10, 0 , 3)
    ESC.RoleMove(14, 54, 23)
    ESC.RoleEnable(10)
    ESC.ScrollMapD(36, 0, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenLock()




    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1784')) -- ESS=───萬轟！%N%C7皇上%C5是叫你來...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1785')) -- ESS=哼，慧彥大師，%N您一介百姓，懂得什麼國...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1786')) -- ESS=好，我問問大師！%N%C7白衣大食%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1787')) -- ESS=萬轟！%N這是他們大食人的自家事，人家在...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1788')) -- ESS=哼，二則又什麼？%N您倒說來給晚輩聽聽─...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1789')) -- ESS=一旦你出手，就代表我們大唐支持%C7白衣...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)




    Scene.MBOn(14, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1790')) -- ESS=哈哈哈，愚蠢！%N您沒見到晚輩身後的%C...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1791')) -- ESS=萬轟啊，力量不是一切，%N你何等聰明，為...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1792')) -- ESS=腐儒之見！%N好，我今天就用這一隻機關獸...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)

    MediaFunc.PlaySound(315)

    ESC.TakeActData(10, -1, 63, 0) -- 擺攻擊動作
    ESC.StartBattle('BS162')



    ESC.StoryMusic(122, 122, 0x2000) -- 【劇情配樂】不安


    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 3 , 0xD100)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.STAND , 3 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.STAND , 3 , 0xD100)

    ESC.RoleMove(1, 22, 22)
    ESC.RoleMove(3, 19, 24)
    ESC.RoleMove(4, 18, 21)
    ESC.RoleMove(9, 16, 23)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.ChangeDIR(1, 2)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1793')) -- ESS=不好，那位東方的老人受傷了！%N我要過去...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


-- （雙方打起來，過一會慧彥被打到出血。）



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 45+4, 22)
    ESC.TakeActData(1, -1, 63, 0)
    ESC.TILPA1(1, 8)
    Scene.BattleSupportOff(3) -- 薇達

    -- 隊伍恢復生命
    Scene.Heal()

    ESC.StartBattle('BS163')

    Scene.BattleSupportOn(3) -- 薇達


    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂



    ESC.RoleDisable(48)
    ESC.TakeActData(10, -1, Const.STAND, 3)




    Scene.MBOn(14, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1794')) -- ESS=可惡，哪來的臭小子────%N你們勝之不...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    ESC.SetMoveHISpeed(14)
    ESC.ChangeQQ(14, Const.WALK)
    ESC.BatchMove(1,    14, 61, 21)


    ESC.TakeActData(1, -1, 62, 0)
    ESC.TakeActData(3, -1, Const.WALK, 3)
    ESC.TakeActData(4, -1, Const.WALK, 3)
    ESC.TakeActData(9, -1, Const.WALK, 3)

    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(4, 1)
    ESC.SetRoleSpeed(3, 1)
    ESC.SetRoleSpeed(14, 1)

    ESC.SetMoveHISpeed(14)
    ESC.SetPos(14, 75, 27)
    ESC.SetPos(4, 43, 23)
    ESC.SetPos(3, 45+4, 19)
    ESC.SetPos(9, 39+4, 19)

::T894_1::
    ESC.BatchStep( 4,   4, 9, 3, 14)
    if not ESC.RoleReach(3) then goto T894_3 end
    ESC.TakeActData(3, -1, Const.STAND, 5)
::T894_3::
    if not ESC.RoleReach(4) then goto T894_4 end
    ESC.TakeActData(4, -1, Const.STAND, 5)
::T894_4::
    if not ESC.RoleReach(9) then goto T894_6 end
    ESC.TakeActData(9, -1, 0, 5)
    if not ESC.RoleReach(14) then goto T894_6 end
    ESC.ChangeRoleMap(14 , 195, 0 , 311, 54, 14, 0 , 6)
::T894_6::
    if not ESC.IsAllReach() then
        goto T894_1
    end



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1795')) -- ESS=阿彌陀佛，%N那你用偌大一隻%C7機關獸...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.TakeActData(1, -1, Const.STAND, 6)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1796')) -- ESS=老伯，你還好吧？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.Delay(400)
    ESC.TakeActData(3, -1, Const.STAND, 6)



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1797')) -- ESS=沒什麼，一點皮肉傷而已……%N剛才一時疏...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1798')) -- ESS=真抱歉……%N原來你真的不是跟他們一夥的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1799')) -- ESS=嗯……%N我叫%C7慧彥%C5，是個僧人...
    ESC.WaitDLG(1)



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1800')) -- ESS=他是敝國派來此的使節之一，不料他自作主張...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1801')) -- ESS=原來如此……%N這麼說來，剛才那些%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.Delay(400)


    Scene.MBOn(10, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1802')) -- ESS=是的……%N這人是這方面的不世天才，可惜...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(4, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(4)


    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1803')) -- ESS=賽特，我們得去把剛才那傢伙抓起來，不然他...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1804')) -- ESS=───沒錯！%N肯迪，那就拜託你暫時先照...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1805')) -- ESS=沒問題！%N正好我對東方%C7唐國%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.SetRoleSpeed(10, 3)
    ESC.ChangeDIR(10, 4)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 45, 21)
    ESC.ChangeQQ(10, Const.STAND)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1806')) -- ESS=呵呵，真是好學的小弟弟───%N你請儘管...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.ChangeDIR(1, 3)

    ESC.AddParty(3)
    ESC.AddParty(4)
    Scene.SAR_TurnFace(9, 1) -- 設兩人說話會轉頭
    Scene.SAR_TurnFace(10, 1)


    Scene.QuestOff(272)
    Scene.QuestOn(273)


    GameFunc.FlagOff(10)
end





function Scene.TALK959()
    Scene.ChangeMap(196, 75, 26, 2)
end






-- ──────────────────────────────────────【麥爾斯的野心】

function Scene.TALK960()


    if GameFunc.GetFlag(136) then goto T960END end
    GameFunc.FlagOn(136)
    GameFunc.FlagOn(10)




    ESC.StoryMusic(121, 25, 0x2000) -- 【劇情配樂】拔劍


    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 292, 65)
    ESC.TakeActData(1, -1, Const.STAND, 7)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(100)
    ESC.AddHeadSign(14, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(14)
    ESC.DelHeadSign(1)

    ESC.ChangeQQ(14, Const.WALK)
    ESC.SetRoleSpeed(14, 0)
    ESC.BatchMove(1,    14, 315, 50)

    ESC.SetRoleSpeed(14, 1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(2,
    1, 328, 42, -1, Const.STAND,7,
    14, 333, 38, -1, Const.STAND,7)

    ESC.ScreenLock()

    Scene.ScrollMapD(313, 22, 2, 2)
    ESC.Delay(100)
    ESC.ChangeDIR(14, 6)


    ESC.TakeActData(1, -1, Const.STAND, 7)
    ESC.Delay(100)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS1807')) -- ESS=終於找到你了，還往哪逃！
    ESC.WaitDLG(1)



    ESC.TakeActData(14, -1, 7, 7)
    ESC.SetRoleSpeed(14, 3)
    ESC.BatchMove(1,    14, 333+1, 38-1)
    ESC.TakeActData(14, -1, Const.STAND, 6)



    ESC.Delay(400)



    ESC.Caption(14)
    Scene.Print_WS(14,9008,7*2,2*2,StringDB('ESS1808')) -- ESS=你…你們想要做什麼？
    ESC.WaitDLG(14)


    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 7 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 7 , 0xD100)

    ESC.SetRoleSpeed(3, 0)
    ESC.SetRoleSpeed(4, 1)
    ESC.BatchMove2(2,
    3, 332, 44, -1, Const.STAND,7,
    4, 325, 44, -1, Const.STAND,7)

    ESC.ChangeQQ(14, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.SetMoveHISpeed(3)
    ESC.SetRoleSpeed(3, 0)
    ESC.BatchMove2(2,
    3,  340, 42, -1, Const.STAND,4,
    14, 334+1, 37+1, -1, Const.STAND,5)

    ESC.Delay(300)

    ESC.SetRoleSpeed(14, 6)
    ESC.TakeActData(14, -1, 9, 4)
    ESC.BatchMove(1,    14, 334, 37)



    ESC.SetRoleSpeed(14, 2)
    ESC.TakeActData(14, -1, Const.WALK, 4)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(2,
    1, 327, 35, -1, 63, 0,
    14, 334-1, 37-1, -1, 7, 5)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,StringDB('ESS1809')) -- ESS=對不起，%N你是危險人物，所以想委屈您在...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.AddHeadSign(14, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(14)





    ESC.SetRoleSpeed(14, 6)
    ESC.BatchMove(1,    14, 334, 37)
    ESC.TakeActData(14, -1, Const.STAND, 4)
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.OnHead(0, -80)
    ESC.Print_S(14,9008,'%C6'..StringDB('ESS1810')) -- ESS=…可惡！
    ESC.WaitDLG(14)




    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1811')) -- ESS=───賽特！%N這傢伙殺了我們好多族人，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)





    -- 與黃雷戰鬥（看看是否要設）

    ESC.ChangeQQ(4, Const.WALK)
    ESC.SetRoleSpeed(4, 1)
    ESC.SetMoveHISpeed(4)
    ESC.BatchMove(1,    4, 327, 44)
    ESC.SetMoveHISpeed(4)
    ESC.BatchMove(1,    4, 327, 38)
    ESC.ChangeQQ(4, Const.STAND)
    ESC.ChangeDIR(4, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1812')) -- ESS=慢著────%N先不要殺這個人！
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeQQ(14, Const.WALK)
    ESC.SetMoveHISpeed(14)
    ESC.SetRoleSpeed(14, 0)
    ESC.BatchMove(1,    14, 332, 43)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    ESC.Print_S(3,9008,'%C6'..StringDB('ESS1813')) -- ESS=糟了───
    ESC.WaitDLG(119)



    ESC.TakeActData(1, -1, 62, 0)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.SetMoveHISpeed(14)
    ESC.SetRoleSpeed(3, 0)
    ESC.SetRoleSpeed(14, 0)
    ESC.SetMoveHISpeed(3)
    ESC.BatchMove(2,
    3, 292, 65,
    14, 308, 62)
    ESC.RoleDisable(14)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, Const.STAND, 1)
    ESC.Delay(500)




    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1814')) -- ESS=怎麼回事，麥爾斯？%N你為什麼突然阻止我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(4, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1815')) -- ESS=這傢伙是人才，把他這樣殺掉，實在太可惜了...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1816')) -- ESS=……這倒沒錯，%N不過我本來就沒有殺他的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.SetRoleSpeed(4, 1)
    ESC.ChangeQQ(4, Const.RUN)
    ESC.BatchMove(1,    4, 325, 46)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(4, Const.STAND)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1817')) -- ESS=對了，麥爾斯，%N你打算用這個人的才能來...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeQQ(4, Const.STAND)
    ESC.ChangeDIR(4, 6)



    ESC.StoryMusic(124, 54, 0x8000) -- 【劇情配樂】晴天霹靂＋麥爾斯



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1818')) -- ESS=────征服世界！%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1819')) -- ESS=麥爾斯！%N你不是已經改邪歸正，所以才投...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1820')) -- ESS=我改邪歸正────？%N笑話，什麼是%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)

    ESC.ChangeQQ(4, Const.STAND)
    ESC.ChangeDIR(4, 0)
    ESC.Delay(300)




    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1821')) -- ESS=好…%N賽特，我問你───%N你認為我們...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeDIR(1, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1822')) -- ESS=……我沒想過，是為了什麼？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1823')) -- ESS=我從小在%C7教會%C5中成長，一直相信...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1824')) -- ESS=難怪當初我把%C7莉蓮%C5帶走後，你竟...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1825')) -- ESS=───沒錯！%N但你知道我內心掙扎、痛苦...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1826')) -- ESS=當莉蓮為我死去的那一剎那，我才終於明白─...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)

    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1827')) -- ESS=我告訴你吧！%N上帝既然這般不管事，那人...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1828')) -- ESS=我加入伊斯蘭，才不是為了他們，而是我要藉...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1829')) -- ESS=……這就是你的最後結論？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1830')) -- ESS=賽特，%N這段時間相處下來，其實我發現你...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1831')) -- ESS=過去我們間雖有一些不愉快和誤會，但我麥爾...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)




    ESC.ScrollMapToRole(1, 2, 2) -- 以賽特為中心捲回來
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()-- 以賽特為中心


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1832')) -- ESS=……………%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)
    ESC.Delay(400)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1833')) -- ESS=如何？%N我欣賞你的才能，我們可以一起共...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1834')) -- ESS=沒關係，你不必急著給我答案，%N不妨慢慢...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.SetRoleSpeed(4, 6)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove(1,    4, 325-1, 46+1)


    ESC.ChangeDIR(1, 6)


    ESC.SetRoleSpeed(1, 1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(2,
    1, 326, 45,
    4, 325-6, 46+4)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1835')) -- ESS=──等一等，麥爾斯！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TakeActData(4, -1, 0, 6)
    ESC.ChangeDIR(4, 7)
    ESC.Delay(200)


    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1836')) -- ESS=怎麼樣？%N想清楚了？
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1837')) -- ESS=不……%N是%C7莉蓮%C5臨死之前，%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(4, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(4)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1838')) -- ESS=她說…%N她永遠不會忘了你，會在天國守護...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(4, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(4)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1839')) -- ESS=莉蓮……%N她…真的…這麼說嗎？%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeDIR(4, 6)
    ESC.Delay(400)
    ESC.Unlock(4)
    MediaFunc.PlaySound(276)
    ESC.TakeActData(4, -1, 32-6, 6)
    ESC.TILPA1(4, 5)
    MediaFunc.PlaySound(118)
    ESC.Delay(200)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1840')) -- ESS=哇哈哈哈────%N笑死人了！
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1841')) -- ESS=天國%C5────%N這世界哪來的天國？...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1842')) -- ESS=哼───！%N如果我還相信什麼胡說八道%...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    ESC.ChangeQQ(3, Const.WALK) -- 薇達跑回來第一階段
    ESC.SetRoleSpeed(3, 1)
    ESC.SetMoveHISpeed(3)
    ESC.BatchMove(1,    3, 311+2, 52)
    ESC.TakeActData(3, 3, Const.STAND, 7)





    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1843')) -- ESS=…你…你們兩個…怎麼都還在這…？%N我一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    MediaFunc.PlaySound(115)
    ESC.ChangeDIR(4, 6) -- 麥爾斯拔劍
    ESC.ChangeQQ(4, 32-6)
    ESC.SeekACT(4, 6)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)

    MediaFunc.PlaySound(276)
    ESC.ChangeDIR(4, 6)
    ESC.ChangeQQ(4, 32-6)
    ESC.SeekACT(4, 1)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(4, 6)
    ESC.ChangeQQ(4, 28-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1844')) -- ESS=我來！%N交給我，我一定要找到他───
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)





    GameFunc.FlagOff(4)

    ESC.TakeActData(4, 4, 26, 0) -- 麥爾斯持劍跑
    ESC.ChangeDIR(3, 6)
    ESC.SetMoveHISpeed(4)
    ESC.BatchMove(1,    4, 303, 56+2)
    ESC.RoleDisable(4)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1845')) -- ESS=麥爾斯大人……？%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    GameFunc.FlagOn(4)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1846')) -- ESS=……這樣真的對嗎？%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)
    ESC.Delay(400)



    ESC.ChangeDIR(3, 5)
    Scene.WORD_ON_HEAD(3, 10, 20, -95, '%C0'..StringDB('ESS1847')) -- ESS=？
    ESC.Delay(400)



    ESC.ChangeRoleMap(10, 195, 0, 303, 56, 10, Const.WALK, 1)
    ESC.ChangeRoleMap( 9, 195, 0, 303, 56, 9, Const.WALK, 1)

    ESC.BatchMove2(2,
    9, 327, 47, -1, 0, 4,
    10, 322, 48, -1, 0, 7)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂



    ESC.ChangeQQ(3, Const.WALK) -- 薇達跑來
    ESC.SetRoleSpeed(3, 1)
    ESC.SetMoveHISpeed(3)
    ESC.BatchMove(1,    3, 321, 46)
    ESC.TakeActData(3, -1, 0, 5)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1848')) -- ESS=怎麼樣？%N有沒有抓到那個外國人？　　%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1849')) -- ESS=我追丟了……但麥爾斯大人不想放過他，所以...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1850')) -- ESS=可惜，可惜啊！%N這%C7黃雷%C5可謂...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1851')) -- ESS=……走正路的智慧？%N
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1852')) -- ESS=……每人都相信自己走的路是對的，誰又能知...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1853')) -- ESS=不難啊，年輕人……%N憑著%C7古人的智...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1854')) -- ESS=………智慧和良心？%N　　%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1855')) -- ESS=好比你們國家的%C7可蘭經%C5，以及我...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1856')) -- ESS=我不是伊斯蘭的人，我是更西邊%C7法蘭克...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1857')) -- ESS=喂，你們不要站在這兒就講起來嘛！%N今天...
    ESC.WaitDLG(1)


    ESC.TurnFace(9, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1858')) -- ESS=賽特，%N慧彥老伯伯他和商隊也走散了，所...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS1859')) -- ESS=沒錯，我們先離開這兒回去吧！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.QuestOff(273)
    Scene.QuestOn(274)


    Scene.BattleSupportOff(4) -- 麥爾斯



    ESC.SceneMusic(198, 72, 72, 0x4000) -- 【地圖音樂】更換宮殿前為伊斯蘭世界音樂
    ESC.SceneMusic(215, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(216, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂


    ESC.SceneMusic(223, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂為巴格達
    ESC.SceneMusic(224, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(225, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(226, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(227, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(228, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(229, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(230, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(231, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(232, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(233, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(234, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(235, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(236, 77, 77, 0x4000) -- 【地圖音樂】更換地圖音樂





    ESC.TakeActData(1, -1, Const.STAND, 6)
    ESC.AddParty(3)
    ESC.AddParty(10)
    ESC.AddParty(9)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    Scene.BattleSupportOn(3) -- 薇達
    Scene.BattleSupportOn(10) -- 慧彥 -- 慧彥在大馬士革大地圖中加入
    GameFunc.FlagOn(7050) -- 黃雷事件過後
    GameFunc.FlagOff(12)
    GameFunc.FlagOff(10)
::T960END::
    ESC.SceneBreak()
end

-- 需依劇情分不同,路人有不同的對話
----- 115   到肯迪家,對話部份要修改
----- 116   阿拔斯家族於呼羅珊起兵,對話部份要修改
----- 119   此時路上的路人將移至房間裏,對話全改
----- 132   出血腥迷宮
----- 136   戰爭結束
----- 243   大馬士革阿里循環對話
----- 4001 貝魯特城胖奸商對話控制
----- 4002 貝魯特城美娜對話控制
----- 4003 貝魯特城穆南比二世對話控制
----- 4004 答應替大馬士革珠寶商看家
----- 4005 商人賣中國劍
----- 4006 賽特買到中國劍
----- 4007 大馬士革拉齊循環對話
----- 4008 看家成功
----- 4009 看家失敗
----- 4010 拿過任一寶箱
----- 4011 時間到人在阿里二樓
----- 4012 時間到人在阿里三樓
----- 4013 大馬士革葉塔對話控制
----- 4014 大馬士革葉塔對話控制
----- 4015 大馬士革葉塔對話控制
----- 4016 幫阿里看家倒數時間結束
----- 4017 奧斯曼被妮可吸入煉妖壺
----- 4018 幫奧斯曼向妮可求情
----- 4019 煉妖壺內妮的可變阻擋
----- 4020 妮可叫波爾坐下
----- 4021 奧斯曼還是不敢動
----- 4022 波爾被冰凍後
----- 4023 在煉妖壺打贏奧斯曼前，妮可對話控制
----- 4024 離開煉妖壺前與妮可的最後對話
----- 4025 奧斯曼身上的東西
----- 4026 救出奧斯曼與他對話一次
----- 4027 救出奧斯曼後與葉塔對話
----- 4028 肯迪加入後與洛克仙妮的第二次對話
----- 4029 出血迷宮後勸提布克回家，他入屋後的對話
----- 4041 ,與祖旺二次對話
----- 4042 ,提示可讓祖旺喝回復劑
----- 4043 ,讓祖旺喝下回復劑
----- 4044 ,辜露被士兵帶走後
----- 4045 ,辜露被祖旺帶走
----- 4046 ,辜露被列拉買走
----- 4047 ,辜露被列拉買走後，與列拉二次對話
----- 4048 ,辜露被列拉買走後，用封印之劍換走與列拉對話
----- 4049 ,圍觀路人對話
----- 4050 ,與年輕宇文天對話過
----- 4051 ,與宇文大地對話過
----- 4052 ,與天山楊通幽對話（五年後）
----- 4053 ,與天山楊通幽對話（現實）
-- 血迷宮出來   此時路上無一般路人，但房間內的路人須全改
-- 起程往巴格達 對話須全換,將原有路徑之路人全部移回

--------------------------------------------------------------------------------------------
function Scene.TALK729()
    -- 貝魯特城胖奸商
    if GameFunc.GetFlag(115) then goto T729C end -- 去過肯迪家後，薇達離開
    if GameFunc.GetFlag(4001) then goto T729A end -- 第二次以後的循環對話
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1860')) -- ESS=薇達長官！%N承蒙您大駕光臨，小店真是蓬...
    ESC.WaitDLG(729)
    ESC.Caption(3)
    Scene.Print_W (1 ,9008 ,9*2,3*2,StringDB('ESS1861')) -- ESS=少諂媚了！你這個勢利鬼，總有一天會因金錢...
    ESC.WaitDLG(1)
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1862')) -- ESS=嘻…人的地位在金錢之上，因錢而墮落的人不...
    ESC.WaitDLG(729)
    ESC.Caption(3)
    Scene.Print_W (1 ,9008 ,9*2,3*2,StringDB('ESS1863')) -- ESS=先前為了幫弟兄們添購軍備花了不少錢，這次...
    ESC.WaitDLG(1)
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,7*2,3*2,StringDB('ESS1864')) -- ESS=我完全信任您！所以……%N請用現金支付。...
    ESC.WaitDLG(729)
::T729A::
    ESC.OpenStore(579, 0)
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1865')) -- ESS=若有任何需要，請隨時過來，小的一定竭誠為...
    ESC.WaitDLG(729)
    if not GameFunc.GetFlag(4001) then goto T729B end
    ESC.SceneBreak()

::T729B::
    ESC.Caption(3)
    Scene.Print_W (1 ,9008 ,8*2,2*2,StringDB('ESS1866')) -- ESS=你可真會做生意！
    ESC.WaitDLG(1)
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1867')) -- ESS=把你所有的東西，賣給需要它的人，不是做生...
    ESC.WaitDLG(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1868')) -- ESS=把你所沒有的賣給不需要它的人，才算是生意...
    ESC.WaitDLG(729)
    ESC.Caption(3)
    Scene.Print_W (1 ,9008 ,6*2,2*2,StringDB('ESS1869')) -- ESS=算了！%N我說不過你。
    ESC.WaitDLG(1)

    GameFunc.FlagOn(4001)
    ESC.SceneBreak()

::T729C::
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,8*2,3*2,StringDB('ESS1870')) -- ESS=大爺蒞臨本店，不知道您需要些什麼呢？
    ESC.WaitDLG(729)

    ESC.OpenStore(579, 0)
    ESC.Caption(729)
    Scene.Print_W (729 ,9008 ,9*2,3*2,StringDB('ESS1871')) -- ESS=若還有任何需要，歡迎隨時過來，讓小的為您...
    ESC.WaitDLG(729)

end
--------------------------------------------------------------------------------------------
function Scene.TALK798()
    -- 穆南比二世，薇達的屬下穆南比的兒子
    if GameFunc.GetFlag(115) then -- 去過肯迪家後，薇達離開
        -- 循環對話
        Scene.M_Print_EA(798, StringDB('ESS1872')) -- ESS=薇達大人說我父親是全世界最勇敢的士兵。
        goto T798A
    end
    if GameFunc.GetFlag(4003) then goto T798A end
    GameFunc.FlagOn(4003)
    Scene.M_Print_EA(798, StringDB('ESS1873')) -- ESS=薇達大人！%N我父親是不是隊上最勇敢的士...
    Scene.M_Print_EA(3, StringDB('ESS1874')) -- ESS=穆南比是全世界最勇敢的士兵。
    ESC.SceneBreak()
::T798A::   -- 循環對話
    Scene.M_PrintW_EA(798, 10, 3, StringDB('ESS1875')) -- ESS=我以後要像父親一樣，跟隨著薇達大人，當個...
end

function Scene.TALK730()
    -- 薇達的屬下穆南比的遺孀
    if GameFunc.GetFlag(115) then goto T730B end -- 去過肯迪家後，薇達離開
    if GameFunc.GetFlag(4002) then goto T730A end
    GameFunc.FlagOn(4002)
    GameFunc.FlagOn(386) -- 關掉碎碎唸(祈禱)
    ESC.DelHeadSign(730)
    ESC.Caption(730)
    Scene.Print_L(730,9008,94,28,16,6,StringDB('ESS1876')) -- ESS=穆南比吾愛！%N願阿拉真主保佑你自戰場平...
    ESC.WaitDLG(730)
    Scene.MoveHero(19, 21, 4)
    ESC.TurnFace(730, 1)
    Scene.M_PrintW_EA(730, 8, 2, StringDB('ESS1877')) -- ESS=薇達大人！！
    ESC.Delay(100)
    ESC.ChangeDIR(730, 6)
    ESC.Delay(300)
    ESC.AddHeadSign(730, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(730)
    ESC.ChangeDIR(730, 5)
    ESC.Delay(100)
    Scene.M_Print_EA(730, StringDB('ESS1878')) -- ESS=我家穆南比怎麼沒有跟著妳回來？！
    ESC.MusicFadeMode(2, 10) -- 【淡出模式】
    ESC.StoryMusic(64, 64, 0x4000) -- 【劇情配樂】火刑場
    Scene.M_Print_EA(3, '%S4'..StringDB('ESS1879')) -- ESS=美娜……%S1我必須告訴%S2妳一個%S...
    Scene.M_PrintNN_EA(3, '%S4'..StringDB('ESS1880')) -- ESS=穆南比%S1他已經%S2英勇殉職了……
    ESC.AddHeadSign(798, 0)
    ESC.Delay(250)
    ESC.DelHeadSign(798)
    ESC.TakeActData(730, -1, 16, 4)
    ESC.SetRoleSpeed(730, 4)
    ESC.BatchMove(2,
    798, 27, 24,
    730, 16, 16)
    ESC.ChangeQQ(798, Const.STAND)
    ESC.TakeActData(730, -1, 0, 5)
    ESC.ChangeDIR(798, 6)
    Scene.M_Print_EA(730, StringDB('ESS1881')) -- ESS=喔～天啊！%N多傷人的噩耗啊！
    Scene.M_PrintNN_EA(730, StringDB('ESS1882')) -- ESS=我的心好像被一把滾燙的白刃刺中。
    ESC.Delay(100)
    ESC.ChangeDIR(730, 7)
    ESC.Delay(200)
    Scene.M_PrintNN_EA(730, StringDB('ESS1883')) -- ESS=失去吾愛……%N我獨自活著又有何意義？！...
    Scene.M_PrintW_EA(3, 9, 3, StringDB('ESS1884')) -- ESS=我了解你心中的苦，但為了孩子，美娜妳千萬...
    ESC.ChangePath(798, 0)
    ESC.ChangeQQ(798, Const.WALK)
    ESC.BatchMove(1,    798, 36, 22)
    ESC.ChangeQQ(798, Const.STAND)
    ESC.ChangeDIR(798, 5)
    ESC.SceneBreak()
::T730A::   -- 循環對話
    Scene.M_Print_EA(730, StringDB('ESS1885')) -- ESS=當你獲得幸福時，你不會感受到幸福的可貴。...
    Scene.M_PrintNN_EA(730, StringDB('ESS1886')) -- ESS=可是一旦失去了幸福，你才會知覺到失去它的...
    ESC.SceneBreak()
::T730B::   -- 循環對話
    ESC.TurnFace(730, 1)
    Scene.M_Print_EA(730, StringDB('ESS1887')) -- ESS=穆南比二世很崇拜薇達大人，從小就立志要從...
    Scene.M_PrintNON_EA(730, 8, 4, StringDB('ESS1888')) -- ESS=希望阿拉真神能保佑小穆南比，我已無法再次...
end

--------------------------------------------------------------------------------------------
-- 強制觸發拍賣女奴劇情
function Scene.SellSlave()
    local value = Scene.GetSceneFlag('TALK_SellSlave')
    if not value then value=0 end
    value = value +1
    Scene.SetSceneFlag('TALK_SellSlave',value)
    if value > 7 then
        ESC.ChangeDIR(-1, 0)
        Scene.TALK1061()
    end
end

function Scene.TALK771()
    local select
    -- 波斯商人 安撒里拉齊  第四次時會說到有關軒轅劍與煉妖壺的事，可跟他買中國劍，到長安時升級為更好的劍
    if GameFunc.GetFlag(4049) then goto T771F end -- 女奴拍賣
    if GameFunc.GetFlag(4006) then goto T771E end
    if GameFunc.GetFlag(4005) then goto T771D end
    if GameFunc.GetFlag(374) then goto T771B end
    if GameFunc.GetFlag(373) then goto T771A end

    GameFunc.FlagOn(373) -- 第一次
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,8*2,3*2,StringDB('ESS1889')) -- ESS=我四處經商，去過很多地方。
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,9*2,3*2,StringDB('ESS1890')) -- ESS=大馬士革比威尼斯繁榮多了，但比起東方的長...
    ESC.WaitDLG(771)

::T771E::  -- 最後的循環
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,8*2,3*2,StringDB('ESS1891')) -- ESS=有機會的話，我會再去一趟長安。
    ESC.WaitDLG(771)

    ESC.SceneBreak()

::T771A::   -- 第二次
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,8*2,3*2,StringDB('ESS1892')) -- ESS=在大城市比較能找到新奇的貨物。
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,9*2,3*2,StringDB('ESS1893')) -- ESS=幾年前，我到大唐的長安城一趟，回來就賺了...
    ESC.WaitDLG(771)
    GameFunc.FlagOn(374)
    Scene.Print_W (771 ,9008 ,8*2,3*2,StringDB('ESS1894')) -- ESS=其實真正的奇珍異寶，反而不容易在大城市中...
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,8*2,3*2,StringDB('ESS1895')) -- ESS=就算找到，價錢也會嚇死人。
    ESC.WaitDLG(771)

    ESC.SceneBreak()

::T771B::   -- 第三
    GameFunc.FlagOff(373) --  如果要NPC固定說這一段,將有關開關這兩行拿掉即可
    GameFunc.FlagOff(374)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,10*2,3*2,StringDB('ESS1896')) -- ESS=我的祖父五十年前在康國，曾遇到一個人擁有...
    ESC.WaitDLG(771)
    ESC.Caption2(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS1897')) -- ESS=那是個甚麼樣的寶貝？
    ESC.WaitDLG(1)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,7*2,3*2,StringDB('ESS1898')) -- ESS=據說是一把與無數妖魔作戰過的寶劍。
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,10*2,3*2,StringDB('ESS1899')) -- ESS=當時劍的主人為了尋寶而去到康國，他要找一...
    ESC.WaitDLG(771)

    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,2*2,StringDB('ESS1900')) -- ESS=煉妖壺？！
    ESC.WaitDLG(1)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,10*2,3*2,StringDB('ESS1901')) -- ESS=他聽說那寶物在大唐的西域一帶，有可能是在...
    ESC.WaitDLG(771)
    ESC.Caption2(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS1902')) -- ESS=有找到嗎？
    ESC.WaitDLG(1)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,10*2,4*2,StringDB('ESS1903')) -- ESS=那裏位於伊斯蘭之東、大唐之西、突厥之南、...
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,9*2,3*2,StringDB('ESS1904')) -- ESS=也說不定是落在%C2天山%C4深處，那簡...
    ESC.WaitDLG(771)

    GameFunc.FlagOn(4005)

::T771D::   -- 商人賣中國劍(第四次)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008 ,10*2,4*2,StringDB('ESS1905')) -- ESS=像軒轅劍這種傳說中的寶貝可遇不可求，我現...
    ESC.WaitDLG(771)
    Scene.Print_W (771 ,9008 ,10*2,3*2,StringDB('ESS1906')..'%N'..StringDB('SESS2')) -- ESS=就便宜賣你%C2１５００枚%C4銀幣如何...
    ESC.WaitDLG(771)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T771N
    end

::T771Y::   -- 要買劍
    if Scene.AUTO_VCMONEY(1500,771,9008) then return end  -- ●檢查是否足夠1500元，人物771
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -1500    -- ●賽特扣除銀幣1500枚
    MediaFunc.PlaySound(193)
    ESC.Caption(771)
    Scene.Print_W (771 ,9008,7*2,2*2,StringDB('ESS1907')) -- ESS=您真是有眼光！
    ESC.WaitDLG(771)


    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS1908')) -- ESS=得到%T578.
    ItemFunc.AddItem(578, 1)
    ESC.WaitDLG(0)
    Scene.Print_W (771 ,9008,8*2,3*2,StringDB('ESS1909')) -- ESS=這把劍在你手中，說不定會寫下另一段傳奇。...
    ESC.WaitDLG(771)

    GameFunc.FlagOn(4006) -- 賽特買到中國劍（到長安時可被鑑識為更好的劍）
    ESC.SceneBreak()
::T771N::   -- 不買劍
    ESC.Caption(771)
    Scene.Print_W (771 ,9008,8*2,3*2,StringDB('ESS1910')) -- ESS=中國的鍛造技術是非常有名的，你不買真是太...
    ESC.WaitDLG(771)
    ESC.SceneBreak()
::T771F::
    ESC.Caption(771)
    Scene.Print_W (771 ,9008,8*2,3*2,StringDB('ESS1911')) -- ESS=奴市很久沒有進行拍賣，現在總算可以熱鬧一...
    ESC.WaitDLG(771)
    Scene.SellSlave()
end

--------------------------------------------------------------------------------------------
function Scene.TALK772()
    -- 提布克
    if GameFunc.GetFlag(4029) then goto T772D end -- 勸提布克回家後
    if GameFunc.GetFlag(132) then goto T772C end -- 出血腥迷宮
    if GameFunc.GetFlag(119) then goto T772B end
    if GameFunc.GetFlag(4049) then goto T772E end -- 女奴拍賣
    if GameFunc.GetFlag(4007) then goto T772A end
    GameFunc.FlagOn(4007)
    Scene.M_Print_EA(772, StringDB('ESS1912')) -- ESS=歐馬亞人把被征服的地區，包括居民在內，都...
    Scene.M_PrintNN_EA(772, StringDB('ESS1913')) -- ESS=這裏的異族人民備受剝削壓迫，可是先知曾經...
    Scene.M_PrintNON_EA(772, 9, 5, StringDB('ESS1914')) -- ESS=這幾年來各地相繼起義，企圖推翻殘暴的歐馬...
    ESC.SceneBreak()
::T772A::
    Scene.M_Print_EA(772, StringDB('ESS1915')) -- ESS=這地方的和平不知能再維持多久？
    Scene.M_PrintNN_EA(772, StringDB('ESS1916')) -- ESS=外鄉人還是早點離開比較好………
    ESC.SceneBreak()
::T772B::
    Scene.M_PrintW_EA(772, 8, 4, StringDB('ESS1917')) -- ESS=我真心愛蘇珊，就算因為她不信伊斯蘭教而要...
    Scene.M_PrintNON_EA(772, 8, 4, StringDB('ESS1918')) -- ESS=只是不知道歐馬亞王朝若被推翻，情況會改善...
    Scene.M_PrintNN_EA(772, StringDB('ESS1919')) -- ESS=憑阿拉真主之名起誓，我一定要讓蘇珊幸福。...
    ESC.SceneBreak()
::T772C::
    Scene.M_PrintW_EA(772, 9, 3, StringDB('ESS1920')) -- ESS=不知現在戰況如何，真是令人著急。
    Scene.M_PrintNON_EA(772, 8, 4, StringDB('ESS1921')) -- ESS=若是阿拔斯家族奪權成功，對待吉米人卻更嚴...
    Scene.M_PrintW_EA(1, 9, 3, StringDB('ESS1922')) -- ESS=你擔心這個也沒用，現在外面很危險，你還是...
    Scene.M_PrintW_EA(772, 8, 2, StringDB('ESS1923')) -- ESS=唉……………
    ESC.ChangeQQ(772, 8)
    ESC.SetMoveHISpeed(772)
    ESC.BatchMove(1,    772, 33, 43)
    ESC.ChangeRoleMap(772 , 232 , 0 , 20, 13, -1 , 0 , 6)
    GameFunc.FlagOn(4029)
    ESC.SceneBreak()
::T772D::
    ESC.TurnFace(789, 772)
    Scene.M_Print_EA(772, StringDB('ESS1924')) -- ESS=如果大馬士革改朝換代，恐怕會有一段時間動...
    Scene.M_PrintNON_EA(772, 8, 4, StringDB('ESS1925')) -- ESS=我打算帶蘇珊回她威尼斯的娘家，等時局安穩...
    ESC.TurnFace(772, 789)
    ESC.TurnFace(789, 772)
    Scene.M_Print_EA(772, StringDB('ESS1926')) -- ESS=蘇珊妳東西整理好了嗎？
    Scene.M_Print_EA(789, StringDB('ESS1927')) -- ESS=該帶的東西都已經帶了。
    Scene.M_Print_EA(772, StringDB('ESS1928')) -- ESS=那我們走吧！
    ESC.ChangeQQ(772, 8)
    ESC.ChangeQQ(789, 8)
    ESC.SetMoveHISpeed(772)
    ESC.SetMoveHISpeed(789)
    ESC.BatchMove(2,
    772, 29, 24,
    789, 29, 24)
    ESC.RoleDisable(772)
    ESC.RoleDisable(789)
    ESC.SceneBreak()
::T772E::
    ESC.Caption(772)
    Scene.Print_W (772 ,9008,8*2,3*2,StringDB('ESS1929')) -- ESS=麥爾丹怎麼會帶女奴出來賣？難道是要籌錢備...
    ESC.WaitDLG(772)
    Scene.SellSlave()
end
--------------------------------------------------------------------------------------------
function Scene.TALK773()
    -- 馬斯歐迪
    if GameFunc.GetFlag(132) then goto T773A end -- 出血腥迷宮
    if GameFunc.GetFlag(119) then goto T773 end
    if GameFunc.GetFlag(4049) then goto T773B end -- 女奴拍賣
    Scene.M_Print_EA(773, StringDB('ESS1930')) -- ESS=最近士兵巡邏得很勤，到處都充滿肅殺的氣息...
    Scene.M_PrintNON_EA(773, 9, 3, StringDB('ESS1931')) -- ESS=表面上看來雖然很安定，但這恐怕只是暴風雨...
    Scene.M_PrintNON_EA(773, 9, 4, StringDB('ESS1932')) -- ESS=為了歐馬亞家族的權力與地位，希望哈里發能...
    ESC.SceneBreak()
::T773::
    Scene.M_PrintW_EA(773, 8, 4, StringDB('ESS1933')) -- ESS=天下沒有白吃的午餐，想得到我的禮物，也要...
    Scene.M_PrintNON_EA(773, 8, 4, StringDB('ESS1934')) -- ESS=否則我每天讓她們吃好的、用好的，啥事都不...
    Scene.M_PrintNN_EA(773, StringDB('ESS1935')) -- ESS=我可不想家裏有三個木頭美人，就只會吃喝玩...
    ESC.SceneBreak()
::T773A::
    Scene.M_Print_EA(773, StringDB('ESS1936')) -- ESS=完蛋了～%N叛軍已經打進哈里發王宮了。
    Scene.M_PrintNN_EA(773, StringDB('ESS1937')) -- ESS=那些軍人是幹什麼吃的？
    Scene.M_PrintNN_EA(773, StringDB('ESS1938')) -- ESS=該是保國衛民的時候，卻都跑到哪裏去了？
    ESC.SceneBreak()
::T773B::
    ESC.Caption(773)
    Scene.Print_W (773 ,9008,9*2,3*2,StringDB('ESS1939')) -- ESS=後面那個女奴氣質高貴，搞不好是從別國俘虜...
    ESC.WaitDLG(773)
    Scene.SellSlave()
end

--------------------------------------------------------------------------------------------
function Scene.TALK774()
    -- 古桑伊
    if GameFunc.GetFlag(4049) then goto T774A end -- 女奴拍賣
    Scene.M_PrintW_EA(774, 9, 5, StringDB('ESS1940')) -- ESS=大馬士革的哈里發皇宮富麗堂皇，宮牆是乳石...
    Scene.M_PrintNON_EA(774, 9, 3, StringDB('ESS1941')) -- ESS=這座城是西亞最大的都市之一，和亞歷山大城...
    ESC.SceneBreak()
::T774A::
    ESC.Caption(774)
    Scene.Print_W (774 ,9008,9*2,3*2,StringDB('ESS1942')) -- ESS=本地婦女穿著保守，哪像女奴風情萬種，別有...
    ESC.WaitDLG(774)
    Scene.SellSlave()
end
--------------------------------------------------------------------------------------------
function Scene.TALK775()
    -- 塔巴里
    if GameFunc.GetFlag(375) then goto T775 end
    Scene.M_PrintW_EA(775, 8, 4, StringDB('ESS1943')) -- ESS=歐馬亞清真寺高聳入雲的尖塔，真是沙漠中的...
    GameFunc.FlagOn(375)
    ESC.SceneBreak()
::T775::
    GameFunc.FlagOff(375)
    Scene.M_PrintNON_EA(775, 8, 4, StringDB('ESS1944')) -- ESS=皇室花了不少錢裝飾清真寺，所以寺內金碧輝...
end
--------------------------------------------------------------------------------------------
function Scene.TALK776()
    -- 邁赫底
    Scene.M_Print_EA(776, StringDB('ESS1945')) -- ESS=占星術如真能百戰百勝，伊斯蘭怎會有這麼多...
    Scene.M_Print_EA(777, StringDB('ESS1946')) -- ESS=誤解占星術的人還真多。
end
--------------------------------------------------------------------------------------------
function Scene.TALK777()
    -- 瓦西格
    Scene.M_Print_EA(777, StringDB('ESS1947')) -- ESS=占星術？占星術那種東西呀，其實沒甚麼！
    Scene.M_Print_EA(776, StringDB('ESS1948')) -- ESS=占星術只是個唬人的東西，也不能百戰百勝。...
end


--------------------------------------------------------------------------------------------
function Scene.TALK779()
    -- 侯奈因
    if GameFunc.GetFlag(4046) then goto T779B end -- 老婆買了辜露當妾
    if GameFunc.GetFlag(119) then goto T779A end
    Scene.M_PrintW_EA(779, 9, 3, StringDB('ESS1949')) -- ESS=一刻不忘行善積福，日後必獲佳美回報。
    Scene.M_PrintNN_EA(779, StringDB('ESS1950')) -- ESS=多行善事，永不厭煩。
    ESC.SceneBreak()
::T779A::
    Scene.M_PrintW_EA(779, 9, 4, StringDB('ESS1951')) -- ESS=因為我平日無時無刻不忘行善積福，才能娶到...
    Scene.M_PrintNN_EA(779, StringDB('ESS1952')) -- ESS=就算她真的幫我娶了女奴，我也不會虧待她。...
    ESC.SceneBreak()
::T779B::
    Scene.M_PrintW_EA(779, 9, 4, StringDB('ESS1953')) -- ESS=我的老婆真是賢淑明理，居然在奴市替我買了...
    Scene.M_PrintNN_EA(779, StringDB('ESS1954')) -- ESS=不過就算娶了女奴做妾，我也不會虧待我老婆...
end

--------------------------------------------------------------------------------------------
function Scene.TALK780()
    -- 馬休
    if GameFunc.GetFlag(119) then goto T780 end
    Scene.M_Print_EA(780, StringDB('ESS1955')) -- ESS=前些日子我剛從東方的大唐回來。
    Scene.M_PrintNN_EA(780, StringDB('ESS1956')) -- ESS=大唐首都長安是世上最繁華的城市。
    Scene.M_PrintNN_EA(780, StringDB('ESS1957')) -- ESS=不過再怎麼好，還是自己家舒服。
    ESC.SceneBreak()
::T780::
    Scene.M_Print_EA(780, StringDB('ESS1958')) -- ESS=哎呀～怎麼打起仗來了？
    Scene.M_PrintNN_EA(780, StringDB('ESS1959')) -- ESS=早知道就在長安待久一點，等時局穩定再回來...
    Scene.M_PrintNN_EA(780, StringDB('ESS1960')) -- ESS=千金難買早知道，現在說這些都沒用了。
end
--------------------------------------------------------------------------------------------
function Scene.TALK781()
    -- 穆台瓦基里
    if GameFunc.GetFlag(136) then goto T781 end -- 戰爭結束
    Scene.M_PrintW_EA(781, 8, 4, StringDB('ESS1961')) -- ESS=真主十分地眷顧我們，讓我們擁有豐沛的水源...
    Scene.M_PrintNN_EA(781, StringDB('ESS1962')) -- ESS=所以我每次回來，都會到清真寺去做禮拜。
    Scene.M_PrintNN_EA(781, StringDB('ESS1963')) -- ESS=希望哈里發早日解禁，我便能到寺中向阿拉誦...
    ESC.SceneBreak()
::T781::
    Scene.M_Print_EA(781, StringDB('ESS1964')) -- ESS=清真寺禮拜堂的地板上，為何會多一個六星芒...
    Scene.M_PrintNN_EA(781, StringDB('ESS1965')) -- ESS=這分明是惡魔的印記，不知是否是真主有所啟...
    Scene.M_PrintNN_EA(781, StringDB('ESS1966')) -- ESS=啊呀～難道是我們同族相殘，引起阿拉的憤怒...
end
--------------------------------------------------------------------------------------------
function Scene.TALK782()
    -- 吉恩
    if GameFunc.GetFlag(119) then goto T782 end
    Scene.M_PrintW_EA(782, 8, 4, StringDB('ESS1967')) -- ESS=我跟著主人來往地中海，曾見過不少城市，大...
    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,2*2,StringDB('ESS1968')) -- ESS=比威尼斯繁榮？
    ESC.WaitDLG(1)
    Scene.M_Print_EA(782, StringDB('ESS1969')) -- ESS=本來威尼斯與大馬士革是不相上下……
    Scene.M_PrintNN_EA(782, StringDB('ESS1970')) -- ESS=但自從被護教騎士團鬧過後，還沒能恢復以前...
    ESC.SceneBreak()
::T782::
    Scene.M_Print_EA(782, StringDB('ESS1971')) -- ESS=我白天服侍主人，晚上就得到廄槽跟駱駝睡。...
    Scene.M_Print_EA(1, StringDB('ESS1972')) -- ESS=你是自由的嗎？
    Scene.M_Print_EA(782, StringDB('ESS1973')) -- ESS=當然不，%N我是%C2貝克%C4的奴，他...
    Scene.M_Print_EA(1, StringDB('ESS1974')) -- ESS=一個買來的奴隸？
    Scene.M_Print_EA(782, StringDB('ESS1975')) -- ESS=我是他家世代相傳的家奴。
end

--------------------------------------------------------------------------------------------
function Scene.TALK785()
    local select
    --   列拉，想替老公娶妾
    if GameFunc.GetFlag(4048) then goto T785E end -- 列拉提出條件
    if GameFunc.GetFlag(4047) then goto T785B end -- 列拉提出條件
    if GameFunc.GetFlag(4046) then goto T785A end -- 列拉買女奴辜露
    if GameFunc.GetFlag(136) then goto T785 end -- 戰爭結束
    Scene.M_Print_EA(785, StringDB('ESS1976')) -- ESS=我老公很疼愛我，所有的家事，都讓女奴做。...
    Scene.Print_W (785 ,9008 ,8*2,4*2,StringDB('ESS1977')) -- ESS=等到奴市開始拍賣時，我要去買個%C2美麗...
    ESC.WaitDLG(785)
    ESC.TakeActData(786 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(786 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(786 , -1 , 52 , 3)
    Scene.M_Print_EA(786, StringDB('ESS1978')) -- ESS=我很%C2醜%C4……%N可是我很%C2...
    ESC.ChangeDIR(785, 5)
    Scene.M_Print_EA(785, StringDB('ESS1979')) -- ESS=如果不是沒人要，我早就把妳賣了！
    Scene.M_PrintNN_EA(785, StringDB('ESS1980')) -- ESS=別做白日夢了，趕快工作！
    ESC.TurnFace(785, 1)
    Scene.WORD_ON_HEAD(786, 1, 20, -60, StringDB('ESS1981')) -- ESS=＃◎ΦΩΧ◎
    ESC.ChangeQQ(786, 0)
    ESC.SceneBreak()
::T785::
    Scene.M_PrintW_EA(785, 8, 4, StringDB('ESS1982')) -- ESS=我老公是世界上最棒的老公，雖然我一直沒有...
    Scene.M_PrintNON_EA(785, 8, 3, StringDB('ESS1983')) -- ESS=買個%C2美麗溫柔%C4的女奴給老公做妾...
    ESC.WaitDLG(786)
    ESC.TakeActData(786 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(786 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(786 , -1 , 52 , 3)
    Scene.M_Print_EA(786, StringDB('ESS1984')) -- ESS=我屁股又圓又大，包準能生男孩！
    ESC.ChangeDIR(779, 5)
    Scene.M_Print_EA(779, StringDB('ESS1985')) -- ESS=莫巴雅！如果非要娶妳，我寧願絕子絕孫！
    ESC.ChangeDIR(785, 5)
    Scene.M_Print_EA(785, StringDB('ESS1986')) -- ESS=我們肯收留妳已經很好了，妳就認命吧！
    Scene.WORD_ON_HEAD(786, 1, 20, -60, StringDB('ESS1981')) -- ESS=＃◎ΦΩΧ◎
    ESC.TurnFace(785, 1)
    ESC.TurnFace(779, 1)
    ESC.ChangeQQ(786, 0)
    ESC.SceneBreak()
::T785A::
    ESC.Caption2(1)
    Scene.Print_W (1 ,9008 ,8*2,3*2,StringDB('ESS1987')) -- ESS=這位夫人！%N能否將辜露公主放了？
    ESC.WaitDLG(1)
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,3*2,StringDB('ESS1988')) -- ESS=你開什麼玩笑？%N我花了那麼多錢，怎能平...
    ESC.WaitDLG(785)
    ESC.Caption2(1)
    Scene.Print_W (1 ,9008 ,8*2,3*2,StringDB('ESS1989')) -- ESS=如何妳才會答應？妳可以開出妳的條件。
    ESC.WaitDLG(1)
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,3*2,StringDB('ESS1990')) -- ESS=傳說有種%C2封印之劍%C4散落世界各地...
    ESC.WaitDLG(785)
    GameFunc.FlagOn(4047)
::T785B::
    if Function.GetItemCount(793) == 0 then -- 若沒封印之劍跳到下一行指定的地方
        goto T785C
    end
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,4*2,StringDB('ESS1991')..'%N'..StringDB('SESS2')) -- ESS=怎樣？你願意用一把%C2封印之劍%C4換...
    ESC.WaitDLG(785)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T785Y
    elseif select == 2 then
        goto T785N
    else
        ESC.SceneBreak()
    end
::T785C::
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,3*2,StringDB('ESS1992')) -- ESS=想換人就快去找一柄%C2封印之劍%C4來...
    ESC.WaitDLG(785)
    ESC.SceneBreak()
::T785Y::
    if Function.GetItemCount(793) <= 1 then -- 若封印之劍小於等於1時，跳到下一行指定的地方檢查是否裝備在身上
        goto T785YA
    end
::T785YB::
    Scene.QuestOff(6)
    GameFunc.FlagOn(4048)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12*2,1*2,StringDB('ESS1993')) -- ESS=將封印之劍交給列拉
    ESC.WaitDLG(0)
    ItemFunc.AddItem(793, -1)
    ESC.Delay(250)
    ESC.TurnFace(1064, 1)
    ESC.TurnFace( 1, 1064)
    ESC.Caption2(1)
    Scene.Print_W (1 ,9008 ,8*2,3*2,StringDB('ESS1994')) -- ESS=辜露！妳已經是自由之身，妳可以離開了。
    ESC.WaitDLG(1)
    ESC.Caption(1064)
    Scene.Print_W (1064 ,9008 ,8*2,3*2,StringDB('ESS1995')) -- ESS=實在太感激您了！如果我找到祖旺，一定會再...
    ESC.WaitDLG(1064)
    if GameFunc.GetFlag(4043) then goto T785D end
    ESC.ChangeQQ(1064, 8)
    ESC.BatchMove(1,    1064, 22, 7)
    ESC.RoleDisable(1064)
    ESC.SceneBreak()
::T785D::
    ESC.RoleEnable(1065)
    ESC.BatchMove(1,    1065, 12, 11)
    ESC.ChangeQQ(1065, 0)
    ESC.ChangeDIR(1064, 7)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2 ,3*2,StringDB('ESS1996')) -- ESS=辜露！%N老天保佑～我終於找到妳了。
    ESC.WaitDLG(1065)
    ESC.Caption(1064)
    Scene.Print_W (1064 ,9008 ,8*2,2*2,StringDB('ESS1997')) -- ESS=祖旺王子！
    ESC.WaitDLG(1064)
    ESC.TurnFace(1065, 1)
    ESC.TurnFace(1064, 1)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS1998')) -- ESS=多次承蒙相助！小小禮物不成敬意，還請笑納...
    ESC.WaitDLG(1065)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS1999')) -- ESS=得到%T912.
    ItemFunc.AddItem(912, 1)
    ESC.WaitDLG(0)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS2000')) -- ESS=希望日後還有在見面的機會！
    ESC.WaitDLG(1065)
    ESC.ChangeDIR(1065, 6)
    ESC.ChangeDIR(1064, 7)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS2001')) -- ESS=辜露！%N我們該走了！
    ESC.WaitDLG(1065)
    ESC.ChangeQQ(1064, 8)
    ESC.ChangeQQ(1065, 8)
    ESC.BatchMove(2,
    1065, 23, 6,
    1064, 22, 9)
    ESC.RoleDisable(1064)
    ESC.RoleDisable(1065)
    ESC.SceneBreak()
::T785YA::
    if not Function.CheckEquip(793) then goto T785YB end -- 若沒裝備封印之劍，跳回下一行指定的地方
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2 ,3*2,StringDB('ESS2002')) -- ESS=那還等什麼？%N快將它從裝備中卸下來交給...
    ESC.WaitDLG(785)
    ESC.SceneBreak()

::T785N:: -- 有封印之劍但不給
    ESC.SceneBreak()
::T785E::
    Scene.M_PrintW_EA(785, 8, 4, StringDB('ESS1982')) -- ESS=我老公是世界上最棒的老公，雖然我一直沒有...
    Scene.M_PrintNON_EA(785, 8, 3, StringDB('ESS1983')) -- ESS=買個%C2美麗溫柔%C4的女奴給老公做妾...
    ESC.WaitDLG(786)
    ESC.TakeActData(786 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(786 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(786 , -1 , 52 , 3)
    Scene.M_Print_EA(786, StringDB('ESS2003')) -- ESS=我屁股又圓又大，包準能生男孩！辜露怎能跟...
    ESC.ChangeDIR(785, 5)
    Scene.M_Print_EA(785, StringDB('ESS2004')) -- ESS=如果全天下的女人中辜露第一名，那妳就是最...
    ESC.ChangeDIR(785, 5)
    Scene.M_Print_EA(785, StringDB('ESS1986')) -- ESS=我們肯收留妳已經很好了，妳就認命吧！
    Scene.WORD_ON_HEAD(786, 1, 20, -60, StringDB('ESS1981')) -- ESS=＃◎ΦΩΧ◎
    ESC.TurnFace(785, 1)
    ESC.ChangeQQ(786, 0)
end

--------------------------------------------------------------------------------------------
function Scene.TALK786()
    -- 想做妾的醜女奴莫巴雅
    Scene.M_Print_EA(786, StringDB('ESS2005')) -- ESS=整天忙著家務，好累喲！身為奴隸真是命苦！...
    ESC.Print(786,9008,StringDB('ESS2006')) -- ESS=只怪我長得不夠漂亮……
    ESC.WaitDLG(786)
    ESC.TakeActData(786 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(786 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(786 , -1 , 52 , 3)

    ESC.Print(786,9008,StringDB('ESS2007')) -- ESS=如果可以被老爺納為妾，就有好日子過了！
    ESC.WaitDLG(786)
    ESC.ChangeDIR(785, 5)
    Scene.M_Print_EA(785, StringDB('ESS2008')) -- ESS=莫巴雅妳還是等下輩子吧！
    ESC.TurnFace(785, 1)
    Scene.WORD_ON_HEAD(786, 1, 25, -60, StringDB('ESS2009')) -- ESS=◎＃∴﹌⊙♀§
    ESC.ChangeQQ(786, 0)
end
--------------------------------------------------------------------------------------------
function Scene.TALK787()
    -- 商人羅伯特
    if GameFunc.GetFlag(136) then goto T787D end -- 戰爭結束
    if GameFunc.GetFlag(132) then goto T787C end -- 出血腥迷宮
    if GameFunc.GetFlag(119) then goto T787B end
    if GameFunc.GetFlag(4049) then goto T787E end -- 女奴拍賣
    if GameFunc.GetFlag(231) then goto T787 end
    Scene.M_Print_EA(787, StringDB('ESS2010')) -- ESS=最近情勢看來很緊張，不過只要不妨礙我做生...
    GameFunc.FlagOn(231)
    ESC.SceneBreak()
::T787::
    Scene.M_Print_EA(787, StringDB('ESS2011')) -- ESS=打起仗來，說不定能讓我多撈點錢。
    Scene.M_PrintNN_EA(787, StringDB('ESS2012')) -- ESS=幾年前%C2塔德莫爾%C4那裏在打仗時，...
    GameFunc.FlagOff(231)
    if not Scene.CheckParty(3) then goto T787A end
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(3)
    Scene.Glass_SRC1(3, StringDB('ESS2013')) -- ESS=真是的！%N賺這種戰爭財，還得意洋洋．．...
    Scene.CloseGlassUp()
    Scene.DelPictureUp(3)
    ESC.SceneBreak()
::T787A::
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS2014')) -- ESS=這種錢賺起來不會良心不安嗎？
    Scene.CloseGlassDown()
    Scene.DelPictureDown(1)
    ESC.SceneBreak()
::T787B::
    Scene.M_Print_EA(787, StringDB('ESS2015')) -- ESS=嘻嘻嘻～就要打仗了，我囤積的貨物快派上用...
    ESC.SceneBreak()
::T787C::
    Scene.M_Print_EA(787, StringDB('ESS2016')) -- ESS=嗚嗚嗚～%N我的貨物被哈里發強制徵收，半...
    Scene.M_PrintNN_EA(787, StringDB('ESS2017')) -- ESS=原想大撈一票結果卻血本無歸，真是偷雞不著...
    ESC.SceneBreak()
::T787D::
    Scene.M_Print_EA(787, StringDB('ESS2018')) -- ESS=嗚嗚嗚～%N貪心不足蛇吞象，想發戰爭財，...
    Scene.M_PrintNON_EA(787, 8, 4, StringDB('ESS2019')) -- ESS=風風光光的出門，如今連回家的路費也沒有，...
    ESC.SceneBreak()
::T787E::
    ESC.Caption(787)
    Scene.Print_W (787 ,9008,9*2,3*2,StringDB('ESS2020')) -- ESS=這些女奴真是漂亮！可惜我已有妻妾，否則真...
    ESC.WaitDLG(787)
    Scene.SellSlave()
end
    --------------------------------------------------------------------------------------------
function Scene.TALK788()
    -- 商人貝克
    if GameFunc.GetFlag(136) then goto T788B end -- 戰爭結束
    if GameFunc.GetFlag(4049) then goto T788C end -- 女奴拍賣
    if not GameFunc.GetFlag(119) then goto T788A end
    if GameFunc.GetFlag(232) then goto T788 end
    Scene.M_Print_EA(788, StringDB('ESS2021')) -- ESS=不管情勢怎麼變，阿拉伯人總是不會為難外來...
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    Scene.Glass_SRC1(1, StringDB('ESS2022')) -- ESS=看來似乎是這個樣子，怪不得這裏商人很多。...
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    GameFunc.FlagOn(232)
    ESC.SceneBreak()
::T788::
    Scene.M_Print_EA(788, StringDB('ESS2023')) -- ESS=在這裏，不信伊斯蘭教也沒關係。
    Scene.M_PrintNON_EA(788, 10, 4, StringDB('ESS2024')) -- ESS=如果打算住在這裏，只要繳人頭稅當當吉米人...
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    Scene.Glass_SRC1(1, StringDB('ESS2025')) -- ESS=唉！%N這倒是比那些狂信者講道理些了。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    GameFunc.FlagOff(232)
    ESC.SceneBreak()
::T788A::
    ESC.Caption(788)
    Scene.Print_W (788 ,9008,7*2,3*2,StringDB('ESS2026')) -- ESS=伊斯蘭世界真是個做生意的好地方。
    ESC.WaitDLG(788)
    Scene.Print_W (788 ,9008,7*2,3*2,StringDB('ESS2027')) -- ESS=各地的珍寶都會運送到這裏來買賣。
    ESC.WaitDLG(788)
    ESC.SceneBreak()
::T788B::
    Scene.M_Print_EA(788, StringDB('ESS2028')) -- ESS=現任哈里發身邊當紅的親信大臣不知道是誰？...
    Scene.M_PrintNN_EA(788, StringDB('ESS2029')) -- ESS=若能花點心思拉攏拉攏，以後做事就方便了。...
    ESC.SceneBreak()
::T788C::
    ESC.Caption(788)
    Scene.Print_W (788 ,9008,9*2,3*2,StringDB('ESS2030')) -- ESS=這三個女奴都是外地人，應該是從戰敗國捉回...
    ESC.WaitDLG(788)
    Scene.SellSlave()
end
--------------------------------------------------------------------------------------------
function Scene.TALK789()
    -- 吉米人蘇珊
    if GameFunc.GetFlag(4029) then goto T789C end -- 勸提布克回家後
    if GameFunc.GetFlag(132) then goto T789B end -- 出血腥迷宮
    if GameFunc.GetFlag(119) then goto T789A end
    Scene.M_Print_EA(789, StringDB('ESS2031')) -- ESS=在這裏的異族人民備受剝削壓迫，身為吉米人...
    Scene.M_PrintNN_EA(789, StringDB('ESS2032')) -- ESS=為甚麼稅收不夠，就向我們加稅！！
    ESC.SceneBreak()
::T789A::
    Scene.M_PrintW_EA(789, 8, 4, StringDB('ESS2033')) -- ESS=我跟提布克是在水都威尼斯墜入愛河的，婚後...
    Scene.M_PrintNN_EA(789, StringDB('ESS2034')) -- ESS=可是我不願改信伊斯蘭教，讓他必須多負擔一...
    ESC.SceneBreak()
::T789B::
    Scene.M_Print_EA(789, StringDB('ESS2035')) -- ESS=提布克跑出去打聽消息，不知道會不會有危險...
    Scene.M_PrintNN_EA(789, StringDB('ESS2036')) -- ESS=慈愛的天父～請保佑他平安無事！
    ESC.SceneBreak()
::T789C::
    Scene.M_PrintW_EA(789, 8, 4, StringDB('ESS2037')) -- ESS=我已經在大馬士革住這麼久了，現在要離開實...
    ESC.TurnFace(772, 789)
    ESC.TurnFace(789, 772)
    Scene.M_PrintW_EA(772, 9, 3, StringDB('ESS2038')) -- ESS=這也是沒辦法的事，希望我們還有機會回來。...
end

--------------------------------------------------------------------------------------------
function Scene.TALK791()
    -- 旅行商人迪克
    if GameFunc.GetFlag(136) then goto T791D end -- 戰爭結束
    if GameFunc.GetFlag(132) then goto T791C end -- 出血腥迷宮
    if GameFunc.GetFlag(119) then goto T791B end
    if GameFunc.GetFlag(4049) then goto T791E end -- 女奴拍賣
    if GameFunc.GetFlag(115) then goto T791A end
    Scene.M_Print_EA(791, StringDB('ESS2039')) -- ESS=駱駝是在沙漠地區經商的人所必備的交通工具...
    Scene.M_PrintNN_EA(791, StringDB('ESS2040')) -- ESS=我打算組個駱駝商隊，到世界各地做生意。
    ESC.SceneBreak()
::T791A::
    Scene.M_Print_EA(791, StringDB('ESS2041')) -- ESS=不知怎麼搞的，我的駱駝商隊都招不到傭工。...
    Scene.M_PrintNN_EA(791, StringDB('ESS2042')) -- ESS=我本來想前往突厥做生意的，看來只好作罷了...
    ESC.SceneBreak()
::T791B::
    Scene.M_Print_EA(791, StringDB('ESS2043')) -- ESS=原來快要戰爭了，難怪我的駱駝商隊都招不到...
    Scene.M_PrintNN_EA(791, StringDB('ESS2044')) -- ESS=前往突厥做生意的計畫，看來只好打消了。
    ESC.SceneBreak()
::T791C::
    Scene.M_PrintW_EA(791, 9, 3, StringDB('ESS2045')) -- ESS=希望戰爭趕快結束，我的駱駝商隊能順利招到...
    Scene.M_PrintNON_EA(791, 9, 3, StringDB('ESS2046')) -- ESS=這一趟前往突厥做生意，要採買什麼貨物可得...
    ESC.SceneBreak()
::T791D::
    Scene.M_Print_EA(791, StringDB('ESS2047')) -- ESS=戰爭結束後物資缺乏，正是做生意的大好時機...
    Scene.M_PrintNON_EA(791, 8, 4, StringDB('ESS2048')) -- ESS=只要動作快一點，等我的駱駝商隊從突厥採買...
    ESC.SceneBreak()
::T791E::
    ESC.Caption(791)
    Scene.Print_W (791 ,9008,9*2,3*2,StringDB('ESS2049')) -- ESS=我的商隊人手不足，趁現在買個女奴來幫我處...
    ESC.WaitDLG(791)
    Scene.SellSlave()
end
---------------------------------------------------------------------------------------
function Scene.TALK794()
    local select
    -- 分珠子的數學題 <如果要改的話，不可以給薰衣草>
    if GameFunc.GetFlag(365) then goto T794B end

    ESC.TurnFace(770, 1)
    ESC.TurnFace(769, 1)
    ESC.TurnFace(794, 1)
    if GameFunc.GetFlag(363) then goto T794 end
    GameFunc.FlagOn(363)
    Scene.QuestOn(2)
    Scene.WORD_ON_HEAD(770, 6, 10, -40, StringDB('ESS2050')) -- ESS=唉！
    Scene.WORD_ON_HEAD(769, 5, 10, -40, StringDB('ESS2050')) -- ESS=唉！
    Scene.WORD_ON_HEAD(794, 3, 10, -40, StringDB('ESS2050')) -- ESS=唉！

    ESC.Caption2(1)
    ESC.Print(1,9008,StringDB('ESS2051')) -- ESS=你們三個為甚麼嘆氣呢？
    ESC.WaitDLG(1)
    Scene.M_Print_EA(770, StringDB('ESS2052')) -- ESS=怪我們家主人呀！送我們珠寶，還要先考我們...
    Scene.M_Print_EA(794, StringDB('ESS2053')) -- ESS=我老公拿出十七顆大珍珠，要我們三個照他的...
    ESC.Caption2(1)
    ESC.Print(1,9008,StringDB('ESS2054')) -- ESS=哦？怎麼分這些珍珠？
    ESC.WaitDLG(1)
::T794::
    Scene.M_PrintW_EA(769, 9, 5, StringDB('ESS2055')) -- ESS=爸爸是這樣規定的：十七顆珍珠中，媽媽可得...
    Scene.M_Print_EA(794, StringDB('ESS2056')..'%N'..StringDB('SESS2')) -- ESS=可以教我們怎麼分配嗎？%B Ｙ .／%B...
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T794Y
    end
    ---------------
::T794N::
    ESC.Caption2(1)
    Scene.Print_W(1,9008,6*2,2*2,StringDB('ESS2057')) -- ESS=抱歉！%N我也不會。
    ESC.WaitDLG(1)
    ESC.ChangeDIR(770, 1)
    ESC.ChangeDIR(769, 6)
    ESC.ChangeDIR(794, 5)
    Scene.WORD_ON_HEAD(770, 4, 10, -40, StringDB('ESS2050')) -- ESS=唉！
    Scene.WORD_ON_HEAD(769, 2, 10, -40, StringDB('ESS2050')) -- ESS=唉！
    Scene.WORD_ON_HEAD(794, 1, 10, -40, StringDB('ESS2050')) -- ESS=唉！
    ESC.SceneBreak()
::T794Y::
    -- 回答太太拿多少，正確為9
    Scene.AutoPrint_M(1,StringDB('ESS2058')) -- ESS=太太歐札拿到%N%B ０ .%B １ ....
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select ~= 10 then
        GameFunc.FlagOn(364)
    end
    -- 回答女兒拿多少，正確為6
    Scene.AutoPrint_M(1,StringDB('ESS2059')) -- ESS=女兒莎米拉拿到%N%B ０ .%B １ ...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select ~= 7 then
        GameFunc.FlagOn(364)
    end
    -- 回答女僕拿多少，正確為2
    Scene.AutoPrint_M(1,StringDB('ESS2060')) -- ESS=女僕蒂娜拿到%N%B ０ .%B １ ....
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select ~= 3 then
        GameFunc.FlagOn(364)
    end
    Scene.M_PrintW_EA(770, 8, 2, StringDB('ESS2061')) -- ESS=讓我們想想看。
    ESC.ChangeDIR(770, 1)
    ESC.ChangeDIR(769, 6)
    ESC.ChangeDIR(794, 5)
    ESC.AddHeadSign(770, 1)
    ESC.AddHeadSign(769, 1)
    ESC.AddHeadSign(794, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(770)
    ESC.DelHeadSign(769)
    ESC.DelHeadSign(794)
    if GameFunc.GetFlag(364) then goto T794A end
    ESC.TurnFace(770, 1)
    ESC.TurnFace(769, 1)
    ESC.TurnFace(794, 1)
    GameFunc.FlagOn(365)
    if GameFunc.GetFlag(224) and GameFunc.GetFlag(284) and GameFunc.GetFlag(287) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
        ACH.SetAchievement("ACH_8_1") -- 數學家成就
    end
    Scene.M_PrintW_EA(770, 10, 3, StringDB('ESS2062')) -- ESS=謝謝你！%N我們認為您說的沒錯。
    Scene.M_Print_EA(794, StringDB('ESS2063')) -- ESS=為了謝謝您，我們送您一些%C2香料%C4...
    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('ESS2064')) -- ESS=得到香料與茶葉
    ItemFunc.AddItem(826, 1)
    ItemFunc.AddItem(722, 1)
    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,2*2,StringDB('ESS2065')) -- ESS=特別的%C2茶葉%C4？
    ESC.WaitDLG(1)
    Scene.M_PrintW_EA(769, 8, 4, StringDB('ESS2066')) -- ESS=正確來說是可以泡茶喝的花草，薰衣草可以當...
    Scene.M_PrintNON_EA(770, 7, 3, StringDB('ESS2067')) -- ESS=我聽說東方的大唐，會拿%C2茉莉%C4來...
    Scene.M_PrintNON_EA(794, 7, 3, StringDB('ESS2068')) -- ESS=那種茶還有個很特別的名字，稱為%C2香片...
    ESC.ChangeDIR(770, 1)
    ESC.ChangeDIR(769, 6)
    ESC.ChangeDIR(794, 5)
    Scene.QuestOff(2)
    ESC.SceneBreak()
::T794A::
    ESC.TurnFace(770, 1)
    ESC.TurnFace(769, 1)
    ESC.TurnFace(794, 1)
    Scene.M_Print_EA(770, StringDB('ESS2069')) -- ESS=謝謝你，不過您分的似乎不對喔。
    ESC.ChangeDIR(770, 1)
    ESC.ChangeDIR(769, 6)
    ESC.ChangeDIR(794, 5)
    GameFunc.FlagOff(364)
    ESC.SceneBreak()
::T794B::
    Scene.M_Print_EA(770, StringDB('ESS2070')) -- ESS=真好，我可以拿來鑲成珍珠耳環。
    Scene.M_Print_EA(769, StringDB('ESS2071')) -- ESS=我可以拿金線串成手鍊。
    Scene.M_Print_EA(794, StringDB('ESS2072')) -- ESS=拿些金線銀線，加上這些珍珠，我打算請工匠...
end
--------------------------------------------------------------------------------------------
function Scene.TALK795()
    -- 占卜屋主
    if GameFunc.GetFlag(136) then goto T795E end -- 戰爭結束
    if GameFunc.GetFlag(132) then goto T795D end -- 出血腥迷宮
    if GameFunc.GetFlag(4028) then goto T795C end
    if GameFunc.GetFlag(115) then goto T795 end
    if GameFunc.GetFlag(242) then goto T795A end
    Scene.M_Print_EA(795, StringDB('ESS2073')) -- ESS=薇達小姐！%N您最近曾去過拜訪%C2肯迪...
    ESC.Caption(3)
    Scene.Print_W(1,9008,18,6,StringDB('ESS2074')) -- ESS=我正打算去拜訪他，有甚麼奇怪的事嗎？
    ESC.WaitDLG(1)
    Scene.M_PrintW_EA(795, 9, 3, StringDB('ESS2075')) -- ESS=最近我到%C2東邊%C4老師的家時，都沒...
    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    Scene.M_PrintW_EA(3, 8, 2, StringDB('ESS2076')) -- ESS=有這種事！！
    ESC.WaitDLG(1)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)
    Scene.AddPictureUp(3)
    Scene.OpenGlassUp(8)
    Scene.Glass_SRC1(1, StringDB('ESS2077')) -- ESS=肯迪老頭又在搞甚麼鬼？！
    Scene.DelPictureUp(3)
    Scene.CloseGlassUp()
    Scene.M_Print_EA(795, StringDB('ESS2078')) -- ESS=對了！目前%C2大馬士革全城戒備%C4，...
    ESC.Caption(3)
    ESC.Print(1,9008,StringDB('ESS2079')) -- ESS=謝謝你！%N我會留意的。
    ESC.WaitDLG(1)
    GameFunc.FlagOn(242)
    ESC.SceneBreak()
::T795A::
    Scene.M_PrintW_EA(795, 9, 3, StringDB('ESS2080')) -- ESS=要不是局勢有點亂，我真想再去%C2東邊%...
    ESC.SceneBreak()
::T795::
    if Scene.CheckParty(9) then goto T795B end
    Scene.M_PrintW_EA(795, 8, 4, StringDB('ESS2081')) -- ESS=占卜要是能百分之百準確，我早就變成大富婆...
    ESC.SceneBreak()
::T795B::
    Scene.M_Print_EA(9, StringDB('ESS2082')) -- ESS=洛克仙妮姐姐！
    Scene.M_Print_EA(795, StringDB('ESS2083')) -- ESS=小肯迪是你啊！好久不見了，老師的事我聽薇...
    Scene.M_PrintNN_EA(795, StringDB('ESS2084')) -- ESS=唉～老師還未傳授的學問，恐怕沒有人可以指...
    ESC.TurnFace(9, 795)
    Scene.M_Print_EA(9, StringDB('ESS2085')) -- ESS=沒關係啊！%N我們可以互相討論研究，一定...
    Scene.M_PrintNN_EA(795, StringDB('ESS2086')) -- ESS=說的也是！以我們的見解，說不定還能邁向新...
    GameFunc.FlagOn(4028)
::T795C::
    Scene.M_Print_EA(795, StringDB('ESS2087')) -- ESS=如果有甚麼書看不懂可以來問我，我會儘量幫...
    ESC.TurnFace(9, 795)
    Scene.M_Print_EA(9, StringDB('ESS2088')) -- ESS=目前還沒有～%N洛克仙妮姐姐謝謝妳。
    ESC.SceneBreak()
::T795D::
    Scene.M_Print_EA(795, StringDB('ESS2089')) -- ESS=阿拔斯家族可真厲害，哈里發王宮都快被打下...
    ESC.TurnFace(3, 795)
    Scene.M_Print_EA(3, StringDB('ESS2090')) -- ESS=這只是小意思，待我親自殺進去，他們的死期...
    ESC.SceneBreak()
::T795E::
    Scene.M_PrintW_EA(795, 8, 4, StringDB('ESS2091')) -- ESS=大馬士革內戰的結果，我早就算出來了，事實...
    Scene.M_PrintNON_EA(795, 8, 4, StringDB('ESS2092')) -- ESS=我的占星術進步神速，要達到肯迪老師的成就...
end

--------------------------------------------------------------------------------------------
function Scene.TALK796()
    -- 住在旅館的艾敏
    if GameFunc.GetFlag(119) then goto T796 end
    Scene.M_PrintW_EA(796, 8, 4, StringDB('ESS2093')) -- ESS=先知不鼓勵獨身，即使是清真寺的主禱，也可...
    Scene.M_PrintNN_EA(796, StringDB('ESS2094')) -- ESS=真不曉得那些不想結婚的人在想些甚麼？
    ESC.SceneBreak()
::T796::
    Scene.M_Print_EA(796, StringDB('ESS2095')) -- ESS=我有個美麗的妻子，我非常愛她，幾乎到了一...
    Scene.M_PrintNN_EA(796, StringDB('ESS2096')) -- ESS=我這次不得不出門，就買了一隻鸚鵡看家，因...
    Scene.M_PrintNN_EA(796, StringDB('ESS2097')) -- ESS=天知道我妻子會不會趁我不在，就紅杏出牆！...
end

--------------------------------------------------------------------------------------------
function Scene.TALK793()
    local select
    -- 阿里 請人顧房子
    if GameFunc.GetFlag(4009) then
        Scene.M_Print_EA(793, StringDB('ESS2098')) -- ESS=阿拉真主會懲罰你的！
        return
    end
    if GameFunc.GetFlag(4008) then
        Scene.M_Print_EA(793, StringDB('ESS2099')) -- ESS=願阿拉真主保佑你平安喜樂！
        return
    end
    if GameFunc.GetFlag(243) then goto T793A end
    Scene.M_Print_EA(793, StringDB('ESS2100')) -- ESS=我有緊急的事情要出門，可是房子裏有很多貴...
::T793A::
    Scene.M_Print_EA(793, StringDB('ESS2101')..'%N'..StringDB('SESS2')) -- ESS=可不可以麻煩你幫我看家？%N%B Ｙ ....
    select = ESC.GetBTNSelect()
    if select == 2 then
        -- 不幫阿里顧房子
        Scene.M_Print_EA(793, StringDB('ESS2102')) -- ESS=喔～天啊！%N我快要來不及了！
        GameFunc.FlagOn(243)
        return
    end

    -- 幫阿里顧房子
    Scene.M_Print_EA(793, StringDB('ESS2103')) -- ESS=謝謝你！我很快就會回來。
    ESC.RMUNlock()
    ESC.ChangeQQ(793, 8)
    ESC.BatchMove(1,    793, 30, 14)
    ESC.ChangeDIR(793, 0)
    ESC.Delay(600)
    ESC.TurnFace(793, 1)
    ESC.TurnFace(1, 793)
    ESC.ChangeQQ(793, 0)
    ESC.Print (793 ,9008,StringDB('ESS2104')) -- ESS=箱子裏的東西千萬別讓人動，包括你在內！
    ESC.ChangeQQ(793, 8)
    ESC.RMUNlock()
    ESC.ChangeQQ(793, 8)
    ESC.SetRoleSpeed(793, 1)
    ESC.BatchMove(1,    793, 22, 27)
    ESC.RoleDisable(793)
    GameFunc.FlagOn(76) -- 隱藏倒數計時
    ESC.TimeLimit(0, 50, 'TALK800')
    GameFunc.FlagOn(4004)
    ESC.TownTrans_Off(StringDB('ESS2105')) -- ESS=承諾幫人看家，不應離開。
    ESC.DungeonEsc_Off(StringDB('ESS2105')) -- ESS=承諾幫人看家，不應離開。
-- 倒數計時開始
    Scene.QuestOn(1)
    ESC.SceneBreak()


end

-- 顧房子時偷拿同一個寶箱控制只能拿一次
function Scene.T793GET()
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2106')) -- ESS=箱子裏面已經空了
    ESC.WaitDLG(0)
    ESC.SceneBreak()
end
-- 顧房子時偷拿同一個寶箱控制只能拿一次
function Scene.T793GOT()
    ESC.Caption2(1)
    ESC.Print(1,9008,StringDB('ESS2107')) -- ESS=真想全都拿了，可惜只能拿一個。
    ESC.WaitDLG(1)
    ESC.SceneBreak()
end
function Scene.TALK800()
    GameFunc.FlagOff(76)
    if not GameFunc.GetFlag(17) then goto T800AA end
    GameFunc.FlagOn(4016)
    GameFunc.FlagOff(17) -- 若在倒數至零時開選單，會維持在開關17 ＯＮ，故要自己將他關掉
    if GameFunc.MapID ~= 22 then goto T800_1 end
    -----   檢查主角是不是在煉妖壺中
    Scene.MoveHero(39, 67, 1)
    ESC.PlayACT(0, -8, -4, 6502, 0, 1) -- Scene.PlayACT(0, 330 , 230 , 6502 , 0)
    ESC.TILPA2(0, 6)
    ESC.RoleHide(1)
    ESC.TILPA2(0, 20)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    -----   **************************************
    -----   離開煉妖壺
    Scene.OutBottle()
    -----   **************************************
    ESC.FadeScreen(-30 , -30, -30 , 0, 0, 0 , 6)
    ESC.FadeWait()
::T800_1::

    if GameFunc.GetFlag(4012) then goto T800G end
    if GameFunc.GetFlag(4011) then goto T800F end
::T800AA::
    ESC.TimeLimitStop()
    ESC.TurnFace(1, 793)
    ESC.RoleEnable(793)
    ESC.ChangeQQ(793, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(2,
    1, 15, 20,
    793, 25, 18)
    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(793, 6)
    ESC.ChangeQQ(793, Const.STAND)
    Scene.SetGameValue(41, 0) -- 設變數41為0
    if Scene.CheckQQ(799, 0) then goto T800A end

    Scene.AddGameValue(41, 1) -- 變數41 +1
    ItemFunc.AddItem(681, -1)
::T800A::
    if Scene.CheckQQ(1051, 0) then goto T800B end
    Scene.AddGameValue(41, 1) -- 變數41 +1
    ItemFunc.AddItem(672, -1)
::T800B::
    if Scene.CheckQQ(1052, 0) then goto T800C end
    Scene.AddGameValue(41, 1) -- 變數41 +1
    ItemFunc.AddItem(896, -1)
::T800C::
    if Scene.CheckQQ(1053, 0) then goto T800D end
    Scene.AddGameValue(41, 1) -- 變數41 +1
    ItemFunc.AddItem(645, -1)
::T800D::
    if Scene.CheckQQ(1054, 0) then goto T800CHK end
    Scene.AddGameValue(41, 1) -- 變數41 +1
    ItemFunc.AddItem(629, -1)
::T800CHK::
    if Scene.GetGameValue(41) >= 1 then goto T800E end -- 當變數41大於等於1時跳到::T800E::
    if not GameFunc.GetFlag(4016) then goto T800CC end -- 時間到走出去什麼都沒拿
    Scene.QuestOff(1)
    Scene.M_PrintW_EA(793, 8, 4, StringDB('ESS2108')) -- ESS=真是太感激你了！%N因為你的幫忙，讓我做...
    Scene.M_PrintNN_EA(793, StringDB('ESS2109')) -- ESS=這五個箱子裏的寶貝，就任你挑選一個做為報...
    GameFunc.FlagOff(4004)
    GameFunc.FlagOn(4008)
    ESC.TownTrans_On()
    ESC.DungeonEsc_On()
    ESC.SceneBreak()

::T800CC:: --    時間沒到走出去 什麼都沒拿
    Scene.M_Print_EA(793, StringDB('ESS2110')) -- ESS=約定的時間還沒到耶，你怎麼就要離開了？
    Scene.M_PrintNN_EA(793, StringDB('ESS2111')) -- ESS=幸好我放心不下，半途折了回來。
    Scene.M_PrintNN_EA(793, StringDB('ESS2112')) -- ESS=哼！%N我就知道你這個人靠不住！
    Scene.QuestOff(1)
    ESC.ChangeQQ(793, Const.WALK)
    ESC.ChangePath(793, 402)
    ESC.Unlock(793)
    GameFunc.FlagOff(4004)
    GameFunc.FlagOn(4009)
    ESC.TownTrans_On()
    ESC.DungeonEsc_On()
    ESC.SceneBreak()

::T800E:: -- 有偷拿
    Scene.M_Print_EA(793, StringDB('ESS2113')) -- ESS=太過份了！你居然監守自盜，把東西還來！
    ESC.ChangeQQ(793, Const.WALK)
    ESC.ChangePath(793, 402)
    ESC.Unlock(793)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()-- 不用按鍵
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2114')) -- ESS=乖乖把東西還給阿里
    Scene.QuestOff(1)
    GameFunc.FlagOff(4004)
    GameFunc.FlagOn(4009)
    ESC.TownTrans_On()
    ESC.DungeonEsc_On()
    ESC.SceneBreak()

::T800F:: -- 若時間到主角還在二樓

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 1)
    ESC.Caption2(1)
    ESC.Print(1,9008,StringDB('ESS2115')) -- ESS=為何這麼久阿里還沒回來？我下樓去看看！
    ESC.WaitDLG(1)
    ESC.ChangeQQ(1, Const.WALK)
    Scene.MoveHero(10, 14, 6)
    goto T800GA
::T800G:: -- 若時間到主角還在三樓

    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 1)
    ESC.Caption2(1)
    ESC.Print(1,9008,StringDB('ESS2115')) -- ESS=為何這麼久阿里還沒回來？我下樓去看看！
    ESC.WaitDLG(1)
    ESC.ChangeQQ(1, Const.WALK)
    Scene.MoveHero(98, 18, 4)
::T800GA::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    -- MAPS ,X ,Y,ACT,QQ,DIR
    ESC.GotoMap(227 , 11, 5, -1, 0 , 6) ----1代表不改變原來的圖號
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
--  Scene.MoveHero(14, 20, 5)
    if GameFunc.GetFlag(4016) then goto T800AA end
end
--------------------------------------------------------------------------------------------
function Scene.TALK799()
    -- 阿里家的寶箱1一樓左
    if GameFunc.GetFlag(4008) then goto T799G end
    if GameFunc.GetFlag(4004) then goto T799E end
    if GameFunc.GetFlag(243) then goto T799F end
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2116')) -- ESS=喂喂喂！別亂動我的東西！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T799F::
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2117')) -- ESS=每個人都想打這些東西的腦筋！這樣我怎麼放...
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()

::T799G::
    if Scene.CheckQQ(799, 8) then Scene.T793GET() return end
    if GameFunc.GetFlag(4010) then Scene.T793GOT() return end -- 完成任務後拿過任一寶箱，要再開沒開過的寶箱時
::T799E::
    if Scene.CheckQQ(799, 8) then Scene.T793GET() return end
    ESC.ChangeQQ(799, 8)
    ItemFunc.AddItem(681, 1)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2118')) -- ESS=得到%T681.
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4010)
end

function Scene.TALK1051()
    -- 阿里家的寶箱2
    if GameFunc.GetFlag(4008) then goto T1051G end
    if GameFunc.GetFlag(4004) then goto T1051E end
    if GameFunc.GetFlag(243) then goto T1051F end
    ESC.TurnFace(793, 1)
    Scene.M_PrintW_EA(793, 8, 4, StringDB('ESS2119')) -- ESS=你沒有權力亂翻我的東西！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1051F::
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2120')) -- ESS=別想不勞而獲！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1051G::
    if Scene.CheckQQ(1051, 8) then Scene.T793GET() return end
    if GameFunc.GetFlag(4010) then Scene.T793GOT() return end
::T1051E::
    if Scene.CheckQQ(1051, 8) then Scene.T793GET() return end
    ESC.ChangeQQ(1051, 8)
    ItemFunc.AddItem(672, 1)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS1644')) -- ESS=得到%T672.
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4010)
end

function Scene.TALK1052()
    -- 阿里家的寶箱3
    if GameFunc.GetFlag(4008) then goto T1052G end
    if GameFunc.GetFlag(4004) then goto T1052E end
    if GameFunc.GetFlag(243) then goto T1052F end
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2121')) -- ESS=偷竊者會被處以斷掌之刑！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1052F::
    ESC.TurnFace(793, 1)
    Scene.M_PrintW_EA(793, 8, 4, StringDB('ESS2122')) -- ESS=你有手有腳，為什麼不努力工作？只想搜刮別...
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1052G::
    if Scene.CheckQQ(1052, 8) then Scene.T793GET() return end
    if GameFunc.GetFlag(4010) then Scene.T793GOT() return end
::T1052E::
    if Scene.CheckQQ(1052, 8) then Scene.T793GET() return end
    ESC.ChangeQQ(1052, 8)
    ItemFunc.AddItem(896, 1)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2123')) -- ESS=得到%T896.
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4010)
end

function Scene.TALK1053()
    -- 阿里家的寶箱4一樓右
    if GameFunc.GetFlag(4008) then goto T1053G end
    if GameFunc.GetFlag(4004) then goto T1053E end
    if GameFunc.GetFlag(243) then goto T1053F end
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2124')) -- ESS=小心點！碰壞了你可賠不起！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1053F::
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2125')) -- ESS=你再這樣我可要報官了！！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.ChangeDIR(793, 6)
    ESC.SceneBreak()

::T1053G::
    if Scene.CheckQQ(1053, 8) then Scene.T793GET() return end
    if GameFunc.GetFlag(4010) then Scene.T793GOT() return end
::T1053E::
    if Scene.CheckQQ(1053, 8) then Scene.T793GET() return end
    ESC.ChangeQQ(1053, 8)
    ItemFunc.AddItem(645, 1)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2126')) -- ESS=得到%T645.
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4010)
end

function Scene.TALK1054()
    -- 阿里家的寶箱5
    if GameFunc.GetFlag(4008) then goto T1054G end
    if GameFunc.GetFlag(4004) then goto T1054E end
    if GameFunc.GetFlag(243) then goto T1054F end
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2127')) -- ESS=在別人家裏翻箱倒櫃，你不會不好意思嗎？
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1054F::
    ESC.TurnFace(793, 1)
    Scene.M_Print_EA(793, StringDB('ESS2128')) -- ESS=不幫忙請你馬上離開！！
    ESC.Unlock(793)
    ESC.ChangeQQ(793, 8)
    ESC.SceneBreak()
::T1054G::
    if Scene.CheckQQ(1054, 8) then Scene.T793GET() return end
    if GameFunc.GetFlag(4010) then Scene.T793GOT() return end
::T1054E::
    if Scene.CheckQQ(1054, 8) then Scene.T793GET() return end
    ESC.ChangeQQ(1054, 8)
    ItemFunc.AddItem(629, 1)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2129')) -- ESS=得到%T629.
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4010)
end
-- ◎奧斯曼被波爾追，先將原來的妮可波爾DISABLE掉 ---------------------------------
function Scene.TALK1056()
    if GameFunc.GetFlag(4024) then goto T1056G end -- 離開煉妖壺前之對話
    if GameFunc.GetFlag(4023) then goto T1056F end -- 在煉妖壺打贏奧斯曼前，妮可對話控制
    if GameFunc.GetFlag(4022) then goto T1056E end -- 波爾被冰凍後
    if GameFunc.GetFlag(4021) then goto T1056D end -- 將波爾冰凍
    if GameFunc.GetFlag(4020) then goto T1056C end -- 奧斯曼不敢動
    if GameFunc.GetFlag(4019) then goto T1056B end -- 叫波爾坐下
    if GameFunc.GetFlag(4018) then goto T1056A end -- 跟奧斯曼對話過後
    ESC.Caption(2)
    ESC.OnHead(-80, -120)
    ESC.Print(1055,9008,StringDB('ESS2130')) -- ESS=呵呵呵！%N波爾咬他～咬他！
    ESC.WaitDLG(1055)
    ESC.SceneBreak()
::T1056A::
    Scene.MoveHero(74, 43, 2)
    ESC.TakeActData(1, 1, 32, 2)
    Scene.M_Print_EA(1, StringDB('ESS2131')) -- ESS=不許再胡鬧了！%N快放奧斯曼回去。
    ESC.Caption(2)
    ESC.OnHead(-80, -120)
    ESC.Print(1055,9008,StringDB('ESS2132')) -- ESS=才不要！%N我還沒玩夠呢！
    ESC.WaitDLG(1055)
    Scene.M_Print_EA(1, StringDB('ESS2133')) -- ESS=我說的話妳都不聽嗎？
    ESC.Caption(2)
    ESC.OnHead(-80, -120)
    ESC.Print(1055,9008,StringDB('ESS2134')) -- ESS=哼！你每次都只會%N兇人家！
    ESC.WaitDLG(1055)
    ESC.RoleMove(1056, 71, 40)
    ESC.TakeActData(1, 1, 0, 2)
    ESC.TakeActData(1056, 2, 16, 5)
    ESC.RMUNlock()
    ESC.BatchMovePenetrate(1056)
    ESC.SetMoveHISpeed(1056)
    ESC.BatchMove(1,    1056, 86, 54)
    ESC.Z_Mid(1056)
    ESC.TakeActData(1056, 2, 0, 1)
    ESC.RoleMove(1055, 86, 54)
    GameFunc.FlagOn(4019)
    ESC.SceneBreak()
::T1056B::
    ESC.TurnFace(1056, 1)
    Scene.M_Print_EA(1, StringDB('ESS2135')) -- ESS=快讓波爾安靜點！%N把人家嚇壞了。
    ESC.TurnFace(1056, 1057)
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2136')) -- ESS=波爾！%N坐下！
    ESC.WaitDLG(1055)
    ESC.TakeActData(1057, 30, 0, 5)
    GameFunc.FlagOn(4020)
    ESC.SceneBreak()
::T1056C::
    ESC.TurnFace(1056, 1)
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2137')) -- ESS=波爾很乖吧！
    ESC.WaitDLG(1055)
    ESC.TurnFace(1056, 1057)
    ESC.SceneBreak()
::T1056D::
    Scene.MoveHero(90, 56, 4)
    ESC.ChangeDIR(1056, 5)
    Scene.M_Print_EA(1, StringDB('ESS2138')) -- ESS=妮可！%N這樣不行啊！
    ESC.ChangeDIR(1056, 1)
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2139')) -- ESS=我讓波爾動不了就成了吧！
    ESC.WaitDLG(1055)
    ESC.RoleLock(1058) -- 取得奧斯曼的控制權
    ESC.ChangePath(1058, 0)
    ESC.TakeActData(1058, -1 , 0 , 6) -- 奧斯曼看波爾
    ESC.TurnFace(1, 1057)
    ESC.TakeActData(1056, -1 , 54 , 0) -- 妮可舉手施法
    ESC.Unlock(1056)
    ESC.Delay(200)
    Scene.PlayACT(0, 216 , 420 , 6011 , 1) -- 全畫面的長,寬,ACT號碼,QQ一般要被八整除這裏不用,
    ESC.TILPA2(0, 6) -- 當此動畫播到第六張時往下執行
    ESC.TakeActData(1056, -1 , 0 , 1) -- 妮可原地站立
    ESC.TakeActData(1057 , -1 , 52 , 0) -- 波爾被冰凍
    ESC.Z_High(1056)
    ESC.TakeActData(1056, 2, 16, 7)
    ESC.BatchMovePenetrate(1056)
    ESC.SetMoveHISpeed(1056)
    ESC.BatchMove(1,    1056, 80, 40)
    ESC.RoleMove(1056, 69, 43)
    ESC.TakeActData(1056, 2, 71, 0)
    ESC.RoleMove(1055, 69, 37)
    ESC.Unlock(1056)
    GameFunc.FlagOff(4019)
    ESC.ChangeQQ(1058, 8)
    ESC.BatchMove(1,    1058, 93, 59)
    ESC.ChangeDIR(1058, 0)
    ESC.Z_Mid(1058)
    ESC.TakeActData(1058, -1, 16, 0)
    ESC.Delay(300)
    ESC.SetMoveHISpeed(1058)
    ESC.BatchMove(1,    1058, 91, 40)
    ESC.ChangeDIR(1058, 1)
    ESC.RoleMove(1058, 76, 40)
    ESC.SetMoveHISpeed(1058)
    ESC.BatchMove(1,    1058, 68, 51)
    ESC.TakeActData(1058, -1, 0, 5)
    ESC.RoleMove(1058, 23, 57)
    GameFunc.FlagOn(4022)
    ESC.SceneBreak()
::T1056E::
    Scene.MoveHero(74, 43, 2)
    ESC.TakeActData(1, 1, 32, 2)
    Scene.M_Print_EA(1, StringDB('ESS2140')) -- ESS=妮可這次就算了！下次再胡鬧我可不饒妳。
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2141')) -- ESS=你想算了～～%N可是奧斯曼恐怕不會罷休。...
    ESC.WaitDLG(1055)
    GameFunc.FlagOn(4023)
    ESC.SceneBreak()
::T1056F::
    Scene.MoveHero(74, 43, 2)
    ESC.TakeActData(1, 1, 32, 2)
    Scene.M_Print_EA(1, StringDB('ESS2142')) -- ESS=以後別再拿人命開玩笑了。
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2143')) -- ESS=我已經玩膩了，快把他帶出去吧，再遲就來不...
    ESC.WaitDLG(1055)
    ESC.SceneBreak()
::T1056G::
    Scene.MoveHero(74, 43, 2)
    ESC.TakeActData(1, 1, 32, 2)
    ESC.Caption(2)
    ESC.Print(1055,9008,StringDB('ESS2144')) -- ESS=賽特再見～～%N有空要常進來找我玩喔！
    ESC.WaitDLG(1055)
end


--------------------------------------------------------------------------------------------
function Scene.TALK1064()
    ESC.Caption(1064)
    Scene.Print_W (1064 ,9008,8*2,3*2,StringDB('ESS2145')) -- ESS=請看在阿拉的份上救救我！
    ESC.WaitDLG(1064)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1065()
    Scene.MoveHero(64, 35, 2)
    ESC.ChangeDIR(1065, 5)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS2146')) -- ESS=恩人！我準備了一點小禮物，不成敬意還請笑...
    ESC.WaitDLG(1065)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS1999')) -- ESS=得到%T912.
    ItemFunc.AddItem(912, 1)
    ESC.WaitDLG(0)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS2000')) -- ESS=希望日後還有在見面的機會！
    ESC.WaitDLG(1065)
    ESC.ChangeDIR(1065, 0)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,StringDB('ESS2001')) -- ESS=辜露！%N我們該走了！
    ESC.WaitDLG(1065)
    ESC.ChangeQQ(1059, 8)
    ESC.ChangeQQ(1065, 8)
    ESC.BatchMove(2,
    1059, 59, 39,
    1065, 59, 40)
    ESC.BatchMove(2,
    1059, 43, 40,
    1065, 43, 40)
    ESC.RoleDisable(1059)
    ESC.RoleDisable(1065)
end
--------------------------------------------------------------------------------------------
function Scene.TALK801()
    Scene.OutCity_NPC(200, 66, 47, 2)
end



-- ──────────────────────────────────────【小肯迪登場】

function Scene.TALK802()


    Scene.ChangeMap(251, 28, 44, 0)
    if GameFunc.GetFlag(1060) then Scene.T802_ARAB() return end -- 問阿拉伯的歷史
    if GameFunc.GetFlag(119) then return end
    if GameFunc.GetFlag(118) then goto T_MAPS end -- 麥爾丹找書事件開始
    if GameFunc.GetFlag(7044) then goto T802 end-- 第一次進肯迪家
    ESC.SceneBreak()


::T802::    -- 肯迪家故事段1    薇達得知阿拔斯家族起兵
    ESC.ChangeScript(322, 'TALK813')
    ESC.ChangeScript(323, 'TALK813')
    ESC.ChangeScript(327, 'TALK813')
    ESC.ChangeScript(328, 'TALK813')
    ESC.ChangeScript(329, 'TALK813')


    GameFunc.FlagOn(10)
    ESC.Delay(300)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 26, 38)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 3)
    ESC.Delay(300)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2147')) -- ESS=賽特先生，請跟著我走，%N我來為你引薦一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetPos(3, 20+1, 28)
    ESC.SetPos(1, 19, 30)



::T802_3::
    ESC.BatchStep( 2,   3, 1)
    if not ESC.RoleReach(3) then goto T802_1 end
    ESC.TakeActData(3, -1, Const.STAND, 4)
::T802_1::
    if not ESC.RoleReach(1) then goto T802_2 end
    ESC.TakeActData(1, -1, Const.STAND, 0)
::T802_2::
    if not ESC.IsAllReach() then
        goto T802_3
    end
    ESC.Delay(300)



    ESC.ChangeDIR(3, 4) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2148')) -- ESS=───肯迪大師！%N這位是遠從西方%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 52, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2149')) -- ESS=是…薇…薇達嗎？%N咳…咳咳…咳咳……%...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 52)


    ESC.Delay(300)
    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    ESC.TakeActData(3, -1, Const.STAND, 4)


    Scene.MBOn(3, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2150')) -- ESS=……肯迪大師，%N您的聲音…怎麼和以前不...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 52, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2151')) -- ESS=是…是嗎？%N咳…咳咳…咳…%N大概是風...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 52)




    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    ESC.SetRoleSpeed(3, 0)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,     --  薇達走到肯迪前
    3, 20, 28)
    ESC.RoleHide(3)


    ESC.ChangeDIR(9, 1) -- 薇達瞪著肯迪
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 0)
    Scene.SAR_ACTCycle(9, 0)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(0, 0, 0x4000) -- 【劇情音樂】無聲


    ESC.ChangeDIR(9, 1) -- 薇達拔掉肯迪鬍子
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 0)
    Scene.SAR_ACTCycle(9, 0)
    ESC.Delay(30)

    ESC.ChangeDIR(9, 1)
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 1)
    Scene.SAR_ACTCycle(9, 0)
    ESC.Delay(30)

    ESC.ChangeDIR(9, 1)
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 2)
    Scene.SAR_ACTCycle(9, 0)
    ESC.Delay(30)

    ESC.ChangeDIR(9, 1)
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 3)
    Scene.SAR_ACTCycle(9, 0)
    ESC.Delay(30)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(7)
    ESC.DLGNoCloseKey()
    Scene.Print_W(9,9007,7*2,1*2,StringDB('ESS2152')) -- ESS=哇哇哇───
    ESC.WaitDLG3(9)



    ESC.ChangeDIR(9, 1) -- 薇達拔掉肯迪鬍子
    ESC.ChangeQQ(9, 52)
    ESC.SeekACT(9, 4)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)


    ESC.TakeActData(9, -1, 0, 5)
    ESC.TakeActData(3, -1, Const.STAND, 4)
    ESC.RoleShow(3)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2153')) -- ESS=妳幹嘛啦────？%N妳這樣子人家很痛耶...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,     --  薇達走到肯迪旁
    3, 20+1, 28-2)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeDIR(3, 6)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2154')) -- ESS=小肯迪，果然是你！%N你的薇達姊姊今天帶...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2155')) -- ESS=沒有啦────！%N人家只是…只是…為了...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)




    ESC.ChangeRoleMap(29, 251, 000, 28, 45, 029, Const.WALK , 4)
    ESC.BatchMove(1,    29, 27, 41-2)


    Scene.MBOn(29, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2156')) -- ESS=薇…薇達小姐，%N請您原諒小主人，%N他...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.TurnFace(1, 29)
    ESC.TurnFace(3, 29)
    ESC.BatchMove(1,    29, 25, 34+1)
    ESC.TakeActData(29, -1, 0, 6)
    ESC.TurnFace(29, 3)



    Scene.MBOn(29, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2157')) -- ESS=不瞞您說，我們家的老主人…%N上個月就已...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(72, 72, 0x4000) -- 【劇情音樂】伊斯蘭世界



    ESC.AddHeadSign(3, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(3)




    ESC.SetRoleSpeed(3, 1)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,     --  薇達走到向前旁
    3, 21+1, 26+3)
    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)



    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2158')) -- ESS=這是真的嗎？%N人這麼好的肯迪大師……%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(3, 1) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)


    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2159')) -- ESS=他真的是一個……很好的老人，%N願真主保...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.SetRoleSpeed(3, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 21, 26)
    ESC.ChangeDIR(3, 1) -- 薇達半跪
    ESC.ChangeQQ(3, 61)
    ESC.SeekACT(3, 7)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)


    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2160')) -- ESS=對不起，小肯迪，%N剛才對你這麼兇……%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2161')) -- ESS=你父母早逝，沒想到現在唯一親人的爺爺，也...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 0)


    Scene.MBOn(29, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2162')) -- ESS=我們害怕%C7歐馬亞家族%C5的人知道這...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.ChangeDIR(3, 1) -- 薇達半跪
    ESC.ChangeQQ(3, 61)
    ESC.SeekACT(3, 7)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)
    ESC.TakeActData(3, -1, Const.STAND, 5)


    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2163')) -- ESS=搶祕密地圖？%N──這是怎麼一回事？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.TurnFace(3, 29)
    ESC.TurnFace(1, 29)


    Scene.MBOn(29, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2164')) -- ESS=那是主人生前一直祕藏之關於某種%C7邪惡...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2165')) -- ESS=哼，可惡的歐馬亞家！%N自己不正不當來得...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.TurnFace(3, 1)
    ESC.TurnFace(1, 3)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2166')) -- ESS=薇達，%N還有沒有其他專家？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2167')) -- ESS=也不能說沒有…%N但肯迪大師可說是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2168')) -- ESS=喂！%N你先說你想學什麼，%N我可以給你...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    ESC.TurnFace(1, 9)
    ESC.Delay(500)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2169')) -- ESS=───戰爭的不敗之法！%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2170')) -- ESS=笨蛋，%N沒那種東西啦！%N有的話，世界...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2171')) -- ESS=別懷疑！%N我經常把爺爺的書拿出來翻翻，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2172')) -- ESS=你想學的，應該比較接近以前%C7巴比倫%...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)


    ESC.TurnFace(1, 3)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2173')) -- ESS=薇達，那我先暫時留在這裏好了，順便學習閱...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(3, 9)
    ESC.Delay(50)
    ESC.TurnFace(3, 1)
    ESC.Delay(50)
    ESC.TurnFace(3, 9)
    ESC.Delay(250)
    ESC.TurnFace(3, 1)
    ESC.Delay(250)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2174')) -- ESS=你們兩個人……%N一個是才剛要起步學阿拉...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(0, 0, 0x2000) -- 【劇情音樂】無聲




    ESC.ChangeRoleMap(641, 251, 000, 28, 45, 411, Const.WALK, 4)
    ESC.RoleEnable(641)
    ESC.BatchMove(1,    641, 22+3, 35+3)
    ESC.TakeActData(641, -1, Const.STAND, 4)


    ESC.Caption(601)
    Scene.Print_W(641,9008,7*2,2*2,StringDB('ESS2175')) -- ESS=薇達小姐！%N您果然在這兒！
    ESC.WaitDLG(641)


    ESC.TurnFace(3, 641)
    ESC.TurnFace(1, 641)
    ESC.TurnFace(9, 641)
    ESC.TurnFace(29, 641)




    ESC.Caption(3)
    Scene.Print_W(3,9008,8*2,3*2,StringDB('ESS2176')) -- ESS=什麼事，艾許？%N我不是叫你們先回大馬士...
    ESC.WaitDLG(3)




    ESC.StoryMusic(122, 25, 0x2000) -- 【劇情音樂】不安＋無聲



    ESC.Caption(601)
    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS2177')) -- ESS=阿拔斯家%C4（黑衣大食）的%C2阿布%...
    ESC.WaitDLG(641)


    Scene.Print_W(641,9008,11*2,4*2,StringDB('ESS2178')) -- ESS=大人知道%C2古萊家領袖%C4的您也回來...
    ESC.WaitDLG(641)


    ESC.Caption(3)
    Scene.Print_W(3,9008,10*2,3*2,StringDB('ESS2179')) -- ESS=太好了！%N%C2先知%C4的後代，終於...
    ESC.WaitDLG(3)


    ESC.Unlock(3)
    ESC.TakeActData(3, -1, 60, 0)
    ESC.TILPA1(3, 3)


    Scene.Print_W(3,9008,10*2,3*2,StringDB('ESS2180')) -- ESS=我以真主之名立誓，誓死打倒歐亞馬家，支持...
    ESC.WaitDLG(3)



    ESC.SetRoleSpeed(3, 99)
    ESC.TakeActData(3, -1, 59, 1)
    ESC.Delay(300)


    ESC.TakeActData(3, -1, 0, 5)
    ESC.RestoreRoleSpeed(3)


    ESC.TakeActData(3 , -1, 0 , 6)
    ESC.TurnFace(3, 1)



    Scene.MBOn(3, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2181')) -- ESS=賽特，我必須先離開了……%N我是古萊家的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.TurnFace(1, 3)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2182')) -- ESS=非常謝謝妳的嚮導，我會在這裏好好學習──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.SetRoleSpeed(3, 1)
    ESC.ChangeDIR(1, 5) -- 看著薇達離開
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(641, Const.WALK)
    ESC.SetPos(3, 27, 45-5)
    ESC.SetPos(641, 29, 45)


::T802_4::
    ESC.BatchStep( 2,   3, 641)
    if not ESC.RoleReach(3) then goto T802_5 end
    ::T802_5::
    if not ESC.RoleReach(641) then goto T802_6 end
    ESC.RoleDisable(641)
::T802_6::
    if not ESC.IsAllReach() then
        goto T802_4
    end



    ESC.ChangeQQ(3, Const.STAND)

    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 4)
    ESC.ChangeQQ(3, Const.STAND)




    Scene.MBOn(3, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2183')) -- ESS=賽特先生……%N你會一直…都留在這兒吧？...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2184')) -- ESS=我一段時間都會在這裏，%N隨時有機會可以...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)


    ESC.SetRoleSpeed(3, 2)
    ESC.ChangeQQ(3, Const.RUN)
    ESC.BatchMove(1,    3, 27, 45)
    ESC.RoleDisable(3)


    ESC.TurnFace(29, 1)


    ESC.Caption(29)
    Scene.Print_W(29,9008,7*2,3*2,StringDB('ESS2185')) -- ESS=小主人，我到外面看看，您自己多小心點……...
    ESC.WaitDLG(29)


    ESC.ChangeQQ(29, Const.WALK)
    ESC.BatchMove(1,    29, 28, 45)



    Scene.SAR_TurnFace(29, 1) -- 設薩西說話會轉頭
    ESC.ChangeRoleMap( 29, 250, 000, 34, 35, 29, Const.STAND, 6)
    ESC.RMUNlock()


    GameFunc.FlagOn(116)
    GameFunc.FlagOn(1060) -- 向肯迪問阿拉伯的政治情勢
    GameFunc.FlagOff(7044) -- 關掉第一次進肯迪家
    GameFunc.FlagOff(10)
    Scene.BattleSupportOff(3) -- 薇達 -- 薇達離隊
    Scene.QuestOff(85)
    Scene.QuestOn(86)


    ESC.StoryMusicOff()

    ESC.SceneBreak()


-- ──────────────────────────────────────【麥爾丹搜地圖事件】

::T_MAPS:: -- 進屋看到麥爾丹翻箱倒櫃
    GameFunc.FlagOn(10)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 21, 31)
    ESC.TakeActData(1, -1, 0, 7)
    ESC.ChangeDIR(323, 0)
    ESC.TILPA1(327, 4)
    ESC.ChangeDIR(323, 2)
    ESC.TILPA1(327, 4)
    ESC.ChangeDIR(323, 1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2186')) -- ESS=你們在幹什麼？%N這裏可是別人的家呀──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(25, 1)


    Scene.MBOn(25, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2187')) -- ESS=哼，肯迪這臭老頭，%N生前欠我們%C7歐...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)



    ESC.ChangeRoleMap(29, 251, 000, 29, 45, 029, Const.WALK, 4)
    ESC.BatchMove(1,    29, 29, 33)
    ESC.TakeActData(29, -1, 0, 4)



    Scene.MBOn(29, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2188')) -- ESS=麥爾丹大人，%N請…請不要這樣子……%N...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.ChangeQQ(322, Const.WALK)
    ESC.BatchMove(1,    322, 28, 28)
    ESC.TakeActData(322, -1, 0, 2)
    ESC.TurnFace(322, 25)


    ESC.Caption(228)
    Scene.Print_W(322,9008,8*2,3*2,StringDB('ESS2189')) -- ESS=麥爾丹大人，找到了……您看是不是這個？
    ESC.WaitDLG(322)



    ESC.TakeActData(323, 602, 0, 7)
    ESC.TakeActData(327, 412, 0, 7)
    ESC.TakeActData(328, 602, 0, 4)
    ESC.TakeActData(329, 601, 0, 4)
    ESC.TurnFace(323, 25)
    ESC.TurnFace(328, 25)
    ESC.TurnFace(327, 25)
    ESC.TurnFace(329, 25)
    ESC.TurnFace(25, 322)


    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,2*2,StringDB('ESS2190')) -- ESS=沒錯，就是這個！就是這張%C2地圖%C4...
    ESC.WaitDLG(25)


    ESC.ChangeDIR(25, 1)


    Scene.MBOn(25, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2191')) -- ESS=好，東西搜到了！%N大家走───
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.SetRoleSpeed(322, 1)
    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(328, 1)
    ESC.SetRoleSpeed(329, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 33, 31)
    ESC.BatchMove(1,    25, 28, 44)
    ESC.RoleDisable(25)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(29, 1)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.ChangeQQ(329, Const.WALK)
    ESC.BatchMovePenetrate(328)
    ESC.SetPos(322, 28, 44)
    ESC.SetPos(323, 28, 44)
    ESC.SetPos(327, 28, 44)
    ESC.SetPos(328, 28, 44)
    ESC.SetPos(329, 28, 44)
::TMAPS_1::
    ESC.BatchStep( 5,   322, 323, 327, 328, 329)
    if not ESC.RoleReach(322) then goto TMAPS_2 end
    ESC.RestoreRoleSpeed(322)
    ESC.RoleDisable(322)
::TMAPS_2::
    if not ESC.RoleReach(323) then goto TMAPS_3 end
    ESC.RestoreRoleSpeed(323)
    ESC.RoleDisable(323)
::TMAPS_3::
    if not ESC.RoleReach(327) then goto TMAPS_4 end
    ESC.RestoreRoleSpeed(327)
    ESC.RoleDisable(327)
::TMAPS_4::
    if not ESC.RoleReach(328) then goto TMAPS_5 end
    ESC.RestoreRoleSpeed(328)
    ESC.RoleDisable(328)
::TMAPS_5::
    if not ESC.RoleReach(329) then goto TMAPS_6 end
    ESC.RestoreRoleSpeed(329)
    ESC.RoleDisable(329)
::TMAPS_6::
    if not ESC.IsAllReach() then
        goto TMAPS_1
    end

    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)

    ESC.RoleMove(9, 27, 45)
    ESC.RoleEnable(9)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 27, 36)
    ESC.TakeActData(9, -1, 0, 7)
    ESC.TurnFace(1, 9)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2192')) -- ESS=發生什麼事了───？%N我剛才看見%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)


    ESC.TurnFace(29, 9)


    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2193')) -- ESS=小主人呀，這下大事不好了──%N歐…歐馬...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2194')) -- ESS=到底是怎麼一回事？%N那些人幹嘛特地來搶...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(9, 1)

    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2195')) -- ESS=剛才帶頭那人叫%C7麥爾丹%C5，是%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2196')) -- ESS=剛才被搶走那張爺爺的地圖，記載一位%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(1, 1) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2197')) -- ESS=奇怪，%N那他們要找那麼可怕的惡魔幹什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2198')) -- ESS=大笨蛋──%N%C7薇達%C5她最近不是...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 1) -- 賽特抱臂
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2199')) -- ESS=所以麥爾丹他們，一定是走投無路，想放出惡...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(1, 1) -- 賽特抱臂沈思
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2200')) -- ESS=他們能控制那個惡魔？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(1, 1) -- 賽特抱臂
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2201')) -- ESS=───別鬧了！%N爺爺說他當初也花了不少...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.Delay(300)
    ESC.ChangeDIR(1, 1) -- 賽特抱臂沈思
    ESC.ChangeQQ(1, 32)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(1500)
    ESC.DelHeadSign(1)
    ESC.Delay(300)



    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 21, 37)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2202')) -- ESS=走吧────！%N那我們也出發，去攔截他...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2203')) -- ESS=我可不想見到革命軍們，喪命在這傢伙手中！...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(9, 1)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2204')) -- ESS=我對那張地圖還大概有一點印象，那是在一個...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.TurnFace(29, 9)

    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2205')) -- ESS=小主人呀，這太危險了吧……%N對方可是…...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.TurnFace(9, 29)

    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2206')) -- ESS=我想去看看那個爺爺一直不肯告訴我的祕密，...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2207')) -- ESS=好吧，小主人……%N您可千萬小心啊！%N...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(29, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2208')) -- ESS=我去為您準備駱駝和飲水……
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.SetRoleSpeed(29, 3)
    ESC.ChangeQQ(29, Const.WALK)
    ESC.BatchMove(1,    29, 28, 44)
    ESC.ChangeRoleMap( 29, 250, 000, 20, 31 , 029 , Const.STAND, 5)
    ESC.RoleEnable(408)
    ESC.RoleEnable(409)


    ESC.TurnFace(9, 1)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2209')) -- ESS=──喂！%N你還真關心薇達姊姊的安危哦！...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2210')) -- ESS=別胡說！%N我們去看薩西準備好了沒有。
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.SceneMusic(251, 73, 73, 0x4000) -- 【更換地圖音樂】肯迪家內部換為大馬士革音樂
    ESC.SceneMusic(250, 73, 73, 0x4000) -- 【更換地圖音樂】肯迪家庭院換為大馬士革音樂


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂



    ESC.AddParty(9)
    GameFunc.FlagOn(119) -- 麥爾丹找書事件結束
    ESC.RMUNlock()

    ESC.RoleDisable(402) -- 大馬士革的駱駝全部取消掉
    ESC.RoleDisable(403)
    ESC.RoleDisable(404)
    ESC.RoleDisable(405)
    ESC.RoleDisable(406)
    ESC.RoleDisable(407)
    -- 將移至屋內
    ESC.ChangeRoleMap(787, 236, 000, 23, 30 , -1 , Const.STAND, 0)
    ESC.ChangeRoleMap(791, 236, 000, 17, 26 , -1 , Const.STAND, 3)
    ESC.ChangeRoleMap(782, 236, 000, 25, 12 , -1 , Const.STAND, 6)
    ESC.ChangeRoleMap(788, 236, 000, 31, 15 , -1 , Const.STAND, 2)
    ESC.ChangeRoleMap(772, 232, 000, 14, 18 , -1 , Const.STAND, 5)
    ESC.ChangeRoleMap(773, 233, 404, 13, 24 , -1 , Const.WALK , 7)
    ESC.ChangeRoleMap(779, 230, 000, 12, 20 , -1 , Const.STAND, 0)
    -- 將其它的路人隱藏起來
    ESC.RoleDisable(778)
    ESC.RoleDisable(771)
    ESC.RoleDisable(774)
    ESC.RoleDisable(781)
    ESC.RoleDisable(777)
    ESC.RoleDisable(776)
    ESC.RoleDisable(775)
    -- 大馬士革加強巡羅衛兵
    ESC.ChangeRoleMap(219, 215, 371, 14, 39 , 602, Const.WALK, 0)
    ESC.ChangeRoleMap(220, 215, 372, 95, 37 , 602, Const.WALK, 3)
    ESC.ChangeRoleMap(221, 215, 373, 19, 51 , 602, Const.WALK, 6)
    ESC.ChangeRoleMap(222, 215, 374, 48, 38 , 602, Const.WALK, 2)
    ESC.ChangeRoleMap(199, 216, 375, 51, 34 , 602, Const.WALK, 0)
    ESC.ChangeRoleMap(200, 216, 379, 31, 24 , 602, Const.WALK, 3)
    ESC.RoleEnable(219)
    ESC.RoleEnable(220)
    ESC.RoleEnable(221)
    ESC.RoleEnable(222)
    ESC.RoleEnable(199)
    ESC.RoleEnable(200)
    ESC.ChangeScript(219, 'TALK722')
    ESC.ChangeScript(220, 'TALK722')
    ESC.ChangeScript(221, 'TALK722')
    ESC.ChangeScript(222, 'TALK722')
    ESC.ChangeScript(199, 'TALK722')
    ESC.ChangeScript(200, 'TALK722')
    Scene.SAR_TurnFace(219, 1)
    Scene.SAR_TurnFace(220, 1)
    Scene.SAR_TurnFace(221, 1)
    Scene.SAR_TurnFace(222, 1)
    Scene.SAR_TurnFace(199, 1)
    Scene.SAR_TurnFace(200, 1)
    Scene.QuestOff(86)
    Scene.QuestOn(87)
    GameFunc.FlagOff(10)
end

function Scene.T802_ARAB()

    ESC.TurnFace(1, 9)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2211')) -- ESS=對不起，請問一下……%N你們這裏到底最近...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2212')) -- ESS=笨蛋，你不知道嗎？%N我們伊斯蘭的%C7...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2213')) -- ESS=之前有一個%C7歐馬亞家族%C5（白衣大...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2214')) -- ESS=我明白了……%N所以現在是%C7阿拔斯家...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2215')) -- ESS=也不能這麼說……%N是%C7歐馬亞家%C...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2216')) -- ESS=這種事歷史上常見……雖說歐馬亞家是篡位，...
    ESC.WaitDLG(1)

    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2217')) -- ESS=嘩……%N你真的知道很多東西！%N我之前...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    Scene.MBOn(29, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2218')) -- ESS=笨蛋！%N這附近的人，誰不知道我%C7神...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 1)
    ESC.DelHead(10009, 1)

    GameFunc.FlagOff(1060)
    ESC.SceneBreak()



end






-- ──────────────────────────────────────【麥爾丹闖入肯迪家】

function Scene.TALK804()
    if GameFunc.GetFlag(118) then goto T804B end -- 麥爾丹已闖入過肯迪家
    if GameFunc.GetFlag(117) then goto T804 end
::T804B::
    Scene.ChangeMap(250, 36, 31, 6)
    ESC.SceneBreak()
::T804::
    -- 麥爾丹登場


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂＋無聲



    Scene.QuestOff(5)
    ESC.RoleDisable(1059) -- 辜露
    ESC.RoleDisable(1061) -- 麥爾丹
    ESC.RoleDisable(1062) -- 女奴1
    ESC.RoleDisable(1063) -- 女奴2
    ESC.RoleDisable(1065) -- 祖旺（列拉房專用）
    ESC.ChangeQQ( 771, 8)
    ESC.ChangeQQ( 788, 8)
    ESC.ChangeQQ( 772, 8)
    ESC.ChangeQQ( 773, 8)
    ESC.ChangeQQ( 791, 8)
    ESC.ChangeQQ( 774, 8)
    ESC.ChangeQQ( 787, 8)
    ESC.ChangePath(771, 371)
    ESC.ChangePath(772, 374)
    ESC.ChangePath(774, 372)
    ESC.ChangePath(787, 387)
    ESC.ChangePath(788, 388)
    ESC.ChangePath(773, 373)
    ESC.ChangePath(791, 399)
    GameFunc.FlagOff(4049)
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(250 , 37, 30, 1, 0, 6)
    ESC.ChangeRoleMap(322, -1, 000, 10, 42 , 601 , Const.STAND, 7)
    ESC.ChangeRoleMap(323, -1, 000, 12, 43 , 412 , Const.STAND, 7)
    ESC.ChangeRoleMap(327, -1, 000, 14, 44 , 602 , Const.STAND, 7)
    ESC.ChangeRoleMap(328, -1, 000, 16, 45 , 412 , Const.STAND, 7)
    ESC.ChangeRoleMap(329, -1, 000, 18, 46 , 601 , Const.STAND, 7)
    ESC.ChangeRoleMap( 29, -1, 000, 23+3, 35-1 , 29 , Const.STAND, 6)
    ESC.RoleEnable(25)
    ESC.RoleEnable(29)
    ESC.RoleEnable(322)
    ESC.RoleEnable(323)
    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.RoleEnable(329)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMLock()
    ESC.ScrollMapToRole(29, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenLock()



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2219')) -- ESS=麥…麥爾丹大人，%N您…您今天…怎會有時...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)




    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2220')) -- ESS=──喂！%N我聽說你主人%C7肯迪%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2221')) -- ESS=麥…麥爾丹大人，%N沒…沒有那回事……%...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2222')) -- ESS=畜生──！%N你們這些%C7吉米人%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2223')) -- ESS=這…這…%N老爺…老爺他今天…人剛好不在...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)




    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2224')) -- ESS=媽的───%N再給我繼續編故事啊───！...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.ChangeDIR(25, 6)
    ESC.Delay(300)


    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2225')) -- ESS=進去徹底搜───%N
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 0)



    ESC.ChangeQQ(29, Const.WALK)
    ESC.BatchMove(1,    29, 22+2, 38-2)

    ESC.TakeActData(29, -1, 52, 0)



    Scene.MBOn(29, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2226')) -- ESS=麥…麥爾丹大人…%N求求您…求求您不要這...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)



    ESC.RoleHide(29)
    ESC.TakeActData(25, -1, 52, 3)
    ESC.Unlock(25)
    ESC.RoleMove(29, 23+2, 38-2)
    ESC.TakeActData(29, -1, 52, 1)
    ESC.TILPA1(25, 8)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.TakeActData(25, -1, 0, 5)
    ESC.RoleShow(29)

    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 26+1, 34)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.Delay(100)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(122, 25, 0x2000) -- 【劇情配樂】不安＋無聲


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2227')) -- ESS=薩西爺───！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.TakeActData(1, -1, 0, 6)
    ESC.Delay(50)
    ESC.TakeActData(1, -1, 77, 0)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2228')) -- ESS=你們這些傢伙───！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.TurnFace(25, 1)

    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2229')) -- ESS=怎麼樣───？%N不爽的話，連你一起抓起...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)



    ESC.TakeActData(29, -1, 54, 0)
    ESC.TILPA1(29, 5)


    Scene.MBOn(29, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10029, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2230')) -- ESS=……賽特先生，%N請…請不要惹麥爾丹大人...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2231')) -- ESS=惹了他，就…就等於跟%C7哈里發大人%C...
    ESC.WaitDLG(1)
    ESC.MBOff(29, 0)
    ESC.DelHead(10029, 0)


    ESC.TakeActData(1, -1, 0, 1)


    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2232')) -- ESS=哼，算你識相───%N所有人都進去搜！%...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.TakeActData(29, -1, 55, 0)
    ESC.TurnFace(1, 25)



    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.ChangeQQ(329, Const.WALK)
    ESC.SetRoleSpeed(322, 2)
    ESC.SetRoleSpeed(323, 2)
    ESC.SetRoleSpeed(327, 3)
    ESC.SetRoleSpeed(328, 1)
    ESC.SetRoleSpeed(329, 1)
    ESC.SetPos(322, 36, 30)
    ESC.SetPos(323, 37, 29)
    ESC.SetPos(327, 37, 30)
    ESC.SetPos(328, 37, 29)
    ESC.SetPos(329, 37, 30)
    for i=1,9 do
        ESC.BatchStep( 1,   328)
    end



::T804_8::
    ESC.BatchStep( 5,   322, 323, 327, 328, 329)
 if not ESC.RoleReach(322) then goto T804_3 end
    ESC.ChangeRoleMap(322, 251, 000, 35, 27 , 412, 52 , 1)
::T804_3::
    if not ESC.RoleReach(323) then goto T804_4 end
    ESC.ChangeRoleMap(323, 251, 000, 37, 33 , 412, 52 , 3)
::T804_4::
    if not ESC.RoleReach(327) then goto T804_5 end
    ESC.ChangeRoleMap(327, 251, 000, 38, 39 , 412, 52 , 0)
::T804_5::
    if not ESC.RoleReach(328) then goto T804_6 end
    ESC.ChangeRoleMap(328, 251, 000, 16, 34 , 412, 56 , 1)
::T804_6::
    if not ESC.RoleReach(329) then goto T804_7 end
    ESC.ChangeRoleMap(329, 251, 000, 16, 42 , 412, 56 , 0)
::T804_7::
    if not ESC.IsAllReach() then
        goto T804_8
    end


    Scene.MBOn(25, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2233')) -- ESS=哼──%N一群狗屎──！
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.TakeActData(29, -1, 56, 0)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 26, 33)
    ESC.BatchMove(1,    25, 37, 29)
    ESC.ChangeRoleMap(25, 251, 0, 26, 27, -1, Const.STAND, 1)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    Scene.SAR_TurnFace(29, 0) -- 設薩西說話不轉頭
    ESC.ChangeDIR(1, 1)



    ESC.SceneMusic(251, 72, 72, 0x4000) -- 【更換地圖音樂】肯迪家內部換為大馬士革音樂


    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusicOff()




    GameFunc.FlagOn(118) -- 麥爾丹闖入肯迪家
    GameFunc.FlagOff(10)
end

function Scene.TALK806()
    if not Scene.CheckParty(3) then goto T806A end
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD500)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 2 , 0xD500)
    ESC.RemoveParty(3 , 3 , 'TALK3' , 3, Const.WALK , 2 , 0xD500)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 22, 34)
    ESC.RoleMove(9, 20, 33)
    ESC.RoleMove(3, 20, 33)
    ESC.RoleMove(4, 20, 33)
    ESC.RoleShow(1)
    ESC.BatchMove(1,    1, 18, 35)
    ESC.RoleShow(4)
    ESC.RoleShow(3)
    ESC.RoleShow(9)
    ESC.BatchMove(4,
    9, 21, 36,
    4, 21, 36,
    3, 21, 36,
    1, 26, 36)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.AddParty(9)
    ESC.AddParty(4)
    ESC.AddParty(3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T806A::
    if not Scene.CheckParty(9) then goto T806B end
    ESC.RoleDisable(9)
    ESC.RoleMove(9, 21, 34)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 22, 34)
    ESC.RoleShow(1)
    ESC.RoleEnable(9)
    ESC.BatchMove(1,    1, 18, 35)
    ESC.BatchMove(1,    1, 20, 36)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleShow(9)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T806B::
    if not Scene.CheckParty(10) then goto T806C end
    ESC.RoleDisable(10)
    ESC.RoleMove(10, 21, 34)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 22, 34)
    ESC.RoleShow(1)
    ESC.RoleEnable(10)
    ESC.BatchMove(1,    1, 18, 35)
    ESC.BatchMove(1,    1, 20, 36)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleShow(10)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T806C::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 22, 34)
    ESC.RoleShow(1)
    ESC.BatchMove(1,    1, 18, 35)
    ESC.BatchMove(1,    1, 20, 36)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
end

function Scene.TALK807()
    -- 往塔內
    Scene.ChangeMap(249, 40, 22, 6)
end

function Scene.TALK808()
    -- 肯迪之家塔頂
    Scene.ChangeMap(252, 45, 18, 1)
end

function Scene.TALK809()
    if not Scene.CheckParty(3) then goto T809A end
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD500)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 2 , 0xD500)
    ESC.RemoveParty(3 , 3 , 'TALK3' , 3, Const.WALK , 2 , 0xD500)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 21)
    ESC.RoleMove(9, 23, 21)
    ESC.RoleMove(3, 23, 21)
    ESC.RoleMove(4, 23, 21)
    ESC.RoleShow(1)
    ESC.RoleShow(4)
    ESC.RoleShow(3)
    ESC.RoleShow(9)
    ESC.BatchMove(4,
    9, 21, 23,
    4, 21, 23,
    3, 21, 23,
    1, 21, 23)
    ESC.BatchMove(4,
    1, 27, 23,
    3, 25, 23,
    4, 25, 23,
    9, 25, 23)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.AddParty(9)
    ESC.AddParty(4)
    ESC.AddParty(3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T809A::
    if not Scene.CheckParty(9) then goto T809B end
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD500)
    ESC.RoleDisable(9)
    ESC.RoleMove(9, 25, 21)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 21)
    ESC.RoleShow(1)
    ESC.RoleEnable(9)
    ESC.RoleShow(9)
    ESC.AddParty(9)
    ESC.BatchMove(1,    1, 21, 23)
    ESC.BatchMove(1,    1, 23, 23)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T809B::
    if not Scene.CheckParty(10) then goto T809C end
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 2 , 0xD500)
    ESC.RoleDisable(10)
    ESC.RoleMove(10, 25, 21)
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 21)
    ESC.RoleShow(1)
    ESC.RoleEnable(10)
    ESC.RoleShow(10)
    ESC.AddParty(10)
    ESC.BatchMove(1,    1, 21, 23)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    1, 24, 23)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
    ESC.SceneBreak()
::T809C::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 21)
    ESC.RoleShow(1)
    ESC.BatchMove(1,    1, 21, 23)
    ESC.BatchMove(1,    1, 23, 23)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RMUNlock()
    GameFunc.FlagOff(396)
end

function Scene.TALK810()
    -- 塔控制點,往下(上方的)
    GameFunc.FlagOn(396)
    if Scene.CheckParty(3) then goto T810C end
    if Scene.CheckParty(9) then goto T810A end
    if Scene.CheckParty(10) then goto T810B end
    ESC.RMLock()
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 33, 25)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.SceneBreak()
::T810A::
    ESC.RMLock()
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(1,    9, 22, 22)
    ESC.RoleHide(9)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 35, 25)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove(9, 33, 25)
    ESC.RoleEnable(9)
    ESC.AddParty(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T810B::
    ESC.RMLock()
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove(1,    10, 22, 22)
    ESC.RoleHide(10)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 35, 25)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove(10, 33, 25)
    ESC.RoleEnable(10)
    ESC.AddParty(10)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T810C::
    ESC.RMLock()
    ESC.RemoveParty( 3, 0 , 'TALK3', 3, Const.WALK , 2 , 0xD100)
    ESC.RemoveParty( 4, 0 , 'TALK4', 4, Const.WALK , 2 , 0xD100)
    ESC.RemoveParty( 9, 0 , 'TALK9', 9, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed( 3, 0)
    ESC.SetRoleSpeed( 4, 0)
    ESC.SetRoleSpeed( 9, 0)
    ESC.BatchMove(3,
    3, 22, 22,
    4, 22, 22,
    9, 22, 22)
    ESC.RoleHide( 3)
    ESC.RoleHide( 4)
    ESC.RoleHide( 9)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 35, 25)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove( 3, 33, 25)
    ESC.RoleMove( 4, 33, 25)
    ESC.RoleMove( 9, 33, 25)
    ESC.RoleEnable( 3)
    ESC.RoleEnable( 4)
    ESC.RoleEnable( 9)
    ESC.AddParty( 3)
    ESC.AddParty( 4)
    ESC.AddParty( 9)
    ESC.RMUNlock()
end

function Scene.TALK811()
    -- 塔控制點,往下(下方的)
    GameFunc.FlagOn(396)
    if Scene.CheckParty(3) then goto T811C end
    if Scene.CheckParty(9) then goto T811A end
    if Scene.CheckParty(10) then goto T811B end
    -- log("AutoPlot")
    ESC.RMLock()
    -- Make Party Table

    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 32, 38)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.SceneBreak()
::T811A::
    ESC.RMLock()
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove2(1,    9, 20, 36, -1, 8, 2)
    ESC.BatchMove2(1,    9, 18, 35, -1, 8, 7)
    ESC.BatchMove(1,    9, 20, 33)
    ESC.RoleHide(9)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 33, 38)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove(9, 31, 38)
    ESC.RoleEnable(9)
    ESC.AddParty(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T811B::
    ESC.RMLock()
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove2(1,    10, 20, 36, -1, 8, 2)
    ESC.BatchMove2(1,    10, 18, 35, -1, 8, 7)
    ESC.BatchMove(1,    10, 20, 33)
    ESC.RoleHide(10)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 33, 38)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove(10, 31, 38)
    ESC.RoleEnable(10)
    ESC.AddParty(10)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T811C::
    -- log("AutoPlot")
    ESC.RMLock()
    ESC.RemoveParty( 3, 0 , 'TALK3', 3, Const.WALK , 2 , 0xD100)
    ESC.RemoveParty( 4, 0 , 'TALK4', 4, Const.WALK , 2 , 0xD100)
    ESC.RemoveParty( 9, 0 , 'TALK9', 9, Const.WALK , 2 , 0xD100)
    ESC.SetRoleSpeed( 3, 0)
    ESC.SetRoleSpeed( 4, 0)
    ESC.SetRoleSpeed( 9, 0)
    ESC.BatchMove2(3,
    3, 20, 36, -1, 8, 2,
    4, 20, 36, -1, 8, 2,
    9, 20, 36, -1, 8, 2)
    ESC.BatchMove2(3,
    3, 18, 35, -1, 8, 7,
    4, 18, 35, -1, 8, 7,
    9, 18, 35, -1, 8, 7)
    ESC.BatchMove(3,
    3, 20, 33,
    4, 20, 33,
    9, 20, 33)
    ESC.RoleHide( 3)
    ESC.RoleHide( 4)
    ESC.RoleHide( 9)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 33, 38)
    ESC.TakeActData(1, 1, 0, 3)
    ESC.RoleMove( 3, 31, 38)
    ESC.RoleMove( 4, 31, 38)
    ESC.RoleMove( 9, 31, 38)
    ESC.RoleEnable( 3)
    ESC.RoleEnable( 4)
    ESC.RoleEnable( 9)
    ESC.AddParty( 3)
    ESC.AddParty( 4)
    ESC.AddParty( 9)
    ESC.RMUNlock()
end

function Scene.TALK812()
    Scene.ChangeMap(246, 11, 22, 3)
end

function Scene.TALK813()
    ESC.Caption(228)
    Scene.Print_W(Const.TOWN,9008,12,4,StringDB('ESS2234')) -- ESS=別妨礙我們，%N滾一邊去。
    ESC.WaitDLG(Const.TOWN)
end

function Scene.TALK814()
    GameFunc.FlagOff(333)
    GameFunc.FlagOff(331)
    GameFunc.FlagOn(332)
end

function Scene.TALK815()
    GameFunc.FlagOff(334)
    GameFunc.FlagOff(335)
    GameFunc.FlagOn(336)
end



-- ──────────────────────────────────────【前往塔德莫爾的駱駝】

function Scene.TALK816()
    -- 駱駝
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 27, 33, -1, Const.STAND,7,
    9, 30, 31, -1, Const.STAND,6)
    ESC.TurnFace(9, 1)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2235')) -- ESS=看來準備都就緒了，%N我們出發吧！
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2236')) -- ESS=對了，%N那個%C7塔德莫爾%C5是什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2237')) -- ESS=那是以前位於我們阿拉伯%C7東方%C5的...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2238')) -- ESS=屠城…？%N那麼那裏不就是%C7廢墟%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2239')) -- ESS=──沒錯！%N因為它現在位於%C7沙漠深...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(9, 5)
    ESC.Delay(300)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 16)
    ESC.FadeWait()
    ESC.RoleDisable(408)
    ESC.RoleDisable(409)
    Scene.SAR_Shadow(805, 1)
    Scene.SAR_Shadow(806, 1)
    ItemFunc.AddItem(402 , 2)
    ESC.AddParty(9)
    ESC.GotoMap(200 , 66 , 47 , 95, 0, 3) -- 改騎駱駝
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 16)
    ESC.FadeWait()
    GameFunc.FlagOn(120)
    ESC.SceneBreak()
end

function Scene.TALK962()
    if GameFunc.GetFlag(396) then return end
    GameFunc.FlagOn(396)
    ESC.RoleHide(1)
    if Scene.CheckParty(3) then goto T962A end
    if Scene.CheckParty(9) then goto T962B end
    if Scene.CheckParty(10) then goto T962C end
    ESC.SceneBreak()
::T962A::
    ESC.BatchMove(1,    1, 42, 39)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(3 , 3 , 'TALK3' , 3, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(3, 0)
    ESC.SetRoleSpeed(4, 0)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(3,
    3, 46, 39,
    9, 46, 39,
    4, 46, 39)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.RoleHide(9)
    ESC.AddParty(9)
    ESC.AddParty(4)
    ESC.AddParty(3)
    ESC.SceneBreak()
::T962B::
    ESC.RMLock()
    ESC.BatchMove(1,    1, 42, 39)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(1,    9, 46, 39)
    ESC.RoleHide(9)
    ESC.AddParty(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T962C::
    ESC.RMLock()
    ESC.BatchMove(1,    1, 42, 39)
    ESC.RemoveParty(10 , 0 , 'TALK10' , 10, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove(1,    10, 46, 39)
    ESC.RoleHide(10)
    ESC.AddParty(10)
    ESC.RMUNlock()
end

function Scene.TALK963()
    if not GameFunc.GetFlag(396) then return end
    ESC.RoleShow(1)
    GameFunc.FlagOff(396)
    if Scene.CheckParty(3) then goto T963A end
    if Scene.CheckParty(9) then goto T963B end
    if Scene.CheckParty(10) then goto T963C end
    ESC.SceneBreak()
::T963A::
    ESC.RMLock()
    ESC.RoleDisable(9)
    ESC.RoleDisable(4)
    ESC.RoleDisable(3)
    ESC.RoleMove(3, 48, 39)
    ESC.RoleMove(9, 48, 39)
    ESC.RoleMove(4, 48, 39)
    ESC.RoleEnable(3)
    ESC.RoleEnable(4)
    ESC.RoleEnable(9)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 50, 43)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(3)
    ESC.RoleShow(4)
    ESC.RoleShow(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T963B::
    ESC.RMLock()
    ESC.RoleDisable(9)
    ESC.RoleMove(9, 48, 39)
    ESC.RoleEnable(9)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 50, 43)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T963C::
    ESC.RMLock()
    ESC.RoleDisable(10)
    ESC.RoleMove(10, 48, 39)
    ESC.RoleEnable(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 50, 43)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(10)
    ESC.RMUNlock()
end

function Scene.TALK964()
    if GameFunc.GetFlag(396) then return end
    GameFunc.FlagOn(396)
    ESC.RoleHide(1)
    if Scene.CheckParty(3) then goto T964A end
    if Scene.CheckParty(9) then goto T964B end
    if Scene.CheckParty(10) then goto T964C end
    ESC.SceneBreak()
::T964A::
    ESC.RMLock()
    ESC.BatchMove(1,    1, 40, 26)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 3 , 0xD100)
    ESC.RemoveParty(3 , 3 , 'TALK3' , 3, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(3, 0)
    ESC.SetRoleSpeed(4, 0)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(3,
    3, 46, 27,
    9, 45, 26,
    4, 45, 26)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.RoleHide(9)
    ESC.AddParty(9)
    ESC.AddParty(4)
    ESC.AddParty(3)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T964B::
    ESC.RMLock()
    ESC.BatchMove(1,    1, 40, 26)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(9, 0)
    ESC.BatchMove(1,    9, 45, 26)
    ESC.RoleHide(9)
    ESC.AddParty(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T964C::
    ESC.RMLock()
    ESC.BatchMove(1,    1, 40, 26)
    ESC.RemoveParty(10 , 0 , 'TALK10' , 10, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove(1,    10, 45, 26)
    ESC.RoleHide(10)
    ESC.AddParty(10)
    ESC.RMUNlock()
end

function Scene.TALK965()
    if not GameFunc.GetFlag(396) then return end
    ESC.RoleShow(1)
    GameFunc.FlagOff(396)
    if Scene.CheckParty(3) then goto T965A end
    if Scene.CheckParty(9) then goto T965B end
    if Scene.CheckParty(10) then goto T965C end
    ESC.SceneBreak()
::T965A::
    ESC.RMLock()
    ESC.RoleDisable(9)
    ESC.RoleDisable(4)
    ESC.RoleDisable(3)
    ESC.RoleMove(3, 44, 26)
    ESC.RoleMove(9, 44, 26)
    ESC.RoleMove(4, 44, 26)
    ESC.RoleEnable(3)
    ESC.RoleEnable(4)
    ESC.RoleEnable(9)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 48, 30)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(3)
    ESC.RoleShow(4)
    ESC.RoleShow(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T965B::
    ESC.RMLock()
    ESC.RoleDisable(9)
    ESC.RoleMove(9, 44, 26)
    ESC.RoleEnable(9)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 48, 29)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(9)
    ESC.RMUNlock()
    ESC.SceneBreak()
::T965C::
    ESC.RMLock()
    ESC.RoleDisable(10)
    ESC.RoleMove(10, 44, 26)
    ESC.RoleEnable(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 48, 29)
    ESC.TakeActData(1, -1, 0, 1)
    ESC.RoleShow(10)
    ESC.RMUNlock()
end

function Scene.TALK966()
    if GameFunc.MapID == 247 then goto T966 end
    Scene.ChangeMap(252, 16, 48, 6)
    GameFunc.FlagOn(332)
    GameFunc.FlagOn(336)
    ESC.SceneBreak()
::T966::
    Scene.ChangeMap(250, 38, 13, 6)
end

function Scene.TALK967()
    if GameFunc.MapID == 247 then goto T967 end
    Scene.ChangeMap(250, 45, 35, 6)
    ESC.SceneBreak()
::T967::
    Scene.ChangeMap(250, 27, 28, 1)
end

function Scene.TALK968()
    Scene.ChangeMap(247, 19, 35, 2)
end

function Scene.TALK969()
    if GameFunc.GetFlag(7045) then goto T969A end
    Scene.ChangeMap(246, 19, 35, 2)
    ESC.SceneBreak()
::T969A::
    ESC.ChangeQQ(1, Const.STAND)
    ESC.RemoveParty(328, 0 , '' , 412, Const.WALK , 3 , 0xD100)
    ESC.BatchMove(1,    328, 39, 34)
    ESC.TurnFace(1, 328)
    ESC.TurnFace(328, 1)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.Caption(228)
    ESC.FitSize()
    ESC.Print(328,9008,StringDB('ESS2240')) -- ESS=夠了，你一直亂逛！
    ESC.WaitDLG(328)
    ESC.Caption(228)
    ESC.Print(328,9008,StringDB('ESS2241')) -- ESS=再不去幫忙解開機關，我就要去報備麥爾丹大...
    ESC.WaitDLG(328)
    ESC.AddParty(328)
end

function Scene.TALK970()
    Scene.ChangeMap(247, 11, 22, 3)
end

-- ──────────────────────────────────────【互砍的士兵屍體】

function Scene.TALK719()
    if not GameFunc.GetFlag(378) then Scene.TALK881() ESC.SceneBreak() end
    Scene.WORD_ON_HEAD(1, 5, 40, -65, StringDB('ESS2242')) -- ESS=這兩人已死了……
end



function Scene.TALK720()
    if ESC.GetRoleToPosDistance(114,35,1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.MoveHero(112, 37, 7)
    if not GameFunc.GetFlag(382) then goto T720 end -- 檢查隔臨的三個石版的機關是否觸動
    if not GameFunc.GetFlag(383) then goto T720 end -- 若三個石版沒有浮出
    if not GameFunc.GetFlag(380) then goto T720 end -- 會造成懸空
    Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2243')) -- ESS=無法扳動這個機關！
    ESC.SceneBreak()
::T720::
    GameFunc.FlagOff(381)
    ESC.TurnFace(1, 411)
    ESC.Delay(300)
    ESC.RoleEnable(480)
    ESC.ChangeScript(411, '')
    ESC.ChangeQQ(411, Const.STAND)
    MediaFunc.PlaySound(56)
end



function Scene.TALK817()
    -- 塔德莫爾迷宮入口
    Scene.ChangeMap(269, 38, 24, 6)
end

function Scene.TALK818()
    -- 往入口走廊
    Scene.ChangeMap(260, 85, 50, 7)
end

function Scene.TALK819()
    -- 墓前通道1->2
    Scene.ChangeMap(261, 24, 36, 5)
end



-- ──────────────────────────────────────【老肯迪的石碑】

function Scene.TALK820()
    if GameFunc.GetFlag(124) then goto T820END end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(124)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(72, 72, 0x4000) -- 【劇情配樂】伊斯蘭世界

    ESC.RMLock()
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 7 , 0xD100)
    ESC.RemoveParty(328, 0 , '' , 412, Const.WALK , 3 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(328, 1)
    ESC.ScreenLock()
    Scene.ScrollMapD(13, 7, 2, 2)
    MediaFunc.PlaySound(311)
    ESC.SetPos(1, 27, 30)
    ESC.SetPos(9, 24, 29)
    ESC.SetPos(327, 35, 17)
    ESC.SetPos(328, 22, 23)
::T820_1::
    ESC.BatchStep( 4,   1, 9, 327, 328)
    if not ESC.RoleReach(1) then goto T820_2 end
    ESC.TakeActData(1, -1, 0, 7)
::T820_2::
    if not ESC.RoleReach(9) then goto T820_3 end
    ESC.TakeActData(9, -1, 0, 7)
    ESC.TurnFace(9, 25)
::T820_3::
    if not ESC.RoleReach(327) then goto T820_9 end
    ESC.TakeActData(327, -1, 0, 6)
::T820_9::
    if not ESC.RoleReach(328) then goto T820_10 end
    ESC.TakeActData(328, -1, 0, 7)
::T820_10::
    if not ESC.IsAllReach() then
        goto T820_1
    end
    ESC.ScrollMapWait()



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2244')) -- ESS=哼，看來就是這裏……%N這的確是那一個%...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.TakeActData(639, -1, Const.WALK, 2)
    ESC.BatchMove(1,    639, 34, 24)
    ESC.ChangeQQ(639, Const.STAND)
    ESC.TurnFace(639, 25)


    ESC.Caption(228)
    Scene.Print_W(639,9008,7*2,3*2,StringDB('ESS2245')) -- ESS=麥爾丹大人，這道門怎麼也打不開！
    ESC.WaitDLG(639)


    ESC.TurnFace(25, 639)

    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,2*2,StringDB('ESS2246')) -- ESS=──退下去！%N你這沒用的東西！
    ESC.WaitDLG(25)


    ESC.TurnFace(25, 9)


    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,3*2,StringDB('ESS2247')) -- ESS=喂──%N這道門就交給你們了，打開它！
    ESC.WaitDLG(25)


    ESC.TurnFace(1, 25)
    ESC.Delay(300)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 26, 20)
    ESC.TakeActData(9, -1, 0, 4)
    ESC.ChangeDIR(1, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2248')) -- ESS=嘩───！%N這真的是爺爺刻的字，%N我...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2249')) -- ESS=「%C3（阿拉伯古文）%N%N　%C7深...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 0)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2250')) -- ESS=───什麼意思？
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.ChangeDIR(9, 3)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2251')) -- ESS=應該是指這個石頭門裏頭，%N關著一個充滿...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)


    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2252')) -- ESS=看來這就是我要找的東西沒錯。%N打開門的...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.TurnFace(1, 25)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2253')) -- ESS=等等！%N既然是惡魔，你們又幹嘛那麼急著...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2254')) -- ESS=這個惡魔，以前殺了幾千人，我要牠的能力，...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2255')) -- ESS=是嗎？%N那你們把牠放出來，%N不也會同...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2256')) -- ESS=哼！%N牠會被關在這兒，也是當年老子叫%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2257')) -- ESS=那個沒用的老肯迪都能隨便幾句話把牠騙住，...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 28, 20)
    ESC.TakeActData(25, -1, 0, 2) -- 改成拔劍
    ESC.ChangeDIR(1, 0)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2258')) -- ESS=臭小鬼，%N立刻打開這個門，%N不然老子...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.ChangeDIR(9, 3)
    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2259')) -- ESS=───開就開呀！%N上面寫說石碑%C7用...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)


    MediaFunc.PlaySound(311)
    ESC.ChangeDIR(9, 4)


    ESC.Delay(1600)



    MediaFunc.PlaySound(57)
    ESC.Delay(700)
    ESC.ChangeDIR(25, 5)
    ESC.ChangeDIR(328, 5)
    ESC.ChangeDIR(639, 5)
    ESC.ChangeDIR(9, 5)
    ESC.Delay(500)



    ESC.AddHeadSign(25, 1)
    ESC.Delay(1800)
    ESC.DelHeadSign(25)



    ESC.TurnFace(25, 323)



    ESC.Caption(25)
    Scene.Print_W(25,9008,6*2,2*2,StringDB('ESS2260')) -- ESS=喂──！%N你進去看看！
    ESC.WaitDLG(25)


    ESC.Caption(228)
    Scene.Print_W(323,9008,4*2,1*2,StringDB('ESS2261')) -- ESS=我……？
    ESC.WaitDLG(323)


    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,3*2,StringDB('ESS2262')) -- ESS=老子叫你就是你！%N還懷疑？%N進去！
    ESC.WaitDLG(25)



    ESC.Caption(228)
    Scene.Print_W(323,9008,4*2,1*2,StringDB('ESS2263')) -- ESS=……是！
    ESC.WaitDLG(323)



    ESC.ChangeDIR(25, 3)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.BatchMovePenetrate(323)
    ESC.BatchMove(1,    323, 41, 23)
    ESC.RoleHide(323)
    ESC.Delay(1600)
    ESC.TakeActData(323, -1, 0, 4)
    ESC.RoleShow(323)
    ESC.Delay(300)
    ESC.Caption(228)
    Scene.Print_W(323,9008,10*2,3*2,StringDB('ESS2264')) -- ESS=報告麥爾丹大人，裏頭什麼也沒有，好像是一...
    ESC.WaitDLG(323)



    ESC.Caption(25)
    Scene.Print_W(25,9008,9*2,2*2,StringDB('ESS2265')) -- ESS=渾蛋，怎會這樣？我自己進去看──
    ESC.WaitDLG(25)




    ESC.ChangeQQ(323, Const.WALK)
    ESC.BatchMove(1,    323, 37, 26)
    ESC.TakeActData(323, -1, 0, 5)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 41, 23)
    ESC.ChangeRoleMap(25 , 255, 0, 24, 21, -1, Const.STAND, 1)
    ESC.ChangeDIR(9, 5)
    ESC.ChangeQQ(639, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.SetRoleSpeed(639, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(328, 1)
    ESC.SetPos(639, 41, 23)
    ESC.SetPos(323, 41, 23)
    ESC.SetPos(327, 41, 23)
    ESC.SetPos(328, 41, 23)


::T820_4::
    ESC.BatchStep( 4,   639, 323, 327, 328)
    if not ESC.RoleReach(639) then goto T820_5 end
    ESC.ChangeRoleMap(639, 255, 000, 26, 27, -1, 0 , 4)
::T820_5::
    if not ESC.RoleReach(323) then goto T820_6 end
    ESC.ChangeRoleMap(323, 255, 000, 16, 25, -1, Const.STAND, 0)
::T820_6::
    if not ESC.RoleReach(327) then goto T820_7 end
    ESC.ChangeRoleMap(327, 255, 000, 19, 16, -1, 0, 1)
::T820_7::
    if not ESC.RoleReach(328) then goto T820_8 end
    ESC.ChangeRoleMap(328, 255, 000, 22, 27, -1, 0, 4)
::T820_8::
    if not ESC.IsAllReach() then
        goto T820_4
    end

    ESC.ChangeDIR(9, 1)
    ESC.ChangeDIR(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2266')) -- ESS=肯迪，%N你幹嘛告訴他們開門的方法？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2267')) -- ESS=我爺爺石碑下還用只有我們家族才看得懂得%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2268')) -- ESS=……哦？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2269')) -- ESS=上面寫著：%N　　「%C3我的子孫呀！%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2270')) -- ESS=因為這樣，所以我想進去看看那個惡魔長什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2271')) -- ESS=哈哈哈，好傢伙───%N原來老肯迪早料到...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 2, 10001, 0)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2272')) -- ESS=走吧──%N我們也進去看看那一個好像滿有...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.AddParty(9)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()

    GameFunc.FlagOff(10)
    GameFunc.FlagOff(7045) -- 士兵離開沒跟著



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()-- 【地圖音樂】恢復地圖音樂

::T820END::
end











-- ──────────────────────────────────────【卡瑪登場！】

function Scene.TALK821()
    -- 卡瑪登場

    ESC.RoleDisable(468)
    GameFunc.FlagOn(125)
    GameFunc.FlagOn(10)


    ESC.StoryMusic(124, 74, 0x2000) -- 【劇情配樂】卡瑪登場


    ESC.ChangeQQ(1, Const.STAND)
    Scene.ScrollMapD(7, 2, 4, 4)

    ESC.RemoveParty(9, 0,'TALK9',9,Const.STAND,0,0xD100)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    Scene.PlayACT(0, 320, 170, 6021, 1) -- 魔法陣
    MediaFunc.PlaySound(240)

    ESC.ChangeRoleMap(8 , -1, 000, 30, 17-3, -1, -1, -1)
    ESC.ChangeRoleMap(11 , -1, 000, 27, 17-3, -1, -1, -1)



    Scene.SAR_Shadow(8, 0) -- 隱藏影子
    Scene.SAR_Shadow(11, 0)
    ESC.RoleEnable(8) -- 卡瑪、安卡出現
    ESC.RoleEnable(11)
    ESC.TakeActData( 8, -1, 60, 0)
    ESC.TakeActData(11, -1, 60, 0)
    ESC.Unlock(8)
    ESC.Unlock(11)


    ESC.TurnFace(1, 8)
    ESC.TurnFace(9, 8)


    ESC.TakeActData(25, -1, Const.RUN, 6) -- 麥爾丹倒退走
    ESC.SetRoleSpeed(25, 5)
    ESC.BatchMove(1,    25, 20, 24+3)
    ESC.TakeActData(25, -1, Const.STAND, 7)



    ESC.TILPA1(8, 9)
    ESC.TILPA1(11, 9)
    ESC.TakeActData(8, -1, 0, 1)
    ESC.TakeActData(11, -1, 0, 1)
    ESC.Unlock(8)
    ESC.Unlock(11)
    ESC.Delay(400)
    ESC.TILPA2(0, 52) -- 魔法陣動作



    ESC.ChangePath(25, 0)

    ESC.TurnFace(639, 8)
    ESC.ChangeDIR(327, 5)

    ESC.AddHeadSign(1, 0)
    ESC.Delay(50)
    ESC.AddHeadSign(25, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(25)



    ESC.SetRoleSpeed(1, 0) -- 賽特和肯迪走閉
    ESC.SetRoleSpeed(9, 0)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetPos(1, 29, 24)
    ESC.SetPos(9, 32, 27)

::T821_1::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto T821_2 end
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 8)
::T821_2::
    if not ESC.RoleReach(9) then goto T821_3 end
    ESC.ChangeQQ(9, Const.STAND)
    ESC.ChangeDIR(9, 0)
::T821_3::
    if not ESC.IsAllReach() then
        goto T821_1
    end

    ESC.TakeActData(323, -1, 0, 3)
    ESC.TakeActData(328, -1, 0, 3)



    ESC.TakeActData(8, -1, 52, 0) -- 卡瑪慢慢飄下來
    ESC.TakeActData(11, -1, 52, 0)
    ESC.RoleMove(8, 30, 17)
    ESC.RoleMove(11, 27, 17)
    Scene.SAR_Shadow(8, 1)
    Scene.SAR_Shadow(11, 1)
    ESC.Unlock(8)
    ESC.Unlock(11)
    ESC.TILPA1(8, 16)



    ESC.TakeActData(8, -1, 0, 1)
    ESC.TakeActData(11, -1, 0, 1)



    ESC.TakeActData(8, -1, 0, 6)
    ESC.Unlock(8)
    ESC.TakeActData(11, -1, 0, 6)
    ESC.Unlock(11)
    ESC.Delay(300)



    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(10)
    ESC.Caption(228)
    Scene.Print_WS(328,9008,7*2,3*2,StringDB('ESS2273')) -- ESS=惡魔…！%N是那一個%C2惡魔%C4出現...
    ESC.WaitDLG2(328)



    ESC.ChangeQQ(327, Const.WALK) -- 士兵逃
    ESC.ChangeQQ(639, Const.WALK)
    ESC.SetRoleSpeed(327, 0)
    ESC.SetRoleSpeed(639, 0)
    ESC.SetPos(639, 17, 26)
    ESC.SetPos(327, 12, 24)


::T821_4::
    ESC.BatchStep( 2,   327, 639)
    if not ESC.RoleReach(327) then goto T821_5 end
    ESC.ChangeQQ(327, Const.STAND)
    ESC.ChangeDIR(327, 7)
::T821_5::
    if not ESC.RoleReach(639) then goto T821_6 end
    ESC.ChangeQQ(639, Const.STAND)
    ESC.ChangeDIR(639, 7)
::T821_6::
    if not ESC.IsAllReach() then
        goto T821_4
    end
    ESC.Delay(300)



    ESC.Delay(400)



    Scene.MBOn(8, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2274')) -- ESS=喵，%N這些傢伙是誰啊？%N居然跑到我們...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10011, 0)

    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2275')) -- ESS=他們的服裝穿著好像滿眼熟的呢……%N我們...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)


    ESC.Unlock(8)
    ESC.Unlock(11)



    Scene.ScrollMapD(0, 6, 4, 4)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)
    ESC.BatchMove2(2,
    8, 19, 21, -1, 0, 6,
    11, 16, 21, -1, 0, 6)
    ESC.Unlock(8)
    ESC.Unlock(11)


    ESC.TakeActData(25, -1, Const.WALK, 6) -- 麥爾丹衝上去
    ESC.SetRoleSpeed(25, 1)
    ESC.BatchMove(1,    25, 21+3, 22)
    ESC.TakeActData(25, -1, Const.STAND, 7)


    ESC.ChangeDIR(25, 6) -- 麥爾丹面向卡瑪
    ESC.ChangeDIR(1, 4)
    ESC.ChangeDIR(9, 4)
    ESC.ScrollMapWait()



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2276')) -- ESS=喂…女、女人…%N妳…妳是不是…那一個…...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.TakeActData( 8, 8, 0, 5)
    ESC.TakeActData(11, 11, 0, 5)
    ESC.Unlock(8)
    ESC.Unlock(11)
    ESC.Delay(400)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2277')) -- ESS=唷──%N你們是誰呀？%N一進來就說我是...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2278')) -- ESS=喵，%N這個傢伙應該是在說%C7五年前的...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)


    ESC.ChangeDIR(8, 5)

    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2279')) -- ESS=喔……！%N有了有了，我有點印象了！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2280')) -- ESS=聽好…女人…%N我們大伊斯蘭軍可以寬恕妳...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.ChangeDIR(8, 5)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2281')) -- ESS=……寬恕我的罪行？%N似乎滿有趣的，請說...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)




    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2282')) -- ESS=我們是偉大的伊斯蘭%C7歐馬亞軍%C5，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2283')) -- ESS=目前有一小撮可恨的叛軍，在四處與我作對，...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2284')) -- ESS=你們是%C7歐馬亞家%C5的軍隊？%N
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)




    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2285')) -- ESS=不錯，正是！%N許多人可是光聽到我們歐馬...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)




    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2286')) -- ESS=那……你們可知道，%N五年前從大馬士革過...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2287')) -- ESS=哼，我還以為妳要問什麼？%N那是老子率領...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)




    ESC.AddHeadSign(8, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(8)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2288')) -- ESS=是你……真的沒有錯？
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2289')) -- ESS=哼，就是我沒錯！%N對凡不意歸順者一律%...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)




    ESC.AddHeadSign(8, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(8)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2290')) -- ESS=還有，我曉得妳跟我一樣喜歡血腥，所以也沒...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(25, 5)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2291')) -- ESS=這裏有兩個傢伙，一個是把妳關起來那個可惡...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.AddHeadSign(9, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(9)



    Scene.MBOn(11, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2292')) -- ESS=喵，%N你不要把你自己都不吃的食物隨便%...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)




    Scene.WORD_ON_HEAD(25, 10, 20, -75, '%C2'..StringDB('ESS1847')) -- ESS=？
    ESC.ChangeDIR(25, 6)
    ESC.Delay(400)




    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2293')) -- ESS=對了，這位長官……%N我要告訴你一件事情...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2294')) -- ESS=媽的，%N到底是答不答應？%N講話給我拐...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2295')) -- ESS=我的名字叫%C7卡瑪%C5……
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2296')) -- ESS=我是%C7安卡%C5！
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)




    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2297')) -- ESS=我們兩個很久以前就住在這個城市，我很喜歡...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2298')) -- ESS=不過有一天，一群從伊斯蘭來的%C7歐馬亞...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2299')) -- ESS=所以，後來我一怒之下，就和安卡一起，把大...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)




    ESC.AddHeadSign(25, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(25)


    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2300')) -- ESS=所以後來你們害怕了，就找當時有名的智者%...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)



    Scene.MBOn(25, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2301')) -- ESS=廢話連篇！%N這些故事我會不知道？%N當...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2302')) -- ESS=妳們到底答不答應？%N再不答應，我可要用...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2303')) -- ESS=聽起來好可怕哦……%N不過……你真的曉得...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2304')) -- ESS=這位長官……%N那我們要告訴你一件事情，...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2305')) -- ESS=那就是───%N老肯迪%C7根本沒有%C...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)


    ESC.AddHeadSign(25, 0)
    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(9, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(9)
    ESC.DelHeadSign(25)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2306')) -- ESS=老肯迪是找我深談了一夜，他很誠懇讓我曉得...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2307')) -- ESS=他回去後，怕你又繼續派一些倒霉鬼來送死，...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)



    ESC.AddHeadSign(25, 1)
    ESC.Delay(600)

    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2308')) -- ESS=所以你明白了嗎？%N從頭到尾，我們都自由...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    ESC.DelHeadSign(25)



    ESC.Delay(300)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 24, 23)
    ESC.ChangeQQ(25, Const.STAND)
    ESC.ChangeDIR(25, 1)


    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(123, 25, 0x2000) -- 【劇情配樂】衝突



    ESC.Caption(25)
    Scene.Print_W(25,9008,9*2,4*2,StringDB('ESS2309')) -- ESS=……氣死我也！！%N去的該死%C2老肯迪...
    ESC.WaitDLG(25)



    Scene.ScrollMapD(7, 2, 4, 4)

    ESC.SetRoleSpeed(8, 0)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.BatchMove(1,    8, 27, 19)
    ESC.ChangeQQ(8, Const.STAND)
    ESC.ChangeDIR(8, 6)
    ESC.Unlock(8)
    ESC.TurnFace(1, 8)


    ESC.ChangeDIR(25, 7)

    ESC.AddHeadSign(25, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(25)


    ESC.ScrollMapWait()
    ESC.TakeActData(25, -1, Const.RUN, 6) -- 麥爾丹倒退走
    ESC.SetRoleSpeed(25, 5)
    ESC.BatchMove(1,    25, 20, 24+1)
    ESC.TakeActData(25, -1, Const.STAND, 7)


    Scene.MBOn(25, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2310')) -- ESS=妳…妳這惡魔──%N想要幹什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.Delay(1000)
    ESC.ChangeDIR(8, 5)
    ESC.Delay(300)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2311')) -- ESS=你們…就是那位老肯迪的孫子，以及他的朋友...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2312')) -- ESS=來，請你們兩位跟我一道過來！
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)

    ESC.SetRoleSpeed(11, 0)
    ESC.ChangeQQ(8, Const.WALK) -- 卡瑪帶著賽特到門邊
    ESC.ChangeQQ(11, Const.WALK)


    ESC.AddHeadSign(25, 1)
    ESC.Delay(600)

    ESC.SetRoleSpeed(8, 1)
    ESC.SetPos(8, 41, 19)
    ESC.SetPos(11, 38, 18)
    ESC.SetPos(9, 37, 22)
    ESC.SetPos(1, 39, 23)

    ESC.ChangeDIR(1, 0)

    for i=1,35 do
        ESC.BatchStep( 2,   8, 11)
    end



    ESC.ChangeDIR(25, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)



::T821_4A::
    ESC.BatchStep( 4,   8, 11, 9, 1)
    if not ESC.RoleReach(8) then goto T821_5A end
    ESC.TakeActData(8, -1, 0, 1)
    ESC.Unlock(8)
::T821_5A::
    if not ESC.RoleReach(11) then goto T821_6A end
    ESC.TakeActData(11, -1, 0, 1)
    ESC.Unlock(11)
::T821_6A::
    if not ESC.RoleReach(1) then goto T821_7 end
    ESC.TakeActData(1, -1, 0, 0)
::T821_7::
    if not ESC.RoleReach(9) then goto T821_8 end
    ESC.TakeActData(9, -1, 0, 0)
::T821_8::
    if not ESC.IsAllReach() then
        goto T821_4A
    end

    ESC.Delay(300)
    ESC.ChangeDIR(8, 0)
    ESC.DelHeadSign(25)
    ESC.Delay(300)


    MediaFunc.PlaySound(82)
    ESC.RoleEnable(417) -- 祕門打開
    ESC.AddHeadSign(25, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(25)


    ESC.ChangeQQ(8, Const.WALK) -- 由秘門離開
    ESC.ChangeQQ(11, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)

    ESC.ChangeQQ(25, Const.WALK)
    ESC.ChangeQQ(639, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)

    ESC.SetRoleSpeed(639 , 0)
    ESC.SetRoleSpeed(323 , 0)
    ESC.SetRoleSpeed(327 , 0)
    ESC.SetRoleSpeed(328 , 0)
    ESC.SetRoleSpeed( 25 , 0)
    ESC.SetRoleSpeed( 1 , 0)
    ESC.SetRoleSpeed( 9 , 0)
    ESC.SetRoleSpeed(8, 1)


    ESC.SetPos(25, 38, 20)
    ESC.SetPos(639, 40, 19)
    ESC.SetPos(323, 40, 19)
    ESC.SetPos(327, 40, 19)
    ESC.SetPos(328, 40, 19)
    ESC.SetPos(1, 39, 18)
    ESC.SetPos(8, 40, 19)
    ESC.SetPos(9, 40, 19)
    ESC.SetPos(11, 40, 19)

::T821_9::
    ESC.BatchStep( 9,   8, 11, 1, 9, 25, 639, 323, 327, 328)
    if not ESC.RoleReach(8) then goto T821_10 end
    ESC.ChangeRoleMap(8 , 256, 000, 23, 31, -1, Const.STAND, 6)
::T821_10::
    if not ESC.RoleReach(11) then goto T821_11 end
    ESC.ChangeRoleMap(11, 256, 000, 25, 26, -1, Const.STAND, 1)
::T821_11::
    if not ESC.RoleReach(1) then goto T821_12 end
    ESC.RoleHide(1)
::T821_12::
    if not ESC.RoleReach(9) then goto T821_13 end
    ESC.ChangeRoleMap(9 , 256, 000, 30, 26, -1, Const.STAND, 6)


::T821_13::
     --  麥爾丹帶兵想跟上
    if not ESC.RoleReach(25) then goto T821_9 end



    ESC.RoleDisable(417)
    MediaFunc.PlaySound(82) -- 門關上的聲音



    ESC.ChangeQQ(25, Const.STAND)
    ESC.ChangeQQ(639, Const.STAND)
    ESC.ChangeQQ(323, Const.STAND)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.ChangeQQ(327, Const.STAND)
    ESC.ChangeDIR(327, 7)
    ESC.ChangeDIR(328, 7)

    ESC.BatchMove(2,
    639, 41, 19,
    323, 37, 18)

    ESC.TakeActData(639, 412, 52, 3)
    ESC.ChangeSpeed(639 , 0)
    ESC.Unlock(639)
    ESC.TakeActData(323, 412, 52, 3)
    ESC.Unlock(323)
    ESC.ChangeSpeed(323 , 1)
    MediaFunc.PlaySound(311) -- 敲門聲
    ESC.Delay(300)


    Scene.Print_W(25,9008,7*2,3*2,StringDB('ESS2313')) -- ESS=臭婊子！%N快開門呀──%N放我出去──...
    ESC.WaitDLG(25)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.DLGClose(10001)



-- ──────────────────────────────────────【小魔女 VS 大魔女】


    ESC.GotoMap(256, 27, 30, 1, 0, 6) -- 移到下一張圖
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    MediaFunc.PlaySound(311)






    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2314')) -- ESS=敲吧，敲吧！%N再敲一百年也不會有人應門...
    ESC.WaitDLG(1)



    MediaFunc.PlaySound(311)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2315')) -- ESS=強烈的復仇之火，用了多少淚水才漸漸澆熄，...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 0)



    MediaFunc.PlaySound(311)
    ESC.MusicFadeMode(2, 25) -- 【淡出模式】
    ESC.StoryMusic(41, 41, 0x4000) -- 【劇情配樂】亙古之愛人



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2316')) -- ESS=大姊姊！%N原來妳就是爺爺所說那位%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(8, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(8, 5)
    ESC.Delay(50)
    ESC.ChangeDIR(8, 3)
    ESC.Delay(50)
    ESC.ChangeDIR(8, 7)



    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2317')) -- ESS=哦……%N原來%C7老肯迪%C5這樣形容...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2318')) -- ESS=他不久前不幸病逝了……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(8, 3)


    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2319')) -- ESS=是嗎……%N一轉眼又少了一位人間的好友…...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)




    ESC.AddHeadSign(8, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(8)
    ESC.Delay(200)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2320')) -- ESS=大姊姊！%N妳真的是惡魔嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2321')) -- ESS=小傻瓜……%N我是精靈，是一位%C7愛的...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2322')) -- ESS=精靈的生命很長，然而人類的卻很短，所以當...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2323')) -- ESS=每當戀人死去，我都會真心為他哀傷好幾十年...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2324')) -- ESS=我上一位戀人，就是在這%C7塔德莫爾%C...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.BatchMove(1,     --  卡瑪接近賽特
    8, 25, 31)
    ESC.SetRoleSpeed(8, 9)
    ESC.TakeActData(8, -1, 64, 1)
    ESC.Unlock(8)
    ESC.TILPA1(8, 3)
    ESC.Delay(700)


    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2325')) -- ESS=你的%C7雙眼%C5好美啊……%N一黑一...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.WORD_ON_HEAD(1, 10, 20, -75, '%C2'..StringDB('ESS2326')) -- ESS=！


    ESC.TakeActData(1, -1, 7, 3) -- 賽特被老色女突然性搔擾，嚇得後退一步
    ESC.SetRoleSpeed(1, 0)
    ESC.BatchMove(1,    1, 28, 30)
    ESC.TakeActData(1, -1, 0, 2)
    ESC.TakeActData(8, -1, 64, 3)
    ESC.Unlock(8)
    ESC.TILPA1(8, 3)
    ESC.TakeActData(8, -1, 0, 3)


    ESC.MusicFadeMode(2, 20) -- 【淡出模式】
    ESC.StoryMusic(0, 0, 0x4000) -- 【劇情配樂】妮可，好奇的大眼睛


    Scene.Nicole_On(22, 32, 7)
    ESC.Unlock(2)


    ESC.MusicFadeMode(2, 90) -- 【淡出模式】
    ESC.StoryMusic(37, 37, 0x4000) -- 【劇情配樂】妮可，好奇的大眼睛



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2327')) -- ESS=喂，妳是誰啦！%N不准隨便亂碰賽特───...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)



    ESC.AddHeadSign(8, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(8)


    ESC.ChangeDIR(1, 6)
    ESC.Delay(50)
    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(8, 6)
    ESC.Delay(200)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2328')) -- ESS=賽特，這個老女人是誰啦！%N她怎麼看起來...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)



    ESC.RestoreRoleSpeed(8)
    ESC.TakeActData(8, -1, 62, 4)
    ESC.BatchMove(1,    8, 23, 29)
    ESC.TakeActData(8, -1, 0, 5)
    ESC.Unlock(8)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2329')) -- ESS=呵呵……%N看來我來晚了一步，%N原來…...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    ESC.TurnFace(11, 8)
    ESC.Unlock(11)

    ESC.ChangeDIR(1, 4)

    Scene.MBOn(11, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2330')) -- ESS=喵～卡瑪，妳這下子碰到對手啦！%N人家比...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    ESC.ChangeDIR(8, 1) -- 卡瑪看妮可和賽特
    ESC.Delay(300)

    ESC.ChangeDIR(8, 5)
    ESC.Delay(400)

    ESC.ChangeDIR(8, 1)
    ESC.Delay(300)

    ESC.ChangeDIR(8, 5)
    ESC.Delay(800)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2331')) -- ESS=不過這位青年的眼神好迷人啊，%N我要好好...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    ESC.AddHeadSign(1, 1)
    ESC.AddHeadSign(2, 0)
    ESC.Delay(1100)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(2)


    ESC.TurnFace(9, 11)
    ESC.ChangeDIR(11, 1)
    ESC.Unlock(11)
    ESC.TurnFace(9, 11)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 4)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2332')) -- ESS=大姊姊！%N妳這隻黑貓好有趣哦！%N又會...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.ChangeDIR(8, 3)

    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2333')) -- ESS=安卡%C5是我的好友，%N在我出現在世界...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2334')) -- ESS=世界上有會飛的貓哦！%N不過不是所有%C...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2335')) -- ESS=嗯，%N也差不多了，%N我幫你們補充一下...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    ESC.ChangeDIR(8, 5)
    Scene.Heal2() -- 補充體力
    ESC.Delay(1000)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2336')) -- ESS=那麼…這位賽特，%N我在上面等你上來，%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)
    ESC.SetRoleSpeed(8, 0)
    ESC.SetRoleSpeed(11, 0)
    ESC.ChangeDIR(1, 7)
    ESC.BatchMove(2,
    8, 49, 15,
    11, 49, 15)

    ESC.RoleDisable(8)
    ESC.RoleDisable(11)


    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2337')) -- ESS=喂喂，%N這個老女人怎麼這樣子討厭啊？%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)


    ESC.ChangeDIR(9, 7)
    ESC.TakeActData(1, -1, 52, 7)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 49, 15)


    Scene.RemoveMainParty(2)

    ESC.RoleDisable(2)
    ESC.ChangeRoleMap( 2 , 270, 12, 32, 0, -1, Const.STAND, 3) -- 移至鬼猴殿
    ESC.RoleDisable(99)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 32, 25)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(9, 1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2338')) -- ESS=賽特，你也很厲害嘛！%N一口氣讓兩個%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2339')) -- ESS=你別開這種可怕的玩笑！%N一個妮可我就夠...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2340')) -- ESS=是嗎？%N那…我們也趕快離開這裏吧！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.ChangeDIR(1, 7)


    Scene.QuestOff(259)
    Scene.QuestOn(260)


    ESC.RoleDisable(2)
    ESC.RoleDisable(99)
    ESC.RoleDisable(8)
    ESC.RoleDisable(11)
    ESC.ChangeDIR(1, 7)
    ESC.AddParty(9)


    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusicOff()  -- 【地圖音樂】塔德莫爾

    GameFunc.FlagOff(10)

end




-- ──────────────────────────────────────【塔德莫爾古墓入口】

function Scene.TALK822()
    -- 第一道秘門劇情

    if GameFunc.GetFlag(121) then goto T822 end
    GameFunc.FlagOn(10)
    ESC.RMLock()

    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 10, 20, -75, StringDB('ESS2341')) -- ESS=哇，好壯觀───！


    ESC.Delay(400)
    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(9, 7)
    ESC.Delay(400)
    Scene.ScrollMapD(33, 2, 2, 2)
    ESC.ScrollMapWait()
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 7 , 0xD100)
    ESC.BatchMove(1,    9, 25, 43)
    ESC.TakeActData(9, -1, 0, 7)



    ESC.ScrollMapToRole(1, 4, 4) -- 以賽特為中心捲回來
    ESC.ScrollMapWait()
    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2342')) -- ESS=真沒想到這廢墟裏，會有這樣規模豪華的古墓...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TurnFace(9, 1)

    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2343')) -- ESS=傻瓜───%N這就是%C7塔德莫爾%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2344')) -- ESS=埃及…？%N聽說埃及這個地方，%N不是距...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2345')) -- ESS=他們的女王自稱是%C7埃及法老%C5的後...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    ESC.ChangeDIR(1, 7)

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2346')) -- ESS=原來如此……%N你的那堆書中有寫埃及人很...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2347')) -- ESS=埃及人希望死者復活後，依然能夠享有他們生...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2348')) -- ESS=不過為了防止盜墓者，通常都會設下很多可怕...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    GameFunc.FlagOn(121)
    ESC.AddParty(9)



    GameFunc.FlagOn(357)
    ESC.RoleEnable(25)
    ESC.RoleEnable(639)
    ESC.RoleEnable(323)
    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.ChangeRoleMap(328, 260, 000, 48, 39, 412, Const.STAND, 5)
    ESC.ChangeRoleMap(639, 260, 000, 52, 25, 412, 52, 3)
    ESC.ChangeRoleMap(323, 260, 000, 48, 26, -1, Const.STAND, 6)
    ESC.ChangeRoleMap(327, 260, 000, 53, 29, 602, Const.STAND, 6)
    ESC.ChangeRoleMap(25 , 260, 000, 47, 29, -1, Const.STAND, 7)
    ESC.ChangeScript(25, '') -- 先將麥爾丹對話清靈
    ESC.Unlock(328)
    ESC.Unlock(639)

    GameFunc.FlagOff(10)

::T822::
end





-- ──────────────────────────────────────【入口神秘的古墓石碑】

function Scene.TALK823()
    -- 入口石碑


    Scene.Print_W(410,9008,13*2,4*2,'%S1'..StringDB('ESS2349')) -- ESS=回去吧，別踏入這裏！%N這城裏只有飄蕩怨...
    ESC.WaitDLG(410)

end



function Scene.TALK824()
    -- 台階機關
    Scene.MoveHero(49, 39, 1)
    ESC.Delay(300)
    ESC.ChangeQQ(418, Const.WALK)
    GameFunc.FlagOff(383)
    ESC.RoleEnable(479)
    ESC.ChangeScript(418, '')
    MediaFunc.PlaySound(58)
end


function Scene.TALK825()
    if ESC.GetRoleToPosDistance(86,36,1) > 8 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) ESC.SceneBreak() end -- 檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.MoveHero(85, 40, 7)
    ESC.ChangeQQ(419, Const.STAND)
    GameFunc.FlagOff(380)
    ESC.RoleEnable(481)
    ESC.ChangeScript(419, '')
    MediaFunc.PlaySound(56)
end


function Scene.TALK826()
    -- 被麥爾丹威脅
    if GameFunc.GetFlag(122) then goto T826 end -- 已被威脅一次



    ESC.StoryMusic(124, 72, 0x2000) -- 【劇情配樂】晴天霹靂




    ESC.ChangeQQ(1, Const.STAND)

    GameFunc.FlagOn(10)
    Scene.WORD_ON_HEAD(328, 5, 20, -65, StringDB('ESS2350')) -- ESS=───誰！




    ESC.ChangeQQ(328, Const.WALK)
    ESC.BatchMove(1,    328, 49, 40)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.ChangeDIR(25, 1)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 7 , 0xD100)
    ESC.SetRoleSpeed(9 , 0)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetPos(1, 57, 42)
    ESC.SetPos(9, 59, 41)




::T826_1::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto T826_2 end
    ESC.TakeActData(1, -1, 0, 2)

::T826_2::
    if not ESC.RoleReach(9) then goto T826_3 end
    ESC.TakeActData(9, -1, 0, 2)

::T826_3::
    if not ESC.IsAllReach() then
        goto T826_1
    end

    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 49, 42)
    ESC.TakeActData(25, -1, 0, 5)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2351')) -- ESS=哼……%N原來是老肯迪家的小鬼，%N你們...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.TurnFace(328, 25)

    ESC.AddHeadSign(328, 3)
    ESC.Delay(1200)
    ESC.DelHeadSign(328)


    ESC.AddHeadSign(25, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(25)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2352')) -- ESS=────對對對！%N剛剛好，我們在這大老...
    ESC.WaitDLG(1)


    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)





    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2353')) -- ESS=………我？%N
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2354')) -- ESS=啊，還懷疑呀？%N服從長官之命令，是你們...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1214')) -- ESS=…………%N
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2355')) -- ESS=你們這些垃圾如果還想在伊斯蘭待下去，就乖...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)


    ESC.Delay(300)
    ESC.TurnFace(1, 9)
    ESC.TurnFace(9, 1)
    ESC.Delay(300)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2356')) -- ESS=賽特，怎麼辦？%N我們要幫他們的忙嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2357')) -- ESS=無妨！%N現在衝突沒有意義，就先幫他們找...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2358')) -- ESS=好呀好呀！%N其實我也很想知道裏面到底還...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2359')) -- ESS=我記得爺爺地圖上有寫：%N說如果想要打開...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.TurnFace(25, 1)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2360')) -- ESS=喂喂喂───%N你們兩個人在那邊嘰嘰喳喳...
    ESC.WaitDLG(1)


    ESC.TurnFace(1, 25)
    ESC.ChangeDIR(25, 7)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2361')) -- ESS=喂，士兵───%N看好他們兩個，有任何不...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)





    ESC.AddParty(9)
    ESC.AddParty(328)
    ESC.ChangeScript(25, 'TALK25') -- 將麥爾丹對話恢復
    Scene.SAR_TurnFace(25, 1)
    ESC.RoleDisable(719) -- 將外面屍體清掉
    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 47, 29)
    ESC.TakeActData(25, -1, 0, 7)
    Scene.QuestOff(87)
    Scene.QuestOn(88)

    GameFunc.FlagOn(122)
    GameFunc.FlagOn(7045) -- 士兵跟著
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T826::
end

function Scene.TALK827()
    -- 墓後通道1 ->2
    Scene.ChangeMap(259, 72, 94, 7)
end

function Scene.TALK828()
    -- 往四象機關
    Scene.ChangeMap(258, 21, 63, 0)
end

function Scene.TALK829()
    -- 往入口處走廊
    Scene.ChangeMap(260, 53, 26, 6)
end






-- ──────────────────────────────────────【芝麻開門！】

function Scene.TALK830()
    if GameFunc.GetFlag(356) then goto T830 end




    ESC.RoleDisable(8)
    ESC.RoleDisable(11)
    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(255, 16, 21, 1, Const.STAND, 5)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 21, 24)

    ESC.StoryMusic(124, 75, 0x2000) -- 【劇情配樂】晴天霹靂＋灼熱沙漠



    MediaFunc.PlaySound(82)
    ESC.Delay(200)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 4 , 0xD100)
    ESC.RoleDisable(416)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.ChangeDIR(25, 4)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2362')) -- ESS=───混、混帳！%N是陷阱，是%C7老肯...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.TurnFace(25, 323)
    ESC.Caption(25)
    Scene.Print_W(25,9008,7*2,3*2,StringDB('ESS2363')) -- ESS=──喂！%N你們幾個過去看看，快點！
    ESC.WaitDLG(25)

    ESC.ChangeDIR(25, 4)


    ESC.Unlock(327)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.BatchMove(2,
    323, 15, 19,
    328, 13, 21)
    ESC.ChangeQQ(323, Const.STAND)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.Delay(500)
    ESC.TurnFace(323, 25)
    ESC.TurnFace(328, 25)



    ESC.Caption(228)
    Scene.Print_W(323,9008,7*2,3*2,StringDB('ESS2364')) -- ESS=麥爾丹大人，整個石牆封死了，動也不動……...
    ESC.WaitDLG(323)


    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,3*2,StringDB('ESS2365')) -- ESS=去…去你的不動！%N用任何辦法，也要給我...
    ESC.WaitDLG(25)



    ESC.ChangeDIR(323, 4)
    ESC.ChangeDIR(328, 4)
    ESC.Delay(200)
    ESC.TakeActData(323, 412, 56, 3)
    ESC.ChangeSpeed(323 , 0)
    ESC.TakeActData(328, 412, 56, 3)
    ESC.Unlock(323)
    ESC.Unlock(328)
    MediaFunc.PlaySound(311)
    ESC.Delay(750)


    ESC.Caption(25)
    Scene.Print_W(25,9008,9*2,4*2,StringDB('ESS2366')) -- ESS=───畜生！%N可惡的老肯迪，人死了以後...
    ESC.WaitDLG(25)



    ESC.ChangeDIR(25, 6)
    ESC.Delay(300)




    ESC.Caption(25)
    Scene.Print_W(25,9008,8*2,3*2,StringDB('ESS2367')) -- ESS=喂，你們也是！%N我命令你們立刻把這門弄...
    ESC.WaitDLG(25)


    ESC.TurnFace(1, 25)
    ESC.TurnFace(9, 25)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2368')) -- ESS=……我們？
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2369')) -- ESS=唉唉唉……%N你這傢伙可還真是除了鬼叫和...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(25, 1)


    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2370')) -- ESS=────嗯？%N你剛才說些什麼！%N
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2371')) -- ESS=大人，您聽錯啦！%N我是說%C7麥爾丹大...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2372')) -- ESS=───算你識相！%N過去幫忙把門弄開，%...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2373')) -- ESS=小問題、小問題，%N看我的！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(2,
    1, 18, 22,
    9, 16, 25)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.TakeActData(9, -1, 0, 4)



    ESC.TakeActData(323, 602, Const.WALK, 4)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.BatchMove(2,
    323, 18, 18,
    328, 12, 23)
    ESC.TakeActData(323, -1, 0, 5)
    ESC.TakeActData(328, -1, 0, 5)
    ESC.Delay(500)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2374')) -- ESS=石牆啊石牆啊，%N麥爾丹大人命令你立刻打...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.Delay(2000)
    ESC.TurnFace(1, 25)
    ESC.Delay(300)
    ESC.TurnFace(9, 25)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 7, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2375')) -- ESS=報告麥爾丹大人，%N這道可惡的石牆完全不...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 7)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2376')) -- ESS=───媽的，%N你這畜生是故意在找碴嗎？...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2377')) -- ESS=麥爾丹大人啊，%N您也看到了，我們剛才一...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2378')) -- ESS=───臭小子，%N你…你是存心要氣死我是...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(328, Const.WALK)
    ESC.BatchMove(2,
    323, 15, 19,
    328, 13, 21)
    ESC.ChangeQQ(323, Const.STAND)
    ESC.ChangeQQ(328, Const.STAND)
    ESC.TakeActData(323, 412, 56, 3)
    ESC.ChangeSpeed(323 , 0)
    ESC.TakeActData(328, 412, 56, 3)
    ESC.Unlock(323)
    ESC.Unlock(328)
    MediaFunc.PlaySound(311)

    ESC.ChangeQQ(25, Const.WALK)
    ESC.ChangeSpeed(25 , 2)
    ESC.ChangePath(25, 203)
    ESC.Unlock(25)
    GameFunc.FlagOn(356)
    ESC.ChangeScript(639, 'TALK860')
    ESC.ChangeScript(323, 'TALK860')
    ESC.ChangeScript(327, 'TALK860')
    ESC.ChangeScript(328, 'TALK860')
    ESC.AddParty(9)



    ESC.TownTrans_Off(StringDB('ESS2379')) -- ESS=被一股魔法封住，無法使用！
    ESC.DungeonEsc_Off(StringDB('ESS2379')) -- ESS=被一股魔法封住，無法使用！

    Scene.QuestOn(259)
    Scene.QuestOff(88)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()



::T830::
    -- if GameFunc.GetFlag(137) then goto T830A end   -- 等大馬士革戰事結束後即可進入
    Scene.WORD_ON_HEAD(1, 5, 0, -65, StringDB('ESS2380')) -- ESS=門封死了！
    ESC.SceneBreak()
::T830A::
    Scene.ChangeMap(255, 16, 20, 5)
end






function Scene.TALK831()
    -- 寶瓶座(風相)按鈕 -- 428
    Scene.MoveHero(18, 22, 0 ) -- 走到寶瓶按鈕前
    ESC.ChangeQQ(441, Const.WALK)
    ESC.ChangeScript(441, '')
    ESC.ChangeScript(428, '')
    ESC.TakeActData(428, 12003, 30, 0)
    GameFunc.FlagOn(338)
    Scene.Star_WIND()
end

function Scene.TALK832()
    -- 摩羯 土相
    Scene.MoveHero(23, 22, 0 ) -- 走到摩羯按鈕前
    ESC.ChangeQQ(442, Const.WALK)
    ESC.ChangeScript(442, '')
    ESC.ChangeScript(429, '')
    ESC.TakeActData(429, 12003, 31, 0)
    GameFunc.FlagOn(339)
    Scene.Star_SOIL()
end

function Scene.TALK833()
    -- 射手座 火相
    Scene.MoveHero(28, 22, 0 ) -- 走到射手按鈕前
    ESC.ChangeQQ(443, Const.WALK)
    ESC.ChangeScript(443, '')
    ESC.ChangeScript(430, '')
    ESC.TakeActData(430, 12003, 32, 0)
    GameFunc.FlagOn(340)
    Scene.Star_FIRE()
end

function Scene.TALK834()
    -- 天蠍 水相
    Scene.MoveHero(32, 22, 0 ) -- 走到天蠍按鈕前
    ESC.ChangeQQ(444, Const.WALK)
    ESC.ChangeScript(444, '')
    ESC.ChangeScript(431, '')
    ESC.TakeActData(431, 12003, 33, 0)
    GameFunc.FlagOn(341)
    Scene.Star_WATER()
end

function Scene.TALK835()
    -- 天秤 風
    Scene.MoveHero(37, 22, 0 ) -- 走到天秤按鈕前
    ESC.ChangeQQ(445, Const.WALK)
    ESC.ChangeScript(445, '')
    ESC.ChangeScript(432, '')
    ESC.TakeActData(432, 12003, 34, 0)
    GameFunc.FlagOn(342)
    Scene.Star_WIND()
end

function Scene.TALK836()
    -- 處女 土
    Scene.MoveHero(41, 22, 0 ) -- 走到處女按鈕前
    ESC.ChangeQQ(446, Const.WALK)
    ESC.ChangeScript(446, '')
    ESC.ChangeScript(433, '')
    ESC.TakeActData(433, 12003, 35, 0)
    GameFunc.FlagOn(343)
    Scene.Star_SOIL()
end

function Scene.TALK837()
    -- 獅子座   火
    Scene.MoveHero(60, 22, 0 ) -- 走到獅子按鈕前
    ESC.ChangeQQ(447, Const.WALK)
    ESC.ChangeScript(447, '')
    ESC.ChangeScript(434, '')
    ESC.TakeActData(434, 12003, 36, 0)
    GameFunc.FlagOn(344)
    Scene.Star_FIRE()
end

function Scene.TALK838()
    -- 巨蟹 水
    Scene.MoveHero(65, 22, 0 ) -- 走到巨蟹按鈕前
    ESC.ChangeQQ(448, Const.WALK)
    ESC.ChangeScript(448, '')
    ESC.ChangeScript(435, '')
    ESC.TakeActData(435, 12003, 37, 0)
    GameFunc.FlagOn(345)
    Scene.Star_WATER()
end

function Scene.TALK839()
    -- 雙子座 風
    Scene.MoveHero(69, 22, 0 ) -- 走到雙子按鈕前
    ESC.ChangeQQ(449, Const.WALK)
    ESC.ChangeScript(449, '')
    ESC.ChangeScript(436, '')
    ESC.TakeActData(436, 12003, 38, 0)
    GameFunc.FlagOn(346)
    Scene.Star_WIND()
end

function Scene.TALK840()
    -- 金牛座   土
    Scene.MoveHero(73, 22, 0 ) -- 走到金牛按鈕前
    ESC.ChangeQQ(450, Const.WALK)
    ESC.ChangeScript(450, '')
    ESC.ChangeScript(437, '')
    ESC.TakeActData(437, 12003, 39, 0)
    GameFunc.FlagOn(347)
    Scene.Star_SOIL()
end

function Scene.TALK841()
    -- 牡羊 火
    Scene.MoveHero(79, 22, 0 ) -- 走到牡羊按鈕前
    ESC.ChangeQQ(451, Const.WALK)
    ESC.ChangeScript(451, '')
    ESC.ChangeScript(438, '')
    ESC.TakeActData(438, 12003, 40, 0)
    GameFunc.FlagOn(348)
    Scene.Star_FIRE()
end

function Scene.TALK842()
    -- 雙魚    水
    Scene.MoveHero(84, 22, 0 ) -- 走到雙魚按鈕前
    ESC.ChangeQQ(452, Const.WALK)
    ESC.ChangeScript(452, '')
    ESC.ChangeScript(439, '')
    ESC.TakeActData(439, 12003, 41, 0)
    GameFunc.FlagOn(349)
    Scene.Star_WATER()
end

function Scene.TALK843()
    -- 支線走廊出口
    Scene.ChangeMap(262, 51, 40, 6)
end
-- MAP258換地圖點
function Scene.TALK844()
    -- 往星座走廊
    Scene.ChangeMap(257, 50, 20, 1)
end

function Scene.TALK845()
    -- 中樞的門
    Scene.ChangeMap(262, 28, 20, 6)
end

function Scene.TALK846()
    -- 火門
    Scene.ChangeMap(265, 132, 88, 4)
end

function Scene.TALK847()
    -- 水
    Scene.ChangeMap(266, 104, 22, 6)
end

function Scene.TALK848()
    -- 風
    Scene.ChangeMap(264, 50, 24, 5)
end

function Scene.TALK849()
    -- 土
    Scene.ChangeMap(263, 43, 90, 7)
end
--------------------------------------
function Scene.TALK850()
    -- 石禁怨靈碑
    Scene.MoveHero(26, 20, 4)
    Scene.Print_W(460,9008,26,8,'%N'..StringDB('ESS2381')) -- ESS=　深淵死城　石禁怨靈%N%N　　肯迪
    ESC.WaitDLG(460)
end

function Scene.TALK851()
    -- 將麥爾丹等移到石碑前
    if GameFunc.GetFlag(355) then goto T851 end
    ESC.ChangeRoleMap(25 , 254, 000, 31, 22, -1, Const.STAND, 4)
    ESC.ChangeRoleMap(639, 254, 000, 40, 24, 412, 52 , 3)
    ESC.ChangeRoleMap(323, 254, 000, 32, 16, -1, Const.STAND, 6)
    ESC.ChangeRoleMap(327, 254, 202, 32, 19, -1, Const.WALK, 4)
    ESC.RoleEnable(25)
    ESC.RoleEnable(639)
    ESC.RoleEnable(323)
    ESC.RoleEnable(327)
    GameFunc.FlagOn(355)
::T851::
end






-- ──────────────────────────────────────【中樞石碑的提示】

function Scene.TALK852()
    -- 中樞門的提示
    Scene.MoveHero(22, 39, 0)
    ESC.RMLock()
    ESC.RemoveParty(9, 0,'TALK9',9,Const.WALK , 7 , 0xD100)
    ESC.BatchMove(1,    9, 18, 42)
    ESC.TakeActData(9, -1, 0, 7)




    Scene.Print_W(454,9008,13*2,6*2,StringDB('ESS2382')) -- ESS=地火風水%C4四元素─────%N三%C...
    ESC.WaitDLG(454)


    Scene.Print_W(1,9008,12*2,3*2,StringDB('ESS2383')) -- ESS=四象之門%C4開，%N%C2四大元素%C...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2384')) -- ESS=這又是什麼意思？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2385')) -- ESS=我大概已經知道這機關的祕密了──%N這是...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2386')) -- ESS=旁邊這有%C7四道門%C5，我猜它們分別...
    ESC.WaitDLG(1)




    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2387')) -- ESS=要解開這個機關，關鍵在前面的%C7星座走...
    ESC.WaitDLG(1)
    GameFunc.FlagOff(10)

    local select = ESC.GetBTNSelect()
    if select == 1 then
        goto T852A
    end

    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)

    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.AddParty(9)
    ESC.RMUNlock()
    ESC.SceneBreak()



::T852A::

    GameFunc.FlagOn(10)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2388')) -- ESS=好，這可能需要花一點時間───%N我們先...
    ESC.WaitDLG(1)

    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.AddParty(9)
    ESC.BatchMove(1,    1, 22, 61)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.RemoveParty(9 , 0 , 'TALK9', 9, Const.STAND, 7 , 0xD100)
    ESC.GotoMap(257, 50, 21, 1, Const.WALK, 1)
    ESC.ChangeRoleMap( 9, 257, 0, 52, 23, -1, Const.STAND, 1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.BatchMove(1,    1, 49, 30)
    ESC.TakeActData(1, -1, 0, 0)



    -- 星座解說
    ESC.TurnFace(9, 1)

    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,StringDB('ESS2389')) -- ESS=──首先呢，%N這牆上的%C7十二星座%...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)




    ESC.ChangeQQ(9, Const.WALK)
    ESC.ChangeDIR(1, 7)
    Scene.ScrollMapD(65, 2, 4, 4)
    ESC.BatchMove(1,    9, 86, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2390')) -- ESS=雙魚座%C5（PISCES），占星學上屬...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.ScrollMapD(60, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 81, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2391')) -- ESS=牡羊座%C5（ARIES），占星學上屬於...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.ScrollMapD(55, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 75, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2392')) -- ESS=金牛座%C5（TAURUS），占星學上屬...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.ScrollMapD(50, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 71, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2393')) -- ESS=雙子座%C5（GEMINI），占星學上屬...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    Scene.ScrollMapD(46, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 67, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2394')) -- ESS=巨蟹座%C5（CANCER），占星學上屬...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.ScrollMapD(41, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 62, 23)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2395')) -- ESS=獅子座%C5（LEO），占星學上屬於%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.ScrollMapD(22, 2, 4, 4)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 39, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2396')) -- ESS=處女座%C5（VIRGO），占星學上屬於...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.ScrollMapD(17, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 35, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2397')) -- ESS=天秤座%C5（LIBRA），占星學上屬於...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.ScrollMapD(12, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 30, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2398')) -- ESS=天蠍座%C5（SCORPIO），占星學上...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    Scene.ScrollMapD( 8, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 26, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2399')) -- ESS=射手座%C5（SAGITTARIUS），...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)




    Scene.ScrollMapD( 4, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 21, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2400')) -- ESS=摩羯座%C5（CAPRICORN），占星...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    Scene.ScrollMapD( 0, 2, 4, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 16, 23)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,StringDB('ESS2401')) -- ESS=水瓶座%C5（AQUARIUS），占星學...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)




    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 52, 23)
    ESC.TakeActData(9, -1, 0, 1)
    ESC.ScrollMapWait()

    ESC.ChangeDIR(9, 6)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,StringDB('ESS2402')) -- ESS=──以上就是%C7黃道十二宮%C5%N在...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.ChangeDIR(9, 1)
    ESC.AddParty(9)

    GameFunc.FlagOff(10)
end





function Scene.TALK853()
    -- 台階->墓前通道2
    Scene.ChangeMap(261, 115, 34, 6)
end

function Scene.TALK854()
    -- 台階->四象機關
    Scene.ChangeMap(258, 21, 38, 1)
end

function Scene.TALK855()
    -- 台階進支線通道
    Scene.ChangeMap(268, 43, 89, 7)
end

function Scene.TALK856()
    -- 台階換圖 進密室
    Scene.ChangeMap(267, 29, 28, 4)
end

function Scene.TALK857()
    -- 墓後通道往鬼侯殿 -- 與鬼猴戰鬥
    if GameFunc.GetFlag(127) then goto T857A end  -- 劇情已執行過
    if GameFunc.GetFlag(125) then goto T857 end   -- 遇見卡瑪後才產生劇情






-- ──────────────────────────────────────【女人吵架，石獸也遭殃】

::T857A::
    Scene.ChangeMap(270, 5, 37, 3)
    ESC.SceneBreak()

::T857::

    GameFunc.FlagOn(10)


    ESC.RMLock()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(270 , 10, 37, 1, 0, 3)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, 0 , 3 , 0xD100)
    ESC.RoleMove(9, 5, 37)
    ESC.ChangeRoleMap( 8, 270, 0, 35, 32, 8, Const.STAND, 6) -- 移至鬼猴殿
    ESC.ChangeRoleMap( 11, 270, 0, 34, 34, 11, Const.STAND, 2) -- 移至鬼猴殿
    ESC.ChangeRoleMap( 2, 270, 0, 30, 34, 2, Const.STAND, 7)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.RoleEnable(2)

    ESC.Unlock(8)
    ESC.Unlock(11)
    ESC.Unlock(2)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.Delay(400)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2403')) -- ESS=嘩────！%N我們終於又回到外面來了！...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2404')) -- ESS=……嗯，%N不過她們那幾個會飛的傢伙們，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ScrollMapToRole(8, 2, 2)
    ESC.ScrollMapWait()



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2405')) -- ESS=喂，人家是說真的啦！%N賽特是人家最早跟...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)



    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2406')) -- ESS=安卡，%N你瞧她緊張成這樣子，%N多可愛...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(11, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2407')) -- ESS=沒錯沒錯！%N這種天真無邪的表情，%N可...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)


    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2408')) -- ESS=喂，%N欠扁是不是？%N你這隻千年老怪貓...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2409')) -- ESS=喂！%N妳們到底有沒有在聽人家講啦！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 23)



    ESC.StoryMusic(124, 123, 0x2000) -- 【劇情配樂】晴天霹靂＋不安




    Scene.Print_SL(482,9008,150,120,8*2,4*2,StringDB('ESS2410')) -- ESS=───卡瑪！%N妳鬧完了沒有？%N這一個...
    ESC.WaitDLG(482)



    ESC.AddHeadSign( 8, 0)
    ESC.AddHeadSign(11, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(8)
    ESC.DelHeadSign(11)



    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(9, 7)
    ESC.ChangeDIR(8, 4)
    ESC.ChangeDIR(11, 4)
    ESC.ChangeDIR(2, 4)
    Scene.ScrollMapD(6, 4, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.ChangeQQ(8, Const.WALK)
    ESC.SetRoleSpeed(8, 1)

    ESC.BatchMove(1,    8, 24, 27)
    ESC.TakeActData(8, -1, 0, 0)
    ESC.Unlock(8)



    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2411')) -- ESS=我還以為是誰呢……%N原來是你呀，%C7...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2412')) -- ESS=這麼多年老鄰居了，你從沒跟我講過話，今天...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)


    ESC.SetRoleSpeed(11, 1)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(2, 1)
    ESC.SetRoleSpeed(9, 1)


    ESC.BatchMove2(4+0x8000,
    1, 20, 25, 1, 0, 7,
    11, 28, 25, 11, 0, 4,
    2, 29, 28, 2, 0, 4,
    9, 19, 28, 9, 0, 7)



    Scene.MBOn(18, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2413')) -- ESS=這個人是我們%C7主宰%C5再三吩咐過的...
    ESC.WaitDLG(1)
    ESC.MBOff(18, 1)



    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2414')) -- ESS=哦……？%N這是命令嗎？
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2415')) -- ESS=不過我又不屬於%C7撒旦%C5管轄……%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(18, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2416')) -- ESS=賽特啊！%N你可能不知，這女人是真正的%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2417')) -- ESS=五年前，她在這戰場上，好像是發瘋了一樣，...
    ESC.WaitDLG(1)
    ESC.MBOff(18, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2418')) -- ESS=……這事我曉得，%N她失去她的愛人，所以...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(18, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2419')) -- ESS=沒錯，賽特！%N撒旦大人希望你能加入魔界...
    ESC.WaitDLG(1)
    ESC.MBOff(18, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2420')) -- ESS=對不起，我個人的生活，%N何必顧到你們什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(18, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2421')) -- ESS=───好大狗膽！%N好，那我乾脆直接打敗...
    ESC.WaitDLG(1)
    ESC.MBOff(18, 1)
    Scene.AddMainParty(2)
    Scene.AddMainParty(3)


    ESC.StartBattle('BS150') -- 進入戰鬥



    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂
    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(76, 76, 0x4000) -- 【劇情配樂】卡瑪





    ESC.RoleDisable(482)
    ESC.RoleDisable(483)
    ESC.TurnFace(8, 1)
    ESC.Unlock(8)
    ESC.TurnFace(11, 1)
    ESC.Unlock(11)
    ESC.Delay(400)


    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2422')) -- ESS=真榮幸能有機會與你一起戰鬥，賽特……請問...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(9, 3)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2423')) -- ESS=我是來尋找所謂的戰爭不敗之法，目前還在肯...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeDIR(11, 6)


    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2424')) -- ESS=卡瑪，這人真的很特別呢！%N我們跟著他一...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2425')) -- ESS=是啊……%N賽特，所以我可以跟著你一道兒...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2426')) -- ESS=──放心！%N%C7撒旦%C5的手下一路...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2427')) -- ESS=……那是妳們個人的自由，我也管不著，但妳...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2428')) -- ESS=不可以、不可以啦───%N人家剛才跟妳說...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 22)



    ESC.ChangeDIR(8, 0)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 7)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 3)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 5)
    ESC.Delay(100)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2429')) -- ESS=我賴皮？%N
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2430')) -- ESS=喵喵，不是她厚臉皮，%N其實是我%C7安...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2431')) -- ESS=是啊，妳看！%N誰叫安卡牠這麼好奇，偏偏...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,StringDB('ESS2432')) -- ESS=而且，人家%C7卡瑪%C5也不見得會跟妳...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    ESC.AddHeadSign(2, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(2)

    ESC.ChangeDIR(2, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 7)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 3)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(50)


    ESC.AddHeadSign(2, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(2)


    ESC.ChangeDIR(2, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 6)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 4)


    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2433')) -- ESS=這隻貓咪講的好像很對耶───%N那說定了...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)



    Scene.MBOn(99, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2434')) -- ESS=───太好了！%N─────順利搞定！！...
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10008, 1)
    ESC.DelHead(10011, 0)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2435')) -- ESS=　　………………%N%C3（突然覺得有點...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 20)


    ESC.ChangeDIR(8, 1)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 6)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 2)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 4)
    ESC.Delay(250)


    Scene.MBOn(8, 2, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2436')) -- ESS=賽特，那以後我們就是同伴了，%N我是卡瑪...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)


    ESC.ChangeQQ(2, Const.RUN)
    ESC.BatchMove(1,    2, 21, 29-1)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.TurnFace(2, 11)
    ESC.Unlock(2)

    ACH.SetAchievement("ACH_0_3")
    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2437')) -- ESS=啊，寵物二號！%N我還另外有一隻可愛的寵...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)

    Scene.Nicole_Off()

    ESC.ChangeDIR(8, 4)
    ESC.Delay(50)
    ESC.ChangeDIR(8, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(8, 6)
    ESC.Delay(50)


    Scene.MBOn(11, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2438')) -- ESS=喵喵～～這個有趣！%N居然有可以住人的%...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 0)


    Scene.Ankh_Off()


    ESC.AddHeadSign(8, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(8)



    Scene.Kama_Off()



--  Scene.Glass_SRC1(8, "妳都待在那個中國瓷壺是嗎？我也想住那裏。")
--  Scene.DelPicture(8, 1)
--  Scene.DelPicture(2, 0)
--  ---------------------------------
--  Scene.AddPicture3(1, 1)
--  Scene.Glass_SRC1(1, "中國瓷壺？")
--  ESC.TurnFace(8, 1)
--  ESC.Unlock(8)
--  Scene.AddPicture4(8, 0)
--  Scene.Glass_SRC2(8, "中國是在遠東的一個大國家，陶瓷是那邊的名產。")
--  Scene.Glass_SRC1(1, "原來如此……。")
--  Scene.DelPicture(8, 0)



--  Scene.AddPicture4(11, 0)
--  ESC.TurnFace(11, 1)
--  ESC.Unlock(11)
--  Scene.Glass_SRC2(11, "而且那還不是普通的瓷壺，我感覺到有深不可測的魔力。")
--  Scene.DelPicture(1, 1)
--  Scene.DelPicture(11, 0)
--  ----------------
--  ESC.ChangeDIR(2, 0)
--  Scene.AddPictureDown(2)
--  Scene.Glass_SRC2(2, "我有在裏面養狗，你這貓不怕嗎？")
--  ESC.ChangeDIR(11, 1)
--  ESC.Unlock(11)
--  Scene.AddPictureUp(11)
--  Scene.Glass_SRC1(11, "喵～，%N我曾在埃及有不少狗友。")
--  Scene.DelPictureUp(11)
--  Scene.CloseGlassUp()
--  Scene.Glass_SRC2(2, "真的？！%N跟你說喔，我那波爾很可愛，到壺裏來我介紹給你認識。")
--  Scene.DelPictureDown(2)
--  Scene.CloseGlassDown()




    ESC.RoleEnable(99) -- 煉妖壺中卡瑪等人的位置
    ESC.RoleEnable(98)
    ESC.RoleEnable(97)
    ESC.ChangePath(99, 0)
    ESC.ChangePath(30, 0)
    ESC.RoleMove(99, 21, 49)
    ESC.RoleMove(30, 21, 51)
    ESC.TakeActData(99, -1, 0, 6)
    ESC.TakeActData(30, -1, 0, 2)
    Scene.SAR_TurnFace(99, 0)
    ESC.ScrollMapToRole(1, 4, 4)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2439')) -- ESS=真是的…%N已經給我在瓷壺裏養了狗，現在...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(9, 1)


    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2440')) -- ESS=不只哦！%N外加一個女人！
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)


    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2441')) -- ESS=算了吧！%N走，我們回%C7大馬士革%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.ChangeDIR(1, 1)
    ESC.AddParty(9)


    GameFunc.FlagOn(127) -- 與鬼猴戰鬥

    GameFunc.FlagOff(10)
    Scene.QuestOff(260)
    Scene.QuestOn(261)

end



function Scene.TALK858()
    -- 墓後通道2->1
    Scene.ChangeMap(256, 53, 15, 6)
end



-- ──────────────────────────────────────【塔德莫爾墓窖中的士兵】

function Scene.TALK860()
    ESC.Caption(228)
    Scene.Print_W(Const.TOWN,9008,5*2,2*2,StringDB('ESS2442')) -- ESS=怎麼辦、怎麼辦？
    ESC.WaitDLG(Const.TOWN)
end


-- ──────────────────────────────────────【賽特尋找塔德莫爾機關】



function Scene.TALK861()
    -- 將麥爾丹等搬到第一個劇情位置
    if GameFunc.GetFlag(7046) then goto T861 end
    if GameFunc.GetFlag(7045) then goto T861A end
::T861::
    ESC.SceneBreak()
::T861A::
    ESC.ChangeQQ(1, Const.STAND)



    ESC.Caption(228)
    Scene.Print_W(328,9008,6*2,1*2,StringDB('ESS2443')) -- ESS=等一下──！
    ESC.WaitDLG(328)



    ESC.ChangeDIR(1, 7)
    ESC.RemoveParty(328, 0 , '' , 412, Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(328, 1)
    ESC.BatchMove(1,    328, 93, 44)
    ESC.TurnFace(1, 328)
    ESC.TurnFace(328, 1)
    ESC.ChangeQQ(328, Const.STAND)



    ESC.Caption(228)
    Scene.Print_W(328,9008,6*2,1*2,StringDB('ESS2444')) -- ESS=你想上哪去？
    ESC.WaitDLG(328)


    ESC.Caption(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS2445')) -- ESS=我們得四處走走，才能找到打開門的機關呀！...
    ESC.WaitDLG(1)


    ESC.Caption(228)
    Scene.Print_W(328,9008,10*2,3*2,StringDB('ESS2446')) -- ESS=你們最好別動歪腦筋，否則麥爾丹閣下會讓你...
    ESC.WaitDLG(328)



    ESC.AddParty(328)
    ESC.SetRoleSpeed(328, 2)

    GameFunc.FlagOn(7046)
end



function Scene.TALK862()
    --  往入口
    Scene.ChangeMap(253, 54, 21, 6)
end





-- ──────────────────────────────────────【買攻略吧！星座迷宮】



function Scene.TALK863()
    local select
    if not GameFunc.GetFlag(350) then goto T863 end
    Scene.ChangeMap(257, 49, 35, 0)
    ESC.SceneBreak()


::T863::
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(257 , 49, 35 , 1, 0, 0)
    ESC.ChangeRoleMap(25 , 257, 000, 54, 29, -1, Const.STAND, 0)
    ESC.ChangeRoleMap(639, 257, 000, 57, 27, 412, Const.STAND, 7)
    ESC.ChangeRoleMap(323, 257, 000, 45, 29, -1, Const.STAND, 5)
    ESC.ChangeRoleMap(327, 257, 000, 42, 27, -1, Const.STAND, 0)
    ESC.RoleEnable(25)
    ESC.RoleEnable(639)
    ESC.RoleEnable(323)
    ESC.RoleEnable(327)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 16)
    ESC.FadeWait()

    GameFunc.FlagOn(10)
    ESC.RoleHide(453) -- 四象符號隱藏
    GameFunc.FlagOn(350) -- 肯迪介紹何謂黃道12宮,這邊的對話跟機關有關


    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 7 , 0xD100)
    ESC.RemoveParty(328, 0 , '' , 412, Const.WALK , 3 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetPos(328, 48, 32)
    ESC.SetPos(1, 50, 30)
    ESC.SetPos(9, 51, 33)
::T863_1::
    ESC.BatchStep( 3,   1, 9, 328)
    if not ESC.RoleReach(1) then goto T863_2 end
    ESC.TakeActData(1, -1, 0, 0)
::T863_2::
    if not ESC.RoleReach(9) then goto T863_3 end
    ESC.TakeActData(9, -1, 0, 0)
::T863_3::
    if not ESC.RoleReach(328) then goto T863_4 end
    ESC.TakeActData(328, -1, 0, 7)
::T863_4::
    if not ESC.IsAllReach() then
        goto T863_1
    end
    ESC.ScrollMapD(24, 2, 2, 2) -- Scene.ScrollMapD(30, 2, 2, 2)
    ESC.ScrollMapWait()



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2447')) -- ESS=嘿……%N這次這個又是什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(25, 1)
    ESC.TurnFace(1, 25)
    ESC.Delay(300)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2448')) -- ESS=喂、你們幾個！%N前邊又沒有路了，趕快幫...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)


    ESC.ChangeDIR(25, 0)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.TurnFace(9, 1)


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2449')) -- ESS=賽特，%N我知道這是什麼了！
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.TurnFace(1, 9)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2450')) -- ESS=肯迪，你想到什麼了？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2451')) -- ESS=這個走廊牆上的圖案，%N是%C7古巴比倫...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2452')) -- ESS=黃道十二宮？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2453')) -- ESS=「%C7黃道十二宮%C5」是%C7太陽運...
    ESC.WaitDLG(1)

    GameFunc.FlagOff(10)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2454')..'%N'..StringDB('SESS2')) -- ESS=你需要我為你解說一下它們嗎？%N%N　　...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)

    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T863Y1
    end


    ESC.AddParty(328)
    ESC.AddParty(9)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()


::T863Y1::
    GameFunc.FlagOn(10)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2455')) -- ESS=那麻煩你幫我說明一下。
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2456')) -- ESS=好的，%N首先我們先看右邊……
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ChangeDIR(9, 7)
    ESC.ChangeDIR(1, 7)
    Scene.ScrollMapD(54, 2, 4, 4)
    ESC.ScrollMapWait()



    Scene.MBOn(9, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2457')) -- ESS=───從右邊開始，這六個星座分別是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 1)
    ESC.DelHead(10009, 1)



    ESC.ChangeDIR(9, 4)
    ESC.ChangeDIR(1, 4)
    Scene.ScrollMapD( 9, 2, 4, 4)
    ESC.ScrollMapWait()


    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2458')) -- ESS=───從右邊開始，這六個星座分別是%C7...
    ESC.WaitDLG(1)



    ESC.TurnFace(9, 1)
    ESC.TurnFace(1, 9)
    ESC.ScrollMapToRole(1, 4, 4)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2459')) -- ESS=這十二個星座分別各自擁有%C7地%C5、...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.ScrollMapWait()
    ESC.AddParty(328)
    ESC.AddParty(9)


    GameFunc.FlagOff(10)
end







-- ──────────────────────────────────────【打開第一道門】

function Scene.TALK864()
    -- 第一道門機關

    if GameFunc.GetFlag(358) then goto T864 end

    if ESC.GetRoleToPosDistance(34, 38, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2460')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法按到按鈕！
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(75, 75, 0x4000) -- 【劇情配樂】塔德莫爾



    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 34, 41)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.TakeActData(462, 626, 0, 4)
    ESC.RMUNlock()
    MediaFunc.PlaySound(57)
    ESC.TakeActData(639, -1, 0, 6)
    ESC.TakeActData(328, -1, 0, 6)
    ESC.ChangeDIR(25, 7)
    ESC.RoleDisable(463)
    GameFunc.FlagOn(122)
    GameFunc.FlagOn(123)
    GameFunc.FlagOn(358)
    ESC.ChangeScript(462, '')
    ESC.Delay(1000)

    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 7 , 0xD100)
    ESC.RemoveParty(328, 0 , '' , 412, Const.WALK , 3 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetPos(1, 45, 33)
    ESC.SetPos(9, 43, 31)
    ESC.SetPos(328, 40, 30)
::T864_1::
    ESC.BatchStep( 3,   1, 9, 328)
    if not ESC.RoleReach(1) then goto T864_2 end
    ESC.TakeActData(1, -1, 0, 7)
::T864_2::
    if not ESC.RoleReach(9) then goto T864_3 end
    ESC.TakeActData(9, -1, 0, 7)
::T864_3::
    if not ESC.RoleReach(328) then goto T864_4 end
    ESC.TakeActData(328, -1, 0, 7)
::T864_4::
    if not ESC.IsAllReach() then
        goto T864_1
    end
    ESC.TurnFace(25, 1)
    ESC.Delay(300)


    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2461')) -- ESS=哈哈哈，好得很！%N我麥爾丹叫你們找機關...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.ChangeDIR(25, 7)
    ESC.Delay(400)


    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2462')) -- ESS=你們先進去，%N看看裏面有沒有危險！
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 1)



    ESC.ChangeQQ(639, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.SetRoleSpeed(639, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.SetRoleSpeed(327, 1)
    ESC.SetPos(639, 54, 24)
    ESC.SetPos(323, 54, 24)
    ESC.SetPos(327, 54, 24)


::T826B1_1::
    ESC.BatchStep( 3,   639, 323, 327)
    if not ESC.RoleReach(639) then goto T826B1_2 end
    ESC.RoleHide(639)
::T826B1_2::
    if not ESC.RoleReach(323) then goto T826B1_3 end
    ESC.RoleDisable(323)
::T826B1_3::
    if not ESC.RoleReach(327) then goto T826B1_4 end
    ESC.RoleDisable(327)


::T826B1_4::
    if not ESC.IsAllReach() then
        goto T826B1_1
    end
    ESC.TurnFace(25, 1)



    Scene.MBOn(25, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2463')) -- ESS=士兵，前面可能還有機關，%N老子還用得著...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 0)
    ESC.DelHead(10025, 0)



    ESC.RoleShow(639)
    ESC.BatchMove(1,    639, 52, 26)
    ESC.TakeActData(639, -1, 0, 4)
    ESC.TurnFace(639, 25)


    ESC.Caption(228)
    Scene.Print_SL(639,9008,430,180,7*2,2*2,StringDB('ESS2464')) -- ESS=麥…麥爾丹大人…裏面…裏面…
    ESC.WaitDLG(639)




    ESC.TurnFace(25, 639)


    ESC.Caption(25)
    Scene.Print_W(25,9008,7*2,2*2,StringDB('ESS2465')) -- ESS=有話說清楚，裏面什麼東西？
    ESC.WaitDLG(25)


    ESC.Caption(228)
    Scene.Print_SL(639,9008,430,180,8*2,2*2,StringDB('ESS2466')) -- ESS=屬…屬下剛才…看到一隻%C2黑貓%C4…...
    ESC.WaitDLG(639)


    ESC.Caption(25)
    Scene.Print_W(25,9008,10*2,4*2,StringDB('ESS2467')) -- ESS=渾蛋，%N看見貓也要來報告？%N廢墟裏難...
    ESC.WaitDLG(25)


    ESC.Caption(228)
    Scene.Print_SL(639,9008,430,180,8*2,3*2,StringDB('ESS2468')) -- ESS=可…可是那隻黑貓…是從我眼前%C2飛過去...
    ESC.WaitDLG(639)


    ESC.Caption(25)
    Scene.Print_W(25,9008,9*2,4*2,StringDB('ESS2469')) -- ESS=飛你媽的頭！%N你自己在做白日夢，也要老...
    ESC.WaitDLG(25)


    ESC.Caption(228)
    Scene.Print_SL(639,9008,430,180,7*2,2*2,StringDB('ESS2470')) -- ESS=對…對不起…%N屬下知錯了……
    ESC.WaitDLG(639)


    ESC.ChangeQQ(639, Const.WALK)
    ESC.BatchMove(1,    639, 54, 24)
    ESC.RoleDisable(639)


    ESC.Caption(25)
    Scene.Print_W(25,9008,6*2,3*2,StringDB('ESS2471')) -- ESS=什麼東西！%N沒用的一群爛狗屎！
    ESC.WaitDLG(25)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()  -- 【地圖音樂】恢復塔德莫爾古墓音樂



    ESC.ChangeQQ(25, Const.WALK)
    ESC.BatchMove(1,    25, 54, 24)
    ESC.RoleDisable(25)
    ESC.AddParty(9)
    ESC.AddParty(328)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()

::T864::
end




function Scene.TALK865()
    -- 墓前通道2->1
    ESC.RoleDisable(1173)
    Scene.ChangeMap(254, 36, 80, 4)
end


function Scene.TALK866()
    -- 墓前通道2->台階
    Scene.ChangeMap(262, 7, 88, 7)
end



function Scene.TALK867()
    -- 土迷宮出口
    Scene.ChangeMap(258, 33, 28, 6)
    if not GameFunc.GetFlag(7047) then return end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 27, 38)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.TALK870_Check()
end

function Scene.TALK868()
    -- 風迷宮出口
    Scene.ChangeMap(258, 37, 49, 4)
    if not GameFunc.GetFlag(7047) then return end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 29, 43)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.TALK870_Check()
end
function Scene.TALK869()
    -- 水迷宮出口
    Scene.ChangeMap(258, 4, 49, 7)
    if not GameFunc.GetFlag(7047) then return end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 14, 43)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.TALK870_Check()
end

function Scene.TALK870()
    -- 火迷宮出口
    Scene.ChangeMap(258, 13, 28, 5)
    if not GameFunc.GetFlag(7047) then return end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 16, 37)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.TALK870_Check()
end

-- 解開謎題，與麥爾丹對話之共用程式
function Scene.TALK870_Check()
    ESC.TurnFace(1, 25)
    ESC.TurnFace(25, 1)
    ESC.Delay(300)


    Scene.MBOn(25, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10025, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2472')) -- ESS=媽的──%N讓我等那麼久的時間才打開！%...
    ESC.WaitDLG(1)
    ESC.MBOff(25, 1)
    ESC.DelHead(10025, 1)



    ESC.ChangeQQ(639, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(25, Const.WALK)
    ESC.SetRoleSpeed(639, 1)
    ESC.SetRoleSpeed(323, 1)
    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(25, 2)
    ESC.SetPos(639, 21, 36)
    ESC.SetPos(323, 21, 36)
    ESC.SetPos(327, 21, 36)
    ESC.SetPos(25, 22, 36)
::T870B1_1::
    ESC.BatchStep( 4,   639, 323, 327, 25)
    if not ESC.RoleReach(639) then goto T870B1_2 end
    ESC.RoleDisable(639)
::T870B1_2::
    if not ESC.RoleReach(323) then goto T870B1_3 end
    ESC.RoleDisable(323)
::T870B1_3::
    if not ESC.RoleReach(327) then goto T870B1_4 end
    ESC.RoleDisable(327)
::T870B1_4::
    if not ESC.RoleReach(25) then goto T870B1_5 end
    ESC.RoleDisable(25)
::T870B1_5::
    if not ESC.IsAllReach() then
        goto T870B1_1
    end
    GameFunc.FlagOff(7047) -- 關掉第二謎題用
end

function Scene.TALK871()
    -- 土迷宮按鈕
    if ESC.GetRoleToPosDistance(83, 49, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2460')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法按到按鈕！
    if GameFunc.GetFlag(359) then ESC.SceneBreak() return end
    Scene.MoveHero(83, 52, 4)
    ESC.TakeActData(464, -1, 51, 0)
    Scene.SAR_CSEL(464, 1)
    GameFunc.FlagOn(359)
    Scene.TALK871_Check()
end

function Scene.TALK871_Check()
    MediaFunc.PlaySound(56) -- 查四個們是否都開之共用程式
    if GameFunc.GetFlag(384) then return end
    if GameFunc.GetFlag(359) and GameFunc.GetFlag(360) and GameFunc.GetFlag(361) and GameFunc.GetFlag(362) then
        GameFunc.FlagOn(384) -- 通天之門打開
        MediaFunc.PlaySound(57)

        ESC.SceneMusic(258, 75, 75, 0x4000) -- 【地圖音樂】四道門都打開，更換中樞塔的音樂

        ESC.RoleDisable(454)
        GameFunc.FlagOn(7047) -- 打開第二謎題用
        ESC.ChangeRoleMap(25 , 258, 000, 22, 42, -1, Const.STAND, 0) -- 將麥爾丹等人搬到第二謎題門口
        ESC.ChangeRoleMap(639, 258, 000, 27, 41, 412, Const.STAND, 6)
        ESC.ChangeRoleMap(323, 258, 000, 21, 39, -1, Const.STAND, 6)
        ESC.ChangeRoleMap(327, 258, 000, 17, 41, -1, Const.STAND, 5)
    end
end

function Scene.TALK872()
    -- 風迷宮按鈕
    if ESC.GetRoleToPosDistance(89, 53, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2460')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法按到按鈕！
    if GameFunc.GetFlag(362) then ESC.SceneBreak() return end
    Scene.MoveHero(89, 55, 7)
    ESC.TakeActData(465, -1, 55, 0)
    Scene.SAR_CSEL(465, 1)
    GameFunc.FlagOn(362)
    Scene.TALK871_Check() -- 跳去查四個們是否都開
end

function Scene.TALK873()
    -- 水迷宮按紐
    if ESC.GetRoleToPosDistance(55, 55, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2460')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法按到按鈕！
    if GameFunc.GetFlag(360) then ESC.SceneBreak() return end
    Scene.MoveHero(54, 58, 7)
    ESC.TakeActData(467, -1, 51, 0)
    Scene.SAR_CSEL(467, 1)
    GameFunc.FlagOn(360)
    Scene.TALK871_Check() -- 跳去查四個們是否都開
end

function Scene.TALK874()
    -- 火迷宮按紐
    if ESC.GetRoleToPosDistance(84, 29, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS2460')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法按到按鈕！
    if GameFunc.GetFlag(361) then ESC.SceneBreak() return end
    Scene.MoveHero(83, 32, 7)
    ESC.TakeActData(466, -1, 51, 0)
    Scene.SAR_CSEL(466, 1)
    GameFunc.FlagOn(361)
    Scene.TALK871_Check() -- 跳去查四個們是否都開
end

function Scene.TALK875()
    -- 密室出口
    Scene.ChangeMap(262, 39, 55, 5)
end



-- ────────────────────────────────────【塔德莫爾 善意的警告牌】

function Scene.TALK876()
    -- 石碑

    Scene.Print_W(474,9008,10*2,2*2,StringDB('ESS2473')) -- ESS=重重機關，阻人前行；莫再逞能，回頭不遲！...
    ESC.WaitDLG3(474)

end



function Scene.TALK877()
    -- 石碑

    Scene.Print_W(475,9008,10*2,2*2,StringDB('ESS2474')) -- ESS=瀚海染血，全城盡屠；%N怨深難雪，誓斬來...
    ESC.WaitDLG3(475)

end


function Scene.TALK878()
    -- 接大地圖
    ESC.FadeScreen(0, 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(200, 102, 73, 95, 0, 2) -- 改騎駱駝
    GameFunc.FlagOn(7)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end


function Scene.TALK879()
    -- 進迷宮
    Scene.ChangeMap(253, 22, 47, 7)
end

function Scene.TALK880()
    -- 接鬼猴殿
    Scene.ChangeMap(270, 37, 41, 4)
end



-- ──────────────────────────────────────【塔德莫爾入口前士兵】

function Scene.TALK881()
    -- 接劇情


    if GameFunc.GetFlag(128) then goto T881 end -- 看過戰場
    if GameFunc.GetFlag(127) then goto BIGWAR end -- 看到戰場
    if GameFunc.GetFlag(378) then goto T881 end
    GameFunc.FlagOn(378)
    GameFunc.FlagOn(10)


    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(9, 0,'TALK9',9,Const.WALK,3,0xD100)
    ESC.SetPos(1, 31, 31)
    ESC.SetPos(9, 35, 33)
::T881_1::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto T881_2 end
    ESC.TakeActData(1, -1, 0, 7)
::T881_2::
    if not ESC.RoleReach(9) then goto T881_3 end
    ESC.TakeActData(9, -1, 0, 0)
::T881_3::
    if not ESC.IsAllReach() then
        goto T881_1
    end
    ESC.ChangeQQ(719, Const.WALK)
    ESC.BatchMove(1,    719, 36, 28)
    ESC.ChangeQQ(719, Const.STAND)
    ESC.TurnFace(719, 1)



    ESC.Caption(252)
    Scene.Print_W(719,9008,7*2,2*2,StringDB('ESS2475')) -- ESS=站住！%N你們是什麼人？
    ESC.WaitDLG(719)


    ESC.Caption(1)
    Scene.Print_W(1,9008,10*2,4*2,StringDB('ESS2476')) -- ESS=我們是路過的旅客，在沙漠中好不容易看到有...
    ESC.WaitDLG(1)



    ESC.ChangeQQ(720, Const.WALK)
    ESC.BatchMove(1,    720, 33, 27)
    ESC.TakeActData(719, 412, 60, 0)
    ESC.RoleHide(720)
    ESC.Delay(300)



    ESC.Caption(253)
    Scene.Print_SL(720,9008,200,40,7*2,3*2,StringDB('ESS2477')) -- ESS=少來這套！%N我看你們是%C2盜墓賊%C...
    ESC.WaitDLG(720)


    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,40,8*2,3*2,StringDB('ESS2478')) -- ESS=──去去去！%N別靠近這裏，要休息到別的...
    ESC.WaitDLG(719)



    ESC.Caption(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS2479')) -- ESS=對不起，%N兩位軍爺，事情其實是這樣子的...
    ESC.WaitDLG(1)


    Scene.Print_SL(1,9008,100,250,10*2,4*2,StringDB('ESS2480')) -- ESS=其實我以前確實是盜過這一座墳墓，不過後來...
    ESC.WaitDLG(1)


    Scene.Print_W(1,9008,9*2,3*2,StringDB('ESS2481')) -- ESS=所以，我今天特地將寶物還回來，希望求得阿...
    ESC.WaitDLG(1)


    ESC.AddHeadSign(719, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(719)



    ESC.TakeActData(719, -1, 60, 1) -- 士兵哭
    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,60,6*2,2*2,StringDB('ESS2482')) -- ESS=嗚…嗚嗚……%N嗚…
    ESC.WaitDLG(719)


    ESC.TakeActData(719, -1, 60, 2)
    ESC.Delay(150)
    ESC.Unlock(719)


    ESC.Caption(253)
    Scene.Print_SL(720,9008,200,40,5*2,2*2,StringDB('ESS2483')) -- ESS=幹嘛？%N你哭什麼？
    ESC.WaitDLG(720)


    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,40,7*2,2*2,StringDB('ESS2484')) -- ESS=嗚嗚～～%N我…我好慚愧！
    ESC.WaitDLG(719)


    Scene.Print_W(719,9008,10*2,3*2,StringDB('ESS2485')) -- ESS=即使是麥爾丹大人的命令來盜墓，我…我也不...
    ESC.WaitDLG(719)



    ESC.Caption(253)
    Scene.Print_SL(720,9008,100,40,9*2,4*2,StringDB('ESS2486')) -- ESS=笨蛋──！%N麥爾丹大人做這件事情，也是...
    ESC.WaitDLG(720)


    ESC.TakeActData(719, -1, 60, 3)
    ESC.Delay(150)


    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,40,8*2,3*2,StringDB('ESS2487')) -- ESS=可是盜墓就是盜墓…這沒藉口可以否認的呀！...
    ESC.WaitDLG(719)



    ESC.Caption(253)
    Scene.Print_SL(1,9008,140,40,7*2,4*2,StringDB('ESS2488')) -- ESS=喂喂──%N你該不會是%C2阿拔斯家%C...
    ESC.WaitDLG(1)


    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,40,6*2,3*2,StringDB('ESS2489')) -- ESS=───什麼？%N你…你說我是間諜？
    ESC.TakeActData(719, -1, 60, 4)
    ESC.WaitDLG(719)



    ESC.Caption(1)
    Scene.Print_W(1,9008,11*2,4*2,StringDB('ESS2490')) -- ESS=沒錯──！%N我好像曾經看過這個人跟阿拔...
    ESC.WaitDLG(1)


    ESC.Caption(253)
    Scene.Print_SL(720,9008,200,40,7*2,3*2,StringDB('ESS2491')) -- ESS=哼──！%N被我識破了吧？%N你這叛徒！...
    ESC.WaitDLG(720)



    ESC.Caption(252)
    Scene.Print_SL(719,9008,420,40,8*2,2*2,StringDB('ESS2492')) -- ESS=你…%N你…你胡說什麼？
    ESC.TakeActData(719, -1, 60, 4)
    ESC.WaitDLG(719)



    ESC.TakeActData(719, 412, 60, 5)
    ESC.TILPA1(719, 4)
    ESC.Delay(200)



    ESC.TakeActData(719, 412, 60, 6)
    ESC.TILPA1(719, 6)
    ESC.Delay(600)


    ESC.TakeActData(719, 412, 60, 7)
    ESC.TILPA1(719, 3)
    Scene.SAR_ROL(719 , 1) -- 將指向士兵之滑鼠改成手狀<因為人已經死了>
    ESC.TakeActData(719, 412, 60, 8)
    ESC.RoleDisable(720)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,3*2,StringDB('ESS2493')) -- ESS=老天──！%N我想這不算是阿拉的錯吧？
    ESC.WaitDLG(1)

    ESC.TurnFace(9, 1)


    ESC.Caption(9)
    Scene.Print_W(9,9008,10*2,2*2,StringDB('ESS2494')) -- ESS=這、這....賽特！%N原來…你也滿壞的...
    ESC.WaitDLG(9)


    ESC.TurnFace(1, 9)
    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS2495')) -- ESS=我什麼時候說過我是好人了？
    ESC.WaitDLG(1)


    ESC.Caption(9)
    Scene.Print_W(9,9008,7*2,3*2,StringDB('ESS2496')) -- ESS=饒了我吧，%N別開這種恐怖的玩笑……
    ESC.WaitDLG(9)


    ESC.RMUNlock()
    ESC.AddParty(9)
    GameFunc.FlagOn(380) -- 台階的機關
    GameFunc.FlagOn(381)
    GameFunc.FlagOn(382)
    GameFunc.FlagOn(383)

    GameFunc.FlagOff(10)
::T881::
    ESC.SceneBreak()

::BIGWAR::
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 1 , 0xD100)

    ESC.SetRoleSpeed(9, 1)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 24, 37)
    ESC.TakeActData(9, -1, Const.STAND, 1)
    ESC.TurnFace(1, 9)


    ESC.Caption(1)
    Scene.Print_W(1,9008,4*2,1*2,StringDB('ESS2497')) -- ESS=怎麼了？
    ESC.WaitDLG(1)


    ESC.Caption(9)
    Scene.Print_W(9,9008,10*2,3*2,StringDB('ESS2498')) -- ESS=賽特，你看遠方的沙漠，樣子是不是有點奇怪...
    ESC.WaitDLG(9)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetMoveHISpeed(1)
    ESC.SetPos(1, 28, 46)
    ESC.SetPos(9, 23, 45)
::A881_1::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto A881_2 end
    ESC.TakeActData(1, -1, 0, 1)
::A881_2::
    if not ESC.RoleReach(9) then goto A881_3 end
    ESC.TakeActData(9, -1, 0, 1)
::A881_3::
    if not ESC.IsAllReach() then
        goto A881_1
    end


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.Caption(9)
    Scene.Print_W(9,9008,8*2,4*2,StringDB('ESS2499')) -- ESS=對不對？%N整個沙漠中央%C2一片血紅%...
    ESC.WaitDLG(9)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS2500')) -- ESS=走，我們立刻過去看看───
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.SetMoveHISpeed(1)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.BatchMove(2,
    1, 28, 49,
    9, 23, 48)
    ESC.FadeWait()
    ESC.Progress_Off()


    ESC.GotoMap(278, 73, 30, 1, 0, 2)

    ESC.StoryMusic(115, 72, 0x2000) -- 【劇情配樂】伊斯蘭月光＋伊斯蘭世界




    ESC.ChangeRoleMap(9, 278, 0, 75, 28, 9, 0, 2)
    ESC.ChangeRoleMap(327, 278, 000, 45, 29, 411, 59, 0)
    ESC.ChangeRoleMap(166, 278, 000, 15, 27, 504, 0 , 0)
    ESC.RoleEnable(166)
    ESC.RoleEnable(327) -- 黑衣士兵
    ESC.ChangeScript(327, '')
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
    ESC.FadeWait()
    Scene.ScrollMapD(17, 6, 4, 4)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2501')) -- ESS=這……這是怎麼回事啊？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)



    ESC.ScrollMapWait()
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.AddParty(9)


    GameFunc.FlagOn(128) -- 看過戰場了
    GameFunc.FlagOff(10)

    Scene.QuestOff(261)
    Scene.QuestOn(262)

end


function Scene.TALK882()
    -- 台階機關
    if ESC.GetRoleToPosDistance(126, 46, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS1525')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.MoveHero(128, 48, 4)
    ESC.ChangeQQ(415, Const.STAND)
    ESC.RoleEnable(476)
    GameFunc.FlagOff(382)
    ESC.ChangeScript(415, '')
    MediaFunc.PlaySound(56)
end

function Scene.TALK883()
    Scene.ChangeMap(259, 139, 57, 6)
end

function Scene.TALK884()
    -- 往入口MAP
    Scene.ChangeMap(269, 22, 12, 5)
end

function Scene.TALK885()
    -- 主墓室通道往墓前
    if not GameFunc.GetFlag(130) then ESC.SceneBreak() return end
    Scene.ChangeMap(254, 40, 23, 2)
end

function Scene.TALK886()
    -- 主墓室通道往墓後
    if not GameFunc.GetFlag(130) then ESC.SceneBreak() return end
    Scene.ChangeMap(256, 28, 33, 7)
end



-- 風相星座
function Scene.Star_WIND()
    if GameFunc.GetFlag(339) or
        GameFunc.GetFlag(340) or
        GameFunc.GetFlag(341) or
        GameFunc.GetFlag(343) or
        GameFunc.GetFlag(344) or
        GameFunc.GetFlag(345) or
        GameFunc.GetFlag(347) or
        GameFunc.GetFlag(348) or
        GameFunc.GetFlag(349)
    then
        Scene.Star_STAR()
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(338) and GameFunc.GetFlag(342) and GameFunc.GetFlag(346) then
        goto WIND_1
    end
    ESC.SceneBreak()
::WIND_1::
    ESC.TakeActData(453, -1, 44, 0)
    ESC.RoleShow(453)
    ESC.SeekACT(453, 1)
    MediaFunc.PlaySound(57)
    ESC.RoleDisable(458)
    GameFunc.FlagOn(351)
end
-- 水相星座
function Scene.Star_WATER()
    if GameFunc.GetFlag(339) or
        GameFunc.GetFlag(340) or
        GameFunc.GetFlag(342) or
        GameFunc.GetFlag(343) or
        GameFunc.GetFlag(344) or
        GameFunc.GetFlag(346) or
        GameFunc.GetFlag(347) or
        GameFunc.GetFlag(348) or
        GameFunc.GetFlag(338)
    then
        Scene.Star_STAR()
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(341) and GameFunc.GetFlag(345) and GameFunc.GetFlag(349) then
        goto WATER_1
    end
    ESC.SceneBreak()
::WATER_1::
    ESC.TakeActData(453, -1, 43, 0)
    ESC.RoleShow(453)
    ESC.SeekACT(453, 1)
    MediaFunc.PlaySound(57)
    ESC.RoleDisable(457)
    GameFunc.FlagOn(352)
end
-- 火相星座
function Scene.Star_FIRE()
    if GameFunc.GetFlag(339) or
        GameFunc.GetFlag(341) or
        GameFunc.GetFlag(342) or
        GameFunc.GetFlag(343) or
        GameFunc.GetFlag(345) or
        GameFunc.GetFlag(346) or
        GameFunc.GetFlag(347) or
        GameFunc.GetFlag(349) or
        GameFunc.GetFlag(338)
    then
        Scene.Star_STAR()
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(340) and GameFunc.GetFlag(344) and GameFunc.GetFlag(348) then
        goto FIRE_1
    end
    ESC.SceneBreak()
::FIRE_1::
    ESC.TakeActData(453, -1, 42, 0)
    ESC.RoleShow(453)
    ESC.SeekACT(453, 1)
    MediaFunc.PlaySound(57)
    ESC.RoleDisable(456)
    GameFunc.FlagOn(353)
    ESC.SceneBreak()
end

-- 土相星座
function Scene.Star_SOIL()
    if GameFunc.GetFlag(340) or
        GameFunc.GetFlag(341) or
        GameFunc.GetFlag(342) or
        GameFunc.GetFlag(344) or
        GameFunc.GetFlag(345) or
        GameFunc.GetFlag(346) or
        GameFunc.GetFlag(348) or
        GameFunc.GetFlag(349) or
        GameFunc.GetFlag(338)
    then
        Scene.Star_STAR()
        ESC.SceneBreak()
    end
    if GameFunc.GetFlag(339) and GameFunc.GetFlag(343) and GameFunc.GetFlag(347) then
        goto SOIL_1
    end
    ESC.SceneBreak()
::SOIL_1::
    ESC.TakeActData(453, -1, 45, 0)
    ESC.RoleShow(453)
    ESC.SeekACT(453, 1)
    MediaFunc.PlaySound(57)
    ESC.RoleDisable(459)
    GameFunc.FlagOn(354)
end
-- 非開同一組的星座
function Scene.Star_STAR()
    -- 重指對話段   鍵盤
    ESC.ChangeScript(441, 'TALK831')
    ESC.ChangeScript(442, 'TALK832')
    ESC.ChangeScript(443, 'TALK833')
    ESC.ChangeScript(444, 'TALK834')
    ESC.ChangeScript(445, 'TALK835')
    ESC.ChangeScript(446, 'TALK836')
    ESC.ChangeScript(447, 'TALK837')
    ESC.ChangeScript(448, 'TALK838')
    ESC.ChangeScript(449, 'TALK839')
    ESC.ChangeScript(450, 'TALK840')
    ESC.ChangeScript(451, 'TALK841')
    ESC.ChangeScript(452, 'TALK842')

    -- 重指對話段   滑鼠
    ESC.ChangeScript(428, 'TALK831')
    ESC.ChangeScript(429, 'TALK832')
    ESC.ChangeScript(430, 'TALK833')
    ESC.ChangeScript(431, 'TALK834')
    ESC.ChangeScript(432, 'TALK835')
    ESC.ChangeScript(433, 'TALK836')
    ESC.ChangeScript(434, 'TALK837')
    ESC.ChangeScript(435, 'TALK838')
    ESC.ChangeScript(436, 'TALK839')
    ESC.ChangeScript(437, 'TALK840')
    ESC.ChangeScript(438, 'TALK841')
    ESC.ChangeScript(439, 'TALK842')
    -- 開關復原
    ESC.ChangeQQ(441, 0)
    ESC.ChangeQQ(442, 0)
    ESC.ChangeQQ(443, 0)
    ESC.ChangeQQ(444, 0)
    ESC.ChangeQQ(445, 0)
    ESC.ChangeQQ(446, 0)
    ESC.ChangeQQ(447, 0)
    ESC.ChangeQQ(448, 0)
    ESC.ChangeQQ(449, 0)
    ESC.ChangeQQ(450, 0)
    ESC.ChangeQQ(451, 0)
    ESC.ChangeQQ(452, 0)
    -- 所有星圖暗掉
    ESC.TakeActData( 428, 12003, 30 , 0) -- 寶瓶AQUARIUS
    ESC.TakeActData( 429, 12003, 31 , 0) -- 摩羯CAPRICORN
    ESC.TakeActData( 430, 12003, 32 , 0) -- 射手SAGITTARIUS
    ESC.TakeActData( 431, 12003, 33 , 0) -- 天蠍SCORPIO
    ESC.TakeActData( 432, 12003, 34 , 0) -- 天秤LIRBRA
    ESC.TakeActData( 433, 12003, 35 , 0) -- 處女VIRGO
    ESC.TakeActData( 434, 12003, 36 , 0) -- 獅子LEO
    ESC.TakeActData( 435, 12003, 37 , 0) -- 巨蟹CANCER
    ESC.TakeActData( 436, 12003, 38 , 0) -- 雙子GEMINI
    ESC.TakeActData( 437, 12003, 39 , 0) -- 金牛TAURUS
    ESC.TakeActData( 438, 12003, 40 , 0) -- 牡羊ARIES
    ESC.TakeActData( 439, 12003, 41 , 0) -- 雙魚PISCES
    ESC.Delay(480)
    ESC.RoleDisable(428)
    ESC.RoleDisable(429)
    ESC.RoleDisable(430)
    ESC.RoleDisable(431)
    ESC.RoleDisable(432)
    ESC.RoleDisable(433)
    ESC.RoleDisable(434)
    ESC.RoleDisable(435)
    ESC.RoleDisable(436)
    ESC.RoleDisable(437)
    ESC.RoleDisable(438)
    ESC.RoleDisable(439)
    ESC.Delay(120)
    ESC.RoleEnable(428)
    ESC.RoleEnable(429)
    ESC.RoleEnable(430)
    ESC.RoleEnable(431)
    ESC.RoleEnable(432)
    ESC.RoleEnable(433)
    ESC.RoleEnable(434)
    ESC.RoleEnable(435)
    ESC.RoleEnable(436)
    ESC.RoleEnable(437)
    ESC.RoleEnable(438)
    ESC.RoleEnable(439)
    ESC.Delay(480)
    ESC.RoleDisable(428)
    ESC.RoleDisable(429)
    ESC.RoleDisable(430)
    ESC.RoleDisable(431)
    ESC.RoleDisable(432)
    ESC.RoleDisable(433)
    ESC.RoleDisable(434)
    ESC.RoleDisable(435)
    ESC.RoleDisable(436)
    ESC.RoleDisable(437)
    ESC.RoleDisable(438)
    ESC.RoleDisable(439)
    ESC.Delay(120)
    ESC.RoleEnable(428)
    ESC.RoleEnable(429)
    ESC.RoleEnable(430)
    ESC.RoleEnable(431)
    ESC.RoleEnable(432)
    ESC.RoleEnable(433)
    ESC.RoleEnable(434)
    ESC.RoleEnable(435)
    ESC.RoleEnable(436)
    ESC.RoleEnable(437)
    ESC.RoleEnable(438)
    ESC.RoleEnable(439)
    ESC.Delay(480)
    ESC.RoleDisable(428)
    ESC.RoleDisable(429)
    ESC.RoleDisable(430)
    ESC.RoleDisable(431)
    ESC.RoleDisable(432)
    ESC.RoleDisable(433)
    ESC.RoleDisable(434)
    ESC.RoleDisable(435)
    ESC.RoleDisable(436)
    ESC.RoleDisable(437)
    ESC.RoleDisable(438)
    ESC.RoleDisable(439)
    ESC.Delay(120)
    ESC.RoleEnable(428)
    ESC.RoleEnable(429)
    ESC.RoleEnable(430)
    ESC.RoleEnable(431)
    ESC.RoleEnable(432)
    ESC.RoleEnable(433)
    ESC.RoleEnable(434)
    ESC.RoleEnable(435)
    ESC.RoleEnable(436)
    ESC.RoleEnable(437)
    ESC.RoleEnable(438)
    ESC.RoleEnable(439)
    ESC.TakeActData(428, 622, 0, 1)
    ESC.TakeActData(429, 622, 0, 1)
    ESC.TakeActData(430, 622, 0, 1)
    ESC.TakeActData(431, 622, 0, 1)
    ESC.TakeActData(432, 622, 0, 1)
    ESC.TakeActData(433, 622, 0, 1)
    ESC.TakeActData(434, 622, 0, 1)
    ESC.TakeActData(435, 622, 0, 1)
    ESC.TakeActData(436, 622, 0, 1)
    ESC.TakeActData(437, 622, 0, 1)
    ESC.TakeActData(438, 622, 0, 1)
    ESC.TakeActData(439, 622, 0, 1)
    -------- 四項符號CLOSE
    ESC.RoleHide(453)

    -- 開關歸零
    GameFunc.FlagOff(338)
    GameFunc.FlagOff(339)
    GameFunc.FlagOff(340)
    GameFunc.FlagOff(341)
    GameFunc.FlagOff(342)
    GameFunc.FlagOff(343)
    GameFunc.FlagOff(344)
    GameFunc.FlagOff(345)
    GameFunc.FlagOff(346)
    GameFunc.FlagOff(347)
    GameFunc.FlagOff(348)
    GameFunc.FlagOff(349)
    GameFunc.FlagOff(351)
    GameFunc.FlagOff(352)
    GameFunc.FlagOff(353)
    GameFunc.FlagOff(354)
end


-- ──────────────────────────────────────【巴格達駐軍】

function Scene.TALK971()
    -- 軍帳1出口
    Scene.ChangeMap(199, 11, 26, 1)
end

function Scene.TALK972()
    -- 軍帳2出口
    Scene.ChangeMap(199, 26, 28, 1)
end

function Scene.TALK973()
    -- 軍帳3出口
    Scene.ChangeMap(199, 39, 25, 1)
end

function Scene.TALK974()
    -- 軍帳4出口
    Scene.ChangeMap(199, 57, 28, 1)
end

function Scene.TALK975()
    -- 軍帳5出口
    Scene.ChangeMap(199, 81, 27, 1)
end

function Scene.TALK976()
    -- 軍帳6出口
    if GameFunc.GetFlag(4034) then goto T1107A end
    Scene.ChangeMap(199, 96, 24, 1)
    ESC.SceneBreak()
-- 答應找刀，女奴與小少爺劇情控制
::T1107A::
    Scene.ChangeMap(199, 96, 24, 1)
    ESC.ChangeDIR(1, 5)
    ESC.SetMoveHISpeed(1107)
    ESC.BatchMove(1,    1107, 114, 29)
    ESC.ChangeDIR(1107, 2)
    ESC.Caption(1107)
    Scene.Print_W (1107 ,9008,8*2,3*2,StringDB('ESS2502')) -- ESS=小少爺該回家了！再晚會害我被老爺罵的。
    ESC.WaitDLG(1107)
    ESC.SetMoveHISpeed(1105)
    ESC.BatchMove2(2,
    1106, 109, 29, -1, 0, 3,
    1105, 105, 25, -1, 0, 5)
    ESC.Caption(1106)
    Scene.Print_W (1106 ,9008,8*2,2*2,StringDB('ESS2503')) -- ESS=好啦！～好啦！～
    ESC.WaitDLG(1106)
    ESC.ChangeDIR(1105, 5)
    ESC.ChangeDIR(1106, 4)
    Scene.Print_W (1106 ,9008,8*2,3*2,StringDB('ESS2504')) -- ESS=我要回家了，我們的%C2寶物%C4你可要...
    ESC.WaitDLG(1106)
    ESC.Caption(1105)
    Scene.Print_W (1105 ,9008,8*2,3*2,StringDB('ESS2505')) -- ESS=老大你可以放一百二十個心，交給我一定沒問...
    ESC.WaitDLG(1105)
    ESC.ChangeQQ(1106, 8)
    ESC.ChangeQQ(1107, 8)
    ESC.SetMoveHISpeed(1107)
    ESC.BatchMove2(2,
    1106, 117, 29, -1, 0, 3,
    1107, 123, 29, -1, 0, 3)
    ESC.RoleDisable(1106)
    ESC.RoleDisable(1107)
    ESC.Delay(200)
    ESC.ChangeQQ(1105, 16)
    ESC.SetMoveHISpeed(1105)
    ESC.BatchMove2(1,    1105, 117, 29, -1, 8, 5)
    ESC.RoleMove(1105, 187, 29)
    ESC.ChangeQQ(1105, 0)
    ESC.RoleEnable(1109)
    GameFunc.FlagOff(4034)
end

function Scene.TALK977()
    -- 旅店出口
    Scene.ChangeMap(199, 181, 30, 1)
end

function Scene.TALK978()
    -- 旅店1F->2F
    Scene.ChangeMap(208, 29, 14, 2)
    Scene.RoadFlag(StringDB('ESS2506')) -- ESS=　旅店二樓
end

function Scene.TALK979()
    Scene.ChangeMap(207, 28, 8 , 5)
    Scene.RoadFlag(StringDB('ESS2507')) -- ESS=　旅店一樓
end

function Scene.TALK980()
    -- 遠恩軍帳出口
    Scene.ChangeMap(213, 28, 26, 1)
end

function Scene.TALK981()
    -- 樹林林迷宮出大地圖
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    if GameFunc.GetFlag(7059) then goto T981 end -- 因隊伍人太多，所以不讓駱駝加入
    if Function.GetItemCount(402) == 0 then
        goto T981
    end
    ESC.RemoveParty(859, 0,'',402,Const.WALK,3,0xD100)
    ESC.RemoveParty(858, 0,'',500,Const.RUN , 3, 0xD100)
::T981::
    ESC.GotoMap(200, 34, 70, 1, 0, 2)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK982()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    if GameFunc.GetFlag(7059) then goto T982 end -- 因隊伍人太多，所以不讓駱駝加入
    if Function.GetItemCount(402) == 0 then
        goto T982
    end
    ESC.RemoveParty(859, 0,'',402,Const.WALK,3,0xD100)
    ESC.RemoveParty(858, 0,'',500,Const.RUN , 3, 0xD100)
::T982::
    ESC.GotoMap(200, 45, 68, 1, 0, 3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK983()
    -- 樹林迷宮
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    if not GameFunc.GetFlag(115) then goto T983A end
    ESC.GotoMap(214 , 4, 33, 1, 0, 3)
    if Function.GetItemCount(402) == 0 then
        goto T983B
    end
    ESC.RoleMove(859, 5 , 30)
    ESC.RoleMove(858, 5, 35)
    ESC.ChangeDIR(859, 3)
    ESC.ChangeDIR(858, 3)
    ESC.RoleEnable(858)
    ESC.RoleEnable(859)
    if GameFunc.GetFlag(7059) then goto T983C end -- 因隊伍人太多，所以不讓駱駝加入
    ESC.AddParty(858)
    ESC.AddParty(859)
    goto T983C
::T983B::
    ESC.RoleDisable(858) -- 駱駝消失
    ESC.RoleDisable(859)
::T983C::
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS2508')) -- ESS= 敘利亞森林
    ESC.SceneBreak()
::T983A::
    ESC.GotoMap(214 , 4, 33, 3, 0, 3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS2508')) -- ESS= 敘利亞森林
end

function Scene.TALK984()
    Scene.ChangeMap(201, 29, 25, 4)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK985()
    Scene.ChangeMap(202, 24, 22, 4)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK986()
    Scene.ChangeMap(203, 16, 24, 0)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK987()
    Scene.ChangeMap(204, 17, 24, 0)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK988()
    Scene.ChangeMap(205, 24, 23, 4)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK989()
    Scene.ChangeMap(206, 16, 24, 0)
    Scene.RoadFlag(StringDB('ESS2509')) -- ESS= 巴格達軍營
end

function Scene.TALK990()
    -- 出巴格達
    if not GameFunc.GetFlag(7056) then goto T990A end -- 判斷慧彥是否留城門口
    GameFunc.FlagOff(7056)
    Scene.BattleSupportOn(10) -- 慧彥
    ESC.AddParty(10)
::T990A::
    if not GameFunc.GetFlag(7057) then goto T990B end -- 判斷遠恩是否留城門口
    GameFunc.FlagOff(7057)
    ESC.AddParty(15)
::T990B::
    Scene.OutCity_NPC(6, 16, 16, 3)
end

function Scene.TALK991()
    Scene.ChangeMap(207, 12, 22, 7)
    Scene.RoadFlag(StringDB('ESS2510')) -- ESS= 巴格達旅店
end






-- ──────────────────────────────────────【王道的精神】

function Scene.TALK992()
    -- 暫接營帳
    if not GameFunc.GetFlag(7053) then goto T992 end -- 第一次到石國營區
    Scene.ChangeMap(213, 29, 53, 0)
    Scene.RoadFlag(StringDB('ESS2511')) -- ESS= 石國王子營區
    ESC.SceneBreak()




::T992::
    GameFunc.FlagOn(7053) -- 第一次到石國營區
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(213 , 29, 54, 1, 8, 2)

    ESC.ChangeRoleMap(322, 213, 0, 32, 28, 411, Const.STAND, 6)
    ESC.RoleEnable(322)
    ESC.ChangeScript(322, 'TALK97')
    Scene.SAR_Shadow(322, 1)
    Scene.SAR_CSEL(322, 0)
    Scene.SAR_TurnFace(322, 1)
    ESC.RemoveParty(10, 0,'TALK10',10,Const.WALK,3,0xD100)
    ESC.RoleMove(10, 25, 54)


    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    Scene.RoadFlag(StringDB('ESS2511')) -- ESS= 石國王子營區


    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(10, 2)

    ESC.BatchMove(2,
    1, 29, 48,
    10, 25, 48)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.TakeActData(10, -1, 0, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(10, 3)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(300)
    ESC.FadeWait()


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2512')) -- ESS=慧彥師父，%N上次你不是告訴我，中國的%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2513')) -- ESS=如果是這樣，%N其實您根本不必太擔心什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)

    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2514')) -- ESS=賽特小老弟啊，%C7兵法%C5只是協助你...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2515')) -- ESS=真正偉大的戰爭不敗之法，是一開始就%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2516')) -- ESS=王道精神？%N防止戰爭的發生？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2517')) -- ESS=是的，%N%C7兵法%C5是在追求如何「...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2518')) -- ESS=我們的%C7君王%C5似乎已經失去王道的...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 0)
    ESC.AddParty(10)
end




function Scene.TALK993()
    -- 路標
    if not GameFunc.GetFlag(213) then goto T993 end
    Scene.RoadFlag(StringDB('ESS2519')) -- ESS=　出巴格達
::T993::
    GameFunc.FlagOff(213)
end








-- ──────────────────────────────────────【慧彥的說服行動】

function Scene.TALK994()
    if GameFunc.GetFlag(139) then goto T994 end   -- 已經進過帳蓬一次
    if not GameFunc.GetFlag(138) then goto T994A end -- 未拿到暗黑修羅砧前

    GameFunc.FlagOn(139) -- 第一次進帳棚
    GameFunc.FlagOn(10)



    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(209 , 18, 25, 1, Const.WALK, 0)
    ESC.RemoveParty(10, 0,'TALK10',10,Const.WALK,0,0xD100)
    ESC.RoleMove(10, 16, 25)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)


    Scene.RoadFlag(StringDB('ESS2520')) -- ESS=石國王子帳蓬


    ESC.BatchMove(2,
    1, 18, 22,
    10, 16, 22)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.TakeActData(10, -1, 0, 7)
    ESC.FadeWait()


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(81, 81, 0x4000) -- 【劇情配樂】石國牧歌




    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2521')) -- ESS=歡迎歡迎，兩位勇士，%N敝人今天真是有幸...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2522')) -- ESS=我們%C7石國人%C5，生來就愛好%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2523')) -- ESS=阿彌陀佛，不敢不敢，%N王子閣下您太過獎...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)




    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2524')) -- ESS=這一位麥爾斯勇士，也是以一敵十的不得了勇...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2525')) -- ESS=賽特，%N這位王子國家被東方可惡的%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2526')) -- ESS=王子閣下，可否容老衲冒昧一問……%N貴國...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2527')) -- ESS=唉，說來就心痛……%N唐人派使節來我國，...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)


    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)


    ESC.ChangeDIR(15, 2)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 4)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 7)
    ESC.Delay(800)


    Scene.WORD_ON_HEAD(15, 10, 20, -75, '%C6'..StringDB('ESS2528')) -- ESS=…嗚…好可恨呀！

    ESC.Delay(1700)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2529')) -- ESS=………王子閣下？%N
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(4, 1)


    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2530')) -- ESS=──賽特，%N我來為你們說明吧！
    ESC.WaitDLG(1)


    ESC.ChangeDIR(10, 0)
    ESC.ChangeDIR(1, 4)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2531')) -- ESS=當時唐國人趁著石國國王招待他們使節、沒有...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign( 1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(10, 7)
    ESC.ChangeDIR(1, 0)

    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2532')) -- ESS=王子閣下，%N我們大唐…真的做了如此過分...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)


    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2533')) -- ESS=……父…父王被捉之後，他們…他們唐軍四處...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)





    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2534')) -- ESS=…………！！
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2535')) -- ESS=大屠殺時，我急忙跳入一個%C7水井%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2536')) -- ESS=阿彌陀佛……%N真抱歉我們堂堂大唐，竟對...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2537')) -- ESS=對了，您可知道當時的軍隊，是哪些人統帥的...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.ChangeDIR(15, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 4)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 2)
    ESC.Delay(200)
    ESC.ChangeDIR(15, 6)
    ESC.Delay(800)



    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2538')) -- ESS=是唐國的安西節度使，叫做%C7高仙芝%C...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.AddHeadSign( 1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2539')) -- ESS=黃雷%C5，不就是上次製造%C7機關獸%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2540')) -- ESS=……一定那傢伙！%N準又是他為了立功升官...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(15, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2541')) -- ESS=兩位勇士，唐人現與我有血海深仇，遠恩力量...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2542')) -- ESS=……遠恩閣下，%N老衲有一些肺腑之言，或...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2543')) -- ESS=這次慘劇確是大唐的不對……士兵也是有家人...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)




    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2544')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2545')) -- ESS=……遠恩閣下，%N石國也是個以%C7佛法...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)


    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)



    ESC.StoryMusic(54, 25, 0x4000) -- 【劇情配樂】護教騎士團
    ESC.TakeActData(4, -1, 64-5, 5) -- 麥爾斯怒插劍


    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2546')) -- ESS=───等等，遠恩大人！%N這僧人想說服您...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(15, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(15)



    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2547')) -- ESS=他是%C7唐國人%C5，難免偏袒自己祖國...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)



    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2548')) -- ESS=……麥爾斯勇士，感謝你點醒！%N血海深仇...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)




    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2549')) -- ESS=可是……%N黎民百姓是無辜的，老衲並無私...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)



    ESC.ChangeDIR(4, 5) -- 麥爾斯收劍至胸前
    ESC.ChangeQQ(4, 31-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)



    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2550')) -- ESS=好，就算不報仇好了！%N他們%C7唐國的...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    MediaFunc.PlaySound(115)
    ESC.Delay(50)

    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 1)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(50)

    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 2)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)

    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 3)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)


    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 5)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)

    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 6)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)


    ESC.ChangeQQ(4, 33-5)
    ESC.ChangeDIR(4, 5)
    ESC.SeekACT(4, 7)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(700)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2551')) -- ESS=唉，老衲明白了……%N這事說來，確是我們...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(10, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(10, 5)
    ESC.Delay(600)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2552')) -- ESS=……好，%N老衲這就去%C7唐營%C5，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)



    -- GameFunc.FlagOff(10)

    ESC.ChangeQQ(10, Const.WALK)
    ESC.Unlock(10)
    ESC.SetRoleSpeed(10, 3)
    ESC.BatchMove(1,    10, 19, 26)
    ESC.RoleHide(10)



    ESC.ChangeDIR(1, 1)
    ESC.Unlock(1)


    ESC.SetRoleSpeed(10, 3)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 19-1, 26)
    ESC.RoleHide(1)
    ESC.ChangeQQ(1, Const.STAND)



    ESC.AddHeadSign(4, 1)
    ESC.Delay(1600)
    ESC.DelHeadSign(4)


    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2553')) -- ESS=可惜可歎，兩位如此絕倫勇士，為何竟不能為...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.ChangeDIR(4, 5) -- 麥爾斯拔劍起
    ESC.RoleLock(4)
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)
    MediaFunc.PlaySound(60)
    ESC.Delay(700)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2554')) -- ESS=不對，遠恩大人！%N我們不能放他們兩個人...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 1)



    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2555')) -- ESS=有何不妥？%N這位老僧人也是一番好意，%...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.ChangeDIR(4, 7) -- 麥爾斯拔劍起轉身
    ESC.ChangeQQ(4, 24-7)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2556')) -- ESS=遠恩大人，%N不論他們是否說服得動，但首...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(15, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(15)



    ESC.ChangeDIR(4, 5) -- 麥爾斯拔劍起
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2557')) -- ESS=再說，那個僧人畢竟是%C7唐國%C5的人...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 1)



    Scene.MBOn(15, 1, 11, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2558')) -- ESS=麥爾斯，遠恩實在太感激您了──%N遠恩愚...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.ChangeDIR(4, 5) -- 麥爾斯收劍至胸前
    ESC.ChangeQQ(4, 31-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(300)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2559')) -- ESS=我得立刻阻止他們，絕不能讓他們踏出這營區...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 1)



    ESC.Unlock(4)
    ESC.SetRoleSpeed(592, 1)
    ESC.SetRoleSpeed(593, 1)
    ESC.SetRoleSpeed(594, 1)
    ESC.SetRoleSpeed(595, 1)
    ESC.SetRoleSpeed(4, 1)
    ESC.SetMoveHISpeed(4)

    ESC.ChangeDIR(15, 1)

    ESC.ChangeQQ(4, Const.WALK)
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)

    ESC.SetPos(4, 19, 26)
    ESC.SetPos(592, 19, 26)
    ESC.SetPos(593, 19, 26)
    ESC.SetPos(594, 19, 26)
    ESC.SetPos(595, 19, 26)

::T994_1::
    ESC.BatchStep( 5,   4, 592, 593, 594, 595)
    if not ESC.RoleReach(4) then goto T994_2 end
    ESC.RoleDisable(4)
::T994_2::
    if not ESC.RoleReach(592) then goto T994_3 end
    ESC.RoleDisable(592)
::T994_3::
    if not ESC.RoleReach(593) then goto T994_4 end
    ESC.RoleDisable(593)
::T994_4::
    if not ESC.RoleReach(594) then goto T994_5 end
    ESC.RoleDisable(594)
::T994_5::
    if not ESC.RoleReach(595) then goto T994_6 end
    ESC.RoleDisable(595)
::T994_6::
    if not ESC.IsAllReach() then
        goto T994_1
    end



    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.RoleShow(10)
    ESC.RoleShow(1)
    ESC.Progress_Off()
    ESC.GotoMap(213 , 28, 25, 1 , 0 , 1)
    ESC.ScreenLock()
    ESC.ChangeRoleMap(10, 213, 0, 31, 25, 10, Const.WALK, 1)
    ESC.TakeActData(1, -1, Const.WALK, 1)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(10, 1)
    ESC.BatchMove(2,
    1, 28, 48,
    10, 31, 48)
    ESC.FadeWait()


    ESC.ChangeRoleMap(592, 213, 0, 28, 25, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(593, 213, 0, 30, 25, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(594, 213, 0, 28, 26, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(595, 213, 0, 30, 26, 411, Const.WALK , 1)
    ESC.ChangeRoleMap( 4, 213, 0, 30, 25, 4, Const.WALK , 1)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleEnable(4)
    ESC.BatchMove2(7,
    594, 20, 32, -1, 0, 5,
    595, 35, 32, -1, 0, 6,
    592, 24, 30, -1, 0, 5,
    593, 31, 30, -1, 0, 6,
    4, 28, 28, -1, 0, 1,
    1, 28, 51, -1, 0, 1,
    10, 31, 51, -1, 0, 1)



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(121, 121, 0x4000) -- 【劇情配樂】拔劍


    ESC.Caption(4)
    Scene.Print_WS(4,9008,6*2,2*2,StringDB('ESS2560')) -- ESS=站住──%N不准離開──
    ESC.WaitDLG(4)


    ESC.AddHeadSign( 1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign( 1)
    ESC.DelHeadSign(10)


    Scene.ScrollMapD(9, 26, 4, 4)
    ESC.ScrollMapWait()
    ESC.TakeActData( 1, -1, Const.STAND, 1)
    ESC.TakeActData(10, -1, Const.STAND, 1)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS2561')) -- ESS=啊哈，跟我猜得一樣，果然反悔了──
    ESC.WaitDLG(1)


    ESC.ChangeDIR(10, 6)


    ESC.Caption(10)
    Scene.Print_WS(10,9008,9*2,4*2,StringDB('ESS2562')) -- ESS=賽特，唐軍逼近，時間不多了，我必須儘快趕...
    ESC.WaitDLG(10)



    ESC.ChangeDIR(1, 5)

    Scene.Print_WS(10,9008,9*2,4*2,StringDB('ESS2563')) -- ESS=麻煩你先設法幫我擋一擋，這些人對現在的你...
    ESC.WaitDLG(10)



    ESC.ChangeDIR(1, 0)
    ESC.SetRoleSpeed(10, 0)
    ESC.SetMoveHISpeed(10)

    ESC.ChangeQQ(10, Const.WALK)
    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove2(6,
    10, 56, 51-10, -1, 0, 3,
    594, 20, 32+10, -1, 0, 5,
    595, 35, 32+10, -1, 0, 6,
    592, 24, 30+10, -1, 0, 5,
    593, 31, 30+10, -1, 0, 6,
    4, 28, 43, -1, 0, 1)



    ESC.Caption(4)
    Scene.Print_WS(4,9008,9*2,3*2,StringDB('ESS2564')) -- ESS=可惡，跑了一個！%N先捉下這個，再去抓另...
    ESC.WaitDLG(4)



    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)

    ESC.BatchMove2(4,
    594, 20+1, 32+11, -1, 0, 5,
    595, 35-1, 32+11, -1, 0, 6,
    592, 24+1, 30+11, -1, 0, 5,
    593, 31-1, 30+11, -1, 0, 6)

    Scene.BattleSupportOff(10) -- 慧彥
    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)

    ESC.StartBattle('BS181') -- 麥爾斯痛擊賽特

    ACH.SetAchievement("ACH_0_5")

    ESC.StoryMusic(25, 25, 0x4000) -- 【劇情配樂】先切掉音樂，避免淡出時出現頭部


    ESC.FadeScreen(0, 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()

    Scene.Heal()

-- ──────────────────────────────────────────────────【沙漠中的幻影】

    -- 戰鬥...被追殺
    -- 進入第六章（幻影石國）
    -- 改躺在地上後清醒


    ESC.Progress_Off()
    ESC.GotoMap(108, 24, 18, 1, 0, 0)

    ESC.StoryMusic(75, 75, 0x4000) -- 【劇情配樂】灼熱的沙漠





    ESC.ChangeRoleMap(10, 108, 0, 3, 25, 10, Const.WALK, 4)
    ESC.ChangeRoleMap(15, 108, 0, 3, 25, 15, Const.STAND, 4)

    ESC.RoleDisable(10)
    ESC.RoleDisable(15)

    ESC.ChangeRoleMap(2, 108, 0, 21, 17, 2, Const.STAND, 5)
    ESC.ChangeRoleMap(8, 108, 0, 22, 21, 8, Const.STAND, 7)

    ESC.RoleEnable(2)
    ESC.RoleEnable(8)

    ESC.TakeActData(1, -1, 64, 3)
    ESC.TakeActData(2, -1, 35-5, 5)
    ESC.Unlock(2)
    ESC.Unlock(8)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()
    ESC.Delay(500)



    ESC.ChangeDIR(1, 3) -- 賽特暈倒起身
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.TakeActData(1, 98, 73-3, 3)
    ESC.Delay(300)



    ESC.TakeActData(1, 1, 0, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(100)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2565')) -- ESS=這…這裏是哪裏……%N我怎麼了……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TakeActData(2, -1, 57-1, 1)


    Scene.MBOn(2, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 35, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2566')) -- ESS=賽特、賽特，你終於醒了！%N人家真是擔心...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 35)


    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2567')) -- ESS=賽特，%N你昏過真的好長一段時間了，我們...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2568')) -- ESS=對了，我想起來了！%N我好像…被%C7麥...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(8, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2569')) -- ESS=是的，%N他是用魔法擊敗你的，那是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2570')) -- ESS=麥爾斯會撒旦的魔法？%N難道是在%C7地...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(8, 3)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 5)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 1)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 6)
    ESC.Delay(400)


    Scene.WORD_ON_HEAD(8, 10, 20, -75, '%C5'..StringDB('ESS2571')) -- ESS=有人來了───

    ESC.Delay(700)


    Scene.Nicole_Off()
    Scene.Kama_Off()



    ESC.TakeActData(1, 1, 0, 6)
    ESC.RoleEnable(15)

    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)

    ESC.SetRoleSpeed(15, 2)
    ESC.ChangeQQ(15, Const.WALK)
    ESC.BatchMove(1,    15, 23-4, 21)
    ESC.TakeActData(15, -1, 0, 3)
    ESC.TurnFace(15, 1)
    ESC.TurnFace(1, 15)
    ESC.Delay(300)


    ESC.TakeActData(1, -1, 30, 0)


    Scene.MBOn(1, 8, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2572')) -- ESS=遠恩王子───%N我們跟你無冤無仇，為什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2573')) -- ESS=哼，還敢說！%N那我為什麼現在要變成你們...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(1, 8, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2574')) -- ESS=……你是俘虜？%N──被打倒的不是我們嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.RoleMove(10, 42-1, 29-1)
    ESC.RoleEnable(10)
    ESC.SetRoleSpeed(10, 1)
    ESC.BatchMove(1,    10, 27, 21)
    ESC.TakeActData(10, -1, 0, 4)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2575')) -- ESS=……你可終於醒過來啦，%N賽特？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData(1, 1, 76-6, 6)
    MediaFunc.PlaySound(276)
    ESC.Delay(400)
    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.Delay(200)


    Scene.MBOn(1, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2576')) -- ESS=慧彥師父，%N這到底是怎麼一回事？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2577')) -- ESS=……唉，當時我回頭看，發現你竟被麥爾斯打...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2578')) -- ESS=幸好麥爾斯和那些黑衣大食士兵總算顧慮王子...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 7, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2579')) -- ESS=對不起，慧彥師父……%N都怪我實在太沒用...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 7)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2580')) -- ESS=勝敗乃兵家常事，別太放在心上…倒是老衲真...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.ChangeDIR(15, 5)


    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2581')) -- ESS=哼，你們%C7唐人%C5簡直就是同一個調...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(10, 6)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2582')) -- ESS=阿彌陀佛……%N王子，請相信老衲的為人…...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    Scene.BattleSupportOn(10) -- 慧彥
    Scene.AddMainParty(2)
    Scene.AddMainParty(3)

    ESC.ChangeRoleMap(104, 108, 0, 47, 18, 564, Const.WALK , 2)
    ESC.ChangeRoleMap(131, 108, 0, 50, 21, 574, Const.WALK , 2)
    ESC.RoleEnable(104)
    ESC.RoleEnable(131)


    Scene.SAR_Shadow(104, 1)
    Scene.SAR_Shadow(131, 1)



    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 122, 0x2000) -- 【劇情配樂】晴天霹靂＋不安


    ESC.Caption(255)
    Scene.Print_WS(104,9008,8*2,2*2,StringDB('ESS2583')) -- ESS=不好了、不好了！有妖怪出現了！
    ESC.WaitDLG(104)


    ESC.ChangeDIR(1, 3)
    ESC.ChangeDIR(10, 3)
    ESC.ChangeDIR(15, 3)

    ESC.SetRoleSpeed(104, 1)
    ESC.SetRoleSpeed(131, 0)
    ESC.BatchMove2(2,
    104, 32, 18, -1, Const.STAND,2,
    131, 31, 21, -1, Const.STAND,2)

    ESC.Caption(10)
    Scene.Print_SL(10,9008,280,360,6*2,2*2,StringDB('ESS2584')) -- ESS=妖怪……？%N怎麼一回事？
    ESC.WaitDLG(10)


    ESC.Caption(255)
    Scene.Print_WS(131,9008,10*2,4*2,StringDB('ESS2585')) -- ESS=綠洲東邊%C4的沙漠上頭，突然出現一個聚...
    ESC.WaitDLG(131)


    ESC.Caption(10)
    Scene.Print_SL(10,9008,280,360,9*2,4*2,StringDB('ESS2586')) -- ESS=我們在這裏也住了幾天了，東方那邊只有沙漠...
    ESC.WaitDLG(10)


    ESC.Caption(255)
    Scene.Print_WS(131,9008,10*2,3*2,StringDB('ESS2587')) -- ESS=我們也不曉得啊……%N那個聚落，和以前絲...
    ESC.WaitDLG(131)


    ESC.AddHeadSign( 1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(15)


    ESC.Caption(15)
    Scene.Print_SL(15,9008,60,140,8*2,4*2,StringDB('ESS2588')) -- ESS=不可能！%N石國還在%C2更遠的東邊%C...
    ESC.WaitDLG(15)


    Scene.Print_SL(15,9008,60,140,11*2,4*2,StringDB('ESS2589')) -- ESS=敝人自己都千里跋涉，才好不容易到達此的…...
    ESC.WaitDLG(15)



    ESC.Caption(255)
    Scene.Print_WS(104,9008,9*2,3*2,StringDB('ESS2590')) -- ESS=所以才不對勁啊……%N反正我們要溜了，你...
    ESC.WaitDLG(104)




    ESC.SetRoleSpeed(104, 1)
    ESC.SetRoleSpeed(131, 0)
    ESC.ChangeQQ(104, Const.WALK)
    ESC.ChangeQQ(131, Const.WALK)
    ESC.BatchMove(2,
    104, 28, 18,
    131, 24, 20)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(10, 2)
    ESC.ChangeDIR(15, 6)
    ESC.SetRoleSpeed(104, 1)
    ESC.SetRoleSpeed(131, 0)
    ESC.BatchMove(2,
    104, 2, 19,
    131, 2, 21)
    ESC.RoleDisable(104)
    ESC.RoleDisable(131)


    ESC.AddHeadSign(15, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(15)



    ESC.Caption(15)
    Scene.Print_SL(15,9008,60,140,9*2,4*2,StringDB('ESS2591')) -- ESS=不可能的───%N我的國家早就被可恨的唐...
    ESC.WaitDLG(15)


    ESC.ChangeDIR(1, 5)


    ESC.Caption(1)
    Scene.Print_SL(1,9008,340,120,7*2,3*2,StringDB('ESS2592')) -- ESS=情況怪怪的……我們要不要過去看看？
    ESC.WaitDLG(1)


    ESC.ChangeDIR(10, 4)
    ESC.ChangeDIR(15, 3)


    ESC.Caption(10)
    Scene.Print_SL(10,9008,420,360,7*2,4*2,StringDB('ESS2593')) -- ESS=也好……%N真擔心是不是又是%C2黃雷%...
    ESC.WaitDLG(10)


    ESC.AddParty(15) --  石國王子加入隊伍中
    ESC.AddParty(10)


    -- 改變煉妖壺中卡瑪與波爾的狀態
    ESC.ChangeQQ(30, Const.WALK)
    ESC.ChangePath(30, 21)
    ESC.RoleMove(30, 96, 54)
    ESC.Unlock(98)
    ItemFunc.AddItem(402 , -2) -- 去掉駱駝

    ESC.RoleDisable(592) -- 將石國帳棚的士兵消去
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.RoleDisable(4)

    ESC.RoleDisable(1104) -- 帳棚前士兵留一個就好(1104去掉，1103留下)

    Scene.Heal() -- 把賽特生命補滿

    ESC.RoleMove(97, 16, 49) -- 把安卡搬到定位
    ESC.TakeActData(97, -1, 0, 6)
    ESC.Unlock(97)

    GameFunc.FlagOn(7055) -- 石國幻影出現,已綁架遠恩
    GameFunc.FlagOn(7058) -- 設可穿過沙漠到綠洲
    GameFunc.FlagOff(10)

    Scene.QuestOff(280)
    Scene.QuestOn(281)


    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.SceneBreak()


::T994::
    Scene.ChangeMap(209, 19, 25, 4)
    Scene.RoadFlag(StringDB('ESS2520')) -- ESS=石國王子帳蓬
    ESC.SceneBreak()


::T994A::
    ESC.TurnFace(322, 1)
    ESC.TurnFace(1, 322)



    ESC.Caption(143)
    Scene.Print_WS(322,9008,7*2,2*2,StringDB('ESS2594')) -- ESS=不行不行，還沒有輪到你們……
    ESC.WaitDLG(322)


    ESC.ChangeDIR(322, 6)


end

function Scene.TALK995()
    -- 接街道
    Scene.ChangeMap(199, 67, 25, 1)
end

function Scene.TALK996()
    if not GameFunc.GetFlag(7060) then ESC.ChangeQQ(1,0) Scene.TALK97() return end -- 遠恩門口士兵前的那一排劇情點
end










-- ──────────────────────────────────────【什麼東西？暗黑修羅砧】

function Scene.TALK97()
    -- 石國王子營帳劇情

    if GameFunc.GetFlag(138) then return end
    -- 判斷身上是否有暗黑修羅砧
    log("count 799 x"..Function.GetItemCount(799))
    if GameFunc.GetFlag(7060) then -- 已經說過話
        if Function.GetItemCount(799)>0 then -- 已經拿到
            goto T996B
        end
        goto T996A -- 遠恩門口士兵循環對話
    end
    GameFunc.FlagOn(7060) -- 遠恩門口士兵循環對話
    GameFunc.FlagOn(10)
    Scene.MoveHero(29, 36, 0)


    ESC.ChangeQQ(1, Const.STAND)
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 3 , 0xD100)

    ESC.BatchMove(1,    10, 25, 36)
    ESC.TakeActData(10, -1, 0, 0)


    Scene.ScrollMapD(10, 1, 2, 2)
    ESC.ScrollMapWait()
    ESC.Delay(1000)
    Scene.ScrollMapD(10, 12, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenLock()


    ESC.Caption(1)
    Scene.Print_WS(1,9008,6*2,2*2,StringDB('ESS2595')) -- ESS=好大的一座營帳啊！
    ESC.WaitDLG(1)


    ESC.Caption(143)
    Scene.Print_WS(322,9008,7*2,2*2,StringDB('ESS2596')) -- ESS=這兩位朋友，請止步──
    ESC.WaitDLG(322)



    ESC.TurnFace(1, 322)
    ESC.TurnFace(10, 322)

    ESC.ScrollMapWait()
    ESC.ScreenLock()



    Scene.Print_WS(322,9008,9*2,3*2,StringDB('ESS2597')) -- ESS=這裏是%C2石國王子%C4的營帳，您兩位...
    ESC.WaitDLG(322)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS2598')) -- ESS=是的，我們很希望能直接跟貴國王子見面談一...
    ESC.WaitDLG(1)


    ESC.Caption(143)
    Scene.Print_WS(322,9008,10*2,4*2,StringDB('ESS2599')) -- ESS=應徵者有幾千人，王子敬愛勇士，都一一為他...
    ESC.WaitDLG(322)


    Scene.Print_WS(322,9008,9*2,3*2,StringDB('ESS2600')) -- ESS=不過王子有說，如果是真正的勇士，就可立刻...
    ESC.WaitDLG(322)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS2601')) -- ESS=哦？%N怎樣可以證明自己是真正的勇士？
    ESC.WaitDLG(1)


    ESC.Caption(143)
    Scene.Print_WS(322,9008,9*2,4*2,StringDB('ESS2602')) -- ESS=在%C2巴格達東北方%C4有一個山洞，裏...
    ESC.WaitDLG(322)


    Scene.Print_WS(322,9008,9*2,3*2,StringDB('ESS2603')) -- ESS=王子說，如果能夠取到那樣東西來，就是真正...
    ESC.WaitDLG(322)

    if Function.GetItemCount(799)>0 then -- 暗黑修羅砧
        ESC.Caption(1)
        Scene.Print_WS(1,9008,9*2,2*2,StringDB('ESS2604B')) -- ESS=這樣啊，不過我好像早已經拿到了。
        ESC.WaitDLG(1)
        Scene.QuestOff(278)
        GameFunc.FlagOn(10)
        GameFunc.FlagOn(138)
        goto T996B_2
    end
    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS2604')) -- ESS=小事一樁！%N那我們就用結果來說明一切吧...
    ESC.WaitDLG(1)


    ESC.AddParty(10)

    Scene.QuestOff(278)
    Scene.QuestOn(279)

    GameFunc.FlagOff(10)

    ESC.SceneBreak()

::T996A:: -- 沒有暗黑修羅砧


    ESC.Caption(143)
    Scene.Print_WS(322,9008,9*2,4*2,StringDB('ESS2605')) -- ESS=在%C2巴格達東北方%C4有一個山洞，裏...
    ESC.WaitDLG(322)


    Scene.Print_WS(322,9008,9*2,3*2,StringDB('ESS2603')) -- ESS=王子說，如果能夠取到那樣東西來，就是真正...
    ESC.WaitDLG(322)

    GameFunc.FlagOff(10)
    ESC.SceneBreak()







-- ──────────────────────────────────────【石國王子遠恩】

::T996B:: -- 開關7061打開時

    Scene.QuestOff(278)
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(138)

    ESC.TakeActData(1, -1, Const.STAND, 0)
    ESC.TurnFace(1, 322)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS2606')) -- ESS=嗨，我們帶回%C2暗黑修羅砧%C4了！
    ESC.WaitDLG(1)

::T996B_2::
    ESC.Caption(143)
    Scene.Print_WS(322,9008,6*2,2*2,StringDB('ESS2607')) -- ESS=怎麼可能？%N真的還假的？
    ESC.WaitDLG(322)

    Scene.MoveHero(30, 30, 7)
    ESC.ChangeDIR(322, 6)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,6*2,3*2,StringDB('ESS2608')) -- ESS=是不是這個？%N你自己親眼看一看吧！
    ESC.WaitDLG(1)


    ItemFunc.AddItem(799 , -1) -- 去掉暗黑修羅
    ESC.TakeActData(322, -1, 54, 0) -- 士兵驚訝


    ESC.Caption(143)
    Scene.Print_WS(322,9008,8*2,3*2,StringDB('ESS2609')) -- ESS=真、真的？%N這真的是%C2暗黑修羅砧%...
    ESC.WaitDLG(322)


    ESC.TakeActData(322, -1, 0, 6)
    Scene.Print_WS(322,9008,7*2,3*2,StringDB('ESS2610')) -- ESS=請、請稍候！%N我立刻請王子出來！
    ESC.WaitDLG(322)


    ESC.MusicFadeMode(2, 60)
    ESC.StoryMusic(72, 72, 0x4000) -- 【劇情配樂】灼熱的沙漠




    ESC.RemoveParty(10, 0,'TALK10',10,Const.WALK , 3 , 0xD100)
    ESC.SetRoleSpeed(10, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 31, 36, -1, 0, 0,
    10, 25, 36, -1, 0, 0)



    ESC.ChangeQQ(322, Const.WALK)
    ESC.SetRoleSpeed(322, 1)
    ESC.BatchMove(1,    322, 28, 25)
    ESC.RoleDisable(322)
    ESC.Delay(1000)
    ESC.ChangeRoleMap(592, 213, 0, 28, 25, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(593, 213, 0, 30, 25, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(594, 213, 0, 28, 26, 411, Const.WALK , 1)
    ESC.ChangeRoleMap(595, 213, 0, 30, 26, 411, Const.WALK , 1)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.BatchMove(4,
    594, 20, 32,
    595, 35, 32,
    592, 24, 30,
    593, 31, 30)
    ESC.TakeActData(592, -1, 0, 5)
    ESC.TakeActData(593, -1, 0, 6)
    ESC.TakeActData(594, -1, 0, 5)
    ESC.TakeActData(595, -1, 0, 6)
    ESC.RoleEnable(15)
    ESC.BatchMove(1,    15, 28, 28)
    ESC.TakeActData(15, -1, 0, 1)


    ESC.Caption(15)
    Scene.Print_SL(15,9008,40,50,7*2,3*2,StringDB('ESS2611')) -- ESS=兩位勇士，歡迎歡迎，敝人就是石國的……
    ESC.WaitDLG(15)


    ESC.TurnFace(1, 15)
    ESC.TurnFace(10, 15)


    ESC.AddHeadSign(15, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(15)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2612')) -- ESS=怎、怎會這樣──？%N我以為是虎背熊腰的...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1000)
    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2613')) -- ESS=王子閣下，%N也許我們與您期待中長得不同...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.DelHeadSign(10)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2614')) -- ESS=呃，這倒也對……%N但…但是……
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2615')) -- ESS=啊，那這樣好了……%N敝人身邊正好有四位...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2616')) -- ESS=哈、哈、哈───%N不用挑了，四個人一起...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.AddHeadSign(592, 0)
    ESC.AddHeadSign(595, 0)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(592)
    ESC.DelHeadSign(595)
    ESC.DelHeadSign(15)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2617')) -- ESS=什麼？%N四、四個人全上──？%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2618')) -- ESS=不介意的話，%N我一個人應付也可以！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(592, 0)
    ESC.AddHeadSign(595, 0)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(592)
    ESC.DelHeadSign(595)
    ESC.DelHeadSign(15)



    ESC.TurnFace(592, 15)
    ESC.TurnFace(593, 15)
    ESC.TurnFace(594, 15)
    ESC.TurnFace(595, 15)
    ESC.Delay(300)



    ESC.Caption(143)
    Scene.Print_WS(592,9008,7*2,2*2,StringDB('ESS2619')) -- ESS=殿下，怎麼辦？還要不要打？
    ESC.WaitDLG(592)


    ESC.Caption(15)
    Scene.Print_SL(15,9008,20,50,9*2,3*2,StringDB('ESS2620')) -- ESS=說不定只是在賣弄虛實，你們就試試他們斤兩...
    ESC.WaitDLG(15)



    ESC.TurnFace(592, 1)
    ESC.TurnFace(593, 1)
    ESC.TurnFace(594, 1)
    ESC.TurnFace(595, 1)
    ESC.Caption(143)
    ESC.FitSize()
    ESC.DLGHoldTime(5)
    ESC.DLGNoPass()
    ESC.Print(592,9008,StringDB('ESS2621')) -- ESS=上──
    ESC.WaitDLG(592)

    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.SetRoleSpeed(592, 3)
    ESC.SetRoleSpeed(593, 3)
    ESC.SetRoleSpeed(594, 3)
    ESC.SetRoleSpeed(595, 3)


    ESC.BatchMove2(4,
    594, 20+1, 32+1, -1, Const.STAND,5,
    595, 35-1, 32+1, -1, Const.STAND,6,
    592, 24+1, 30+1, -1, Const.STAND,5,
    593, 31-1, 30+1, -1, Const.STAND,6)


    Scene.RemoveMainParty(2) --  妮可不參加戰鬥
    Scene.RemoveMainParty(3) -- 卡瑪不參加戰鬥


    ESC.StartBattle('BS180')

    ESC.StoryMusic(73, 73, 0x4000) -- 【劇情配樂】肯迪之家

    ESC.RoleMove(1, 29, 36)
    ESC.RoleMove(594, 20, 32)
    ESC.RoleMove(595, 35, 32)
    ESC.RoleMove(592, 24, 30)
    ESC.RoleMove(593, 31, 30)

    Scene.AddMainParty(2)
    Scene.AddMainParty(3)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2622')) -- ESS=太、太厲害了！%N剛才真是失禮───%N...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeQQ(15, Const.WALK)
    ESC.BatchMove(1,    15, 28, 32)
    ESC.ChangeQQ(15, Const.STAND)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2623')) -- ESS=敝人是%C7石國%C5王子，名叫%C7遠...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(15, 5)




    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2624')) -- ESS=不瞞兩位說，敝人最近真幸運，不但伊斯蘭的...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.SetRoleSpeed(15, 2)
    ESC.ChangeQQ(15, Const.WALK)
    ESC.BatchMove(1,    15, 27, 32-3)
    ESC.ChangeQQ(15, Const.STAND)
    ESC.ChangeDIR(15, 7)
    ESC.Delay(400)



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2625')) -- ESS=有請法蘭克來的勇士%C7麥爾斯%C5──...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeRoleMap(4, 213, 0, 29, 25, 4, 0, 1)
    ESC.RoleEnable(4)
    ESC.SetRoleSpeed(4, 3)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove2(1,    4, 31, 27, -1, Const.STAND,6)


    ESC.ChangeDIR(1, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(50)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)


    ESC.ChangeDIR(15, 3)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2626')) -- ESS=什、什麼？%N麥爾斯────？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.ChangeDIR(4, 1)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2627')) -- ESS=──賽特？%N還有……唐國的僧侶？
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.ChangeDIR(15, 5)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2628')) -- ESS=嗯？%N你們認識嗎？%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.TurnFace(4, 15)


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2629')) -- ESS=是，殿下……%N這位是跟我同鄉之好友%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.ChangeDIR(15, 1)
    ESC.Delay(300)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2630')) -- ESS=唐…%C7唐國%C5來的僧侶？%N這……...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.TurnFace(4, 10)
    ESC.Delay(300)


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2631')) -- ESS=遠恩閣下，%N這點請您不必擔心───
    ESC.WaitDLG(1)


    ESC.ChangeDIR(4, 1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2632')) -- ESS=這名僧侶是位正直的人，身手也非常不錯，您...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.ChangeDIR(4, 6)
    ESC.TurnFace(15, 1)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2633')) -- ESS=……也對，%N那，諸位勇士們請入帳，容敝...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.SetRoleSpeed(592, 1)
    ESC.SetRoleSpeed(593, 1)
    ESC.SetRoleSpeed(594, 1)
    ESC.SetRoleSpeed(595, 1)
    ESC.SetRoleSpeed(15, 1)

    ESC.SetPos(15, 29, 25)
    ESC.SetPos(592, 29, 25)
    ESC.SetPos(593, 29, 25)
    ESC.SetPos(594, 29, 25)
    ESC.SetPos(595, 29, 25)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(72, 72, 0x4000) -- 【劇情配樂】塔德莫爾


    ESC.ChangeQQ(15, Const.WALK)
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
::T996_1::
    ESC.BatchStep( 5,   15, 592, 593, 594, 595)
    if not ESC.RoleReach(15) then goto T996_2 end
    ESC.ChangeRoleMap( 15, 209, 0, 19, 16, 15, Const.STAND, 6)
::T996_2::
    if not ESC.RoleReach(592) then goto T996_3 end
    ESC.ChangeRoleMap(592, 209, 0, 22, 23, -1, Const.STAND, 6)
::T996_3::
    if not ESC.RoleReach(593) then goto T996_4 end
    ESC.ChangeRoleMap(593, 209, 0, 12, 18, -1, Const.STAND, 5)
::T996_4::
    if not ESC.RoleReach(594) then goto T996_5 end
    ESC.ChangeRoleMap(594, 209, 0, 11, 22, -1, Const.STAND, 5)
::T996_5::
    if not ESC.RoleReach(595) then goto T996_6 end
    ESC.ChangeRoleMap(595, 209, 0, 23, 19, -1, Const.STAND, 6)
::T996_6::
    if not ESC.IsAllReach() then
        goto T996_1
    end




    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2634')) -- ESS=麥爾斯，%N沒想到在%C7巴格達%C5又...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2635')) -- ESS=賽特，這樣說太見外了吧！%N身在異國，大...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2636')) -- ESS=……也對，%N倒是你不是去追那唐國的使者...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2637')) -- ESS=哈哈哈，別提了！%N難得又聚一起了，咱們...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.ScrollMapToRole(1, 4, 4)
    ESC.SetRoleSpeed(4, 3)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove(1,    4, 29, 25)
    ESC.ChangeRoleMap(4, 209, 0, 15, 17, 4, Const.STAND, 5)
    ESC.AddParty(10)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    Scene.QuestOff(279)
    Scene.QuestOn(280)


    ESC.MusicFadeMode(2, 80) -- 【等待新功能】
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    GameFunc.FlagOff(10)
end





function Scene.TALK997()
    -- 進巴格達
    -----   ESC.ChangeRoleMap(GUID , MAPID , PATH , X , Y , ACT , QQ , DIR)
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T997C
    end
    ESC.ChangeRoleMap(805, 199, 0, 197, 31, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 199, 0, 198, 33, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T997B
::T997C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)



::T997B:: -- 兩歹徒綁架遠恩之後，再入巴格達

    Scene.EnterCity_NPC(199, 192, 33, 2)
    Scene.RoadFlag(StringDB('ESS2638')) -- ESS=　巴格達


    if not GameFunc.GetFlag(7055) then goto T997A end -- 判斷遠恩是否跟著
    if not Scene.CheckParty(10) then goto T997A end  -- 判斷慧彥在不在
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 2 , 0xD900)
    ESC.BatchMove(1,    10, 188, 32)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 5)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(300)

    ESC.Caption(10)
    Scene.Print_WS(10,9008,10*2,3*2,StringDB('ESS2639')) -- ESS=城裏的士兵一定在找我和遠恩王子，所以我留...
    ESC.WaitDLG(10)


    GameFunc.FlagOn(7056) --   設定慧彥是否留城門口
    Scene.BattleSupportOff(10) -- 慧彥


    if Scene.CheckParty(15) then   -- 判斷遠恩在不在
        ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK , 2 , 0xD100)
        ESC.BatchMove(1,    15, 190, 34)
        ESC.ChangeDIR(1, 6)
        ESC.ChangeQQ(15, Const.STAND)


        ESC.Caption(15)
        Scene.Print_WS(15,9008,4*2,1*2,StringDB('ESS2640')) -- ESS=哼───
        ESC.WaitDLG(15)


        ESC.ChangeDIR(15, 4)

        GameFunc.FlagOn(7057) --   設定遠恩是否留城門口
    end
::T997A::
end

function Scene.TALK999()
    ESC.ChangeQQ(1, Const.STAND)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    Scene.Glass_SRC1(1, StringDB('ESS2641')) -- ESS=水跟食物不夠支持往回走。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.ChangeDIR(1, 5)
end

function Scene.TALK1000()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    if not GameFunc.GetFlag(115) then goto T1000A end
    ESC.GotoMap(214 , 119, 45, 1, 0, 2)
    if Function.GetItemCount(402) == 0 then -- 判斷有無駱駝
        goto T1000B
    end
    ESC.RoleMove(859, 120, 42)
    ESC.RoleMove(858, 119, 48)
    ESC.ChangeDIR(859, 2)
    ESC.ChangeDIR(858, 2)
    ESC.RoleEnable(858) -- 駱駝出現
    ESC.RoleEnable(859)
    if GameFunc.GetFlag(7059) then goto T1000C end -- 因隊伍人太多，所以不讓駱駝加入
    ESC.AddParty(858)
    ESC.AddParty(859)
    goto T1000C
::T1000B::
    ESC.RoleDisable(858) -- 駱駝消失
    ESC.RoleDisable(859)
::T1000C::
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS2508')) -- ESS= 敘利亞森林
    ESC.SceneBreak()
::T1000A::
    ESC.GotoMap(214 , 119, 45, 3, 0, 2)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.RoadFlag(StringDB('ESS2508')) -- ESS= 敘利亞森林
end
-------------------------------
function Scene.TALK783()
    -- 大馬士革酒店老闆
    Scene.M_Print_EA(783, StringDB('ESS2642')) -- ESS=歡迎光臨，您想喝點甚麼酒？
    -- <酒類選單>
    ESC.OpenStore(794, 0)
    Scene.M_PrintW_EA(783, 8, 4, StringDB('ESS2643')) -- ESS=我們這偷偷賣酒，可別讓埃米爾知道，不然我...
end
--------------------------------
function Scene.TALK784()
    -- 大馬士革商店老闆
    Scene.M_PrintW_EA(784, 7, 4, StringDB('ESS2644')) -- ESS=我們這是伊斯蘭地區最大的商店，您想買甚麼...
    -- 物品買賣
    if GameFunc.GetFlag(21) then goto T784A end
    ESC.OpenStore(625, 627, 629, 626, 637, 638, 644, 698, 984, 988, 998, 0)
    goto T784A1
::T784A::
    ESC.OpenStore(625, 627, 629, 626, 637, 638, 644, 698, 984, 988, 998, 697, 0)

::T784A1::
    ESC.Caption(784)
    Scene.Print_W(784,9008,5*2,1*2,StringDB('ESS2645')) -- ESS=謝謝光臨！
    ESC.WaitDLG(784)
end
--------------------------------
function Scene.TALK792()
    -- 武器屋店主
    ESC.Print(792,9008,StringDB('ESS2646')) -- ESS=您要買武器，還是想喝點小酒？%N%B買武...
    ESC.WaitDLG(792)
    local select = ESC.GetBTNSelect()
    if select == 1 then
        goto T792
    end

::T792A::
    if GameFunc.GetFlag(236) then goto T792B end
    ESC.ChangeQQ(792, Const.WALK)
    ESC.BatchMove(1,    792, 30, 25)
    ESC.TakeActData(Const.TOWN , -1 , Const.STAND, 6)
    GameFunc.FlagOn(236)
::T792B::
    Scene.M_Print_EA(792, StringDB('ESS2647')) -- ESS=請進吧！我們在地下室賣酒，您可別讓人知道...
    ESC.SceneBreak()
::T792::
    -- 武器交易選單
    Scene.M_Print_EA(792, StringDB('ESS2648')) -- ESS=你要買什麼武器？
    ESC.OpenStore(508, 527, 537, 538, 539, 855, 856, 860, 1006, 1007, 1011, 0)

    ESC.Caption(792)
    Scene.Print_W(792,9008,5*2,1*2,StringDB('ESS1622')) -- ESS=歡迎再來。
    ESC.WaitDLG(792)
end
--------------------------------
function Scene.TALK797()
    -- 大馬士革旅店老闆
    ESC.TurnFace(797, 1)
    ESC.FitSize()
    Scene.M_Print_EA(797, StringDB('ESS2649')) -- ESS=您好！歡迎光臨！
    ESC.Print(797,9008,StringDB('ESS2650')..'%N'..StringDB('SESS2')) -- ESS=住宿一夜是100金，您要住嗎？%N%B（...
    ESC.WaitDLG(797)
    local select = ESC.GetBTNSelect()
    if select == 1 then
        goto T797E
    end

::T797D::
    Scene.M_Print_EA(797, StringDB('ESS2645')) -- ESS=謝謝光臨！
    ESC.ChangeDIR(797, 1)
    ESC.SceneBreak()
::T797E::
    if Scene.AUTO_VCMONEY(100,797,9008) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeDIR(797, 1)
    if not Scene.CheckParty(3) then goto T797B end
    if GameFunc.GetFlag(115) then goto T797B end
    ESC.GotoMap(236 , 36, 21, 3, 0, 1)
    goto T797A
::T797B::
    ESC.GotoMap(236 , 36, 21, 1, 0, 1)
::T797A::
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -100 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end
--------------------------------
-- 巴格達的商人

function Scene.TALK803()
    local select
    --  巴格達旅店老闆
    if GameFunc.GetFlag(439) then goto T803C end -- 慧彥是否跟老闆娘瑞蓮談過話
    ESC.FitSize()
    Scene.M_Print_EA(491, StringDB('ESS2649')) -- ESS=您好！歡迎光臨！
    ESC.Print(491,9008,StringDB('ESS2651')..'%N'..StringDB('SESS2')) -- ESS=住宿一夜是%C2200%C4金，您要住嗎...
    ESC.WaitDLG(491)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T803B
    else
        ESC.FitSize()
        Scene.M_Print_EA(491, StringDB('ESS2645')) -- ESS=謝謝光臨！
        ESC.ChangeDIR(491, 1)
        ESC.SceneBreak()
    end
::T803B::
    if Scene.AUTO_VCMONEY(200,491,9008) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(208 , 33, 22, 1, 0, 1)

    GameFunc.PlayerGolds = GameFunc.PlayerGolds -200 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeDIR(491, 1)
    ESC.SceneBreak()

----------------- 有跟瑞蓮談過...減價
::T803C::
    Scene.M_Print_EA(491, StringDB('ESS2652')) -- ESS=既然是瑞蓮的親友，我就算您便宜點。
    ESC.Print(491,9008,StringDB('ESS2653')..'%N'..StringDB('SESS2')) -- ESS=住宿一夜是%C2150%C4金，您要住嗎...
    ESC.WaitDLG(491)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T803E
    else
        ESC.FitSize()
        Scene.M_Print_EA(491, StringDB('ESS2645')) -- ESS=謝謝光臨！
        ESC.ChangeDIR(491, 1)
        ESC.SceneBreak()
    end

::T803E::
    if Scene.AUTO_VCMONEY(150,491,9008) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(208 , 33, 22, 1, 0, 1)

    GameFunc.PlayerGolds = GameFunc.PlayerGolds -150 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeDIR(491, 1)
end
--------------------------------
function Scene.TALK898()
    -- 武器店
    ESC.TurnFace(Const.TOWN, 1)
    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2654')) -- ESS=您好，需要些甚麼？
    -- 交易選單
    ESC.OpenStore(508, 507, 527, 526, 537, 538, 549, 566, 567, 0)

    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2655')) -- ESS=謝謝光臨。
    ESC.ChangeDIR(Const.TOWN, 1)
end
--------------------------------
function Scene.TALK899()
    -- 防具店
    ESC.TurnFace(Const.TOWN, 1)
    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2656')) -- ESS=要買些甚麼嗎？
    -- 交易選單
    ESC.OpenStore(854, 860, 857, 864, 1014, 914, 911, 1046, 1047, 0)

    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2657')) -- ESS=有需要再來喔！
    ESC.ChangeDIR(Const.TOWN, 1)
end
--------------------------------
function Scene.TALK900()
    -- 雜貨店
    ESC.TurnFace(Const.TOWN, 1)
    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2658')) -- ESS=您好，歡迎光臨。
    -- 交易選單
    ESC.OpenStore(627, 628, 626, 638, 698, 697, 726, 727, 830, 977, 978, 990, 0)

    ESC.FitSize()
    Scene.M_Print_EA(Const.TOWN, StringDB('ESS2659')) -- ESS=謝謝惠顧。
    ESC.ChangeDIR(Const.TOWN, 1)
end
-------------------------------
function Scene.TALK901()
    -- 增加的小支線 -- 首獎玩家陳瑞蓮
    if GameFunc.GetFlag(441) then goto T901 end   -- 慧彥不在場
    if GameFunc.GetFlag(439) then goto T901A end
    -------------------------------
    GameFunc.FlagOn(439) -- 已跟瑞蓮說過一次話
    ESC.AddHeadSign(901, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(901)
    ESC.FitSize()
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS2660')) -- ESS=那位可是慧彥大師？
    ESC.RemoveParty(10, 0 , 'TALK10', 10, 0, 3, 0xD100)
    ESC.TurnFace(10, 901)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove2(2,
    10, 18, 18, -1, 0, 7,
    1, 14, 17, -1, 0, 7)
    ESC.ChangeDIR(901, 6)
    Scene.M_PrintW_C(10, 7, 2, StringDB('ESS2661')) -- ESS=老納慧彥，敢問女施主是.....
    Scene.M_PrintW_C(901, 7, 3, StringDB('ESS2662')) -- ESS=大師，%N我是%C2慧榮%C4的姪孫女瑞...
    Scene.M_PrintW_C(10, 11, 3, StringDB('ESS2663')) -- ESS=你是瑞蓮...%N沒想到這麼多年不見，你...
    Scene.Print_W(10,9005,8*2,2*2,StringDB('ESS2664')) -- ESS=對了，%N你怎麼會在這裏。
    ESC.WaitDLG(10)
    Scene.M_PrintW_C(901, 10, 2, StringDB('ESS2665')) -- ESS=我嫁個大食商人，這家店就是我家官人開的。...
    ESC.TurnFace(491, 901)
    Scene.M_PrintW_EA(491, 5, 4, StringDB('ESS2666')) -- ESS=瑞蓮，%N怎麼跟客人說起大唐話........
    ESC.TurnFace(901, 491)
    Scene.M_PrintW_EA(901, 11, 2, StringDB('ESS2667')) -- ESS=我碰到我家鄉的長輩，%N跟他聊聊天......
    Scene.M_PrintW_EA(491, 10, 3, StringDB('ESS2668')) -- ESS=嗯...%N我記得你們有這麼一首詩......
    Scene.Print_W(491,9005,7*2,2*2,StringDB('ESS2669')) -- ESS=君自故鄉來，%N應知故鄉事....
    ESC.WaitDLG(491)
    Scene.M_PrintW_C(901, 6, 2, StringDB('ESS2670')) -- ESS=來日綺窗前，寒梅著花未。
    Scene.M_PrintW_EA(491, 7, 3, StringDB('ESS2671')) -- ESS=嗯～就是這首，%N你好好招呼你的長輩吧。...
    ESC.ChangeDIR(491, 1)
    ESC.TurnFace(901, 10)
    Scene.M_PrintW_C(901, 5, 3, StringDB('ESS2672')) -- ESS=大師，%N您怎麼會來到巴格達？
    Scene.M_PrintW_C(10, 8, 3, StringDB('ESS2673')) -- ESS=老納要天竺取經，受人之託，%N到大食看看...
    Scene.M_PrintW_C(901, 8, 3, StringDB('ESS2674')) -- ESS=那您還是早些動身到天竺吧。最近可能會有戰...
    ESC.FitSize()
    Scene.AutoPrint_C(10, StringDB('ESS1013')) -- ESS=怎麼回事？
    Scene.M_PrintW_C(901, 5, 4, StringDB('ESS2675')) -- ESS=最近好多旅客來這裏應徵%C2石國王子%C...
    Scene.MAIN_TALKS_2(10, 8, 1, StringDB('ESS2676')) -- ESS=難道是跟去年%C2高仙芝%C5滅了%C2...
    ESC.FitSize()
    Scene.AutoPrint_C(10, StringDB('ESS2677')) -- ESS=謝謝你的提醒。
    Scene.M_PrintW_C(901, 8, 3, StringDB('ESS2678')) -- ESS=王子營帳入口處有兩個衛兵巡邏，您可別亂闖...
    ESC.ChangeDIR(901, 5)
    ESC.AddParty(10)
    ESC.SceneBreak()
    -------------------------------
::T901A::
    Scene.M_PrintW_C(901, 7, 3, StringDB('ESS2679')) -- ESS=那些住店旅客，我看也沒有甚麼特別的本事。...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS2680')) -- ESS=為甚麼呢？

    Scene.M_PrintW_C(901, 9, 4, StringDB('ESS2681')) -- ESS=如果能到%C2北方的山洞%C4拿到%C2...

    ESC.SceneBreak()
    -------------------------------------慧彥不在隊伍

::T901::
    if GameFunc.GetFlag(439) then goto T901B end -- 判斷是否已啟動過支線
    -- 如果沒有......支線不會啟動
    -- 已啟動過...啟動有關慧彥戰死的支線
    Scene.M_PrintW_EA(Const.TOWN, 7, 2, StringDB('ESS2682')) -- ESS=您要住店的話，請跟我丈夫說。
    ESC.SceneBreak()
    -------------------------------
::T901B::
    if GameFunc.GetFlag(440) then goto T901C end -- 瑞蓮是否已知慧彥戰死
    -------------------------------
    GameFunc.FlagOn(440)
    Scene.M_PrintW_C(901, 7, 4, StringDB('ESS2683')) -- ESS=咦.....%N您不是慧彥大師的朋友嗎？...
    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS2684')) -- ESS=這.....%N他已戰死在怛羅斯.......
    ESC.AddHeadSign(901, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(901)
    Scene.M_PrintW_C(901, 7, 3, StringDB('ESS2685')) -- ESS=戰死...%N為了那皇帝......值得...
    ESC.FitSize()
    ESC.Print(901,9005,StringDB('ESS2686')) -- ESS=相信大師已登上極樂世界.....
    ESC.WaitDLG(901)
    ESC.SceneBreak()
    -------------------------------
::T901C::
    Scene.M_PrintW_C(901, 7, 4, StringDB('ESS2687')) -- ESS=唉...%N對了，您若要住店，請跟我丈夫...
end
-------------------------
-- 魔界商人區
-------------------------
-- 武防店
function Scene.TALK1047()
    ESC.Caption(495)
    Scene.Print_W(495,9008,13*2,3*2,StringDB('ESS2688')) -- ESS=您好，這裏的武器和防具有些可是你們的世界...
    ESC.WaitDLG(495)

    ESC.OpenStore(508, 506, 532, 538, 539, 878, 913, 1038, 1041, 1014, 1007, 0)

    ESC.Caption(495)
    Scene.Print_W(495,9008,7*2,1*2,StringDB('ESS2689')) -- ESS=歡迎再度光臨。
    ESC.WaitDLG(495)
end

-- 雜貨496
function Scene.TALK1048()
    ESC.Caption(496)
    Scene.Print_W(496,9008,11*2,2*2,StringDB('ESS2690')) -- ESS=來！來！上等的好貨任您慢慢挑選。
    ESC.WaitDLG(496)

    ESC.OpenStore(973, 974, 977, 990, 988, 719, 721, 726, 565, 566, 0)

    ESC.Caption(496)
    Scene.Print_W(496,9008,10*2,1*2,StringDB('ESS2691')) -- ESS=多謝！多謝！再來喔。
    ESC.WaitDLG(496)
end

-- 藥品497
function Scene.TALK1049()
    ESC.Caption(497)
    Scene.Print_W(497,9008,12*2,2*2,StringDB('ESS2692')) -- ESS=試試魔界的療傷藥，絕對不比人間的差。
    ESC.WaitDLG(497)

    ESC.OpenStore(625, 627, 626, 636, 638, 649, 655, 644, 0)

    ESC.Caption(497)
    Scene.Print_W(497,9008,6*2,1*2,StringDB('ESS1626')) -- ESS=歡迎再光臨。
    ESC.WaitDLG(497)
end

-- 旅店490
function Scene.TALK1050()
    ESC.Caption(490)
    Scene.Print_W(490,9008,10*2,4*2,StringDB('ESS2693')..'%N'..StringDB('SESS2')) -- ESS=只要１５０枚銀幣就能讓你舒服的休息一宿。...
    ESC.WaitDLG(490)

    local select = ESC.GetBTNSelect()
    if select == 1 then
        if Scene.AUTO_VCMONEY(150,490,9008) then return end

        GameFunc.PlayerGolds = GameFunc.PlayerGolds -150 -- ●賽特扣除銀幣
        ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
        Scene.FullHeal()    -- ●賽特補血
        ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 15)
        ESC.FadeWait()
    elseif select == 2 then
        ESC.Caption(490)
        Scene.Print_W(490,9008,8*2,1*2,StringDB('ESS2694')) -- ESS=謝謝！請再光臨！
        ESC.WaitDLG(490)
    end
end
-- ──────────────────────────────────────【地獄牢房的魔法結界】

function Scene.TALK1001()
    -- 牢房出口B1
    Scene.ChangeMap(273, 37, 24, 1)
end

function Scene.TALK1002()
    if GameFunc.GetFlag(389) then return end
    ESC.ChangeQQ(1, Const.STAND)
    Scene.WORD_ON_HEAD(1, 5, 30, -65, StringDB('ESS2695')) -- ESS=一股力量擋著！
    ESC.WaitDLG(1)
end





-- ──────────────────────────────────────【邪惡！十三隻蠟燭之間】

function Scene.TALK1003()
    -- 吊肉房間上方出口
    if not GameFunc.GetFlag(392) then goto T1003 end
    Scene.ChangeMap(276, 24, 36, 0)
    ESC.SceneBreak()

::T1003::
    GameFunc.FlagOn(392)
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(4, 276, 0, 23, 17, -1, 61, 0) -- 將麥爾斯移道地獄深處
    ESC.RoleEnable(4)
    ESC.ChangeScript(4, 'TALK1020')
    ESC.GotoMap(276 , 24, 36, 1, Const.WALK, 0)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 0 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 0 , 0xD100)
    ESC.RoleMove(3, 21, 37)
    ESC.RoleMove(9, 27, 37)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.BatchMove2(3,
    1, 24, 31, -1, Const.STAND,0,
    3, 21, 32, -1, Const.STAND,0,
    9, 27, 32, -1, Const.STAND,0)
    ESC.FadeWait()
    Scene.ScrollMapD(5, 2, 2, 2)
    ESC.ScrollMapWait()


    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(3)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2696')) -- ESS=咦……？%N麥爾斯，真的是你─────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)


    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.TurnFace(3, 1)
    ESC.Delay(300)


    Scene.MBOn(3, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2697')) -- ESS=賽特，那位就是我說的%C7英雄%C5……...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)




    ESC.AddHeadSign(1, 1)
    ESC.Delay(1400)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 0)
    ESC.AddParty(3)
    ESC.AddParty(9)
    GameFunc.FlagOff(10)


    Scene.QuestOff(267)
    Scene.QuestOn(268)
end






function Scene.TALK1004()
    -- 吊肉房間下方出口
    Scene.ChangeMap(273, 168, 65, 1)
end






-- ──────────────────────────────────────【好學！康那里士的書房】


function Scene.TALK1006()
    if GameFunc.GetFlag(390) then return end

    ESC.ChangeDIR(7, 6)

    GameFunc.FlagOn(10)
    GameFunc.FlagOn(390)

    ESC.ChangeScript(7, 'TALK7')


    ESC.RMLock()
    ESC.RemoveParty(9, 0,'TALK9',9,Const.WALK,7,0xD100)


    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(9, Const.STAND)
    ESC.TurnFace(1, 7)
    ESC.TurnFace(9, 7)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2698')) -- ESS=康%C5．%C7那%C5．%C7里%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.SetMoveHISpeed(9)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(9, 1)
    ESC.BatchMove(2,
    1, 28, 17,
    9, 25, 15)
    ESC.TakeActData(1, -1, 0, 6)
    ESC.TakeActData(9, -1, 0, 6)
    ESC.TakeActData(1, -1, 28, 2)
    ESC.TILPA1(1, 8)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2699')) -- ESS=納命來，可恨的康那里士！%N莉蓮之仇，就...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2700')) -- ESS=誰呀，賽特嗎？%N呵呵，你還一直念念忘不...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2701')) -- ESS=我不是說過嗎？%N愛再美好，生命再快樂，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 10, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 10)


    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2702')) -- ESS=人類永遠無法逃脫這無盡之%C7痛苦%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 0)


    ESC.Delay(200)
    ESC.ChangeDIR(7, 1)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 5)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 3)
    ESC.Delay(100)
    ESC.ChangeDIR(7, 7)
    ESC.Delay(400)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(57, 57, 0x4000) -- 【劇情配樂】魔鬼的讚歌



    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2703')) -- ESS=歡迎造訪%C7冥府%C5的「%C7恐懼地...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2704')) -- ESS=你…你是魔界這個地獄的主人？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2705')) -- ESS=呵呵，天底下你不知的事可多了……%N我是...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2706')) -- ESS=今天我沒興致和你打，%N我必須要研究%C...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 36, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2707')) -- ESS=哼，真可笑──%N你這種人，又何必研究什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 36)


    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2708')) -- ESS=要帶來恐懼，就須消滅知識和歪曲知識……要...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2709')) -- ESS=上次在%C7塔德莫爾%C5，你自己不就親...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2710')) -- ESS=──你是說上次我讓兩個伊斯蘭士兵互砍那件...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2711')) -- ESS=沒錯，賽特───%N你做的比我們想像中的...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 12, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2712')) -- ESS=────！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 12)


    ESC.Delay(300)



    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2713')) -- ESS=賽特呀───%N這世界不是宰割他人，就是...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2714')) -- ESS=───哼，你錯了！%N我倒感謝你讓我有機...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2715')) -- ESS=我就是我，%N我絕不要變成你們這種以他人...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂＋無聲




    ESC.Delay(400)
    MediaFunc.PlaySound(172)
    ESC.RoleEnable(845) -- 打開主角底下的洞穴
    ESC.TILPA1(845, 1)


    ESC.RoleHide(1)
    ESC.RoleHide(9)
    ESC.RoleDisable(484) --  入口處與B1迷宮門打開
    ESC.SetRoleSpeed(845, 1)
    ESC.TILPA1(845, 12)


    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2716')) -- ESS=───愚蠢！！%N先給我待在牢裏冷一冷腦...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)


    ESC.Delay(100)
    ESC.SetRoleSpeed(845, 3) -- 洞穴合起來
    ESC.TILPA1(845, 49)
    ESC.RoleDisable(845)
    ESC.MBWait()

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 18)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.RoleShow(1)
    ESC.RoleShow(9)
    ESC.GotoMap(271 , 32, 20, 1, 64, 3)

    ESC.Delay(800)


-- ──────────────────────────────────────【墜落到地獄牢房】

    ESC.ChangeRoleMap(9, 271, 0, 34, 19, 9, 0, 10) -- 要改肯迪倒地
    ESC.ScreenHide()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    ESC.FitSize()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(30)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,200,200,20,2,'%C5%S2'..StringDB('ESS2717')) -- ESS=賽特……賽特……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 15)
    ESC.FadeWait()
    ESC.DLGClose(1)
    ESC.ScreenShow()

    ESC.ChangeDIR(9, 6)
    ESC.ChangeQQ(9, Const.STAND)


    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 25)
    ESC.FadeWait()
    ESC.TakeActData(1, -1, 68, 3)
    ESC.TILPA1(1, 7)
    ESC.TakeActData(1, -1, 0, 3)
    ESC.Delay(400)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 7)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2718')) -- ESS=好痛……%N這裏是哪裏……？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2719')) -- ESS=好像是剛才那房間的正下面，%N我們是從上...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    Scene.Nicole_On(28, 17, 5)
    ESC.TurnFace(1, 2)
    ESC.TurnFace(9, 2)


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2720')) -- ESS=哇───%N是%C7地獄牢房%C5，我們...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)




    Scene.Ankh_On(33, 16, 1)
    Scene.Kama_On(30, 17, 1)
    ESC.Delay(300)


    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2721')) -- ESS=哎唷，是監獄呢……%N是誰用這一種東西，...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    ESC.SetRoleSpeed(8, 0)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.BatchMove(1,    8, 30, 21)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(9, 6)
    MediaFunc.PlaySound(333)


    ESC.TakeActData(8, -1, 64, 0)
    ESC.AddHeadSign(8, 2)

    ESC.SetRoleSpeed(8, 0)
    ESC.BatchMove(1,    8, 30, 19)

    ESC.TakeActData(8, -1, 0, 1)
    ESC.Unlock(8)
    ESC.Delay(600)
    ESC.DelHeadSign(8)

    ESC.TurnFace(2, 8)
    ESC.Unlock(8)

    ESC.TurnFace(2, 8)
    ESC.Unlock(2)


    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2722')) -- ESS=奇怪，怎麼可能？
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)


    ESC.SetRoleSpeed(8, 0)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.BatchMove(1,    8, 30, 21)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(9, 6)
    MediaFunc.PlaySound(333)


    ESC.TakeActData(8, -1, 64, 0)
    ESC.AddHeadSign(8, 2)

    ESC.SetRoleSpeed(8, 0)
    ESC.BatchMove(1,    8, 30, 19)

    ESC.TakeActData(8, -1, 0, 1)
    ESC.Unlock(8)
    ESC.Delay(600)
    ESC.DelHeadSign(8)

    ESC.TurnFace(2, 8)
    ESC.Unlock(8)

    ESC.TurnFace(2, 8)
    ESC.Unlock(2)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2723')) -- ESS=別丟臉了啦！%N妳一定沒來過%C7地獄%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2724')) -- ESS=喵，這下不妙～～%N賽特，你要不要考慮一...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    ESC.TurnFace(1, 11)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2725')) -- ESS=這是不可能的！%N我是絕對不會答應的──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.RoleDisable(99)
    ESC.RoleDisable(97)
    ESC.RoleDisable(98)

    Scene.QuestOff(265)
    Scene.QuestOn(266)

    GameFunc.FlagOff(10)

end










function Scene.TALK1008()    -- 血迷宮B1上
    Scene.ChangeMap(271, 24, 30, 0)
end

function Scene.TALK1009()
    -- 血迷宮B1右   往吊肉房間
    Scene.ChangeMap(272, 26, 35, 0)
end

function Scene.TALK1010()
    -- 血迷宮B1下
    Scene.ChangeMap(275, 43, 41, 1)
end

function Scene.TALK1011()
    -- 血迷宮1F 下
    Scene.ChangeMap(275, 78, 21, 6)
end




function Scene.TALK1012()
    -- 血迷宮1F左
    if not GameFunc.GetFlag(387) then goto T1012 end
    Scene.ChangeMap(277, 27, 11, 6)
    ESC.SceneBreak()
::T1012::
    GameFunc.FlagOn(387)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(277 , 27, 11, 1 , 0 , 6)
    ESC.ChangeRoleMap(7, 277, 0, 22, 20, 7, 0, 6) -- 將康那里士搬到書房
    ESC.ChangeScript(7, 'TALK1006')
    ESC.RoleEnable(7)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
end



function Scene.TALK1013()
    -- 往B1
    Scene.ChangeMap(273, 55, 177, 0)
end

function Scene.TALK1014()
    -- 往1F
    Scene.ChangeMap(274, 115, 191, 0)
end

function Scene.TALK1015()
    -- 進入魔界商店區
    if GameFunc.GetFlag(477) then return end
    GameFunc.FlagOn(477)
    Scene.RoadFlag(StringDB('ESS2726')) -- ESS= 地府商店街
end

function Scene.TALK1016()
    -- 離開魔界商店區
    if not GameFunc.GetFlag(477) then return end
    GameFunc.FlagOff(477)
    Scene.RoadFlag(StringDB('ESS2727')) -- ESS=離開地府商街
end






--──────────────────────────────────────【進入血腥迷宮！】

function Scene.TALK1017()
    if GameFunc.GetFlag(129) then goto T1017 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(129) -- 血迷宮入口關掉
    ESC.ChangeQQ(1, Const.STAND)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2728')) -- ESS=────我們走吧！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusicOff()-- 【地圖音樂】回復場景配樂


    ESC.TurnFace(166, 1)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove2(4+0x8000,
    2, 10, 30, -1, 0, 6,
    8, 8, 29, -1, 0, 1,
    11, 8, 32, -1, 0, 0,
    1, 8, 30, -1, 0, 1)

    Scene.PlayACT(0, 100, 460 , 7005 , 1) -- 執行血魔法陣特效
    ESC.TILPA2(0, 10)
    ESC.RoleHide(2)
    ESC.RoleHide(8)
    ESC.RoleHide(11)
    ESC.RoleHide(1)
    ESC.AddParty(8)
    ESC.AddParty(2)
    ESC.AddParty(11)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 30)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(275 , 43, 51, 1 , 0 , 1)
    ESC.RoleHide(1)
    ESC.ChangeScript(8, 'TALK8')
    ESC.ChangeScript(2, 'TALK2')
    ESC.ChangeScript(11, 'TALK11')
    ESC.ChangeRoleMap(199, 275, 0, 70, 23, 140, 0, 1) -- 設貓妖到血迷宮入口
    ESC.ChangeScript(199, '')
    ESC.RoleEnable(199)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 30)
    ESC.FadeWait()
    Scene.PlayACT(0, 280, 300 , 7005 , 1)
    ESC.TILPA2(0, 10)
    ESC.RoleShow(1)
    ESC.RoleShow(8)
    ESC.RoleShow(2)
    ESC.RoleShow(11)
    ESC.TILPA2(0, 16)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 59, 44)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.RemoveParty(2 , 0 , 'TALK2' , 2, Const.WALK, 7 , 0xD100)
    ESC.RemoveParty(8 , 0 , 'TALK8' , 8, Const.WALK, 7 , 0xD100)
    ESC.RemoveParty(11, 0 , 'TALK11', 11, Const.WALK, 7 , 0xD100)
    ESC.SetMoveHISpeed(11)
    ESC.SetMoveHISpeed(8)
    ESC.SetMoveHISpeed(2)
    ESC.SetRoleSpeed(11, 1)
    ESC.SetRoleSpeed(8, 1)
    ESC.SetRoleSpeed(2, 1)

    ESC.BatchMove2(3+0x8000,
    11, 53, 40, -1, -1, 5,
    8, 59, 40, -1, -1, 6,
    2, 53, 44, -1, -1, 7)


    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2729')) -- ESS=哎呀，好陰沈的地方呀，%N全是一些%C3...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2730')) -- ESS=這裏真的好像%C3地獄%C5某個地方哦！...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)


    ESC.ChangeDIR(11, 1)


    ESC.SetRoleSpeed(2, 2)
    ESC.ChangeDIR(2, 3)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 6)


    ESC.ChangeQQ(2, Const.STAND)
    ESC.AddHeadSign(2, 1)
    ESC.Delay(1300)
    ESC.DelHeadSign(2)



    ESC.SetRoleSpeed(2, 4)

    ESC.ChangeQQ(2, Const.RUN)
    ESC.ChangeDIR(2, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 4)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 7)


    ESC.ChangeQQ(2, Const.STAND)
    ESC.AddHeadSign(2, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(2)


    ESC.ChangeDIR(2, 3)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 6)


    ESC.ChangeQQ(2, Const.STAND)
    ESC.AddHeadSign(2, 1)
    ESC.Delay(1400)
    ESC.DelHeadSign(2)



    ESC.ChangeQQ(2, Const.STAND)
    ESC.ChangeDIR(2, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 4)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(2, 7)




    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 35, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2731')) -- ESS=哇哇哇─────%N人家突然想不起來啦，...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 35)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2732')) -- ESS=名稱想不起來就算了，%N最重要的是先找到...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)





    ESC.PlayACT(0, 104, 420, 7005, 1) -- Scene.PlayACT(0, 20, 420, 7005, 1) -- Scene.PlayACT(0, 20, 420, 7005, 1) -- 執行血魔法陣特效
    ESC.TILPA2(0, 2)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(2, 6)
    ESC.ChangeDIR(11, 6)
    ESC.TILPA2(0, 10-2)
    ESC.ChangeRoleMap(9 , 275 , 0 , 43, 51, 9 , 0 , 0)
    ESC.TILPA2(0, 16)
    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 45, 49)
    ESC.TakeActData(9, -1, 0, 5)
    ESC.ChangeDIR(9, 0)
    ESC.Delay(450)
    ESC.ChangeDIR(9, 3)
    ESC.Delay(450)
    ESC.ChangeDIR(9, 0)
    ESC.Delay(450)
    ESC.ChangeDIR(9, 3)
    ESC.Delay(450)
    ESC.ChangeDIR(9, 7)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,3*2,StringDB('ESS2733')) -- ESS=哇───！%N這裏是什麼鬼地方？
    ESC.WaitDLG(9)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,6*2,3*2,StringDB('ESS2734')) -- ESS=地獄%C4吧……%N所以叫你不要跟來啊！...
    ESC.WaitDLG(1)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS2735')) -- ESS=你說的對，我要回去了！
    ESC.WaitDLG(9)




    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 43, 51)

    ESC.TakeActData(9, -1, 0, 1)
    ESC.Delay(500)

    Scene.WORD_ON_HEAD(9, 10, 20, -55, '%C2'..StringDB('ESS1847')) -- ESS=？
    ESC.WaitDLG(9)

    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 45, 49)

    ESC.BatchMove(1,    9, 43, 51)

    ESC.TakeActData(9, -1, 0, 1)
    ESC.AddHeadSign(9, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(9)

    ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(1,    9, 45, 49)
    ESC.BatchMove(1,    9, 43, 51)

    ESC.TakeActData(9, -1, 0, 1)
    ESC.Delay(500)

    ESC.TakeActData(9, -1, 0, 7)
    ESC.Delay(300)



    ESC.Caption(9)
    Scene.Print_WS(9,9008,8*2,2*2,StringDB('ESS2736')) -- ESS=嗚嗚嗚……%N好像回不去了……
    ESC.WaitDLG(9)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS2737')) -- ESS=真受不了……%N算了，你跟我們一塊走吧！...
    ESC.WaitDLG(1)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,7*2,2*2,StringDB('ESS2738')) -- ESS=跟你們走就可以出去嗎？
    ESC.WaitDLG(9)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS2739')) -- ESS=我們也不曉得……我們其實跟你沒差多少──...
    ESC.WaitDLG(1)


    Scene.Print_WS(9,9008,6*2,2*2,StringDB('ESS2740')) -- ESS=嗚嗚……%N我好後悔……
    ESC.WaitDLG(9)


    ESC.ChangeDIR(11, 5)
    ESC.Caption(11)
    Scene.Print_SL(11,9008,120,240,10*2,4*2,StringDB('ESS2741')) -- ESS=喵喵，卡瑪～～%N這讓我想起一句古老的諺...
    ESC.WaitDLG(11)


    ESC.ChangeDIR(8, 2)
    ESC.Caption(8)
    Scene.Print_WS(8,9008,10*2,3*2,StringDB('ESS2742')) -- ESS=安卡，你不要每次對%C2貓%C4不太好的...
    ESC.WaitDLG(8)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS2743')) -- ESS=算啦，肯迪！%N既然是自己選擇要來的，那...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(8, 6)
    ESC.ChangeDIR(11, 1)

    Scene.Nicole_Off()
    Scene.Kama_Off()
    Scene.Ankh_Off()
    ESC.AddParty(9)
    ESC.ChangeDIR(1, 3)



    ESC.RoleEnable(99) -- 煉妖壺中諸角色
    ESC.RoleEnable(98)
    ESC.RoleEnable(97)
    ESC.ChangePath(99, 0)
    ESC.RoleMove(99, 25, 51)
    ESC.ChangeDIR(99, 4)

    ESC.ChangePath(30, 21)
    ESC.ChangeQQ(30, Const.WALK)
    ESC.RoleMove(98, 13, 49)
    ESC.TakeActData(98, -1, 0, 5)
    ESC.TakeActData(97, -1, 0, 6)
    ESC.RoleMove(99, 15, 51)
    ESC.TakeActData(99, -1, 0, 0)
    ESC.DungeonEsc_On() -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    GameFunc.FlagOff(10)


    Scene.QuestOff(264)
    Scene.QuestOn(265)

::T1017::
end




-- ──────────────────────────────────────【人骨烤肉架】


function Scene.TALK1018()
    if GameFunc.GetFlag(391) then goto T1018 end
    GameFunc.FlagOn(391)
    GameFunc.FlagOn(10)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(125, 125, 0x4000) -- 【劇情配樂】不氣味


    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK, 7, 0xD100)
    ESC.SetMoveHISpeed(1)
    ESC.SetMoveHISpeed(9)
    ESC.SetPos(9, 74, 29)
    ESC.SetPos(1, 76, 28)
::T1018C::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto T1018A end
    ESC.TakeActData(1, -1, 0, 4)
::T1018A::
    if not ESC.RoleReach(9) then goto T1018B end
    ESC.TakeActData( 9, -1, 0, 4)
::T1018B::
    if not ESC.IsAllReach() then
        goto T1018C
    end




    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    ESC.Caption(9)
    Scene.Print_WS(9,9008,8*2,2*2,StringDB('ESS2744')) -- ESS=那…那烤肉架……是%C2人的骨頭%C4耶...
    ESC.WaitDLG(9)


    ESC.Caption(254)
    Scene.Print_SL(199,9008,260,30,10*2,3*2,StringDB('ESS2745')) -- ESS=要不要來一點啊？%N剛才進來的一些%C2...
    ESC.WaitDLG(199)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS2746')) -- ESS=……阿拉伯士兵…的肉？
    ESC.WaitDLG(1)


    ESC.RoleLock(199)


    ESC.AddHeadSign(199, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(199)


    ESC.Caption(254)
    Scene.Print_SL(199,9008,260,30,9*2,3*2,StringDB('ESS2747')) -- ESS=啊，是小孩───%N別跑別跑，小孩的肉才...
    ESC.WaitDLG(199)


    ESC.StartBattle('BS140')
    ESC.StoryMusicOff()



    ESC.RoleDisable(199)
    ESC.Delay(500)


    ESC.ChangeDIR(1, 4)
    ESC.TurnFace(9, 1)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,9*2,2*2,StringDB('ESS2748')) -- ESS=我越來越後悔跟過來了，嗚嗚嗚……
    ESC.WaitDLG(9)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.Caption(9)
    Scene.Print_WS(9,9008,10*2,4*2,StringDB('ESS2749')) -- ESS=賽特……%N我…我知道你心裏一定是在想，...
    ESC.WaitDLG(9)


    ESC.TurnFace(1, 9)

    ESC.Caption(1)
    Scene.Print_WS(9,9008,9*2,3*2,StringDB('ESS2750')) -- ESS=少給我亂講……%N不過我們動作要更快一點...
    ESC.WaitDLG(1)


    ESC.AddParty(9)
    GameFunc.FlagOff(10)

::T1018::
end







-- ──────────────────────────────────────【麥爾斯加入！】

function Scene.TALK1019()
    Scene.ChangeMap(272, 27, 13, 1)
end


function Scene.TALK1020()
    GameFunc.FlagOn(10)
    ESC.ScreenLock()
    Scene.ScrollMapD(5, 3, 4, 4)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 27, 16)

    ESC.TakeActData(1, 98, 62, 0)

    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK, 7 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK, 7 , 0xD100)
    ESC.BatchMove2(2,
    3, 20, 19, -1, 0, 7,
    9, 29, 20, -1, 0, 4)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2751')) -- ESS=───麥爾斯！%N你還好吧，快醒醒！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ScrollMapWait()
    ESC.TakeActData(4, -1, 68, 0)
    ESC.TILPA1(4, 8)
    ESC.TakeActData(4, -1, 60, 0)
    ESC.TILPA1(4, 2)



    Scene.MBOn(4, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2752')) -- ESS=……這裏…是哪裏……？%N
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2753')) -- ESS=……剛才…那隻……怪物呢…？%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.TakeActData(4, -1, 69, 0)
    ESC.TILPA1(4, 5)


    Scene.MBOn(3, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2754')) -- ESS=太好了……%N幸好你也平安無事，我以為凶...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2755')) -- ESS=後面這位是和你是同樣也是%C7法蘭克國%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.Delay(400)
    ESC.TurnFace(4, 1)
    ESC.AddHeadSign(4, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(4)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2756')) -- ESS=────賽特？%N你怎麼…也到阿拉伯來了...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.TakeActData(1, 1, Const.STAND, 6)

    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2757')) -- ESS=我們先別說這些，%N趕快離開這鬼地方──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ScreenShack(3 , 2, 2, -2, -2, 2, -2, -2, 2, 0xFF00)
    MediaFunc.PlaySound(313)
    ESC.Delay(100)
    ESC.TakeActData(1, 1, 0, 6)
    ESC.Delay(2000)
    ESC.ScreenShackStop()



    ESC.ChangeRoleMap(7 , 276 , 0 , 24, 26, 7 , 52, 3)
    ESC.RoleDisable(7)
    ESC.SetRoleSpeed(7, 2)
    Scene.PlayACT(0, 290, 380, 7501, 1)
    ESC.RoleEnable(7)
    ESC.TILPA1(7, 4)
    ESC.TakeActData(1, 1, 0, 1)
    ESC.ChangeDIR(3, 1)

    ESC.StoryMusic(57, 57, 0x4000) -- 【劇情配樂】魔鬼的讚歌

    ESC.TakeActData(4, -1, 0, 1)
    ESC.ChangeDIR(9, 6)
    ESC.TILPA1(7, 16)

    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(4, 0)
    ESC.AddHeadSign(9, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(4)
    ESC.DelHeadSign(9)



    ESC.ScreenShackStop()





    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2758')) -- ESS=────可惡的賽特！%N%C7撒旦大人的...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 26, 21)
    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍
    ESC.TILPA1(1, 8)
    ESC.MBWait()
    Scene.BattleSupportOn(4) -- 麥爾斯
    ESC.StartBattle('BS130')
    Scene.BattleSupportOff(4) -- 麥爾斯
    ACH.SetAchievement("ACH_0_4")

    ESC.StoryMusic(56, 56, 0x4000) -- 【劇情配樂】地下牢房


    ESC.RoleDisable(7)
    ESC.TakeActData(488, -1, 75, 0)
    ESC.RoleMove(488, 22+1, 23)
    ESC.RoleEnable(488)
    ESC.RoleMove(4, 23, 21)
    ESC.RoleMove(1, 27, 22)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.TakeActData(4, -1, Const.STAND, 5)
    ESC.ChangeDIR(3, 5)
    ESC.TakeActData(1, -1, 76, 0) -- 賽特收劍
    ESC.TILPA1(1, 5)


    Scene.MBOn(7, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 3, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2759')) -- ESS=…可…可恨……%N就只差那麼一點，%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 3)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2760')) -- ESS=────康那里士！%N你…你真的是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(7, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 3, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2761')) -- ESS=麥爾斯大人啊，%N要不是這可惡的賽特攪局...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 3)




    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2762')) -- ESS=────什麼意思？%N
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(7, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 3, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2763')) -- ESS=呵呵呵……不懂就算了！%N還有的是機會，...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 3)



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2764')) -- ESS=────還在鬼話連篇！%N今天正好殺了你...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(7, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 3, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2765')) -- ESS=呼呼呼呼………%N我%C7恐懼之王%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 3)


    MediaFunc.PlaySound(172)
    ESC.TakeActData(488, -1, 70, 0)
    ESC.TILPA1(488, 18)
    ESC.TakeActData(488, -1, 71, 0)
    ESC.MBWait()
    ESC.Delay(1000)



    Scene.MBOn(3, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2766')) -- ESS=消失了……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2767')) -- ESS=這傢伙還也真像難纏，搞不好哪天又像蟑螂一...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2768')) -- ESS=倒是%C7撒旦的計劃%C5……一直聽他們...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2769')) -- ESS=賽特！%N這裏這個會發光的%C7六星芒魔...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2770')) -- ESS=試試看吧！%N反正大不了，情況也不會比現...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeQQ(1, Const.STAND)


    ESC.ChangePath(97, 21) -- 將煉妖壺中的安卡改路徑對話
    ESC.ChangeScript(97, 'TALK896')
    Scene.SAR_TurnFace(99, 1)
    Scene.SAR_TurnFace(98, 1)
    Scene.SAR_TurnFace(97, 1)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.ChangeDIR(1, 1)
    ESC.AddParty(9)
    ESC.AddParty(3)
    ESC.ChangeScript(4, 'TALK4')
    ESC.AddParty(4)
    ESC.RoleEnable(847)


    Scene.QuestOff(268)
    Scene.QuestOn(269)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()


    ESC.SceneMusic(215, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(216, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂


    GameFunc.FlagOff(10)
end






-- ──────────────────────────────────────【沙漠戰場上……】

function Scene.TALK1022()

    if GameFunc.GetFlag(399) then goto T1022 end
    ESC.ChangeRoleMap(166, 278, 000, 15, 27, 504, 0 , 0)
    ESC.ScreenLock()
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(399)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.Kama_On(33, 29, 6)
    Scene.Ankh_On(38, 32, 6)

    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND, -1 , 0xD100)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2771')) -- ESS=啊，%N這是發生什麼事情了？
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 0)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2772')) -- ESS=喵，難怪血腥味那們重……%N連我們裏面也...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 0)



    ESC.ChangeQQ(1, Const.WALK) ESC.ChangeQQ(9, Const.WALK)
    ESC.BatchMove(2,    1, 41, 29, 9, 44, 29)
    ESC.TakeActData(1, -1, 0, 6)
    ESC.ChangeDIR(9, 1)

    ESC.ChangeDIR(8, 1)
    ESC.Delay(100)
    ESC.ChangeDIR(8, 5)
    ESC.Delay(250)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2773')) -- ESS=看來似乎是剛發生過戰爭的戰場……最近你們...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    ESC.ChangeDIR(11, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(11, 5)
    ESC.Delay(250)


    -- ESC.RemoveParty(9, 0,'TALK9',9,Const.STAND,7,0xD100)
    ESC.ChangeDIR(9, 7)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2774')) -- ESS=──難道是%C7歐馬亞家%C5（白衣大食...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)

    Scene.Nicole_On(37, 27, 5)
    ESC.TurnFace(1, 2)



    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 21, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2775')) -- ESS=賽特賽特，%N好重的血腥味哦，而且還有一...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 3)
    ESC.DelHead(10002, 21)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    ESC.AddHeadSign(9, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(9)
    ESC.TurnFace(9, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2776')) -- ESS=不好了，賽特！%N這隻黑衣部隊……是%C...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)



    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2777')) -- ESS=什麼───%N薇達她……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)



    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(9, 7)


    ESC.ChangeQQ(2, Const.RUN)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 47, 29)
    ESC.ChangeQQ(2, Const.STAND)
    ESC.ChangeDIR(2, 6)


    ESC.AddHeadSign(2, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(2)


    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(56, 46, 0x4000) -- 【劇情配樂】地下牢房＋黑暗
    ESC.SceneMusic(278, 56, 46, 0x4000) -- 【更換地圖音樂】更換地圖音樂



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(327,9007,6*2,1*2,'%C6'..StringDB('ESS2778')) -- ESS=…嗚…嗚嗚…
    ESC.WaitDLG2(327)



    ESC.TakeActData(2, -1, 3, 3) -- 妮可嚇得退後
    ESC.SetRoleSpeed(2, 0)
    ESC.SetMoveHISpeed(2)
    ESC.BatchMove(1,    2, 50, 29)
    ESC.TakeActData(2, -1, 0, 6)
    ESC.Unlock(2)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2779')) -- ESS=哇啊哇────%N這個人還活著────！...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 40)



    ESC.TakeActData(1, -1, 0, 7)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)
    ESC.SetMoveHISpeed(8)
    ESC.SetMoveHISpeed(11)
    ESC.BatchMove(2,
    8, 48, 31,
    11, 45, 32)
    ESC.TakeActData(8, -1, 0, 4)
    ESC.TakeActData(11, -1, 0, 0)
    ESC.Unlock(8)
    ESC.Unlock(11)



    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(327,9007,8*2,2*2,'%C6'..StringDB('ESS2780')) -- ESS=怪物…怪物……%N把大家…大家……
    ESC.WaitDLG(327)



    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS2781')) -- ESS=怪物？%N什麼怪物───
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(327,9007,9*2,2*2,'%C6'..StringDB('ESS2782')) -- ESS=……骷髏…%N把大家…魔法陣……
    ESC.WaitDLG(327)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(327,9007,8*2,1*2,'%C6'..StringDB('ESS2783')) -- ESS=…殺死…殺………
    ESC.WaitDLG(327)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(327,9007,4*2,1*2,'%C6'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG(327)



    ESC.Caption(8)
    Scene.Print_W(8,9008,7*2,2*2,StringDB('ESS2784')) -- ESS=這位士兵已經走了，賽特！
    ESC.WaitDLG(8)


    ESC.ChangeQQ(1, 52)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(50)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2785')) -- ESS=不對勁───%N這種慘況，真的只是兩軍交...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂．面右
    ESC.ChangeQQ(1, 30)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)

    ESC.Delay(400)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2786')) -- ESS=大家聽好──%N我們先找找是不是其他活著...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 26, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2787')) -- ESS=賽特你看────%N那個人不是%C7莫雷...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 26)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(800)
    ESC.DelHeadSign(1)




    ESC.ChangeDIR(1, 2)
    ESC.ChangeDIR(9, 2)
    ESC.ChangeDIR(166, 1)
    ESC.ChangeACT(166, 504)
    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(11, Const.WALK)
    ESC.AddParty(9)
    ESC.RoleDisable(99)
    ESC.RoleDisable(98)
    ESC.RoleDisable(97)
    ESC.RMUNlock()



    GameFunc.FlagOn(129) -- 暫時把血迷宮入口關掉

    ESC.SetRoleSpeed(8, 1)
    ESC.SetRoleSpeed(2, 1)
    ESC.SetRoleSpeed(11, 1)
    ESC.SetMoveHISpeed(8)
    ESC.SetMoveHISpeed(2)
    ESC.SetMoveHISpeed(11)
    ESC.SetPos(8, 11, 28)
    ESC.SetPos(2, 17+2, 27)
    ESC.SetPos(11, 9, 33)
::T1022_1::
    ESC.BatchStep( 3,   8, 2, 11)


    if ESC.RoleReach(2) then
        ESC.TakeActData(2, -1, 0, 6)
        ESC.Unlock(2)
        log ('role2 reach')
    end

    if ESC.RoleReach(11) then
        ESC.TakeActData(11, -1, 0, 7)
        ESC.Unlock(11)
        log ('role11 reach')
    end

    if not ESC.IsAllReach() then
        goto T1022_1
    end

    ESC.TakeActData(8, -1, 0, 5)
    ESC.Unlock(8)

    log ('all reach')
    ESC.ChangeScript(2, 'TALK1023')
    ESC.ChangeScript(8, 'TALK1023')
    ESC.ChangeScript(11, 'TALK1023')
    ESC.ChangeScript(166, 'TALK1023')

    ESC.ChangeDIR(166, 7)

    ESC.RoleEnable(902) -- 把高塔的門關起來

    Scene.QuestOff(262)
    Scene.QuestOn(263)


    GameFunc.FlagOff(10)
::T1022::
end




-- ──────────────────────────────────────【遇見莫雷】

function Scene.TALK1023()
    if GameFunc.GetFlag(401) then goto T1023 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(401)


    ESC.ChangeScript(2, 'TALK1017')
    ESC.ChangeScript(8, 'TALK1017')
    ESC.ChangeScript(11, 'TALK1017')
    ESC.ChangeScript(166, 'TALK1046') -- 以後莫雷改1046 ,因為第八章還要用到,對話段在煉妖壺中

    ESC.RemoveParty(9, 0,'TALK9',9,Const.WALK,2,0xD100)


    ESC.SetRoleSpeed(9, 1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.SetPos(1, 19+3, 30)
    ESC.SetPos(9, 22+2, 29)
::T1023_1::
    ESC.BatchStep( 2,   1, 9)
    if not ESC.RoleReach(1) then goto T1023_2 end
    ESC.TakeActData(1, -1, 0, 2)
::T1023_2::
    if not ESC.RoleReach(9) then goto T1023_3 end
    ESC.TakeActData(9, -1, 0, 6)
::T1023_3::
    if not ESC.IsAllReach() then
        goto T1023_1
    end


    ESC.ChangeDIR(9, 2)


    ESC.Caption(166)
    Scene.Print_W(166,9008,6*2,2*2,StringDB('ESS2788')) -- ESS=不要殺我──不要殺我！
    ESC.WaitDLG(166)


    ESC.Caption(11)
    Scene.Print_SL(11,9008,180,360,10*2,3*2,StringDB('ESS2789')) -- ESS=卡瑪，妳看這傢伙嚇成這個樣，好像快尿褲褲...
    ESC.WaitDLG(11)


    ESC.TurnFace(1, 166)

    ESC.Caption(1)
    Scene.Print_W(1,9008,11*2,3*2,StringDB('ESS2790')) -- ESS=───真的是你，%C2莫雷%C4！%N幸...
    ESC.WaitDLG(1)

    ESC.TurnFace(166, 1)


    ESC.Caption(166)
    Scene.Print_SL(166,9008,20,130,12*2,4*2,StringDB('ESS2791')) -- ESS=賽特、賽特大人？%N太好了，趕快救救我啊...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9008,12*2,3*2,StringDB('ESS2792')) -- ESS=她們幾個不會傷害你的，放心吧……不過你們...
    ESC.WaitDLG(1)



    ESC.Caption(166)
    Scene.Print_W(166,9008,12*2,3*2,StringDB('ESS2793')) -- ESS=我一直和%C2薇達大人%C4一起，我們追...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9008,12*2,4*2,StringDB('ESS2794')) -- ESS=不料正當薇達大人快要擊潰他們時，突然出現...
    ESC.WaitDLG(166)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,1*2,StringDB('ESS2795')) -- ESS=──大惡魔？
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9008,12*2,5*2,StringDB('ESS2796')) -- ESS=是啊……%N不曉得為什麼，大家的%C2血...
    ESC.WaitDLG(166)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.SetRoleSpeed(1, 4)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 15, 30)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(8, 6)
    ESC.ChangeDIR(11, 0)
    ESC.ChangeDIR(166, 6)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,3*2,StringDB('ESS2797')) -- ESS=……你說的，就是這一個%C2魔法陣%C4...
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1, 52)
    ESC.ChangeDIR(1, 0)
    ESC.TurnFace(1, 166)



    Scene.Print_W(1,9008,6*2,3*2,StringDB('ESS2798')) -- ESS=對了，那你怎麼能夠都沒事呢？
    ESC.WaitDLG(1)

    ESC.ChangeDIR(166, 1)
    ESC.ChangeDIR(8, 5)



    ESC.Caption(166)
    Scene.Print_W(166,9008,13*2,4*2,StringDB('ESS2799')) -- ESS=啊……？%N因為我雖然當過海盜，不過從沒...
    ESC.WaitDLG(166)



    Scene.Print_W(166,9008,11*2,4*2,StringDB('ESS2800')) -- ESS=所以從一開始戰鬥，我就裝做屍體，所以敵人...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,1*2,StringDB('ESS2801')) -- ESS=還真服了你！
    ESC.WaitDLG(1)


    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS2802')) -- ESS=對了，那%C2薇達%C4她們呢？
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_W(166,9008,11*2,4*2,StringDB('ESS2803')) -- ESS=薇達大人也被那隻怪物打傷，就在這時候，突...
    ESC.WaitDLG(166)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,2*2,StringDB('ESS2804')) -- ESS=──英雄？%N──那人是誰？
    ESC.WaitDLG(1)



    ESC.Caption(166)
    Scene.Print_W(166,9008,10*2,4*2,StringDB('ESS2805')) -- ESS=不曉得……%N我當時嚇得頭根本不敢抬起來...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9008,8*2,4*2,StringDB('ESS2806')) -- ESS=但是那一個英雄的聲音，我敢確定以前好像%...
    ESC.WaitDLG(166)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_W(1,9008,5*2,2*2,StringDB('ESS2807')) -- ESS=好吧，那後來呢？
    ESC.WaitDLG(1)



    ESC.Caption(166)
    Scene.Print_W(166,9008,11*2,4*2,StringDB('ESS2808')) -- ESS=那個怪物被打敗後，發出地獄一般可怕的聲音...
    ESC.WaitDLG(166)


    Scene.Print_W(166,9008,11*2,4*2,''..StringDB('ESS2809')) -- ESS=薇達大人和那位英雄，就帶著還活著的兵士，...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(8, 6)
    ESC.ChangeDIR(11, 0)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_W(1,9008,8*2,2*2,StringDB('ESS2810')) -- ESS=看來又是%C2撒旦%C4他們搞的把戲……...
    ESC.WaitDLG(1)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2811')) -- ESS=賽特，%N這一種魔法陣，是用來從%C7魔...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10002, 18, 10002, 24)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2812')) -- ESS=如果從這裏跳進去，應該會被%C7傳送%C...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 24)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.ChangeQQ(1, 52)
    ESC.ChangeDIR(1, 7)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2813')) -- ESS=───莫雷、肯迪！%N你們留在外面，看看...
    ESC.WaitDLG(1)

    ESC.TurnFace(1, 166)
    ESC.ChangeDIR(8, 5)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2814')) -- ESS=我要進入這魔法陣內救薇達她們，不然她們可...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(9, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2815')) -- ESS=賽特，我也要去───%N有這種增廣見聞的...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.TurnFace(1, 9)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2816')) -- ESS=不行，太危險了！%N這不是隨便開玩笑的，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.AddHeadSign(9, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(9)

    ESC.ChangeDIR(8, 6)
    ESC.ChangeDIR(1, 2)
    ItemFunc.AddItem(402 , -2) -- 把駱駝去掉


    GameFunc.FlagOff(129) -- 打開血迷宮入口關掉
    GameFunc.FlagOff(10)


    Scene.QuestOff(263)
    Scene.QuestOn(264)

::T1023::
end




-- ──────────────────────────────────────【半途離開沙漠戰場】

function Scene.TALK1024()

    ESC.ChangeQQ(1, Const.STAND)
    if GameFunc.GetFlag(401) then goto T1024B end
    if GameFunc.GetFlag(399) then goto T1024A end
    ESC.RemoveParty(9, 0,'TALK9',9,Const.STAND , 3 , 0xD100)

    ESC.Caption(9)
    Scene.Print_WS(9,9008,8*2,3*2,StringDB('ESS2817')) -- ESS=賽特，我們過去看看還有沒有活著的人！
    ESC.WaitDLG(9)

    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(1, 6)

    ESC.AddParty(9)
    ESC.SceneBreak()


::T1024A::
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS2818')) -- ESS=不行，我應該先過去看看%C2莫雷%C4究...
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 6)
    ESC.SceneBreak()


::T1024B::

    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(9, 1)

    ESC.Caption(9)
    Scene.Print_WS(9,9008,7*2,3*2,StringDB('ESS2819')) -- ESS=賽特，你們不是要去救%C2薇達%C4的嗎...
    ESC.WaitDLG(9)

    ESC.ChangeDIR(9, 6)
    ESC.ChangeDIR(1, 6)
end





function Scene.TALK1025()
    -- 書房出口
    Scene.ChangeMap(274, 22, 66, 3)
end

function Scene.TALK1026()
    -- 紀錄點與恢復生命
    if ESC.GetRoleToPosDistance(18, 18, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS550')) return end --  檢查主角是否在旁邊 ESS=距離太遠！
    Scene.Heal2()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(2)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0%K'..StringDB('ESS556')) -- ESS=恢復所有體力
    ESC.WaitDLG(0)
    Scene.SAVE_POOL()
end
-- ──────────────────────────────────────【清真寺出口】

function Scene.TALK1028()
    -- 清真寺出口

    if not GameFunc.GetFlag(410) then goto T1028 end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216, 76, 28, 1, 0, 2)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()


::T1028::
    GameFunc.FlagOn(410)
    GameFunc.FlagOff(368) -- 第一次離開清真寺 順便把入口阻擋關閉


    ESC.ChangeACT(592, 411) -- 暫時以離開地獄
    ESC.ChangeACT(595, 411)
    ESC.ChangeACT(576, 411)
    ESC.RoleDisable(594)
    ESC.RoleDisable(577)
    ESC.RoleDisable(593)
    ESC.RoleMove(592, 121, 35)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(216, 78, 28, 1, Const.WALK, 2)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.BatchMove(1,    1, 74, 28)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.FadeWait()


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2820')) -- ESS=街道好冷清……%N看起來百姓們都去避難了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 2 , 0xD100)
    ESC.BatchMove(1,    3, 70, 28)
    ESC.ChangeQQ(3, Const.STAND)
    ESC.ChangeDIR(3, 3)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2821')) -- ESS=賽特，%N我率領部隊向東追擊逃竄的敵軍時...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2822')) -- ESS=果真如此，%C7王宮%C5那兒應該會有激...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.QuestOff(270)
    Scene.QuestOn(271)

    GameFunc.FlagOn(132)

    ESC.AddParty(3)
end


function Scene.TALK1029()
    -- 大馬士革事件點
    if not GameFunc.GetFlag(132) then return end
    if not GameFunc.GetFlag(7048) then Scene.TALK721() end
end




----- 4030 ,時間到才可進王子營帳，倒數開始
----- 4031 ,時間到，可進王子營帳
----- 4032 ,時間到，可進王子營帳，控制衛兵甲不再說話
----- 4033 ,女奴對話開關
----- 4034 ,答應找刀，女奴與小少爺劇情控制
----- 4035 ,士官長操兵
----- 4036 ,士官長操兵漏氣
----- 4037 ,士官長操阿達
----- 4038 ,中國劍賣還給商人
----- 4039 ,賽特不賣或將劍裝備起來了
----- 4040 ,說明過劍的寶貴之處
----- 4503 ,::T1108E::  -- 事件結束
----- 4502 ,::T1108K::  -- 答應並給刀
----- 4501 ,::T1108A::  -- 事件發生過,沒答應
----- 4504 ,::T1103W::  -- 說過一次(唐)
----- 4505 ,T1109Q  -- 拿過彎刀
--------------------------------------------------------------------------------------------
function Scene.TALK1101()
    ESC.Caption(1101)
    Scene.Print_W (1101 ,9008,8*2,4*2,StringDB('ESS2823')) -- ESS=吼～～這些士兵真沒紀律！每天喝酒鬧事，營...
    ESC.WaitDLG(1101)
    Scene.Print_W (1101 ,9008,8*2,3*2,StringDB('ESS2824')) -- ESS=週而復始的修護工作真是惡夢，到何時戰爭才...
    ESC.WaitDLG(1101)
end

--------------------------------------------------------------------------------------------
function Scene.TALK1102()
    ESC.TakeActData(1102, -1, 52, 0)
    ESC.Delay(1000)
    ESC.ChangeQQ(1102, 6)
    ESC.Caption(1102)
    Scene.Print_W (1102 ,9008,8*2,3*2,StringDB('ESS2825')) -- ESS=世事多翻覆啊～%N感嘆命運作弄人。
    ESC.WaitDLG(1102)
    ESC.TakeActData(1102, -1, 55, 0)
    ESC.Delay(1000)
    ESC.ChangeQQ(1102, 6)
    Scene.Print_W (1102 ,9008,8*2,3*2,StringDB('ESS2826')) -- ESS=王子欲復國喲～%N滿腔悲憤滅族恨。
    -- 沒了王座的王子，為了報亡國的舊恨，集結數國聯軍。
    ESC.WaitDLG(1102)
    ESC.TakeActData(1102, -1, 52, 0)
    ESC.Delay(1000)
    ESC.ChangeQQ(1102, 6)
    Scene.Print_W (1102 ,9008,8*2,3*2,StringDB('ESS2827')) -- ESS=大戰即將起喔～%N%C2巴格達城%C4漫...
    -- 被白色的營帳淹沒。
    ESC.WaitDLG(1102)

    ESC.TakeActData(1102, -1, 55, 0)
    ESC.Delay(1000)
    ESC.ChangeQQ(1102, 6)
    Scene.Print_W (1102 ,9008,8*2,3*2,StringDB('ESS2828')) -- ESS=激戰終難免哪～%N雙方死傷屍橫陳。
    -- 卻不知這一戰打下，又會添加多少新仇呢？
    ESC.WaitDLG(1102)
end






-- ──────────────────────────────────────【捲入怛羅斯大戰】
function Scene.TALK1103()

    if GameFunc.GetFlag(139) then goto K1103A end -- 遠恩被慧彥帶走後(TMH作)盤子請不要搬動這段，如果不了解請問我
    if not Scene.CheckParty(10) then goto T1103W end -- 慧彥不在
    if GameFunc.GetFlag(4504) then goto T1103W end -- 說過一次



    ESC.RoleLock(1103)
    ESC.RemoveParty(10 , 0 , '' , 10 , 0 , 0 , 0xD904)
    ESC.ChangeQQ(10 , 8)
    ESC.ChangeQQ(1 , 8)

    ESC.BatchMove2(2,
    1, 73, 31, 1, 0, 2,
    10, 66, 32, 10, 0, 3)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2829')) -- ESS=奇怪了……%N巴格達什麼時候變成這樣子了...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2830')) -- ESS=怎麼說？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2831')) -- ESS=……你看，全城遍地都是軍營，我上次路過這...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2832')) -- ESS=看起來似乎是發生什麼戰爭了……%N我想我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2833')) -- ESS=不……%N我想還是弄個清楚，%N旅途上也...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.ChangeQQ(10, 8)
    ESC.BatchMove(1,    10, 64, 30)
    ESC.TurnFace(10 , 1103)
    ESC.TurnFace(1103 , 10)
    ESC.TurnFace(1 , 1103)



    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2834')) -- ESS=請問一下，巴格達怎麼突然出現那麼多軍隊呀...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_W(1103,9008,7*2,3*2,StringDB('ESS2835')) -- ESS=看你的打扮，是%C2天竺%C4那兒來的僧...
    ESC.WaitDLG(1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2836')) -- ESS=是的，我是修習天竺佛法的僧人，阿彌陀佛…...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_W(1103,9008,7*2,2*2,StringDB('ESS2837')) -- ESS=那就好，我告訴你好了……
    ESC.WaitDLG(1103)


    Scene.Print_W(1103,9008,12*2,4*2,StringDB('ESS2838')) -- ESS=其實是最近東邊的那個%C2唐國%C4太過...
    ESC.WaitDLG(1103)


    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)


    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2839')) -- ESS=怎…怎麼可能，%N唐國他們…不是愛好和平...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_W (1103,9008,11*2,4*2,StringDB('ESS2840')) -- ESS=那還不是他們自己說的，%N國力一強了，照...
    ESC.WaitDLG(1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,3*2,1*2,StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_W (1103,9008,11*2,5*2,StringDB('ESS2841')) -- ESS=像這次一點道理也沒有，%C2石國%C4國...
    ESC.WaitDLG(1103)


    Scene.Print_W(1103,9008,9*2,3*2,StringDB('ESS2842')) -- ESS=石國王子%C4命大逃了出來，所以號召各國...
    ESC.WaitDLG(1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,7*2,3*2,StringDB('ESS2843')) -- ESS=可是唐不是很強大嗎，你們打得勝了？
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_W (1103,9008,11*2,4*2,StringDB('ESS2844')) -- ESS=放心，石國王子的事已經被我們%C2伊斯蘭...
    ESC.WaitDLG(1103)



    Scene.Print_W (1103,9008,12*2,4*2,StringDB('ESS2845')) -- ESS=而且唐國之前也干涉我們內政，阻擾阿拔斯陛...
    ESC.WaitDLG(1103)



    Scene.Print_W (1103,9008,6*2,3*2,StringDB('ESS2846')) -- ESS=我們就是阿拔斯陛下所派來的軍隊。
    ESC.WaitDLG(1103)


    ESC.ChangeQQ(10, 8)
    ESC.BatchMove(1,    10, 69, 31)
    ESC.TurnFace(10 , 1)
    ESC.TurnFace(1, 10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2847')) -- ESS=賽特，情況不妙！%N這些國家和大食他們想...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2848')) -- ESS=聽起來是你們國家做了不應該之事，為什麼你...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2849')) -- ESS=唉……%N你倒說中我的心事，我自己心裏頭...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2850')) -- ESS=請相信我，%N慧彥不會因為唐是自己國家，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2851')) -- ESS=阻止這場戰爭？%N為什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2852')) -- ESS=戰爭不管先是別國還是唐國不對，死傷最大的...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2853')) -- ESS=我知道機會可能很渺茫，但是你願意幫助我阻...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2854')) -- ESS=好吧，我盡量幫忙就是了……%N我們先去收...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)

    ESC.ChangeDIR(1, 7)
    ESC.AddParty(10)


    Scene.QuestOff(277)
    Scene.QuestOn(278)


    GameFunc.FlagOn(4504) -- 交待過唐侵略石國之事
    ESC.SceneBreak()


::T1103W::
    ESC.Caption(1103)
    Scene.Print_W (1103 ,9008,9*2,3*2,StringDB('ESS2855')) -- ESS=勇士，歡迎您加入我們的陣營，對抗那可惡的...
    ESC.WaitDLG(1103)
    ESC.SceneBreak()

::K1103A::
    ESC.Caption(1103)
    Scene.Print_W (1103 ,9008,8*2,5*2,StringDB('ESS2856')) -- ESS=唉，聽說%C2遠恩王子%C4被唐國的一個...
    ESC.WaitDLG(1103)
end

--------------------------------------------------------------------------------------------
function Scene.TALK1104()
    ESC.RoleLock(1104)
    if GameFunc.GetFlag(4031) then goto T1104B end -- 倒數結束，可以進去
    if GameFunc.GetFlag(4030) then goto T1104A end -- 若時間還沒到就又要進入
    ESC.Caption(1104)
    Scene.Print_W (1104 ,9008,8*2,3*2,StringDB('ESS2857')) -- ESS=今天來了一個金髮騎士，遠恩王子很賞識他。...
    ESC.WaitDLG(1104)
    Scene.Print_W (1104 ,9008,8*2,3*2,StringDB('ESS2858')) -- ESS=為了款待他，王子已經宰了好幾頭羊了。
    ESC.WaitDLG(1104)
    Scene.Print_W (1104 ,9008,8*2,3*2,StringDB('ESS2859')) -- ESS=一個外來人能有這種待遇，真是讓人羨慕。
    ESC.WaitDLG(1104)
    ESC.SceneBreak()
::T1104A::
    ESC.Caption(1104)
    Scene.Print_W (1104 ,9008,8*2,4*2,StringDB('ESS2860')) -- ESS=你也想要參加%C2勇士徵選%C4嗎？我打...
    ESC.WaitDLG(1104)
    ESC.SceneBreak()
::T1104B::
    ESC.Caption(1104)
    Scene.Print_W (1104 ,9008,8*2,3*2,StringDB('ESS2861')) -- ESS=想參加勇士徵選就裏面請，歡迎你的加入。
    ESC.WaitDLG(1104)
end

--------------------------------------------------------------------------------------------
function Scene.TALK1105()
    ESC.Caption(1105)
    ESC.DLGHoldTime(5)
    ESC.Print_S(1105 ,9008,StringDB('ESS2862')) -- ESS=衝啊！～衝啊！%N勇敢的戰士，%N嚇破唐...
end

--------------------------------------------------------------------------------------------
function Scene.TALK1106()

    ESC.Caption(1106)
    ESC.DLGHoldTime(5)
    ESC.Print_S(1106 ,9008,StringDB('ESS2863')) -- ESS=衝呀！～衝呀！%N打倒唐人和妖怪，帶回勝...
end

--------------------------------------------------------------------------------------------
function Scene.TALK1107()
    if GameFunc.GetFlag(4033) then goto T1107 end
    ESC.Caption(1107)
    Scene.Print_W (1107 ,9008 ,9*2 ,3*2,StringDB('ESS2864')) -- ESS=咦～？%N先生是外地來的吧？
    ESC.WaitDLG(1107)

    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,2*2,StringDB('ESS2865')) -- ESS=妳如何知道呢？
    ESC.WaitDLG(1)

    ESC.Caption(1107)
    Scene.Print_W (1107 ,9008 ,8*2,2*3,StringDB('ESS2866')) -- ESS=因為一般本地人並不會跟女奴交談！
    ESC.WaitDLG(1107)
    GameFunc.FlagOn(4033)
--  GameFunc.FlagOn(7061)
    ESC.SceneBreak()

::T1107::
    ESC.Caption(1107)
    Scene.Print_W (1107 ,9008,8*2,3*2,StringDB('ESS2867')) -- ESS=我的工作是陪小少爺玩，本來以為很輕鬆。
    ESC.WaitDLG(1107)
    Scene.Print_W (1107 ,9008,8*2,4*2,StringDB('ESS2868')) -- ESS=誰知道小少爺精力旺盛，如果不看緊一點，萬...
    ESC.WaitDLG(1107)
    ESC.TurnFace(1107, 1106)
    Scene.Print_W (1107 ,9008,8*2,2*2,StringDB('ESS2869')) -- ESS=小少爺該回家了！
    ESC.WaitDLG(1107)
    ESC.Caption(1106)
    ESC.DLGHoldTime(2)
    Scene.Print_WS (1106 ,9008,8*2,2*2,StringDB('ESS2870')) -- ESS=不！～我還要玩！
    ESC.Delay(1000)
    ESC.Caption(1105)
    ESC.DLGHoldTime(1)
    Scene.Print_WS (1105 ,9008,8*2,2*2,StringDB('ESS2871')) -- ESS=衝啊！～衝啊！
    ESC.SceneBreak()
end
--------------------------------------------------------------------------------------------
function Scene.TALK1108()
    local select
    -- 幫助士兵帶一把彎刀

    if GameFunc.GetFlag(4503) then goto T1108E end  -- 事件結束
    if GameFunc.GetFlag(4502) then goto T1108K end -- 答應並給刀
    if GameFunc.GetFlag(4501) then goto T1108A end -- 事件發生過,沒答應
    ESC.RoleLock(1108)
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2872')) -- ESS=哼！偷刀的小賊若被我抓到，我一定饒不了他...
    ESC.WaitDLG(1108)
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2873')) -- ESS=這裏鬧小偷是嗎？什麼東西掉了？
    ESC.WaitDLG(1)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2874')) -- ESS=我負責看管的彎刀少了一把，怎麼找都找不到...
    ESC.WaitDLG(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2875')) -- ESS=長官就快要來巡視了，我又不能離開崗位，怎...
    ESC.WaitDLG(1108)

::T1108A::
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,11*2 ,3*2,StringDB('ESS2876')) -- ESS=我給你%C2２００枚%C4銀幣，%N你幫...
    ESC.WaitDLG(1108)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T1108Y
    else
        goto T1108N
    end

::T1108Y:: -- 答應了
    Scene.QuestOn(3)
    GameFunc.FlagOn(4502)
    GameFunc.FlagOn(4034)
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,2*2,StringDB('ESS2877')) -- ESS=終於有救了！
    ESC.WaitDLG(1108)
    ESC.Delay(100)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,9*2,1*2,StringDB('ESS2878')) -- ESS=得到２００枚銀幣！
    ESC.WaitDLG(0)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 200
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2879')) -- ESS=我的小命能不能保住，就全操在你的手上了。...
    ESC.WaitDLG(1108)
    ESC.SceneBreak()
::T1108N:: -- 不答應
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,4*2,StringDB('ESS2880')..'%N'..StringDB('SESS2')) -- ESS=什麼？%N我會被判軍法處死的，求求你好嗎...
    ESC.WaitDLG(1108)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T1108Y
    end

    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2,3*2,StringDB('ESS2881')) -- ESS=嗚～～！%N我只能等死了…
    ESC.WaitDLG(1108)
    GameFunc.FlagOn(4501)
    ESC.SceneBreak()

::T1108K::
    if Function.GetItemCount(537)>0 then
        goto T1108KC
    end
    if Function.CheckEquip(537) then -- 若裝備彎刀
        ESC.Caption(1108)
        Scene.Print_W (1108,9008 ,8*2 ,3*2,StringDB('ESS2882')) -- ESS=請快將它從裝備中卸下來交給我，我等著它救...
        ESC.WaitDLG(1108)
        return
    end
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,14 ,4,StringDB('ESS2883')) -- ESS=彎刀呢？%N還沒買到嗎？
    ESC.WaitDLG(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2884')) -- ESS=哼！偷刀的%C2小賊%C4若被我抓到，我...
    ESC.WaitDLG(1108)
    ESC.SceneBreak()

::T1108KC::
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,8*2,1*2,StringDB('ESS2885')) -- ESS=將彎刀交給艾革利
    ItemFunc.AddItem(537, -1)
    ESC.WaitDLG(0)
    ESC.TakeActData(1108, 599, 0, -1)
    ESC.Delay(500)
    ESC.TakeActData(1108, 599, 59, 5)
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2886')) -- ESS=啊！這真是一把鋒%N利的彎刀！
    ESC.WaitDLG(1108)
    ESC.ChangeQQ(1108 , 0)
    ESC.TurnFace(1108, 1)
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,8*2 ,3*2,StringDB('ESS2887')) -- ESS=為了答謝你的熱心和慈悲，這是我的心意，請...
    ESC.WaitDLG(1108)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,9*2,1*2,StringDB('ESS2888')) -- ESS=得到１００枚銀幣！
    ESC.WaitDLG(0)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 100
    GameFunc.FlagOn(4503)
    Scene.QuestOff(3)
    ESC.SceneBreak()



::T1108E::
    ESC.Caption(1108)
    Scene.Print_W (1108 ,9008 ,16 ,4,StringDB('ESS2889')) -- ESS=仁慈的先生！願阿拉真主保祐你！
    ESC.WaitDLG(1108)
end

--------------------------------------------------------------------------------------------
function Scene.TALK1109()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,4*2,1*2,StringDB('ESS2890')) -- ESS=得到%T537.
    ItemFunc.AddItem(537, 1)
    ESC.WaitDLG(0)
    ESC.RoleDisable(1109)
end

-- ──────────────────────────────────【進入石國王子營區】


function Scene.TALK1110()
    -- 第一次要進王子營帳會被阻擋
    if GameFunc.GetFlag(4032) then goto T1110C end -- 衛兵不再講話
    if GameFunc.GetFlag(4031) then goto T1110B end -- 倒數結束，可以進去
    if GameFunc.GetFlag(4030) then -- 若時間還沒到就又要進入
        if not GameFunc.GetFlag(18) then -- 計時器已經關閉
            GameFunc.FlagOn(4030)
        else
            goto T1110A
        end
    end

    ESC.RoleLock(1103)
    ESC.RoleLock(1104)

    ESC.TurnFace(1104, 1)
    ESC.TurnFace(1103, 1)
    ESC.TurnFace(1, 1104)

    ESC.Caption(1104)
    Scene.Print_SL(1104,9008,390,120,10*2,4*2,StringDB('ESS2891')) -- ESS=等一下，%N王子現在正在設宴款待一位%C...
    ESC.WaitDLG(1104)


    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,3*2,StringDB('ESS2892')) -- ESS=是啊？%N大概要多久的時間？
    ESC.WaitDLG(1)



    ESC.Caption(1104)
    Scene.Print_W (1104 ,9008,9*2,3*2,StringDB('ESS2893')) -- ESS=應該%C2再一下子%C4就結束了，所以你...
    ESC.WaitDLG(1104)


    ESC.Caption(1)
    Scene.Print_W(1,9008,7*2,3*2,StringDB('ESS2894')) -- ESS=好的，那我們就在這裏稍微等一下吧！
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1103, 8)
    ESC.ChangeQQ(1104, 8)
    ESC.Unlock(1103)
    ESC.Unlock(1104)
    Scene.MoveHero(69, 29, 1)



    ESC.TimeLimit(5, 0, 'TALK1111', true)
    GameFunc.FlagOn(4030) -- 倒數計時開始
    ESC.SceneBreak()

::T1110A::
    ESC.RoleLock(1103)
    ESC.RoleLock(1104)

    ESC.TurnFace(1103, 1)
    ESC.TurnFace(1104, 1)
    ESC.TurnFace(1, 1104)


    ESC.Caption(1104)
    Scene.Print_W (1104 ,9008,8*2,3*2,'%C2'..StringDB('ESS2895')) -- ESS=勇士徵選%C4要等宴會結束才會繼續，你等...
    ESC.WaitDLG(1104)


    ESC.ChangeQQ(1103, 8)
    ESC.ChangeQQ(1104, 8)
    ESC.Unlock(1103)
    ESC.Unlock(1104)
    Scene.MoveHero(69, 29, 1)
    ESC.SceneBreak()


::T1110B::
    ESC.RoleLock(1103)
    ESC.RoleLock(1104)


    ESC.ChangeDIR(10, 7)


    ESC.TurnFace(1104, 1) -- 右邊士兵
    ESC.TurnFace(1, 1104)
    ESC.TurnFace(1103, 1) -- 左邊士兵



    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS2896')) -- ESS=請問我們可以進去了嗎？
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1104, 4)
    ESC.Delay(1000)
    ESC.TurnFace(1104, 1)
    ESC.Delay(400)



    ESC.Caption(1104)
    Scene.Print_SL(1104,9008,390,120,8*2,3*2,StringDB('ESS2897')) -- ESS=宴會應該已經結束了，進去就有人會招呼你的...
    ESC.WaitDLG(1104)


    Scene.Print_SL(1104,9008,390,120,7*2,3*2,StringDB('ESS2898')) -- ESS=謝謝您願意協助我們對抗可惡的%C2侵略者...
    ESC.WaitDLG(1104)


    ESC.ChangeQQ(1103, 8)
    ESC.ChangeQQ(1104, 8)
    ESC.Unlock(1103)
    ESC.Unlock(1104)

    GameFunc.FlagOn(4032) -- 控制衛兵不再說話
    if GameFunc.GetFlag(4504) then -- 若還沒有交待過唐侵略石國的劇情，就跳到後面
        ESC.SceneBreak()
        return
    end

    -- 解說巴格達都是士兵的理由


    ESC.RemoveParty(10, 0,'',10,0,0,0xD904)
    ESC.ChangeQQ(10, Const.STAND)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)


    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 64, 30)
    ESC.TurnFace(10 , 1103)
    ESC.TurnFace(1103 , 10)
    ESC.TurnFace(1 , 1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2899')) -- ESS=請問一下，%C2巴格達%C4怎麼突然出現...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_SL(1103,9008,50,120,7*2,3*2,StringDB('ESS2835')) -- ESS=看你的打扮，是%C2天竺%C4那兒來的僧...
    ESC.WaitDLG(1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2900')) -- ESS=是的，我是修習%C2天竺%C4佛法的僧人...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_SL(1103,9008,50,120,7*2,2*2,StringDB('ESS2837')) -- ESS=那就好，我告訴你好了……
    ESC.WaitDLG(1103)


    Scene.Print_SL(1103,9008,50,120,11*2,4*2,StringDB('ESS2901')) -- ESS=說真的，是最近東邊的%C2唐%C4太過分...
    ESC.WaitDLG(1103)


    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)


    ESC.Caption(10)
    Scene.Print_W(10,9008,9*2,3*2,StringDB('ESS2839')) -- ESS=怎…怎麼可能，%N唐國他們…不是愛好和平...
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_SL(1103,9008,50,120,10*2,4*2,StringDB('ESS2902')) -- ESS=那可是他們自己說的，%N我們看來，還不也...
    ESC.WaitDLG(1103)


    ESC.Caption(10)
    Scene.Print_W(10,9008,3*2,1*2,StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(10)


    ESC.Caption(1103)
    Scene.Print_SL(1103,9008,50,120,13*2,4*2,StringDB('ESS2903')) -- ESS=像這次一點道理也沒有，石國國王好心招待他...
    ESC.WaitDLG(1103)


    Scene.Print_SL(1103,9008,50,120,9*2,3*2,StringDB('ESS2842')) -- ESS=石國王子%C4命大逃了出來，所以號召各國...
    ESC.WaitDLG(1103)

    Scene.Print_W (1103,9008,13*2,4*2,StringDB('ESS2904')) -- ESS=而且唐國之前也干涉我們內政，阻擾我們阿拔...
    ESC.WaitDLG(1103)



    Scene.Print_W (1103,9008,6*2,3*2,StringDB('ESS2905')) -- ESS=我們就是%C2哈里發%C4大人所派來的軍...
    ESC.WaitDLG(1103)



    ESC.Unlock(1103)
    ESC.Unlock(1104)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    ESC.TurnFace(10, 1)
    ESC.TurnFace(1, 10)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2906')) -- ESS=賽特，情況不妙啊……%N這些國家和%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2907')) -- ESS=聽起來是你們國家做了不對的事情，為什麼你...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2849')) -- ESS=唉……%N你倒說中我的心事，我自己心裏頭...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2908')) -- ESS=請相信我，%N我慧彥不會因為唐是自己國家...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2851')) -- ESS=阻止這場戰爭？%N為什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2909')) -- ESS=戰爭%C5不管先是別國還是唐國不對，死傷...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS2910')) -- ESS=雖說機會很渺茫，但是你願意幫助我阻止這場...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS2854')) -- ESS=好吧，我盡量幫忙就是了……%N我們先去收...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(10, 0)

    ESC.AddParty(10)

    Scene.QuestOff(277)
    Scene.QuestOn(278)
    GameFunc.FlagOn(4504) -- 交待過唐侵略石國之事

    ESC.SceneBreak()


::T1110C:: -- 直接進入營區
end




--------------------------------------------------------------------------------------------
function Scene.TALK1111()
    GameFunc.FlagOn(4031) -- 時間到
    GameFunc.FlagOff(17) -- 時間到要將倒數關掉
--  GameFunc.FlagOff(76) -- 不隱藏倒數計時
end
--------------------------------------------------------------------------------------------
function Scene.TALK1112()
    ESC.Caption(1112)
    Scene.Print_W (1112 ,9008 ,8*2 ,3*2,StringDB('ESS2911')) -- ESS=別看我長得瘦小，我曾在深山中修練多年。
    ESC.WaitDLG(1112)
    Scene.Print_W (1112 ,9008 ,8*2 ,3*2,StringDB('ESS2912')) -- ESS=我只要出個正拳，就算是隔壁那個胖子也挺不...
    ESC.WaitDLG(1112)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1113()
    ESC.Caption(1113)
    Scene.Print_W (1113 ,9008 ,8*2 ,3*2,StringDB('ESS2913')) -- ESS=甄選勇士靠的不是武器，也不一定要有魁梧的...
    ESC.WaitDLG(1113)
    Scene.Print_W (1113 ,9008 ,8*2 ,3*2,StringDB('ESS2914')) -- ESS=臨場對敵時注重的是反應與機智，腦筋才是致...
    ESC.WaitDLG(1113)
    Scene.Print_W (1113 ,9008 ,8*2 ,3*2,StringDB('ESS2915')) -- ESS=哈哈哈～%N蠢的動手，精的動口。
    ESC.WaitDLG(1113)
    Scene.Print_W (1113 ,9008 ,8*2 ,4*2,StringDB('ESS2916')) -- ESS=只要能得到王子的賞識，到時候這些頭腦簡單...
    ESC.WaitDLG(1113)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1114()
    ESC.Caption(1114)
    Scene.Print_W (1114 ,9008 ,8*2 ,4*2,StringDB('ESS2917')) -- ESS=我是突厥的第一勇士薩滿巴，你也是來參加勇...
    ESC.WaitDLG(1114)
    Scene.Print_W (1114 ,9008 ,8*2 ,4*2,StringDB('ESS2918')) -- ESS=哇嘩哈哈～%N看你一副吃不飽的樣子，還是...
    ESC.WaitDLG(1114)
    Scene.Print_W (1114 ,9008 ,8*2 ,3*2,StringDB('ESS2919')) -- ESS=我吃得多長得壯，力氣也比一般人大好幾倍。...
    ESC.WaitDLG(1114)
    Scene.Print_W (1114 ,9008 ,8*2 ,3*2,StringDB('ESS2920')) -- ESS=像我這樣，才能稱得上是頂天立地的大男人。...
    ESC.WaitDLG(1114)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1115()
    ESC.Caption(1115)
    Scene.Print_W (1115 ,9008 ,8*2 ,3*2,StringDB('ESS2921')) -- ESS=人與猴子不同的地方，就是懂得發明利用方便...
    ESC.WaitDLG(1115)
    Scene.Print_W (1115 ,9008 ,8*2 ,4*2,StringDB('ESS2922')) -- ESS=我長矛在手天下無敵，那三隻空手猴子才不是...
    ESC.WaitDLG(1115)
    Scene.Print_W (1115 ,9008 ,8*2 ,3*2,StringDB('ESS2923')) -- ESS=有武器可用不用，真是太不文明了。
    ESC.WaitDLG(1115)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1116()
    ESC.Caption(1116)
    Scene.Print_W (1116 ,9008 ,9*2 ,4*2,StringDB('ESS2924')) -- ESS=士官長真是虐待狂，說什麼合理的要求是訓練...
    ESC.WaitDLG(1116)
    Scene.Print_W (1116 ,9008 ,9*2 ,3*2,StringDB('ESS2925')) -- ESS=若不是阿達出狀況，不知道要被操到什麼時候...
    ESC.WaitDLG(1116)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1117()
    ESC.Caption(1117)
    Scene.Print_W (1117 ,9008 ,8*2 ,4*2,StringDB('ESS2926')) -- ESS=軍中生活一分一秒都很緊張，若不能集中精神...
    ESC.WaitDLG(1117)
    Scene.Print_W (1117 ,9008 ,8*2 ,3*2,StringDB('ESS2927')) -- ESS=阿達真是太不長眼了，有外人在還出錯。
    ESC.WaitDLG(1117)
    Scene.Print_W (1117 ,9008 ,8*2 ,3*2,StringDB('ESS2928')) -- ESS=我們士官長最愛面子了，這下阿達吃不完要兜...
    ESC.WaitDLG(1117)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1118()
    ESC.Caption(1118)
    ESC.DLGHoldTime(5)
    ESC.Print_S (1118 ,9008,StringDB('ESS2929')) -- ESS=嗚～%N我怎會那麼衰啊！
end
--------------------------------------------------------------------------------------------
function Scene.TALK1119()
    if GameFunc.GetFlag(4037) then goto T1119B end
    if GameFunc.GetFlag(4036) then goto T1119A end
    if GameFunc.GetFlag(4035) then goto T1119 end
    ESC.TurnFace(1119, 1)
    ESC.Caption(1119)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2930')) -- ESS=經過我愛的教育，每位士兵都能信守鐵的紀律...
    ESC.WaitDLG(1119)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2931')) -- ESS=現在就讓我來展現訓練的成果讓你瞧瞧。
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 21, 19)
    ESC.TurnFace(1, 1119)
    ESC.TakeActData(1119, -1, 0, 4)
    ESC.RoleLock(1116)
    ESC.RoleLock(1117)
    ESC.RoleLock(1118)
    ESC.TakeActData(1116, -1, 8, 5)
    ESC.TakeActData(1117, -1, 8, 5)
    ESC.TakeActData(1118, -1, 8, 5)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2932')) -- ESS=全體面向我～%N立正！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2933')) -- ESS=聽我口令～%N向左～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 6)
    ESC.TakeActData(1117, -1, 8, 6)
    ESC.TakeActData(1118, -1, 8, 6)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2934')) -- ESS=向左～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 4)
    ESC.TakeActData(1117, -1, 8, 4)
    ESC.TakeActData(1118, -1, 8, 4)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2935')) -- ESS=向後～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 7)
    ESC.TakeActData(1117, -1, 8, 7)
    ESC.TakeActData(1118, -1, 8, 7)
    ESC.Delay(80)
    ESC.ChangeDIR(1116, 5)
    ESC.ChangeDIR(1117, 5)
    ESC.ChangeDIR(1118, 5)
    ESC.Delay(50)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2936')) -- ESS=很好！%N你們繼續練習。
    ESC.WaitDLG(1119)
    ESC.Unlock(1116)
    ESC.Unlock(1117)
    ESC.Unlock(1118)
    ESC.TurnFace(1119, 1)
    Scene.Print_W (1119 ,9008 ,8*2 ,4*2,StringDB('ESS2937')) -- ESS=怎樣？一個口令一個動作，帶這樣優秀的軍隊...
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 25, 17)
    ESC.TakeActData(1119, -1, 0, 6)
    GameFunc.FlagOn(4035)
    ESC.SceneBreak()
::T1119::
    ESC.TurnFace(1119, 1)
    ESC.Caption(1119)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2938')) -- ESS=看得不過癮嗎？我再操演更高難度的給你瞧瞧...
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 21, 19)
    ESC.TurnFace(1, 1119)
    ESC.TakeActData(1119, -1, 0, 4)
    ESC.RoleLock(1116)
    ESC.RoleLock(1117)
    ESC.RoleLock(1118)
    ESC.TakeActData(1116, -1, 8, 5)
    ESC.TakeActData(1117, -1, 8, 5)
    ESC.TakeActData(1118, -1, 8, 5)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2932')) -- ESS=全體面向我～%N立正！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2939')) -- ESS=聽我口令～%N向後～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 6)
    ESC.TakeActData(1117, -1, 8, 6)
    ESC.TakeActData(1118, -1, 8, 6)
    ESC.Delay(80)
    ESC.ChangeDIR(1116, 4)
    ESC.ChangeDIR(1117, 4)
    ESC.ChangeDIR(1118, 4)
    ESC.Delay(50)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2940')) -- ESS=向右～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 7)
    ESC.TakeActData(1117, -1, 8, 7)
    ESC.TakeActData(1118, -1, 8, 7)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2940')) -- ESS=向右～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 5)
    ESC.TakeActData(1117, -1, 8, 5)
    ESC.TakeActData(1118, -1, 8, 5)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2941')) -- ESS=中央伍～%N以我為準！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1117, 8)
    ESC.Caption(1117)
    Scene.Print_W (1117 ,9008 ,8*2 ,2*2,StringDB('ESS2942')) -- ESS=我為準！
    ESC.WaitDLG(1117)
    ESC.Caption(1119)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2943')) -- ESS=成行進隊形集合！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 8)
    ESC.ChangeQQ(1118, 8)
    ESC.BatchMove(3,
    1116, 18, 17,
    1117, 17, 16,
    1118, 16, 15)
    ESC.Delay(80)
    ESC.ChangeDIR(1116, 5)
    ESC.ChangeDIR(1117, 5)
    ESC.ChangeDIR(1118, 5)
    ESC.Delay(50)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2936')) -- ESS=很好！%N你們繼續練習。
    ESC.WaitDLG(1119)
    ESC.Unlock(1116)
    ESC.Unlock(1117)
    ESC.Unlock(1118)
    ESC.TurnFace(1119, 1)
    Scene.Print_W (1119 ,9008 ,8*2 ,4*2,StringDB('ESS2937')) -- ESS=怎樣？一個口令一個動作，帶這樣優秀的軍隊...
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 25, 17)
    ESC.TakeActData(1119, -1, 0, 6)
    GameFunc.FlagOn(4036)
    ESC.SceneBreak()
::T1119A::
    ESC.TurnFace(1119, 1)
    ESC.Caption(1119)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2944')) -- ESS=精彩吧！%N我操演最高難度的給你瞧瞧。
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 21, 19)
    ESC.TurnFace(1, 1119)
    ESC.TakeActData(1119, -1, 0, 4)
    ESC.RoleLock(1116)
    ESC.RoleLock(1117)
    ESC.RoleLock(1118)
    ESC.TakeActData(1116, -1, 8, 5)
    ESC.TakeActData(1117, -1, 8, 5)
    ESC.TakeActData(1118, -1, 8, 5)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2932')) -- ESS=全體面向我～%N立正！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2945')) -- ESS=聽我口令～%N成講話隊形集合！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 8)
    ESC.ChangeQQ(1117, 8)
    ESC.ChangeQQ(1118, 8)
    ESC.BatchMove(3,
    1116, 16, 18,
    1117, 18, 17,
    1118, 20, 16)
    ESC.Delay(80)
    ESC.ChangeDIR(1116, 5)
    ESC.ChangeDIR(1117, 5)
    ESC.ChangeDIR(1118, 5)
    ESC.Delay(50)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2940')) -- ESS=向右～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 6)
    ESC.TakeActData(1117, -1, 8, 6)
    ESC.TakeActData(1118, -1, 8, 7)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    ESC.AddHeadSign(1118, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1118)
    ESC.TakeActData(1118, -1, 8, 6)
    ESC.Delay(50)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,2*2,StringDB('ESS2934')) -- ESS=向左～轉！
    ESC.WaitDLG(1119)
    ESC.TakeActData(1116, -1, 8, 5)
    ESC.TakeActData(1117, -1, 8, 5)
    ESC.TakeActData(1118, -1, 8, 4)
    ESC.Delay(200)
    ESC.ChangeQQ(1116, 0)
    ESC.ChangeQQ(1117, 0)
    ESC.ChangeQQ(1118, 0)
    ESC.AddHeadSign(1118, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1118)
    ESC.TakeActData(1118, -1, 8, 5)
    ESC.Delay(50)
    ESC.ChangeQQ(1118, 0)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2946')) -- ESS=阿達你還搞不清楚狀況啊？真是朽木不可雕也...
    ESC.WaitDLG(1119)
    ESC.AddHeadSign(1118, 1)
    ESC.Delay(200)
    ESC.DelHeadSign(1118)
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2947')) -- ESS=阿達留下來練習！其餘的人不敬禮解散！
    ESC.WaitDLG(1119)
    ESC.ChangeQQ(1116, 8)
    ESC.ChangeQQ(1117, 8)
    ESC.BatchMove(2,
    1116, 9, 16,
    1117, 20, 13)
    ESC.TakeActData(1116, -1, 0, 5)
    ESC.TakeActData(1117, -1, 0, 6)
    ESC.ChangePath(1118, 406)
    ESC.ChangePath(1116, 0)
    ESC.ChangePath(1117, 0)
    ESC.ChangeScript(1116, 'TALK1116')
    ESC.ChangeScript(1117, 'TALK1117')
    ESC.ChangeScript(1118, 'TALK1118')
    ESC.ChangeQQ(1119, 8)
    ESC.BatchMove(1,    1119, 25, 17)
    ESC.Unlock(1118)
    ESC.TakeActData(1119, -1, 0, 4)
    GameFunc.FlagOn(4037)
    ESC.SceneBreak()
::T1119B::
    Scene.Print_W (1119 ,9008 ,8*2 ,3*2,StringDB('ESS2948')) -- ESS=混～再混你就要倒大楣了！
    ESC.WaitDLG(1119)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1120()
    Scene.Print_W(1120,9009,10*2,1*2,StringDB('ESS2949')) -- ESS=這個士兵喝得爛醉如泥
    ESC.WaitDLG(1120)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1121()
    Scene.Print_W(1121,9009,10*2,1*2,StringDB('ESS2950')) -- ESS=這個士兵醉得不省人事
    ESC.WaitDLG(1121)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1122()
    -- 歐洲士兵安東尼歐
    ESC.Caption(1122)
    Scene.Print_W (1122 ,9008 ,8*2 ,3*2,StringDB('ESS2951')) -- ESS=這兩個醉鬼真是太不像話了，每天光會喝酒鬧...
    ESC.WaitDLG(1122)
    Scene.Print_W (1122 ,9008 ,8*2 ,3*2,StringDB('ESS2952')) -- ESS=這副德行怎麼能上戰場？真是使法蘭克軍的名...
    ESC.WaitDLG(1122)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1123()
    ESC.Caption(1126)
    Scene.Print_W (1126 ,9008 ,8*2 ,3*2,StringDB('ESS2953')) -- ESS=那個法蘭克人好驕傲，擺出一副優越的樣子。...
    ESC.WaitDLG(1126)
    Scene.Print_W (1126 ,9008 ,8*2 ,4*2,StringDB('ESS2954')) -- ESS=每次講話都會貶低其他的民族人種，若不是軍...
    ESC.WaitDLG(1126)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1124()
    ESC.Caption(1124)
    Scene.Print_W (1124 ,9008 ,8*2 ,3*2,StringDB('ESS2955')) -- ESS=那個阿拉伯人好囉唆，每天吱吱喳喳個沒完。...
    ESC.WaitDLG(1124)
    Scene.Print_W (1124 ,9008 ,8*2 ,3*2,StringDB('ESS2956')) -- ESS=一天還要禱告好幾次，唸經唸不停，真讓人受...
    ESC.WaitDLG(1124)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1125()
    ESC.Caption(1125)
    Scene.Print_W (1125 ,9008 ,8*2 ,3*2,StringDB('ESS2957')) -- ESS=那個威尼斯人真討厭，一天到晚吹噓他的羅曼...
    ESC.WaitDLG(1125)
    Scene.Print_W (1125 ,9008 ,8*2 ,3*2,StringDB('ESS2958')) -- ESS=看他骨瘦如柴，哪可能會有女人喜歡他？只會...
    ESC.WaitDLG(1125)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1126()
    -- 阿拉伯瓦地耳
    ESC.Caption(1126)
    Scene.Print_W (1126 ,9008 ,8*2 ,3*2,StringDB('ESS2959')) -- ESS=那個突厥人好臭，好像打從出生後，就沒有洗...
    ESC.WaitDLG(1126)
    Scene.Print_W (1126 ,9008 ,8*2 ,3*2,StringDB('ESS2960')) -- ESS=如果再不讓我換營帳，我恐怕會被薰死。
    ESC.WaitDLG(1126)
end
--------------------------------------------------------------------------------------------
function Scene.TALK1127()
    local select
    -- 安撒里拉齊（賣中國劍的商人）
    if GameFunc.GetFlag(4038) then goto T1127D end -- 賣劍
    if GameFunc.GetFlag(4040) then goto T1127E end -- 商人說明劍的寶貴處
    if GameFunc.GetFlag(4039) then goto T1127C end -- 商人要求賽特賣劍
    if GameFunc.GetFlag(4006) then goto T1127 end -- 與他講過話
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2961')) -- ESS=這位大爺！%N我似乎在大馬士革見過您……...
    ESC.WaitDLG(1127)
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2962')) -- ESS=我之前確實到過大馬士革，但我對你沒什麼印...
    ESC.WaitDLG(1)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2963')) -- ESS=相信我！%N我們絕對照過面，只差沒打招呼...
    ESC.WaitDLG(1127)
    ESC.SceneBreak()

::T1127::
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2964')) -- ESS=人生何處不相逢？我們居然在巴格達又見面了...
    ESC.WaitDLG(1127)
::T1127C::
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2965')) -- ESS=我在大馬士革賣給您的%C2中國劍%C4現...
    ESC.WaitDLG(1127)
    Scene.Print_W (1127 ,9008 ,9*2 ,3*2,StringDB('ESS2966')..'%N'..StringDB('SESS2')) -- ESS=我出%C2３０００枚%C4銀幣向您買回來...
    ESC.WaitDLG(1127)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T1127N
    end
    -- 安撒里拉齊（賣中國劍的商人）
    if not GameFunc.GetFlag(4006) then goto T1127A end -- 沒買過劍
    if Function.GetItemCount(578) == 0 then -- 買過但丟掉或賣掉
        goto T1127YA
    end
    if Function.CheckEquip(578) then goto T1127YB end -- 正裝備在身上
    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 3000 -- ●賽特增加銀幣3000枚
    MediaFunc.PlaySound(193)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,2*2,StringDB('ESS2967')) -- ESS=感謝您的割愛！
    ESC.WaitDLG(1127)
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,StringDB('ESS2968')) -- ESS=得到３０００枚銀幣
    ItemFunc.AddItem(578, -1)
    ESC.WaitDLG(0)
    GameFunc.FlagOn(4038) -- 賽特賣還中國劍
::T1127D::
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2969')) -- ESS=您真是一位難得的好顧客！
    ESC.WaitDLG(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2970')) -- ESS=以後若是有什麼好商品，我一定會優先賣給你...
    ESC.WaitDLG(1127)
    ESC.SceneBreak()
::T1127N:: -- 安撒里拉齊（賣中國劍的商人）
    if not GameFunc.GetFlag(4006) then goto T1127B end -- 沒買過劍
    if Function.GetItemCount(578) == 0 then -- 買過但丟掉或賣掉
        goto T1127YA
    end
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2971')) -- ESS=那把中國劍我並不想賣。
    ESC.WaitDLG(1)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2972')) -- ESS=那太遺憾了，%N希望大爺您再考慮考慮。
    ESC.WaitDLG(1127)
    GameFunc.FlagOn(4039) -- 賽特不賣
    ESC.SceneBreak()
::T1127A::
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2973')) -- ESS=我很想賣給你，%N但是我並沒有跟你買過中...
    ESC.WaitDLG(1)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2974')) -- ESS=咦？%N難道是我記錯了？抱歉我認錯人了。...
    ESC.WaitDLG(1127)
    GameFunc.FlagOn(4040) -- 說明劍的寶貴處
    ESC.SceneBreak()

::T1127B::
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2975')) -- ESS=我並沒有跟你買過中國劍。
    ESC.WaitDLG(1)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2974')) -- ESS=咦？%N難道是我記錯了？抱歉我認錯人了。...
    ESC.WaitDLG(1127)
    GameFunc.FlagOn(4040) -- 說明劍的寶貴處
    ESC.SceneBreak()

::T1127YA::
    ESC.Caption(1)
    Scene.Print_W (1 ,9008 ,8*2 ,3*2,StringDB('ESS2976')) -- ESS=那把中國劍已經不在我身上了。
    ESC.WaitDLG(1)
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2977')) -- ESS=吭？%N唉～那真是太可惜了。
    ESC.WaitDLG(1127)
    GameFunc.FlagOn(4040) -- 說明劍的寶貴處
    ESC.SceneBreak()
::T1127YB::
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2978')) -- ESS=太好了！%N請您先將它從裝備中卸下來。
    ESC.WaitDLG(1127)
    GameFunc.FlagOn(4039) -- 賽特將劍裝備起來了
    ESC.SceneBreak()

::T1127E::
    ESC.Caption(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2979')) -- ESS=我老實告訴您吧！那位買主是中國的刀劍鑑賞...
    ESC.WaitDLG(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,3*2,StringDB('ESS2980')) -- ESS=他說那柄劍是百年難得一見的珍品，只是未經...
    ESC.WaitDLG(1127)
    Scene.Print_W (1127 ,9008 ,8*2 ,4*2,StringDB('ESS2981')) -- ESS=他願意出%C2一萬枚%C4銀幣來向我買耶...
    ESC.WaitDLG(1127)
end
--------------------------------------------------------------------------------------------


-- ───────────────────────────────────────【妹妹安娜】（ANNA）
-- 開關1019、1020

function Scene.TALK101()

    ESC.RoleLock(101)

    if GameFunc.GetFlag(101) then goto T101P1_1 end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T101FIRE end   -- ★火刑場開始
    if GameFunc.GetFlag(1019) then goto T101P1_1 end  -- ★是否要進入循環對話
-- ●第一階段   主對話

    GameFunc.FlagOn(1019)
    ESC.Caption(101)
    Scene.Print_W(101,9007,8*2,3*2,StringDB('ESS2982')) -- ESS=教士說我的哥哥很乖，是個相信上帝的好孩子...
    ESC.WaitDLG(101)

    Scene.Print_W(101,9007,8*2,3*2,'%S1'..StringDB('ESS2983')) -- ESS=我哥最愛跑到%C2教堂%C4那兒，找約瑟...
    ESC.WaitDLG(101)

    ESC.Unlock(101)
    ESC.SceneBreak()

-- ●火刑場對話

::T101FIRE::
    ESC.Caption(101)
    Scene.Print_W(101,9007,7*2,3*2,StringDB('ESS2984')) -- ESS=聽說%C2廣場%C4那兒要燒死壞人，好可...
    ESC.WaitDLG(101)

    Scene.Print_W(101,9007,10*2,3*2,StringDB('ESS2985')) -- ESS=神父說那些壞人都是撒旦的部下，可是我覺得...
    ESC.WaitDLG(101)

    ESC.Unlock(101)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T101P1_1::
    if GameFunc.GetFlag(1020) then goto T101P1_2 end  -- ★是否進入第2循環對話的開關
    ESC.Caption(101)
    Scene.Print_W(101,9007,11*2,3*2,StringDB('ESS2986')) -- ESS=我哥哥告訴我，最近教堂那兒常常有很多%C...
    ESC.WaitDLG(101)

    Scene.Print_W(101,9007,8*2,3*2,StringDB('ESS2987')) -- ESS=我哥哥說那些騎士很討厭，他不喜歡他們。
    ESC.WaitDLG(101)

    ESC.Unlock(101)
    GameFunc.FlagOn(1020) -- ★第2循環對話開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T101P1_2::
    ESC.Caption(101)
    Scene.Print_W(101,9007,10*2,3*2,StringDB('ESS2988')) -- ESS=我哥哥告訴我說，他知道一條%C2密道%C...
    ESC.WaitDLG(101)

    Scene.Print_W(101,9007,10*2,3*2,StringDB('ESS2989')) -- ESS=他說他常常溜進教堂裏去，去看他最喜歡的主...
    ESC.WaitDLG(101)

    ESC.Unlock(101)
    GameFunc.FlagOff(1019) -- ★關閉進入循環對話的開關
    GameFunc.FlagOff(1020) -- ★關閉進入第2循環對話的開關
end




-- ────────────────────────────────────【香料商馬丁】（MARTIN）
-- 開關1023、1024

function Scene.TALK102()
    ESC.RoleLock(102)
    if GameFunc.GetFlag(101) then goto T102P1_0 end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T102FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1023) then goto T102P1_1 end  -- ★進入循環對話

-- ●第一階段   主對話
::T102P1_0::
    GameFunc.FlagOn(1023)

    Scene.Print_W(102,9007,12*2,3*2,StringDB('ESS2990')) -- ESS=東方盛產%C2香料%C4，我的朋友們千里...
    ESC.WaitDLG(102)

    Scene.Print_W(102,9007,11*2,3*2,StringDB('ESS2991')) -- ESS=聽他們說，那裏現在一個叫%C2伊斯蘭%C...
    ESC.WaitDLG(102)

    Scene.Print_W(102,9007,12*2,4*2,StringDB('ESS2992')) -- ESS=伊斯蘭的人%C2不拜偶像%C4，也相信有...
    ESC.WaitDLG(102)

    ESC.Unlock(102)
    ESC.SceneBreak()



-- ●第一階段   第1循環對話
::T102P1_1::
    if GameFunc.GetFlag(1024) then goto T102P1_2 end  -- ★是否進入第2循環對話的開關

    ESC.Caption(102)
    Scene.Print_W(102,9007,8*2,2*2,StringDB('ESS2993')) -- ESS=唉唉唉，最近局勢真是夠混亂的…
    ESC.WaitDLG(102)

    ESC.Caption(102)
    Scene.Print_W(102,9007,10*2,3*2,StringDB('ESS2994')) -- ESS=先是%C2海盜%C4，現成又換成是%C2...
    ESC.WaitDLG(102)

    ESC.Unlock(102)
    GameFunc.FlagOn(1024) -- ★打開進入第2循環對話的開關

    ESC.SceneBreak()



-- ●第一階段   第2循環對話

::T102P1_2::
    ESC.Caption(102)
    Scene.Print_W(102,9007,12*2,3*2,StringDB('ESS2995')) -- ESS=大馬士革那邊盛產%C2香料%C4，我的朋...
    ESC.WaitDLG(102)


    Scene.Print_W(102,9007,11*2,3*2,StringDB('ESS2996')) -- ESS=聽說他們那裏現在有個叫%C2伊斯蘭%C4...
    ESC.WaitDLG(102)


    Scene.Print_W(102,9007,12*2,4*2,StringDB('ESS2997')) -- ESS=聽他們說伊斯蘭也%C2不拜偶像%C4，也...
    ESC.WaitDLG(102)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS2998')) -- ESS=請問…%N你的朋友有%C2阿拉伯人%C4...
    ESC.WaitDLG(1)


    Scene.Print_W(102,9007,7*2,3*2,StringDB('ESS2999')) -- ESS=不…%N他們是%C2大馬士革%C4的商人...
    ESC.WaitDLG(102)

    ESC.Unlock(102)
    GameFunc.FlagOff(1024) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場對話
::T102FIRE::

    ESC.Caption(102)
    Scene.Print_W(102,9007,10*2,3*2,'%S1'..StringDB('ESS3000')) -- ESS=唉唉唉，真是亂來，而且還是連教自己帶頭亂...
    ESC.WaitDLG(102)

    Scene.Print_W(102,9007,11*2,3*2,StringDB('ESS3001')) -- ESS=教會這樣胡搞下去，我們這些威尼斯商人，到...
    ESC.WaitDLG(102)

    ESC.Unlock(102)
end


-- ───────────────────────────────────────────【莎莉奶奶】
-- 開關1001
function Scene.TALK103()

    ESC.RoleLock(103)

    if GameFunc.GetFlag(101) then goto T103OVER end    -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T103FIRE end    -- ★火刑場對話
    if GameFunc.GetFlag(1001) then goto T103P1_2 end  -- ★進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1001)

    ESC.Caption(103)
    Scene.Print_W(103,9007,10*2,3*2,'%S1'..StringDB('ESS3002')) -- ESS=年輕人，最近這城裏頭亂得很，你別四處亂走...
    ESC.WaitDLG(103)

    ESC.Caption(1)
    Scene.Print_W(1,9007,12,4,StringDB('ESS3003')) -- ESS=這我知道，您別擔心。
    ESC.WaitDLG(1)

    Scene.Print_W(103,9007,9*2,4*2,StringDB('ESS3004')) -- ESS=哦，年輕人哪！%N不要一副不在乎的樣子，...
    ESC.WaitDLG(103)

    Scene.Print_W(103,9007,13*2,4*2,StringDB('ESS3005')) -- ESS=最近城裏找來許多很兇、很不講理的%C2騎...
    ESC.WaitDLG(103)

    Scene.Print_W(103,9007,20,6,StringDB('ESS3006')) -- ESS=看你的感覺，應該也是一個…%C2東方的人...
    ESC.WaitDLG(103)

    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3007')) -- ESS=謝謝您。%N那些被抓起來的人，都被關在哪...
    ESC.WaitDLG(1)

    Scene.Print_W(103,9007,14,6,StringDB('ESS3008')) -- ESS=這…這恐怕要問那些%C2騎士%C4才知道...
    ESC.WaitDLG(103)

    ESC.Unlock(103)
    ESC.SceneBreak()

-- ●第一階段   循環對話

::T103P1_2::
    ESC.Caption(103)
    Scene.Print_W(103,9007,14,6,StringDB('ESS3009')) -- ESS=年輕人，這是通往%C2墓園%C4的路，荒...
    ESC.WaitDLG(103)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10,6,StringDB('ESS3010')) -- ESS=哦？%N這裏就是墓園呀？
    ESC.WaitDLG(1)
    ESC.Unlock(103)
    ESC.SceneBreak()

-- ●火刑場對話
::T103FIRE::
    ESC.Caption(103 , PRINT_W, 103, 9007, 10*2, 3*2, StringDB('ESS3011')) -- ESS=哦，我的上帝啊！%N他們居然要把人活活燒...
    ESC.WaitDLG(103)

    ESC.Caption(103, PRINT_W, 103, 9007, 11*2, 3*2, StringDB('ESS3012')) -- ESS=聖經是要我們遠離%C2外邦人%C4沒錯，...
    ESC.WaitDLG(103)
    ESC.Unlock(103)
    ESC.SceneBreak()

-- ●火刑場之後
::T103OVER::
    ESC.Caption(103)
    Scene.Print_W(103,9007,11*2,3*2,StringDB('ESS3013')) -- ESS=聖經是要我們遠離%C2外邦人%C4沒錯，...
    ESC.WaitDLG(103)

    ESC.Unlock(103)
end



-- ───────────────────────────────────【火刑場上的阿拉伯婦人米雅】
function Scene.TALK104()
    if not GameFunc.GetFlag(101) then goto T104A end
    if GameFunc.GetFlag(215) then goto T104 end    -- 米雅被賽特救下來
    Scene.PutPERSON(104, 156)
    GameFunc.FlagOn(215) -- ★215=米雅被賽特救下
    Scene.SAR_CSEL(Const.TOWN, 1)

    if GameFunc.GetFlag(215) and GameFunc.GetFlag(216) and GameFunc.GetFlag(217) and GameFunc.GetFlag(218) then
        Scene.PUTMAN()
end

::T104::
    ESC.SceneBreak()

::T104A::
    Scene.Print_W(104,9007,7*2,3*2,StringDB('ESS817')) -- ESS=求求你們，不要燒我！放過我們吧！
    ESC.WaitDLG(104)

    Scene.Print_W(104,9007,9*2,3*2,StringDB('ESS3014')) -- ESS=我們什麼也沒做！%N我們只是來做買賣而已...
    ESC.WaitDLG(104)
end



-- ───────────────────────────────────────【教士艾利】（ELLIS）
-- 角色105，開關1021、1022

function Scene.TALK105()

    ESC.RoleLock(105)

    if GameFunc.GetFlag(101) then goto T105MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T105FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1021) then goto T105P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1021)

    ESC.Caption(105)
    Scene.Print_W(105,9007,9*2,3*2,StringDB('ESS3015')) -- ESS=感謝上帝，他們終於把那些%C2異教徒%C...
    ESC.WaitDLG(105)


    Scene.Print_W(105,9007,11*2,3*2,StringDB('ESS3016')) -- ESS=大家都忘記聖經上%C2索多瑪%C4和%C...
    ESC.WaitDLG(105)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3017')) -- ESS=請問一下…%N那些邪教徒都被關在哪裏？
    ESC.WaitDLG(1)

    ESC.Caption(105)
    Scene.Print_W(105,9007,10*2,3*2,StringDB('ESS3018')) -- ESS=哦！哦哦！！%N年輕人，千萬別去接近那些...
    ESC.WaitDLG(105)

    Scene.Print_W(105,9007,9*2,4*2,StringDB('ESS3019')) -- ESS=我們是上帝的兒女，要跟隨上帝，別去受那些...
    ESC.WaitDLG(105)

    ESC.Unlock(105)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T105P1_1::
    if GameFunc.GetFlag(1022) then goto T105P1_2 end  -- ★是否進入第2循環對話的開關

    ESC.Caption(105)
    Scene.Print_W(105,9007,10*2,3*2,StringDB('ESS3020')) -- ESS=聖經上明白寫著，凡接觸異教徒的人，都要用...
    ESC.WaitDLG(105)

    ESC.Caption(105)
    Scene.Print_W(105,9007,11*2,3*2,StringDB('ESS3021')) -- ESS=上帝就是公義，耶和華就是真理，和散那！讚...
    ESC.WaitDLG(105)

    ESC.Unlock(105)
    GameFunc.FlagOn(1022) -- ★打開進入第2循環對話的開關

    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T105P1_2::
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3022')) -- ESS=請問一下…%N那些邪教徒都被關在哪？
    ESC.WaitDLG(1)

    ESC.Caption(105)
    Scene.Print_W(105,9007,10*2,3*2,StringDB('ESS3023')) -- ESS=哦！哦哦！！%N年輕人，千萬別去接觸那些...
    ESC.WaitDLG(105)

    Scene.Print_W(105,9007,12*2,3*2,StringDB('ESS3024')) -- ESS=神在經文上清楚啟示我們，凡異教徒，都是%...
    ESC.WaitDLG(105)

    Scene.Print_W(105,9007,9*2,3*2,StringDB('ESS3025')) -- ESS=我們是上帝的兒女，要跟隨上帝，遠離那些異...
    ESC.WaitDLG(105)

    ESC.Unlock(105)
    GameFunc.FlagOff(1022) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   主對話
::T105FIRE::
    ESC.Caption(105)
    Scene.Print_W(105,9007,9*2,3*2,'%S1'..StringDB('ESS3026')) -- ESS=感謝上帝，他們終於把那些邪惡的%C2異教...
    ESC.WaitDLG(105)

    Scene.Print_W(105,9007,11*2,3*2,StringDB('ESS3027')) -- ESS=上帝啊，您的公義，又再一次在地面得到了勝...
    ESC.WaitDLG(105)

    ESC.Unlock(105)
    ESC.SceneBreak()

-- ●火刑場之後
::T105MAPS::
    ESC.Caption(105)
    Scene.Print_W(105,9007,9*2,3*2,StringDB('ESS3028')) -- ESS=完了完了！%N居然讓那些%C2異教徒%C...
    ESC.WaitDLG(105)

    Scene.Print_W(105,9007,9*2,4*2,StringDB('ESS3029')) -- ESS=禍哉！禍哉！%N%C2耶和華%C4已經震...
    ESC.WaitDLG(105)

    ESC.Unlock(105)
end




-- ───────────────────────────────────────【佩兒】（PEARL）
-- 角色106，開關1007、1008
function Scene.TALK106()
    ESC.RoleLock(106)

    if GameFunc.GetFlag(101) then goto T106FIRE end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T106FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1007) then goto T106P1_1 end  -- ★進入第一循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1007)
    ESC.Caption(106)
    Scene.Print_W(106,9007,9*2,4*2,StringDB('ESS3030')) -- ESS=你知道嗎？%N外地商人會會從遙遠東方運來...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,9*2,3*2,'%S1'..StringDB('ESS3031')) -- ESS=我聽說這一種布料又涼又輕柔還有一種天國一...
    ESC.WaitDLG(106)

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS3032')) -- ESS=哦？%N真的有這樣一種布？
    ESC.WaitDLG(1)

    Scene.Print_W(106,9007,9*2,4*2,StringDB('ESS3033')) -- ESS=是的，%N只不過它的價非常昂貴只有%C2...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,9*2,3*2,StringDB('ESS3034')) -- ESS=像我們這種一般的人家，是穿不絲做成的衣服...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,8*2,4*2,StringDB('ESS3035')) -- ESS=不過真希望哪一天我也能有機會，能穿穿這一...
    ESC.WaitDLG(106)

    ESC.Unlock(106)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T106P1_1::
    if GameFunc.GetFlag(1008) then goto T106P1_2 end -- ★是否進入第2循環對話的開關

    ESC.Caption(106)
    Scene.Print_W(106,9007,8*2,3*2,StringDB('ESS3036')) -- ESS=我聽說教會把那一些東方來的商人都抓起來了...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,10*2,3*2,StringDB('ESS3037')) -- ESS=教士說他們是%C2邪惡的異教徒%C4，會...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,9*2,3*2,StringDB('ESS3038')) -- ESS=我想教士們說得對！%N因為他們都是好人，...
    ESC.WaitDLG(106)

    ESC.Unlock(106)
    GameFunc.FlagOn(1008) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T106P1_2::
    ESC.Caption(106)
    Scene.Print_W(106,9007,9*2,3*2,StringDB('ESS3039')) -- ESS=聽說上次領主%C2修果大人%C4，獻了一...
    ESC.WaitDLG(106)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS3040')) -- ESS=這我可不懂了！%N那為什麼教會的人就可以...
    ESC.WaitDLG(1)

    Scene.Print_W(106,9007,5*2,2*2,StringDB('ESS3041')) -- ESS=對呀！%N為什麼？
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,9*2,4*2,StringDB('ESS3042')) -- ESS=不過…%N我相信這一定是有道理的，因為教...
    ESC.WaitDLG(106)

    ESC.Unlock(106)
    GameFunc.FlagOff(1008) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場對話
::T106FIRE::
    ESC.Caption(106)
    Scene.Print_W(106,9007,12*2,3*2,StringDB('ESS3043')) -- ESS=教士說，這些異教徒都是%C2不信上帝%C...
    ESC.WaitDLG(106)

    Scene.Print_W(106,9007,9*2,3*2,StringDB('ESS3044')) -- ESS=我想教士們說得對。%N他們都是好人，不會...
    ESC.WaitDLG(106)

    ESC.Unlock(106)
    GameFunc.FlagOn(1008) -- ★打開進入第2循環對話的開關
end



-- ─────────────────────────────────────【好心的小女孩】
function Scene.TALK107()
    ESC.RoleLock(107)

    ESC.Caption(107)
    Scene.Print_W(107,9007,7*2,2*2,StringDB('ESS3045')) -- ESS=大哥哥，你也是%C2外國商人%C4嗎？
    ESC.WaitDLG(107)

    Scene.Print_W(107,9007,10*2,4*2,StringDB('ESS3046')) -- ESS=最近城裏頭好多壞%C2騎士%C4叔叔到處...

    ESC.WaitDLG(107)
    ESC.Unlock(107)
end




-- ───────────────────────────────────────────【路人比德】
-- 角色108，開關1003、1004

function Scene.TALK108()
    ESC.RoleLock(108) -- 停止走動，面向主角
    if GameFunc.GetFlag(101) then goto T108MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T108FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1003) then goto T108P1_1 end  -- ★進入第1循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1003)
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3047')) -- ESS=請問一下，你們威尼斯城的最高長官是哪位？...
    ESC.WaitDLG(1)

    ESC.Caption(108)
    Scene.Print_W(108,9007,6*2,3*2,'%S1'..StringDB('ESS3048')) -- ESS=你是在問威尼斯的最高長官嗎？
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,9*2,3*2,StringDB('ESS3049')) -- ESS=基本上，我們威尼斯算是屬於%C2東羅馬帝...
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,10*2,3*2,StringDB('ESS3050')) -- ESS=不過實際上，我們都聽從%C2威尼斯護民官...
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,9*2,4*2,StringDB('ESS3051')) -- ESS=只是，我們還是要繳稅給%C2拜占廷%C4...
    ESC.WaitDLG(108)

    ESC.Unlock(108)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T108P1_1::
    if GameFunc.GetFlag(1004) then goto T108P1_2 end
    ESC.Caption(108)
    Scene.Print_W(108,9007,8*2,3*2,StringDB('ESS3052')) -- ESS=這次海盜猖獗，%C2拜占廷%C4那邊一點...
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,10*2,4*2,StringDB('ESS3053')) -- ESS=最後護民官大人只好透過教皇，請%C2法蘭...
    ESC.WaitDLG(108)

    ESC.Unlock(108)
    GameFunc.FlagOn(1004)
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T108P1_2::
    ESC.Caption(108)
    Scene.Print_W(108,9007,8*2,3*2,StringDB('ESS3054')) -- ESS=我們護民官對這一次拜占廷的表現很不滿！
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,9*2,4*2,StringDB('ESS3055')) -- ESS=平常抽了那麼重的稅，遇到真正需要他們時，...
    ESC.WaitDLG(108)

    ESC.Unlock(108)
    GameFunc.FlagOff(1004)
    ESC.SceneBreak()

-- ●火刑場對話
::T108FIRE::
    Scene.Print_W(108,9007,10*2,4*2,StringDB('ESS3056')) -- ESS=去他的上帝公義！%N上帝還沒毀滅我們之前...
    ESC.WaitDLG(108)

    ESC.Unlock(108)
    ESC.SceneBreak()

-- ●火刑場結束
::T108MAPS::
    Scene.Print_W(108,9007,10*2,4*2,StringDB('ESS3057')) -- ESS=哈哈，痛快痛快！%N看見上次那些什麼什麼...
    ESC.WaitDLG(108)

    Scene.Print_W(108,9007,10*2,4*2,StringDB('ESS3058')) -- ESS=這些傢伙的腦袋裏什麼也沒，就只有信不信上...
    ESC.WaitDLG(108)

    ESC.Unlock(108)
end



-- ───────────────────────────────────────────【小男孩】
-- 角色109，開關1013、1014

function Scene.TALK109()
    ESC.RoleLock(109)

    if GameFunc.GetFlag(101) then goto T109MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T109FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1013) then goto T109P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1013)
    ESC.Caption(109)
    Scene.Print_W(109,9007,8*2,2*2,'%S1'..StringDB('ESS3059')) -- ESS=大哥哥，大哥哥！%N你也是騎士嗎？
    ESC.WaitDLG(109)

    Scene.Print_W(109,9007,9*2,3*2,StringDB('ESS3060')) -- ESS=最近城裏來了好多的%C2騎士%C4，你們...
    ESC.WaitDLG(109)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3061')) -- ESS=你怎麼會認為我是騎士？我看起來很像騎士嗎...
    ESC.WaitDLG(1)

    Scene.Print_W(109,9007,10*2,3*2,StringDB('ESS3062')) -- ESS=大哥哥好笨哦！%N你身上有帶著劍，當然一...
    ESC.WaitDLG(109)

    ESC.Unlock(109)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T109P1_1::
    if GameFunc.GetFlag(1014) then goto T109P1_2 end  -- ★是否進入第2循環對話的開關
    ESC.Caption(109)
    Scene.Print_W(109,9007,9*2,3*2,StringDB('ESS3063')) -- ESS=你們騎士看起來都好威風喔！人家將來也想當...
    ESC.WaitDLG(109)
    ESC.Unlock(109)
    GameFunc.FlagOn(1014) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T109P1_2::
    ESC.Caption(109)
    Scene.Print_W(109,9007,10*2,3*2,StringDB('ESS3064')) -- ESS=不知道騎士和我們%C2護民官%C4大人比...
    ESC.WaitDLG(109)

    ESC.Unlock(109)
    GameFunc.FlagOff(1014) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場對話
::T109FIRE::
    ESC.Caption(109)
    Scene.Print_W(109,9007,11*2,3*2,StringDB('ESS3065')) -- ESS=你看你看，前面那一位穿金色盔甲的騎士哥哥...
    ESC.WaitDLG(109)

    Scene.Print_W(109,9007,10*2,3*2,StringDB('ESS3066')) -- ESS=當%C2騎士%C4真的好威風哦！我將來一...
    ESC.WaitDLG(109)

    ESC.Unlock(109)
    ESC.SceneBreak()

-- ●火刑場結束
::T109MAPS::
    ESC.Caption(109)
    Scene.Print_W(109,9007,10*2,3*2,StringDB('ESS3067')) -- ESS=上次那些騎士叔叔好飯桶哦，被人家打得落花...
    ESC.WaitDLG(109)

    Scene.Print_W(109,9007,10*2,4*2,StringDB('ESS3068')) -- ESS=當%C2騎士%C4一點也不威風！%N我將...
    ESC.WaitDLG(109)

    ESC.Unlock(109)
end



-------------------------------------------------------------------
-- 狗
function Scene.TALK110()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.M_PrintS(110,StringDB('ESS3069')) -- ESS=汪！汪汪！汪！
    MediaFunc.PlaySound(3)
end



-- ──────────────────────────────────────────【哥哥路克】
-- 角色111

function Scene.TALK111()
    if GameFunc.GetFlag(1048) then goto T111X end -- ★1048= 小男孩兩個提示都提示過了
    if GameFunc.GetFlag(225) then goto T111A end  -- ★ 225= 曾經和教堂門口士兵交談過
    if GameFunc.GetFlag(7010) then goto T111B end -- ★7010= 讓小男孩提示教堂內牢獄的開關
    if GameFunc.GetFlag(100) then goto T111FIRE end   -- ★ 100= 火刑場對話、賽特曾經溜到教堂內

::T111X::
    ESC.TurnFace(1, 111)
    ESC.TurnFace(111, 1)

    ESC.Caption(111)
    Scene.Print_W(111,9007,10*2,4*2,StringDB('ESS3070')) -- ESS=這些什麼騎士真討厭，竟然不准我到%C2教...
    ESC.WaitDLG(111)

    Scene.Print_W(111,9007,10*2,4*2,StringDB('ESS3071')) -- ESS=哼！不過這些笨騎士一定不曉得，我知道一條...
    ESC.WaitDLG(111)

    ESC.ChangeDIR(111, 3)
    GameFunc.FlagOn(225)
    ESC.SceneBreak()

-- ●賽特進入過教堂
::T111FIRE::

    ESC.TurnFace(1, 111)
    ESC.TurnFace(111, 1)

    ESC.Caption(111)
    Scene.Print_W(111,9007,10*2,3*2,StringDB('ESS3072')) -- ESS=大哥哥，大哥哥！%N你上次有沒有成功溜到...
    ESC.WaitDLG(111)
    ESC.ChangeDIR(111, 3)
    ESC.SceneBreak()

-- ●賽特被士兵阻擋，無法進教堂
::T111A::
    if GameFunc.GetFlag(7010) then goto T111B end
    ESC.RMLock()

    ESC.TurnFace(1, 111)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3073')) -- ESS=小弟弟，小弟弟，%N大哥哥向你請教一個問...
    ESC.WaitDLG(1)

    ESC.TurnFace(111, 1)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS3074')) -- ESS=你曉不曉得這附近有沒有什麼%C2祕密通道...
    ESC.WaitDLG(1)

    ESC.Caption(111)
    Scene.Print_W(111,9007,11*2,4*2,StringDB('ESS3075')) -- ESS=嘩，有哇有哇！%N那一個祕密通道在%C2...
    ESC.WaitDLG(111)

    Scene.Print_W(111,9007,10*2,4*2,StringDB('ESS3076')) -- ESS=那是%C2約瑟修士%C4發現的，他說那是...
    ESC.WaitDLG(111)

    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS3077')) -- ESS=好，謝謝你，你好厲害！
    ESC.WaitDLG(1)

    GameFunc.FlagOn(230) -- ★230=小男孩提示過賽特
    GameFunc.FlagOn(7010) -- ★7010=小男孩提示過賽特
    Scene.QuestOn(59)
    ESC.ChangeDIR(111, 3)
    ESC.SceneBreak()

-- ●賽特問過祕密通道之後
::T111B::
    ESC.TurnFace(1, 111)
    ESC.TurnFace(111, 1)

    Scene.Print_W(111,9007,8*2,3*2,StringDB('ESS3078')) -- ESS=約瑟修士說，教堂兩邊的%C2塔上%C4，...
    ESC.WaitDLG(111)

    Scene.Print_W(111,9007,9*2,3*2,StringDB('ESS3079')) -- ESS=不過，他每次都不肯告訴我那是做什麼用的，...
    ESC.WaitDLG(111)

    ESC.ChangeDIR(111, 3)
    GameFunc.FlagOff(7010)
    GameFunc.FlagOn(1048)
end



-- ─────────────────────────────────────────【露絲】（RUTH）
-- 角色112，開關1017、1018

function Scene.TALK112()
    ESC.RoleLock(112)

    if GameFunc.GetFlag(101) then goto T112P1_2 end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T112FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1017) then goto T112P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1017)

    ESC.Caption(112)
    Scene.Print_W(112,9007,10*2,3*2,'%S1'..StringDB('ESS3080')) -- ESS=以前我們鎮上有一位了不起的數學家，最近過...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,10*2,3*2,StringDB('ESS3081')) -- ESS=他告訴我說，數學其實不難，只要願意拿起筆...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,10*2,4*2,StringDB('ESS3082')) -- ESS=他還告訴我，數學如果用死背的，不但一點樂...
    ESC.WaitDLG(112)

    ESC.Unlock(112)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T112P1_1::
    if GameFunc.GetFlag(1018) then goto T112P1_2 end  -- ★是否進入第2循環對話的開關
    ESC.Caption(112)
    Scene.Print_W(112,9007,10*2,3*2,StringDB('ESS3083')) -- ESS=數學家老爺爺以前常告訴我，解數學題，不要...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,9*2,3*2,StringDB('ESS3084')) -- ESS=有時候稍微%C2加減一點點%C4，答案一...
    ESC.WaitDLG(112)

    ESC.Unlock(112)
    GameFunc.FlagOn(1018) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T112P1_2::
    ESC.Caption(112)
    Scene.Print_W(112,9007,9*2,3*2,StringDB('ESS3085')) -- ESS=數學家老爺爺說他的數學羊皮捲，跟阿拉伯人...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,8*2,3*2,StringDB('ESS3086')) -- ESS=聽說%C2阿拉伯%C4和古代%C2希臘人...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,11*2,3*2,StringDB('ESS3087')) -- ESS=不過%C2教會%C4說那和永生的福音沒有...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,9*2,3*2,StringDB('ESS3088')) -- ESS=老爺爺都偷偷自己一個人研究，不敢讓教會知...
    ESC.WaitDLG(112)

    ESC.Unlock(112)
    GameFunc.FlagOff(1018) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

::T112FIRE::
    ESC.Caption(112)
    Scene.Print_W(112,9007,9*2,3*2,StringDB('ESS3089')) -- ESS=好過分！%N為什麼要把這些外國商人活活燒...
    ESC.WaitDLG(112)

    Scene.Print_W(112,9007,10*2,3*2,StringDB('ESS3090')) -- ESS=他們信仰和我們的不太一樣，可是我曉得他們...
    ESC.WaitDLG(112)

    ESC.Unlock(112)
end




-- ───────────────────────────────────────【送鬱金香的蒙妮卡】
-- 角色113，開關1043、1027、1028

function Scene.TALK113()
    ESC.RoleLock(113)
    GameFunc.FlagOn(1043) -- ★1043=問花語前的循環對話
    if GameFunc.GetFlag(1028) then goto T113P1_2 end  -- ★賽特問花語之後的循環對話
    if GameFunc.GetFlag(1027) then goto T113P1_1 end  -- ★賽特向尤金問過花語
    if GameFunc.GetFlag(1043) then goto T113P1_0 end  -- ★賽特問花語之前的循環對話

-- ●第一階段   主對話
::T113P1_0::

    ESC.Caption(113)
    Scene.Print_W(113,9007,11*2,4*2,'%S1'..StringDB('ESS3091')) -- ESS=拜占庭%C4和%C2大馬士革%C4那兒的...
    ESC.WaitDLG(113)

    Scene.Print_W(113,9007,11*2,3*2,StringDB('ESS3092')) -- ESS=可是最近那些商人們都再也不敢來我們威尼斯...
    ESC.WaitDLG(113)

    ESC.Unlock(113)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T113P1_1::
    ESC.Caption(113)
    Scene.Print_W(113,9007,11*2,4*2,'%S1'..StringDB('ESS3093')) -- ESS=拜占庭%C4和%C2大馬士革%C4那兒的...
    ESC.WaitDLG(113)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3094')) -- ESS=對不起，%N請問妳是%C2蒙妮卡%C4小...
    ESC.WaitDLG(1)

    ESC.Caption(113)
    Scene.Print_W(113,9007,8*2,2*2,StringDB('ESS3095')) -- ESS=是啊，我就是啊，有什麼事情嗎？
    ESC.WaitDLG(113)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,4*2,StringDB('ESS3096')) -- ESS=對不起，蒙妮卡小姐，妳對花的知識聽說很豐...
    ESC.WaitDLG(1)

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS3097')) -- ESS=我一位朋友收到了一封信，裏面附著一朵%C...
    ESC.WaitDLG(1)

    ESC.Caption(113)
    Scene.Print_W(113,9007,11*2,3*2,StringDB('ESS3098')) -- ESS=在我們威尼斯，鬱金香是%C2愛的告白%C...
    ESC.WaitDLG(113)

    Scene.Print_W(113,9007,11*2,4*2,StringDB('ESS3099')) -- ESS=不過，如果送對方的是%C2黃色鬱金香%C...
    ESC.WaitDLG(113)

    Scene.Print_W(113,9007,11*2,4*2,StringDB('ESS3100')) -- ESS=像最近，我就送了一朵%C2黃色鬱金香%C...
    ESC.WaitDLG(113)

    ESC.Unlock(113)
    GameFunc.FlagOn(1028) -- ★1028=賽特向蒙妮卡問過花語
    ESC.SceneBreak()

-- ●第一階段   問過鬱金香的意思
::T113P1_2::
    ESC.Caption(113)
    Scene.Print_W(113,9007,10*2,4*2,StringDB('ESS3101')) -- ESS=我們威尼斯人，都喜歡用不同的花朵，來委婉...
    ESC.WaitDLG(113)
    ESC.Unlock(113)
end



-------------------------------------------------------------------
-- 貓
function Scene.TALK114()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.M_PrintS(114,StringDB('ESS3102')) -- ESS=喵！
    MediaFunc.PlaySound(1)
    GameFunc.FlagOn(221)
end



-- ──────────────────────────────────────────【小女孩凱麗】
-- 角色115，開關1015

function Scene.TALK115()
    ESC.RoleLock(116)
    if GameFunc.GetFlag(1015) then goto T115P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1015)

    ESC.Caption(115)
    Scene.Print_W(115,9007,7*2,3*2,StringDB('ESS3103')) -- ESS=媽咪…我想出去找別的小朋友一起玩！
    ESC.WaitDLG(115)

    ESC.Caption(116)
    Scene.Print_W(116,9007,9*2,4*2,StringDB('ESS3104')) -- ESS=不可以！%N你到處亂跑，小心被那些壞叔叔...
    ESC.WaitDLG(116)

    ESC.Caption(115)
    Scene.Print_W(115,9007,7*2,3*2,StringDB('ESS3105')) -- ESS=可是…人家好久沒有找別的小朋友玩了嘛！
    ESC.WaitDLG(115)

    ESC.Caption(116)
    Scene.Print_W(116,9007,7*2,3*2,StringDB('ESS3106')) -- ESS=不可以就是不可以！反正不准出去玩！
    ESC.WaitDLG(116)

    ESC.Unlock(116)
    ESC.SceneBreak()

-- ●第一階段   循環對話
::T115P1_1::
    ESC.Caption(115)
    Scene.Print_W(115,9007,10*2,4*2,StringDB('ESS3107')) -- ESS=媽咪，妳騙人家啦！%N上次明明說再幾天，...
    ESC.WaitDLG(115)

    ESC.Caption(115)
    Scene.Print_W(115,9007,9*2,3*2,StringDB('ESS3108')) -- ESS=教會的神父說，說謊的人，死了以後一定會掉...
    ESC.WaitDLG(115)

    ESC.Unlock(116)
end



-- ──────────────────────────────────────────【凱麗的母親】
--  開關1016

function Scene.TALK116()
    ESC.RoleLock(116)
    if GameFunc.GetFlag(1016) then goto T116P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1016)

    ESC.Caption(116)
    Scene.Print_W(116,9007,8*2,3*2,StringDB('ESS3109')) -- ESS=凱麗，最近外面很亂，不准亂跑，知不知道？...
    ESC.WaitDLG(116)

    ESC.Caption(115)
    Scene.Print_W(115,9007,7*2,3*2,StringDB('ESS3110')) -- ESS=可是…我想去找別的小朋友一起玩……
    ESC.WaitDLG(115)

    ESC.Caption(116)
    Scene.Print_W(116,9007,9*2,4*2,StringDB('ESS3104')) -- ESS=不可以！%N你到處亂跑，小心被那些壞叔叔...
    ESC.WaitDLG(116)

    ESC.Caption(115)
    Scene.Print_W(115,9007,7*2,3*2,StringDB('ESS3111')) -- ESS=可是人家好久沒有找別的小朋友玩了嘛！
    ESC.WaitDLG(115)

    ESC.Caption(116)
    Scene.Print_W(116,9007,7*2,3*2,StringDB('ESS3106')) -- ESS=不可以就是不可以！反正不准出去玩！
    ESC.WaitDLG(116)

    ESC.Unlock(116)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T116P1_1::
    ESC.Caption(116)
    Scene.Print_W(116,9007,10*2,3*2,StringDB('ESS3112')) -- ESS=最近城裏頭非常亂，一大堆壞騎士叔叔到處在...
    ESC.WaitDLG(116)

    ESC.Caption(116)
    Scene.Print_W(116,9007,10*2,3*2,StringDB('ESS3113')) -- ESS=妳出去隨便亂跑，小心他們把妳也一起抓起來...
    ESC.WaitDLG(116)

    ESC.Caption(115)
    Scene.Print_W(115,9007,9*2,3*2,StringDB('ESS3114')) -- ESS=媽，可是教會的神父說，他們抓的都是壞人！...
    ESC.WaitDLG(115)

    ESC.Caption(115)
    Scene.Print_W(115,9007,11*2,3*2,StringDB('ESS3115')) -- ESS=因為他們都%C2不信上帝%C4，所以好人...
    ESC.WaitDLG(115)

    ESC.Unlock(116)
end



-- ─────────────────────────────────────【少婦麗貝卡】（REBECCA）
-- 角色117，開關1009、1010

function Scene.TALK117()
    ESC.RoleLock(117)
    if GameFunc.GetFlag(101) then goto T117BACK end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T117FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1009) then goto T117P1_1 end  -- ★進入循環對話的開關

-- ●第一階段   主對話
    GameFunc.FlagOn(1009)
    ESC.Caption(117)
    Scene.Print_W(117,9007,11*2,4*2,StringDB('ESS3116')) -- ESS=怎麼辦、怎麼辦？%N教會他把來威尼斯跟我...
    ESC.WaitDLG(117)

    Scene.Print_W(117,9007,11*2,4*2,StringDB('ESS3117')) -- ESS=我丈夫很生氣，跑去向教會抗議結果那些騎士...
    ESC.WaitDLG(117)

    Scene.Print_W(117,9007,9*2,5*2,StringDB('ESS3118')) -- ESS=怎麼辦呢……%N我到底該怎麼辦？%N現在...
    ESC.WaitDLG(117)

    ESC.Unlock(117)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T117P1_1::
    if GameFunc.GetFlag(1010) then goto T117P1_2 end

    ESC.Caption(117)
    Scene.Print_W(117,9007,9*2,3*2,StringDB('ESS3119')) -- ESS=怎麼辦…%N我快擔心死了，誰救救我的丈？...
    ESC.WaitDLG(117)

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS3120')) -- ESS=聽說那些%C2護教騎士團%C4的人，只要...
    ESC.WaitDLG(1)

    Scene.Print_W(117,9007,10*2,4*2,StringDB('ESS3121')) -- ESS=不要不要！%N燒死異教徒是應該的，可…可...
    ESC.WaitDLG(117)

    ESC.Unlock(117)
    GameFunc.FlagOn(1010) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T117P1_2::
    ESC.Caption(117)
    Scene.Print_W(117,9007,9*2,3*2,StringDB('ESS3122')) -- ESS=我丈夫絕不是異教徒，他平日就是最虔誠信眾...
    ESC.WaitDLG(117)

    ESC.Caption(117)
    Scene.Print_W(117,9007,10*2,4*2,StringDB('ESS3123')) -- ESS=我們每一個月都定時繳%C2奉獻%C4給教...
    ESC.WaitDLG(117)

    Scene.Print_W(117,9007,9*2,3*2,StringDB('ESS3124')) -- ESS=怎麼辦…%N怎麼辦，我丈不曉得會不會有事...
    ESC.WaitDLG(117)

    ESC.Unlock(117)
    GameFunc.FlagOff(1010) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場的對話
::T117FIRE::
    ESC.Caption(117)
    Scene.Print_W(117,9007,10*2,4*2,StringDB('ESS3125')) -- ESS=糟了！糟了！%N我丈夫也被教會抓起來了，...
    ESC.WaitDLG(117)

    Scene.Print_W(117,9007,11*2,3*2,StringDB('ESS3126')) -- ESS=我丈夫是最虔誠的呀，我們每一個月都有繳很...
    ESC.WaitDLG(117)

    Scene.Print_W(117,9007,6*2,2*2,StringDB('ESS3127')) -- ESS=怎麼辦！%N怎麼辦呀！！
    ESC.WaitDLG(117)

    ESC.Unlock(117)
    ESC.SceneBreak()

::T117BACK::
    ESC.Caption(117)
    Scene.Print_W(117,9007,8*2,4*2,StringDB('ESS3128')) -- ESS=我丈夫被一名神秘男子從地牢就出來，不知道...
    ESC.WaitDLG(117)
    ESC.Unlock(117)
end





-- ────────────────────────────────────────【不理人的小男孩】

function Scene.TALK118()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()

    ESC.Print_S(118,9007,StringDB('ESS3129')) -- ESS=媽媽說最近不可以隨便跟陌生人說話!!
end



-- ───────────────────────────────────────【維克老人】（VIC）
-- 開關1002，角色119

function Scene.TALK119()
    ESC.RoleLock(119)
    if GameFunc.GetFlag(101) then goto T119MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T119FIRE end   -- ★火刑場開始
    if GameFunc.GetFlag(1002) then goto T119P1_2 end  -- ★是否要進入循環對話

-- ●第一階段   主對話

    GameFunc.FlagOn(1002)
    ESC.Caption(119)
    Scene.Print_W(119,9007,18,6,'%S1'..StringDB('ESS3130')) -- ESS=唉，前一陣子%C2海盜%C4猖獗，嚇走了...
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,18,8,StringDB('ESS3131')) -- ESS=護民官大人%C4特地找來那些%C2法蘭克...
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,18,8,'%S1'..StringDB('ESS3132')) -- ESS=結果沒想到這些騎士，竟把來做生意的%C2...
    ESC.Delay(500)
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,16,8,'%S1'..StringDB('ESS3133')) -- ESS=我的布料店連貨也沒進了，叫我拿什麼成品交...
    ESC.WaitDLG(119)

    ESC.Unlock(119)
    ESC.SceneBreak()

-- ●第一階段   循環對話
::T119P1_2::
    ESC.Caption(119)
    Scene.Print_W(119,9007,16,6,StringDB('ESS3134')) -- ESS=修果大人一向最欣賞我們店為他做的絲綢外衣...
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,16,6,StringDB('ESS3135')) -- ESS=他訂了二十件衣服，我要在半個月後交給他，...
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,18,6,StringDB('ESS3136')) -- ESS=這下阿拉伯商人全都被抓了，我要怎麼跟他交...
    ESC.WaitDLG(119)
    ESC.SceneBreak()

-- ●火刑場對話
::T119FIRE::

    ESC.Caption(119)
    Scene.Print_W(119,9007,10*2,3*2,StringDB('ESS3137')) -- ESS=這幾位都是老顧客呀！%N不曉得這些教士是...
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,5*2,2*2,StringDB('ESS3138')) -- ESS=亂來，實在是亂來！
    ESC.WaitDLG(119)

    ESC.Unlock(119)
    ESC.SceneBreak()

-- ●火刑場結束
::T119MAPS::
    ESC.Caption(119)
    Scene.Print_W(119,9007,6*2,3*2,StringDB('ESS3139')) -- ESS=太好了，那些討厭的騎士們都走了！
    ESC.WaitDLG(119)

    Scene.Print_W(119,9007,11*2,3*2,StringDB('ESS3140')) -- ESS=真是一場無妄之災！%N但願這些瘟神以後永...
    ESC.WaitDLG(119)

    ESC.Unlock(119)
end




-------------------------------------------------------------------

function Scene.TALK120()
    if GameFunc.GetFlag(246) then goto T2020 end
    MediaFunc.PlaySound(171)
    ESC.BatchMove(1,    120, 16, 34)
    Scene.SAR_CSEL(Const.TOWN , 1)
    GameFunc.FlagOn(246)
::T2020::
end



-- ────────────────────────────────────────【養狗的艾咪莉亞】
-- 角色123，循環開關1000

function Scene.TALK123()
    ESC.RoleLock(123)
    if GameFunc.GetFlag(101) then goto T123MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T123FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1000) then goto T123P1_1 end  -- ★是否要進入循環對話

-- ●來到威尼斯

    GameFunc.FlagOn(1000)
    ESC.Caption(123)
    Scene.Print_W(123,9007,7*2,3*2,StringDB('ESS3141')) -- ESS=受不了，我們家的小狗狗又亂跑了！
    ESC.WaitDLG(123)
    ESC.Unlock(123)
    ESC.SceneBreak()

-- ●來到威尼斯 循環對話
::T123P1_1::
    ESC.Caption(123)
    Scene.Print_W(123,9007,10*2,3*2,StringDB('ESS3142')) -- ESS=我們家的狗狗，好喜歡跑去%C2對岸%C4...
    ESC.WaitDLG(123)

    Scene.Print_W(123,9007,7*2,3*2,StringDB('ESS3143')) -- ESS=有時候牠們好像在%C2開會%C4喔！真是...
    ESC.WaitDLG(123)

    ESC.Unlock(123)
    GameFunc.FlagOff(1000)
    ESC.SceneBreak()

-- ●火刑場對話
::T123FIRE::
    ESC.Caption(123)
    Scene.Print_W(123,9007,7*2,3*2,StringDB('ESS3144')) -- ESS=怎麼辦，怎麼辦呢？那些人好可憐哦……
    ESC.WaitDLG(123)

    ESC.Unlock(123)
    GameFunc.FlagOff(1000)
    ESC.SceneBreak()

-- ●火刑場結束
::T123MAPS::
    ESC.Caption(123)
    Scene.Print_W(123,9007,9*2,4*2,StringDB('ESS3145')) -- ESS=好可怕啊！%N上次那些教士，居然要活活把...
    ESC.WaitDLG(123)

    Scene.Print_W(123,9007,9*2,4*2,StringDB('ESS3146')) -- ESS=他們主日望彌撒時都很和藹，為什麼對外邦人...
    ESC.WaitDLG(123)

    ESC.Unlock(123)
    GameFunc.FlagOff(1000)
end



-- ─────────────────────────────────────【貿易商維德】（WADE）
-- 角色124，開關1005、1006

function Scene.TALK124()
    ESC.RoleLock(124)
    if GameFunc.GetFlag(101) then goto T124MAPS end    -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T124FIRE end    -- ★火刑場對話
    if GameFunc.GetFlag(1005) then goto T124P1_1 end  -- ★進入第1對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1005)
    ESC.Caption(124)
    Scene.Print_W(124,9007,11*2,4*2,StringDB('ESS3147')) -- ESS=平常我們威尼斯是一個繁榮的貿易自治港有很...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,8*2,4*2,StringDB('ESS3148')) -- ESS=最近這些什麼騎士來了以後，弄得全城烏煙瘴...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,6*2,2*2,StringDB('ESS3149')) -- ESS=真希望他們趕快滾開！
    ESC.WaitDLG(124)

    ESC.Unlock(124)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T124P1_1::
    if GameFunc.GetFlag(1006) then goto T124P1_2 end -- ★是否進入第2循環對話的開關

    ESC.Caption(124)
    Scene.Print_W(124,9007,6*2,3*2,StringDB('ESS3150')) -- ESS=真是無聊！！%N亂抓什麼異教徒呀？
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,11*2,4*2,StringDB('ESS3151')) -- ESS=我生意上接觸過不少外國人，個個都是異教徒...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,8*2,3*2,StringDB('ESS3152')) -- ESS=如果真要為上帝抓光所有異教徒，老天，哪抓...
    ESC.WaitDLG(124)

    ESC.Unlock(124)
    GameFunc.FlagOn(1006) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T124P1_2::
    ESC.Caption(124)
    Scene.Print_W(124,9007,8*2,3*2,StringDB('ESS3153')) -- ESS=真希望那些瘋狂的什麼宗教騎士團趕快離開。...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,10*2,3*2,StringDB('ESS3154')) -- ESS=對大家而言，能好好做買賣，比信不信上帝更...
    ESC.WaitDLG(124)

    ESC.Unlock(124)
    GameFunc.FlagOff(1006) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場對話
::T124FIRE::

    ESC.Caption(124)
    Scene.Print_W(124,9007,7*2,3*2,StringDB('ESS3155')) -- ESS=真是混帳！%N這些教士們簡直是在亂來！
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,11*2,4*2,StringDB('ESS3156')) -- ESS=我生意上接觸不少外國人，幾乎都是異教徒，...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,9*2,3*2,StringDB('ESS3157')) -- ESS=如果真要為上帝抓光所有異教徒，騙鬼！哪抓...
    ESC.WaitDLG(124)

    ESC.Unlock(124)
    ESC.SceneBreak()

-- ●火刑場結束
::T124MAPS::
    ESC.Caption(124)
    Scene.Print_W(124,9007,10*2,3*2,StringDB('ESS3158')) -- ESS=真希望那些什麼瘋狂的宗教騎士團永遠不要再...
    ESC.WaitDLG(124)

    Scene.Print_W(124,9007,11*2,3*2,StringDB('ESS3159')) -- ESS=他們一來，搞得整城烏煙瘴氣，我們也不能好...
    ESC.WaitDLG(124)

    ESC.Unlock(124)
end



-- ─────────────────────────────────────【珠寶商布魯諾】（BRUNO）
-- 角色125，開關1025、1026

function Scene.TALK125()
    ESC.RoleLock(125)
    if GameFunc.GetFlag(1051) then goto T125OVER end  -- ★開關1051=完成任務了
    if GameFunc.GetFlag(1026) then goto T125P1_2 end  -- ★開關1026=賽特已經找到紅寶石
    if GameFunc.GetFlag(1025) then goto T125P1_1 end  -- ★開關1025=賽特答應開始找紅寶石

-- ●第一階段   主對話

    ESC.Caption(125)
    Scene.Print_W(125,9007,9*2,3*2,StringDB('ESS3160')) -- ESS=我們的領主%C2修果大人%C4過幾天就要...
    ESC.WaitDLG(125)

    ESC.Caption(125)
    Scene.Print_W(125,9007,9*2,3*2,StringDB('ESS3161')) -- ESS=他要我們在今天內趕出三十只的%C2紅寶石...
    ESC.WaitDLG(125)

    Scene.Print_W(125,9007,11*2,4*2,StringDB('ESS3162')) -- ESS=可是幫我帶%C2紅寶石%C4來的%C2東...
    ESC.WaitDLG(125)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3163')) -- ESS=只要找到%C2紅寶石%C4，你就來得及把...
    ESC.WaitDLG(1)

    ESC.Caption(125)
    Scene.Print_W(125,9007,11*2,3*2,StringDB('ESS3164')) -- ESS=是啊，只要今天內能夠找得到紅寶石，我想勉...
    ESC.WaitDLG(125)

    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3165')) -- ESS=這樣吧！%N我來幫你找找看，你在這裏等我...
    ESC.WaitDLG(1)

    ESC.Unlock(125)
    Scene.QuestOn(53)
    GameFunc.FlagOn(1025) -- ★1025=主角答應開始尋找瑪瑙
    ESC.SceneBreak()

-- ●第一階段   賽特答應開始找瑪瑙
::T125P1_1::
    ESC.Caption(125)
    Scene.Print_W(125,9007,9*2,3*2,StringDB('ESS3166')) -- ESS=麻煩你，請你務必幫我打聽看看哪兒有%C2...
    ESC.WaitDLG(125)

    ESC.Unlock(125)
    ESC.SceneBreak()

-- ●第一階段   賽特找到瑪瑙
::T125P1_2::

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3167')) -- ESS=這位朋友，我為你找到%C2紅寶石戒指%C...
    ESC.WaitDLG(1)

    ESC.Caption(125)
    Scene.Print_W(125,9007,5*2,2*2,StringDB('ESS3168')) -- ESS=什…什麼，真的嗎！
    ESC.WaitDLG(125)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS3169')) -- ESS=賽特將紅寶石戒指交給布魯諾。
    ESC.WaitDLG(1)

    Scene.Print_W(125,9007,11*2,3*2,StringDB('ESS3170')) -- ESS=啊，是上好的紅寶石！%N晚上加工一下，明...
    ESC.WaitDLG(125)

    Scene.Print_W(125,9007,10*2,3*2,StringDB('ESS3171')) -- ESS=太感謝你了！%N為了表示謝意，請您接受我...
    ESC.WaitDLG(125)

    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 80   -- ●賽特得到80枚銀幣

    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,5*2,1*2,StringDB('ESS3172')) -- ●賽特得到虎皮衣 ESS=得到%T1003.
    ItemFunc.AddItem(1003, 1)
    ItemFunc.AddItem(766, -8)

    ESC.Delay(1200)
    ESC.Unlock(125)
    GameFunc.FlagOn(1051) -- 布魯諾得到紅寶石
    Scene.QuestOff(53)
    ESC.SceneBreak()

-- ●結束任務了
::T125OVER::
    ESC.Caption(125)
    Scene.Print_W(125,9007,9*2,3*2,StringDB('ESS3173')) -- ESS=謝謝你，小老弟，謝謝你及時為我找到了%C...
    ESC.WaitDLG(125)

    ESC.Unlock(125)
end



-- ─────────────────────────────────────────【採珍珠者派恩】
-- 角色128，開關1011、1012

function Scene.TALK128()
    ESC.RoleLock(128)
    if GameFunc.GetFlag(1034) then goto T2028A end
    if GameFunc.GetFlag(1033) then goto T128P1_00 end -- ★賽特答應陶德幫他買珍珠
::T2028A::
    if GameFunc.GetFlag(101) then goto T128MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T128FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1011) then goto T128P1_1 end  -- ★賽特答應陶德之前的循環對話

-- ●來到威尼斯 主對話
    ESC.Caption(128)
    Scene.Print_W(128,9007,10*2,3*2,'%S1'..StringDB('ESS3174')) -- ESS=採珍珠%C4是一件很辛苦的事情，但是卻可...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,11*2,4*2,StringDB('ESS3175')) -- ESS=只是一直跟我買珍珠的%C2波斯商人%C4...
    ESC.WaitDLG(128)

    ESC.Unlock(128)
    GameFunc.FlagOn(1011)
    ESC.SceneBreak()

::T128P1_00::

    ESC.Caption(128)
    Scene.Print_W(128,9007,10*2,3*2,'%S1%C2'..StringDB('ESS3174')) -- ESS=採珍珠%C4是一件很辛苦的事情，但是卻可...
    ESC.WaitDLG(128)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3176')) -- ESS=您好，請問您是採珍珠的%C2派恩%C4先...
    ESC.WaitDLG(1)

    ESC.Caption(128)
    Scene.Print_W(128,9007,7*2,3*2,StringDB('ESS3177')) -- ESS=是的，我就是派恩…找我有什麼事嗎？
    ESC.WaitDLG(128)

    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3178')) -- ESS=我想向您買%C2珍珠%C4，不知您願意賣...
    ESC.WaitDLG(1)

    Scene.Print_W(128,9007,11*2,4*2,StringDB('ESS3179')) -- ESS=呃…我個人是很樂意啦，只是我的妻子%C2...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,10*2,4*2,StringDB('ESS3180')) -- ESS=因為她說波斯商人出價都非常高，你可以直接...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,10*2,3*2,StringDB('ESS3181')) -- ESS=我家在右邊小巷進去的%C2威尼斯運河畔%...
    ESC.WaitDLG(128)
    Scene.QuestOn(56)
    ESC.Unlock(128)
    GameFunc.FlagOff(1011)
    GameFunc.FlagOn(1034) -- ★1034=賽特問過派恩意見
    ESC.SceneBreak()

-- ●來到威尼斯 第1循環對話
::T128P1_1::
    if GameFunc.GetFlag(1012) then goto T128P1_2 end  -- ★是否要進入第2循環對話

    ESC.Caption(128)
    Scene.Print_W(128,9007,9*2,3*2,StringDB('ESS3182')) -- ESS=上次我去採珍珠，回程遇到%C2海盜%C4...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,9*2,4*2,StringDB('ESS3183')) -- ESS=最後珍珠全被搶了，我苦苦哀求海盜們放過我...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,8*2,3*2,StringDB('ESS3184')) -- ESS=現在危險這麼大，以後誰還敢出海採珍珠？
    ESC.WaitDLG(128)

    ESC.Unlock(128)
    GameFunc.FlagOn(1012) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●來到威尼斯 第2循環對話
::T128P1_2::
    ESC.Caption(128)
    Scene.Print_W(128,9007,10*2,3*2,StringDB('ESS3185')) -- ESS=其實，我是非常贊成%C2護民官%C4請外...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,10*2,4*2,StringDB('ESS3186')) -- ESS=只是那些騎士，居然亂搞%C2宗教審判%C...
    ESC.WaitDLG(128)

    ESC.Unlock(128)
    GameFunc.FlagOff(1012) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()


-- ●火刑場對話
::T128FIRE::
    ESC.Caption(128)

    Scene.Print_W(128,9007,8*2,4*2,StringDB('ESS3187')) -- ESS=常常向我買%C2珍珠%C4的%C2阿丹先...
    ESC.WaitDLG(128)

    ESC.Unlock(128)
    ESC.SceneBreak()

-- ●火刑場結束
::T128MAPS::
    ESC.Caption(128)
    Scene.Print_W(128,9007,8*2,4*2,StringDB('ESS3188')) -- ESS=老弟，上次您真夠勇氣，敢教訓那群混帳騎士...
    ESC.WaitDLG(128)

    Scene.Print_W(128,9007,9*2,4*2,StringDB('ESS3189')) -- ESS=託您的福，我的老朋友%C2阿丹先生%C4...
    ESC.WaitDLG(128)

    ESC.Unlock(128)
end



-- ───────────────────────────────────────【問花語的尤金】
-- 角色129，開關1027、1028

function Scene.TALK129()
    ESC.RoleLock(129)
    if GameFunc.GetFlag(1029) then goto T129P1_22 end -- ★檢查是否告訴過尤金
    if GameFunc.GetFlag(1028) then goto T129P1_2 end  -- ★檢查是否問過了花語
    if GameFunc.GetFlag(1027) then goto T129P1_1 end  -- ★檢查賽特是否答應問花語

-- ●第一階段   主對話
    GameFunc.FlagOn(1027)

    ESC.Caption(129)
    Scene.Print_W(129,9007,8*2,3*2,'%S1'..StringDB('ESS3190')) -- ESS=我喜歡我們城裏一位叫做%C2蒙妮卡%C4...
    ESC.WaitDLG(129)

    Scene.Print_W(129,9007,11*2,4*2,StringDB('ESS3191')) -- ESS=前一陣子，我託人家送她一封情書結果她什麼...
    ESC.WaitDLG(129)

    Scene.Print_W(129,9007,10*2,4*2,'%S1'..StringDB('ESS3192')) -- ESS=老弟，能否為我代勞一下，去幫我向她打聽打...
    ESC.WaitDLG(129)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3193')) -- ESS=好！小事一樁，我這就去幫你走一趟你在這等...
    ESC.WaitDLG(1)

    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3194')) -- ESS=不過，我還不曉得那一位%C2蒙妮卡%C4...
    ESC.WaitDLG(1)

    ESC.Caption(129)
    Scene.Print_W(129,9007,8*2,3*2,'%S1'..StringDB('ESS3195')) -- ESS=喔，老弟，她住在%C2橋的對岸%C4，一...
    ESC.WaitDLG(129)
    Scene.QuestOn(54)
    ESC.Unlock(129)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T129P1_1::
    ESC.Caption(129)
    Scene.Print_W(129,9007,8*2,3*2,StringDB('ESS3196')) -- ESS=唉，不曉得%C2蒙妮卡%C4那一朵鬱金香...
    ESC.WaitDLG(129)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3197')) -- ESS=放心，我會幫你向她打聽清楚的…
    ESC.WaitDLG(1)

    ESC.Unlock(129)
    ESC.SceneBreak()

-- ●第一階段   問過鬱金香的意思
::T129P1_2::
    ESC.Caption(129)
    Scene.Print_W(129,9007,10*2,3*2,StringDB('ESS3198')) -- ESS=嗨，老弟，你有沒有幫我向%C2蒙妮卡%C...
    ESC.WaitDLG(129)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,4*2,StringDB('ESS3199')) -- ESS=有！她說，鬱金香的意思是%C2愛情的告白...
    ESC.WaitDLG(1)

    Scene.Print_W(129,9007,12*2,3*2,StringDB('ESS3200')) -- ESS=老弟，下面就不用說了！她的意思當然一定是...
    ESC.WaitDLG(129)

    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,2*2,StringDB('ESS3201')) -- ESS=這…她的意思是…
    ESC.WaitDLG(1)

    Scene.Print_W(129,9007,10*2,3*2,StringDB('ESS3202')) -- ESS=好了好了，別說別說！%N很多事情講得太明...
    ESC.WaitDLG(129)

    Scene.Print_W(129,9007,8*2,4*2,StringDB('ESS3203')) -- ESS=哈！哈哈！%N辛苦你了，這一些%C2結纍...
    ESC.WaitDLG(129)

    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,6*2,1*2,StringDB('ESS3204')) -- ESS=得到%T622.
    ItemFunc.AddItem(622, 1) -- 【物品】賽特得到葡萄
    ESC.Delay(1500)

    ESC.Unlock(129)
    ESC.ChangeQQ(129, 8)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS3205')) -- ESS=這老兄是怎麼搞的？也不聽人講完話…
    ESC.WaitDLG(1)
    Scene.QuestOff(54)
    ESC.Unlock(129)
    GameFunc.FlagOn(1029) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T129P1_22::
    ESC.Caption(129)
    Scene.Print_W(129,9007,8*2,3*2,StringDB('ESS3206')) -- ESS=哈哈哈，我就知道%C2蒙妮卡%C4一定是...
    ESC.WaitDLG(129)
    ESC.Unlock(129)
end




-- ───────────────────────────────────【地下牢房中的囚犯們】

function Scene.TALK130()
    if GameFunc.GetFlag(297) then goto T130A end
    ESC.RMLock()
    Scene.MoveHero(61, 35, 4)
    MediaFunc.PlaySound(171)
    ESC.BatchMove(1,    130, 56, 34)
    GameFunc.FlagOn(297)
    ESC.ChangeDIR(1, 6)
    Scene.SAR_CSEL(Const.TOWN , 1)
    --------------------------------------------

    ESC.SetRoleSpeed(221, 0)
    ESC.SetRoleSpeed(222, 0)
    ESC.SetRoleSpeed(219, 0)
    ESC.SetRoleSpeed(220, 0)
    ESC.ChangeQQ(221, Const.WALK)
    ESC.ChangeQQ(222, Const.WALK)
    ESC.ChangeQQ(219, Const.WALK)
    ESC.ChangeQQ(220, Const.WALK)
    ESC.BatchMove2(4,
    221, 48, 35, -1, 0, 3,
    222, 50, 38, -1, 0, 3,
    219, 58, 39, -1, 0, 7,
    220, 53, 41, -1, 0, 7)
    ESC.ChangeDIR(221, 3)
    ESC.ChangeDIR(222, 3)
    ESC.ChangeDIR(219, 7)
    ESC.ChangeDIR(220, 7)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1) -- 賽特抱手臂
    Scene.SAR_ACTCycle(1, 0)

    ESC.Caption(219)
    Scene.Print_W(219,9007,8*2,3*2,StringDB('ESS3207')) -- ESS=謝謝…太感謝您了，太感謝您救我們出來了…...
    ESC.WaitDLG(219)


    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1) -- 賽特抱手臂循環
    Scene.SAR_ACTCycle(1, 0)
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3208')) -- ESS=我要去%C2東方%C4，你們裏頭有誰是%...
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 2) -- 賽特閉目聽
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(220)
    Scene.Print_W(220,9007,9*2,3*2,StringDB('ESS3209')) -- ESS=有…有啊，大人！%N只是…不久前他們才剛...
    ESC.WaitDLG(220)

    ESC.ChangeDIR(1, 2) -- 賽特按下巴
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3210')) -- ESS=剛剛被帶走？%N他們被帶到哪兒去了？
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 2) -- 賽特按下巴
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(221)
    Scene.Print_W(221,9007,11*2,4*2,StringDB('ESS3211')) -- ESS=那…那些法蘭克的騎士把他們都全綁起來押走...
    ESC.WaitDLG(221)

    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(222)
    Scene.Print_W(222,9007,10*2,4*2,StringDB('ESS3212')) -- ESS=是…是啊，如不是大人您現在來救了我們，接...
    ESC.WaitDLG(222)

    if GameFunc.GetFlag(227) then goto T130 end

    ESC.ChangeDIR(1, 2) -- 賽特抱臂張目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 1)

    ESC.ScrollMap(-24, -4, 8, 2)
    ESC.ScrollMapWait()
    ESC.Delay(500)
    ESC.ScrollMap(24, 4, 8, 2)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3213')) -- ESS=喂，那邊還有一個老人，他為什麼不肯逃出來...
    ESC.WaitDLG(1)

    ESC.Caption(221)
    Scene.Print_W(221,9007,7*2,3*2,StringDB('ESS3214')) -- ESS=那傢伙是%C2巫師%C4，不過病得快要死...
    ESC.WaitDLG(221)

    ESC.ChangeDIR(1, 2) -- 賽特按下巴
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(1)
    Scene.Print_W(1,9007,4*2,1*2,StringDB('ESS3215')) -- ESS=巫師…？
    ESC.WaitDLG(1)

    ESC.Caption(221)
    Scene.Print_W(221,9007,9*2,3*2,StringDB('ESS3216')) -- ESS=別理他，聽說他是真正的巫師，很陰陽怪氣的...
    ESC.WaitDLG(221)

    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 1)
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS3217')) -- ESS=巫師也是人，待會我去看看…
    ESC.WaitDLG(1)

    -------------------------------------------------
::T130::

    ESC.Caption(219)
    Scene.Print_W(219,9007,10*2,3*2,StringDB('ESS3218')) -- ESS=…謝謝您救了我們，這裏很危險，我們必須趕...
    ESC.WaitDLG(219)

    ESC.Caption(220)
    Scene.Print_W(220,9007,9*2,3*2,StringDB('ESS3219')) -- ESS=…是啊，您也要趕快離開，小心騎士團的人回...
    ESC.WaitDLG(220)

    ESC.SetRoleSpeed(221, 0)
    ESC.SetRoleSpeed(222, 0)
    ESC.SetRoleSpeed(219, 0)
    ESC.SetRoleSpeed(220, 0)

    ESC.ChangeQQ(221, Const.WALK)
    ESC.ChangeQQ(222, Const.WALK)
    ESC.ChangeQQ(219, Const.WALK)
    ESC.ChangeQQ(220, Const.WALK)
    ESC.BatchMove(4,
    221, 45, 47,
    222, 47, 47,
    219, 45, 46,
    220, 47, 46)
    ESC.RoleDisable(221)
    ESC.RoleDisable(222)
    ESC.RoleDisable(219)
    ESC.RoleDisable(220)

    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(1, Const.WALK)
    Scene.QuestOff(50)

::T130A::
    ESC.RMUNlock()
end




-- ───────────────────────────────────【法蘭克護教騎士團巡邏兵】
-- 開關1040、1041
function Scene.TALK131()
    ESC.RoleLock(131)
    if GameFunc.GetFlag(100) then goto T131FIRE end   -- ★100=火刑場開始
    if GameFunc.GetFlag(1042) then goto T131P1_1 end  -- ★1042=第一階段第3循環對話
    if GameFunc.GetFlag(1041) then goto T131P1_2 end  -- ★1041=第一階段第2循環對話
    if GameFunc.GetFlag(1040) then goto T131P1_1 end  -- ★1040=第一階段第1循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1041)
    ESC.Caption(131)
    Scene.Print_W(131,9007,11*2,4*2,'%S1'..StringDB('ESS3220')) -- ESS=可惡，前幾天我們看到還好幾個%C2異教徒...
    ESC.WaitDLG(131)

    Scene.Print_W(131,9007,9*2,4*2,StringDB('ESS3221')) -- ESS=哼哼，沒關係！%N老子就在這裏慢慢巡邏，...
    ESC.WaitDLG(131)

    ESC.Unlock(131)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T131P1_1::
    ESC.Caption(131)
    Scene.Print_W(131,9007,10*2,4*2,StringDB('ESS3222')) -- ESS=哼，可恨的異教徒！%N奉上帝之聖名，將你...
    ESC.WaitDLG(131)

    Scene.Print_W(131,9007,10*2,4*2,StringDB('ESS3223')) -- ESS=消滅世上所有的異端、魔鬼！是上帝賦予我們...
    ESC.WaitDLG(131)

    ESC.Unlock(131)
    GameFunc.FlagOn(1041) -- ★打開進入第3循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T131P1_2::
    ESC.Caption(131)
    Scene.Print_W(131,9007,10*2,4*2,StringDB('ESS3224')) -- ESS=喂，小子！！%N看你長得一副%C2異教徒...
    ESC.WaitDLG(131)

    ESC.Caption(1)
    Scene.Print_W(1,9007,12*2,4*2,StringDB('ESS3225')) -- ESS=騎士大人，您一定弄錯了！%N我只是膚色曬...
    ESC.WaitDLG(1)

    ESC.Caption(131)
    Scene.Print_W(131,9007,9*2,4*2,StringDB('ESS3226')) -- ESS=哼…！%N站好！我問你幾個問題，若答不出...
    ESC.WaitDLG(131)

    Scene.Print_W(131,9007,10*2,4*2,StringDB('ESS3227')) -- ESS=快說!!%N上帝是誰？%N上帝一共用幾天...
    ESC.WaitDLG(131)

    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS3228')) -- ESS=聖經上說上帝是%C2耶和華%C4，創造世...
    ESC.WaitDLG(1)

    Scene.Print_W(131,9007,10*2,3*2,StringDB('ESS3229')) -- ESS=哼，算你狗運…%N走開走開！沒事就少在這...
    ESC.WaitDLG(131)

    ESC.Unlock(131)
    GameFunc.FlagOn(1042) -- ★進入第3循環對話
    ESC.SceneBreak()

-- ●火刑場對話
::T131FIRE::
    ESC.Caption(131)
    Scene.Print_W(131,9007,10*2,4*2,StringDB('ESS3230')) -- ESS=廣場%C4那兒已經要先處死一些邪教徒，我...
    ESC.WaitDLG(131)

    Scene.Print_W(131,9007,10*2,3*2,StringDB('ESS3231')) -- ESS=上帝眼中容不下絲毫的罪惡，消滅魔鬼是我們...
    ESC.WaitDLG(131)

    ESC.Unlock(131)
end



-- ─────────────────────────────────────【吟遊詩人希姆】（HIM）
-- 角色132，開關1030

function Scene.TALK132()
    ESC.RoleLock(132)
    if GameFunc.GetFlag(101) then goto T132MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T132FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1030) then goto T132P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1030)
    ESC.Caption(132)
    Scene.Print_W(132,9007,10*2,4*2,StringDB('ESS3232')) -- ESS=我以前聽說水都威尼斯是由許多%C2小島%...
    ESC.WaitDLG(132)

    ESC.Caption(132)
    Scene.Print_W(132,9007,10*2,4*2,StringDB('ESS3233')) -- ESS=而且威尼斯有許多由%C2東方來的商人%C...
    ESC.WaitDLG(132)

    Scene.Print_W(132,9007,9*2,4*2,StringDB('ESS3234')) -- ESS=以前我根本不相信，親眼來一瞧，發現真如傳...
    ESC.WaitDLG(132)

    ESC.Unlock(132)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T132P1_1::
    ESC.Caption(132)
    Scene.Print_W(132,9007,11*2,4*2,StringDB('ESS3235')) -- ESS=老弟，你相信嗎？%N世界上有一種叫%C2...
    ESC.WaitDLG(132)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS3236')) -- ESS=…『%C2紙%C4』？%N比布薄，又可以...
    ESC.WaitDLG(1)

    ESC.Caption(132)
    Scene.Print_W(132,9007,11*2,4*2,StringDB('ESS3237')) -- ESS=是真的！%N上次一位%C2拜占庭%C4的...
    ESC.WaitDLG(132)

    Scene.Print_W(132,9007,11*2,4*2,StringDB('ESS3238')) -- ESS=他說這是%C2大地邊緣%C4一個叫做%C...
    ESC.WaitDLG(132)

    Scene.Print_W(132,9007,11*2,4*2,StringDB('ESS3239')) -- ESS=那兒的人穿的衣服，都是美麗奪目的%C2絲...
    ESC.WaitDLG(132)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,11*2,5*2,'%C0'..StringDB('ESS3240')) -- ESS=哦？%N如果真有這樣一個國家，我倒真想過...
    ESC.WaitDLG(1)

    ESC.Unlock(132)
    GameFunc.FlagOff(1030)
    ESC.SceneBreak()

-- ●火刑場對話
::T132FIRE::
    ESC.Caption(132)
    Scene.Print_W(132,9007,11*2,3*2,StringDB('ESS3241')) -- ESS=聽說那些騎士和教士，準備在%C2廣場%C...
    ESC.WaitDLG(132)

    Scene.Print_W(132,9007,10*2,3*2,StringDB('ESS3242')) -- ESS=真誇張，連城裏的教會也助紂為虐，一起陷害...
    ESC.WaitDLG(132)

    ESC.Unlock(132)
    ESC.SceneBreak()

::T132MAPS::

    ESC.Caption(132)
    Scene.Print_W(132,9007,11*2,3*2,StringDB('ESS3243')) -- ESS=聽說威尼斯%C2水軍%C4的實力滿強的，...
    ESC.WaitDLG(132)

    Scene.Print_W(132,9007,11*2,4*2,StringDB('ESS3244')) -- ESS=因為這裏很繁榮，稅收豐富，連%C2教皇閣...
    ESC.WaitDLG(132)

    ESC.Unlock(132)
end



-- ──────────────────────────────────────────【法蘭西絲卡】
-- 角色133，開關1038、1039

function Scene.TALK133()
    ESC.RoleLock(108)

    if GameFunc.GetFlag(101) then goto T133P1_0 end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T133FIRE end   -- ★火刑場對話
    if GameFunc.GetFlag(1038) then goto T133P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
::T133P1_0::
    if GameFunc.GetFlag(1038) then goto T133P1_1 end  -- ★是否要進入循環對話
    GameFunc.FlagOn(1038)

    ESC.Caption(133)
    Scene.Print_W(133,9007,9*2,3*2,StringDB('ESS3245')) -- ESS=奇怪，聖經上不是禁止我們雕刻任何%C2偶...
    ESC.WaitDLG(133)

    Scene.Print_W(133,9007,8*2,3*2,StringDB('ESS3246')) -- ESS=為什麼教堂內又都有好多的%C2聖像%C4...
    ESC.WaitDLG(133)

    ESC.Unlock(133)
    ESC.SceneBreak()

-- ●第一階段   循環對話
::T133P1_1::
    if GameFunc.GetFlag(1039) then goto T133P1_2 end  -- ★是否進入第2循環對話的開關

    ESC.Caption(133)
    Scene.Print_W(133,9007,8*2,3*2,StringDB('ESS3247')) -- ESS=奇怪，上帝不是告訴我們，要%C2愛人如己...
    ESC.WaitDLG(133)

    Scene.Print_W(133,9007,10*2,3*2,StringDB('ESS3248')) -- ESS=為什麼先知%C2摩西%C4和%C2約書亞...
    ESC.WaitDLG(133)

    ESC.Unlock(133)
    GameFunc.FlagOn(1039) -- ★打開進入第2循環對話的開關
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T133P1_2::
    ESC.Caption(133)
    Scene.Print_W(133,9007,10*2,3*2,StringDB('ESS3249')) -- ESS=奇怪，主耶穌不是告訴我們，要%C2拋下財...
    ESC.WaitDLG(133)

    Scene.Print_W(133,9007,9*2,4*2,StringDB('ESS3250')) -- ESS=為什麼教會會越來越有錢，%C2教皇%C4...
    ESC.WaitDLG(133)
    ESC.Unlock(133)
    GameFunc.FlagOff(1039)
    GameFunc.FlagOff(1038)
    ESC.SceneBreak()

-- ●火刑場對話
::T133FIRE::
    ESC.Caption(133)
    Scene.Print_W(133,9007,8*2,3*2,StringDB('ESS3251')) -- ESS=奇怪，主耶穌不是告訴我們，要%C2愛人如...
    ESC.WaitDLG(133)

    Scene.Print_W(133,9007,10*2,3*2,StringDB('ESS3252')) -- ESS=為什麼%C2先知%C4和%C2教皇%C4...
    ESC.WaitDLG(133)

    ESC.Unlock(133)
    ESC.SceneBreak()

-- ●火刑場對話
    ESC.Caption(133)
    Scene.Print_W(133,9007,8*2,3*2,StringDB('ESS3247')) -- ESS=奇怪，上帝不是告訴我們，要%C2愛人如己...
    ESC.WaitDLG(133)

    Scene.Print_W(133,9007,10*2,3*2,StringDB('ESS3253')) -- ESS=為什麼%C2先知%C4和%C2教皇%C4...
    ESC.WaitDLG(133)

    ESC.Unlock(133)
end



-- ────────────────────────────────────【安東妮亞大嬸】（ANTONIA）
function Scene.TALK134()
    ESC.RoleLock(134)

    if GameFunc.GetFlag(101) then goto T134MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T134FIRE end   -- ★火刑場開始

    ESC.Caption(134)
    Scene.Print_W(134,9007,9*2,3*2,StringDB('ESS3254')) -- ESS=要遠離那些異教徒，因為他們都是%C2撒旦...
    ESC.WaitDLG(134)

    Scene.Print_W(134,9007,11*2,4*2,StringDB('ESS3255')) -- ESS=幸好教會找來了%C2護教騎士團%C4來，...
    ESC.WaitDLG(134)

    ESC.Unlock(134)
    ESC.SceneBreak()

-- ●火刑場對話
::T134FIRE::
    ESC.Caption(134)
    Scene.Print_W(134,9007,10*2,3*2,StringDB('ESS3256')) -- ESS=太好了！%N教會終於要燒死那些外國來的魔...
    ESC.WaitDLG(134)

    ESC.Caption(134)
    Scene.Print_W(134,9007,9*2,3*2,StringDB('ESS3257')) -- ESS=我完全支持教會的做法！主啊，願榮光歸於您...
    ESC.WaitDLG(134)

    ESC.Unlock(112)
    ESC.SceneBreak()

-- ●火刑場對話
::T134MAPS::
    ESC.Caption(134)
    Scene.Print_W(134,9007,9*2,3*2,StringDB('ESS3258')) -- ESS=真是可惜啊，最後居然沒能夠燒死那些異教徒...
    ESC.WaitDLG(134)

    ESC.Caption(134)
    Scene.Print_W(134,9007,11*2,3*2,StringDB('ESS3259')) -- ESS=我們的罪深重了，但願上帝赦免我們，不要讓...
    ESC.WaitDLG(134)

    ESC.Unlock(112)
end



-- ─────────────────────────────────────【小男孩約翰】（JOHN）
function Scene.TALK135()
    ESC.RoleLock(135)
    if GameFunc.GetFlag(101) then goto T135MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T135FIRE end   -- ★火刑場開始

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3260')) -- ESS=怎麼啦，小弟？%N為什麼一直跑來跑去的？...
    ESC.WaitDLG(1)

    ESC.Caption(135)
    Scene.Print_W(135,9007,7*2,2*2,StringDB('ESS3261')) -- ESS=最近好無聊哦！大哥哥！
    ESC.WaitDLG(135)

    Scene.Print_W(135,9007,10*2,3*2,StringDB('ESS3262')) -- ESS=好多小朋友都不敢出門，害人家已經好久都找...
    ESC.WaitDLG(135)

    ESC.Unlock(135)
    ESC.SceneBreak()

-- ●火刑場對話
::T135FIRE::
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3260')) -- ESS=怎麼啦，小弟？%N為什麼一直跑來跑去的？...
    ESC.WaitDLG(1)

    ESC.Caption(135)
    Scene.Print_W(135,9007,11*2,4*2,StringDB('ESS3263')) -- ESS=那些騎士叔叔說，要在%C2大廣場%C4上...
    ESC.WaitDLG(135)

    ESC.Unlock(112)
    ESC.SceneBreak()

-- ●火刑場結束
::T135MAPS::
    ESC.Caption(135)
    Scene.Print_W(135,9007,10*2,4*2,StringDB('ESS3264')) -- ESS=好好玩哦！%N有時這裏會有三隻%C2狗狗...
    ESC.WaitDLG(135)

    ESC.Unlock(112)
end



-- ───────────────────────────────────【翡翠商人傑洛姆】（JEROME）
-- 角色136，開關1036、1037

function Scene.TALK136()
    ESC.RoleLock(136)
    if GameFunc.GetFlag(101) then goto T136MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T136FIRE end   -- ★火刑場開始
    if GameFunc.GetFlag(1036) then goto T136P1_1 end  -- ★是否要進入循環對話

-- ●第一階段   主對話
    GameFunc.FlagOn(1036)
    ESC.Caption(136)
    ESC.Print(136,9007 ,StringDB('ESS3265')) -- ESS=哼，這一次那些%C2法蘭克王國%C4來的...
    ESC.WaitDLG(136)
    ESC.SceneBreak()

    Scene.Print_W(136,9007,10*2,3*2,StringDB('ESS3266')) -- ESS=他們把從%C2波斯%C4特地來我們威尼斯...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,11*2,4*2,StringDB('ESS3267')) -- ESS=前一陣子是%C2海盜%C4橫行，現在又是...
    ESC.WaitDLG(136)

    ESC.Unlock(136)
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T136P1_1::
    if GameFunc.GetFlag(1037) then goto T136P1_2 end  -- ★是否進入第2循環對話的開關
    ESC.Caption(136)
    Scene.Print_W(136,9007,9*2,3*2,StringDB('ESS3268')) -- ESS=哼，這一次海盜猖獗，我們的%C2護民官%...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,11*2,3*2,StringDB('ESS3269')) -- ESS=最後他去找來法蘭克王國的%C2騎士團%C...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,12*2,4*2,StringDB('ESS3270')) -- ESS=海盜至少有我們%C2威尼斯水軍%C4可以...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,9*2,3*2,StringDB('ESS3271')) -- ESS=真可恨，護民官這一次真是瞎了眼引狼入室了...
    ESC.WaitDLG(136)

    ESC.Unlock(136)
    GameFunc.FlagOn(1037) -- ★打開進入第2循環對話的
    ESC.SceneBreak()

-- ●第一階段   第2循環對話
::T136P1_2::
    ESC.Caption(136)
    Scene.Print_W(136,9007,7*2,3*2,StringDB('ESS3272')) -- ESS=我們威尼斯是完全靠%C2貿易%C4為生的...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,11*2,4*2,StringDB('ESS3273')) -- ESS=那些騎士團每天就只會在那裏亂抓%C2不信...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,8*2,3*2,StringDB('ESS3274')) -- ESS=這些騎士再不滾蛋，我們威尼斯遲早會完蛋的...
    ESC.WaitDLG(136)

    ESC.Unlock(136)
    GameFunc.FlagOff(1037) -- ★關閉進入第2循環對話的開關
    ESC.SceneBreak()

-- ●火刑場對話
::T136FIRE::
    ESC.Caption(136)
    Scene.Print_W(136,9007,9*2,3*2,StringDB('ESS3275')) -- ESS=可惡，這些%C2騎士團%C4的混帳，居然...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,11*2,4*2,StringDB('ESS3276')) -- ESS=這次要被燒死的%C2阿拉伯人%C4都是我...
    ESC.WaitDLG(136)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,2*2,StringDB('ESS3277')) -- ESS=你們為什麼不試著反抗看看？
    ESC.WaitDLG(1)

    Scene.Print_W(136,9007,11*2,4*2,StringDB('ESS3278')) -- ESS=之前有人反抗過，結果被教會%C2開除教籍...
    ESC.WaitDLG(136)

    ESC.Unlock(136)
    ESC.SceneBreak()

-- ●火刑場結束
::T136MAPS::
    ESC.Caption(136)
    Scene.Print_W(136,9007,10*2,3*2,StringDB('ESS3279')) -- ESS=我真擔心那些該死的%C2騎士團%C4，還...
    ESC.WaitDLG(136)

    Scene.Print_W(136,9007,11*2,3*2,StringDB('ESS3280')) -- ESS=頂著%C2愛上帝%C4之名，就做什麼壞事...
    ESC.WaitDLG(136)

    ESC.Unlock(136)
end



-------------------------------------------------------------------
function Scene.TALK137()
    Scene.GetItem(971, '%T971.' ) -- ＊得銅戒指
    ESC.RoleDisable(137)
    ESC.RoleDisable(140)
    GameFunc.FlagOn(311)
end



-- ───────────────────────────────────────────【婦人仙蒂】
function Scene.TALK138()
    if GameFunc.GetFlag(101) then goto T138MAPS end   -- ★火刑場結束
    if GameFunc.GetFlag(100) then goto T138FIRE end   -- ★火刑場開始

    ESC.RoleLock(138)


    ESC.Caption(138)
    Scene.Print_W(138,9007,9*2,3*2,StringDB('ESS3281')) -- ESS=真是的，我只不過想買一點%C2香料%C4...
    ESC.WaitDLG(138)


    Scene.Print_W(138,9007,11*2,4*2,StringDB('ESS3282')) -- ESS=真奇怪啊，以前我們威尼斯很少缺什麼東西的...
    ESC.WaitDLG(138)


    ESC.Unlock(138)
    ESC.SceneBreak()


-- ●火刑場開始

::T138FIRE::

    ESC.Caption(138)
    Scene.Print_W(138,9007,9*2,3*2,StringDB('ESS3283')) -- ESS=真討厭，我上次訂的%C2絲絹長裙%C4，...
    ESC.WaitDLG(138)


    Scene.Print_W(138,9007,8*2,3*2,StringDB('ESS3284')) -- ESS=老闆說外國商人最近都不敢來了，好討厭哦！...
    ESC.WaitDLG(138)


    ESC.Unlock(138)
    ESC.SceneBreak()


-- ●火刑場結束

::T138MAPS::

    ESC.Caption(138)
    Scene.Print_W(138,9007,10*2,3*2,StringDB('ESS3285')) -- ESS=真討厭，我上次訂的瑪瑙項鍊，到現在都還沒...
    ESC.WaitDLG(138)


    Scene.Print_W(138,9007,9*2,3*2,StringDB('ESS3286')) -- ESS=聽說外國商人都不敢來威尼斯了，好討厭哦！...
    ESC.WaitDLG(138)


    ESC.Unlock(138)
end



-- ─────────────────────────────────────【領主修果大人】（HUGO）
function Scene.TALK139()
    ESC.RoleLock(139)

    if GameFunc.GetFlag(1051) then goto T139OVER end  -- ★布魯諾得到寶石


    ESC.Caption(139)
    Scene.Print_W(139,9007,8*2,3*2,StringDB('ESS3287')) -- ESS=唉，再過兩天我就要去羅馬謁見%C2教皇閣...
    ESC.WaitDLG(139)


    Scene.Print_W(139,9007,13*2,4*2,''..StringDB('ESS3288')) -- ESS=騎士團的人把外地商人都抓走了，這一下我要...
    ESC.WaitDLG(139)


    ESC.Unlock(139)
    ESC.SceneBreak()


::T139OVER::

    ESC.Caption(139)
    Scene.Print_W(139,9007,11*2,4*2,StringDB('ESS3289')) -- ESS=拜占廷%C4（東羅馬帝國）的稅越抽越重，...
    ESC.WaitDLG(139)


    ESC.Unlock(139)
end




-- ──────────────────────────────────────────【商店老闆】
-- 角色185，開關1046


function Scene.TALK185()
    ESC.RoleLock(185)

    if GameFunc.GetFlag(1046) then goto T185P1_1 end  -- ★判斷是否進入循環對話

-- ●第一階段   主對話

    ESC.Caption(185)
    Scene.Print_W(185,9007,5*2,2*2,StringDB('ESS3290')) -- ESS=歡迎，歡迎光臨！
    ESC.WaitDLG(185)

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS3291')) -- ESS=我想要買一點東西。
    ESC.WaitDLG(1)

--  ESC.Caption(185)
--  Scene.Print_W,185,9007,9*2,4*2
--  DB '好好好，沒問題！%N'
--  DB '不過最近因為貨源比較緊，'
--  DB '東西可能會比較貴一點！'
--  ESC.WaitDLG(185)

--  ESC.Caption(1)
--  Scene.Print_W,1,9007,7*2,2*2
--  DB '哦？%N'
--  DB '為什麼比較貴？'
--  ESC.WaitDLG(1)

    ESC.Caption(185)
    Scene.Print_W(185,9007,10*2,4*2,StringDB('ESS3292')) -- ESS=最近%C2海盜%C4猖獗，而且%C2外國...
    ESC.WaitDLG(185)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3293')) -- ESS=我明白了，請開價吧！
    ESC.WaitDLG(1)

    GameFunc.FlagOn(1046)
    goto T185A

-- ●第一階段   第1循環對話
::T185P1_1::
    ESC.Caption(185)
    Scene.Print_W(185,9007,7*2,2*2,StringDB('ESS3294')) -- ESS=請問你要買些什麼貨品？
    ESC.WaitDLG(185)
    if GameFunc.GetFlag(21) then goto T185B end
::T185A::
    ESC.OpenStore(621, 624, 647, 698, 872, 906, 971, 1003, 1019, 1020, 1032, 1042, 0)
    ESC.Unlock(185)
    ESC.SceneBreak()
::T185B::
    ESC.OpenStore(621, 624, 647, 697, 698, 872, 906, 971, 1003, 1019, 1020, 1032, 1042, 0)
    ESC.Unlock(185)
end




-- ────────────────────────────────────────【地下牢房的士兵】
function Scene.TALK218()

    if GameFunc.GetFlag(245) then goto T189 end

    ESC.StoryMusic(31, 31, 0x4000) -- 【劇情音樂】沈默與恐懼


    ESC.RMLock()
    ESC.RoleLock(218) -- 把218LOCK不動
    ESC.RoleLock(189) -- 把218LOCK不動
    ESC.ChangeQQ(218, Const.STAND)
    ESC.ChangeQQ(189, Const.STAND)
    ESC.TurnFace(218, 1) -- 把兩士兵轉面對主角
    ESC.TurnFace(189, 1)
    ESC.ChangeDIR(1, 0)

    ESC.AddHeadSign(189, 0)
    ESC.AddHeadSign(218, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(189)
    ESC.DelHeadSign(218)

    ESC.Caption(189)
    Scene.Print_W(189,9007,7*2,2*2,StringDB('ESS3295')) -- ESS=你是誰?!%N怎麼進來的？！
    ESC.WaitDLG(189)


    ESC.Caption(218)
    Scene.Print_W(218,9007,7*2,2*2,StringDB('ESS3296')) -- ESS=異教徒！是異教徒來劫獄！
    ESC.WaitDLG(218)

    ESC.ChangeQQ(218, 8)
    ESC.ChangeQQ(189, 8)

    ESC.SetRoleSpeed(189, 0)
    ESC.SetRoleSpeed(218, 0)
    ESC.SetMoveHISpeed(189)
    ESC.SetMoveHISpeed(218)

    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍
    ESC.SetPos(189, 49, 43)
    ESC.SetPos(218, 41, 43)

::T189A::
    ESC.BatchStep( 2,   189, 218)
    if ESC.RoleReach(189) then goto T189B end
    if not ESC.RoleReach(218) then goto T189A end
       --  -- 進入戰鬥

::T189B::
    ESC.StartBattle('BS29')
    ESC.RoleDisable(189)
    ESC.RoleDisable(218)

    ESC.StoryMusic(31, 23, 0x4000) -- 【劇情音樂】沈默與恐懼
    ESC.TakeActData(1, -1, 76, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, Const.STAND, 2)

    GameFunc.FlagOn(245)
    ESC.RMUNlock()
::T189::
end



-- ───────────────────────────────────────【威尼斯酒店老闆】
function Scene.TALK191()
    ESC.TurnFace(1, 191)
    ESC.TurnFace(191, 1)
    if GameFunc.GetFlag(265) then goto T191D end

    if GameFunc.GetFlag(265) then goto T191D end
    ESC.RMLock()

    Scene.AutoPrint_W(Const.TOWN,StringDB('ESS3297')) -- ESS=老哥，幹得好！%N你真是幹了大快人心的事...

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,4*2,StringDB('ESS3298')) -- ESS=哦？%N既然大快人心，你們威尼斯人為什麼...
    ESC.WaitDLG(1)

    Scene.AutoPrint_W(Const.TOWN,StringDB('ESS3299')) -- ESS=……

    ESC.RMUNlock()
    GameFunc.FlagOn(265)
    ESC.SceneBreak()

::T191D::
    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,StringDB('ESS3300')) -- ESS=生意真是差透了，真懷念以前熱熱鬧鬧的樣子...
    ESC.WaitDLG(191)
end



-- ──────────────────────────────────────【威尼斯酒店老闆娘】
function Scene.TALK192()
    ESC.TurnFace(192, 1)
    ESC.TurnFace(1, 192)
    if GameFunc.GetFlag(267) then goto T192A end
    ESC.RMLock()


    ESC.Caption(192)
    Scene.Print_W(192,9007,8*2,3*2,StringDB('ESS3301')) -- ESS=生意真是差透了，最近一天都沒有幾個人…
    ESC.WaitDLG(192)


    ESC.RMUNlock()
    GameFunc.FlagOn(267)
    ESC.SceneBreak()


::T192A::
    if GameFunc.GetFlag(268) then goto T192B end

    ESC.Caption(192)
    Scene.Print_W(192,9007,7*2,2*2,StringDB('ESS3302')) -- ESS=嗨，客人！%N要不要來一杯？
    ESC.WaitDLG(192)


    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,1*2,StringDB('ESS3303')) -- ESS=不，謝了！
    ESC.WaitDLG(1)


    GameFunc.FlagOn(268)
    ESC.SceneBreak()


::T192B::

    ESC.Caption(191)
    Scene.Print_W(191,9007,9*2,3*2,StringDB('ESS3304')) -- ESS=老天，生意真是差到底了，不知什麼時候才會...
    ESC.WaitDLG(191)


    ESC.Caption(192)
    Scene.Print_W(192,9007,7*2,3*2,StringDB('ESS3305')) -- ESS=東方商人不來，生意就永遠別好起來…
    ESC.WaitDLG(192)


    GameFunc.FlagOff(268)
end



-- ───────────────────────────────────────【武器店老闆之女】
function Scene.TALK193()
    ESC.RoleLock(193)

    ESC.Caption(193)
    Scene.Print_W(193,9007,7*2,3*2,StringDB('ESS3306')) -- ESS=我爸爸～是全威尼斯城最好的鐵匠。
    ESC.WaitDLG(193)

    Scene.Print_W(193,9007,10*2,3*2,StringDB('ESS3307')) -- ESS=他做的%C2羽翼劍%C4，連外國商人都特...
    ESC.WaitDLG(193)

    ESC.Unlock(193)
end



-- ───────────────────────────────────────【戴安娜】（DIANA）
function Scene.TALK194()
    ESC.RoleLock(263)


    ESC.Caption(263)
    Scene.Print_W(263,9007,10*2,3*2,StringDB('ESS3308')) -- ESS=我們%C2威尼斯%C4因為外國商人多，常...
    ESC.WaitDLG(263)


    Scene.Print_W(263,9007,10*2,4*2,StringDB('ESS3309')) -- ESS=聽說在%C2大海的彼端%C4，有比我們這...
    ESC.WaitDLG(263)


    ESC.Unlock(263)
end



-- ──────────────────────────────────────────【旅館老闆】
-- 開關1047


function Scene.TALK197()
    local select
    ESC.RoleLock(197)

-- ●第一階段   主對話

    ESC.Caption(197)
    Scene.Print_W(197,9007,5*2,2*2,StringDB('ESS3310')) -- ESS=歡迎，%N歡迎光臨！
    ESC.WaitDLG(197)

    if GameFunc.GetFlag(1047) then goto T197P1_1 end  -- ★判斷是否進入循環對話

    GameFunc.FlagOn(1047)

-- ●循環對話
::T197P1_1::
    ESC.Caption(197)
    Scene.Print_W(197,9007,10*2,5*2,StringDB('ESS3311')..'%N'..StringDB('SESS2')) -- ESS=請問您今晚要投宿嗎？我們這裏一夜價錢是%...
    ESC.WaitDLG(197)
    select = ESC.GetBTNSelect()
    if select == 1 then
        if Scene.AUTO_VCMONEY(15,197,9007) then return end
        ESC.Caption(197)
        Scene.Print_W(197,9007,10*2,4*2,StringDB('ESS3312')) -- ESS=謝謝您！%N您的房間在%C2二樓右邊%C...
        ESC.WaitDLG(197)
        ESC.Unlock(197)

        GameFunc.PlayerGolds = GameFunc.PlayerGolds - 15   -- ●賽特扣除銀幣15枚
        ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
        ESC.FadeWait()
        ESC.Progress_Off()
        ESC.GotoMap(84, 35, 26, 1, 0, 1)
        Scene.FullHeal()    -- ●賽特補血
        ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 15)
        ESC.FadeWait()

    elseif select == 2 then
        ESC.Caption(197)
        Scene.Print_W(197,9007,8*2,3*2,StringDB('ESS3313')) -- ESS=謝謝您，如有需要，請務必再光臨本旅店！
        ESC.WaitDLG(197)

        ESC.Unlock(185)
    end
end



-- ─────────────────────────────────────【投宿旅館的外地教士】

function Scene.TALK198()
    ESC.RoleLock(198)


    if GameFunc.GetFlag(101) then
        ESC.RoleLock(198)

        ESC.Caption(198)
        Scene.Print_W(198,9007,9*2,3*2,StringDB('ESS3314')) -- ESS=這邊的%C2法蘭克關隘%C4突然禁止通過...
        ESC.WaitDLG(198)


        ESC.Unlock(198)
        ESC.SceneBreak()
end

    ESC.Caption(198)
    Scene.Print_W(198,9007,9*2,3*2,StringDB('ESS3315')) -- ESS=奇怪，以前我各地旅行，都可以投宿當地的教...
    ESC.WaitDLG(198)


    Scene.Print_W(198,9007,10*2,3*2,StringDB('ESS3316')) -- ESS=可是這裏的教會卻一大堆騎士在守衛，也不准...
    ESC.WaitDLG(198)


    ESC.Unlock(198)
end



-- ──────────────────────────────────────────【醉倒的酒客】
function Scene.TALK202()
    if GameFunc.GetFlag(7021) then goto T202A end -- 酒客對話
    if GameFunc.GetFlag(266) then goto T202 end   -- 循環對話
    ESC.Caption(202)
    Scene.Print_W(202,9007,8*2,2*2,StringDB('ESS3317')) -- ESS=…好酒…好酒！%N世間…有酒真好！
    ESC.WaitDLG(202)
    GameFunc.FlagOn(266)
    ESC.SceneBreak()

::T202::
    ESC.Caption(202)
    Scene.Print_W(202,9007,6*2,3*2,StringDB('ESS3318')) -- ESS=我…沒醉！%N我還要再喝…再拿酒來…
    ESC.WaitDLG(202)

    GameFunc.FlagOn(7021)
    ESC.SceneBreak()

::T202A::

    ESC.Caption(202)
    Scene.Print_W(202,9007,11*2,4*2,StringDB('ESS3319')) -- ESS=…可惡…的臭老闆！%N什麼%C2阿拉伯人...
    ESC.WaitDLG(202)

    ESC.Caption(202)
    Scene.Print_W(202,9007,10*2,4*2,StringDB('ESS3320')) -- ESS=該…該死！%N都是…都是那些%C2騎士團...
    ESC.WaitDLG(202)


    GameFunc.FlagOff(266)
    GameFunc.FlagOff(7021)
end


-- ───────────────────────────────────────────【安琪兒】

function Scene.TALK206()
    if GameFunc.GetFlag(100) then goto T206F end  -- 火刑場對話
    if GameFunc.GetFlag(282) then goto T206G end

    Scene.TIK()
    ESC.RMLock()


    ESC.Caption(1)
    Scene.Print_W(1,9007,12*2,3*2,StringDB('ESS3321')) -- ESS=對了，我應該進去問問，也許裏面的旅客，知...
    ESC.WaitDLG(1)



    Scene.MoveHero(17, 23, 4)

    ESC.TurnFace(1, 5)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS3322')) -- ESS=對不起，請問一下…
    ESC.WaitDLG(1)


    ESC.TurnFace(5, 1)
    ESC.Caption(5)
    Scene.Print_W(5,9007,10*2,2*2,StringDB('ESS3323')) -- ESS=賽特！%N你不是賽特嗎？
    ESC.WaitDLG(5)


    Scene.Print_W(5,9007,8*2,3*2,StringDB('ESS3324')) -- ESS=怎麼回事？%N怎麼你也到威尼斯來了？
    ESC.WaitDLG(5)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(1)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS3325')) -- ESS=莉蓮?!%N她怎會在這兒───
    ESC.WaitDLG(1)




    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3326')) -- ESS=對不起，這位小姐，我不是什麼賽特，妳認錯...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 1, 57, 3) -- 賽特倒退兩步
    ESC.BatchMove(1,    1, 20, 23)

    ESC.TakeActData(1, 1, 0, 2) -- 賽特站立在房間
    ESC.Delay(600)

    ESC.ChangeQQ(1, Const.RUN) -- 賽特奪門而跑
    ESC.BatchMove(1,    1, 25, 17)


    ESC.TakeActData(1, -1, Const.STAND, 0) -- 賽特停在門口
    ESC.Delay(200)
    ESC.TakeActData(1, -1, Const.STAND, 2) -- 賽特停在門口
    ESC.Delay(100)
    ESC.TakeActData(1, -1, Const.STAND, 6) -- 賽特停在門口




    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3327')) -- ESS=到底怎麼回事？%N為什麼%C2莉蓮%C4...
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1, Const.WALK) -- 賽特奪門而跑
    ESC.BatchMove(1,    1, 23, 22)
    ESC.TakeActData(1, -1, Const.STAND, 6) -- 賽特停在門口



    ESC.Caption(206)
    Scene.Print_W(206,9007,8*2,3*2,StringDB('ESS3328')) -- ESS=莉蓮！%N剛才那個人到底是怎麼回事？
    ESC.WaitDLG(206)


    ESC.Caption(5)
    Scene.Print_W(5,9007,11*2,3*2,StringDB('ESS3329')) -- ESS=姊姊，我也不曉得啊！%N他長得像想我們故...
    ESC.WaitDLG(5)


    ESC.Caption(206)
    Scene.Print_W(206,9007,9*2,4*2,StringDB('ESS3330')) -- ESS=你是說…那個%C2菲力斯%C4主教的好友...
    ESC.WaitDLG(206)


    ESC.Caption(5)
    Scene.Print_W(5,9007,5*2,2*2,StringDB('ESS3331')) -- ESS=嗯…應該是吧！
    ESC.WaitDLG(5)


    ESC.Caption(206)
    Scene.Print_W(206,9007,10*2,4*2,StringDB('ESS3332')) -- ESS=不管他了！莉蓮！%N妳快點跟我一起回%C...
    ESC.WaitDLG(206)


    ESC.Caption(5)
    Scene.Print_W(5,9007,11*2,3*2,StringDB('ESS3333')) -- ESS=安琪兒姊姊，我不回去！%N我要跟著%C2...
    ESC.WaitDLG(5)


    ESC.Caption(206)
    Scene.Print_W(206,9007,11*2,4*2,StringDB('ESS3334')) -- ESS=莉蓮，別這樣！%N人家是來威尼斯執行任務...
    ESC.WaitDLG(206)



    ESC.TakeActData(1, -1, Const.STAND, 1) -- 賽特轉正面
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(1)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,11*2,6*2,StringDB('ESS3335')) -- ESS=我懂了！%N莉蓮是偷偷跟著心上人一起來威...
    ESC.WaitDLG(1)


    ESC.ChangeQQ(1, Const.WALK) -- 賽特走
    ESC.BatchMove(1,    1, 25, 17)
    ESC.TakeActData(1, -1, Const.STAND, 6) -- 賽特停在走廊

    GameFunc.FlagOn(282)
    ESC.SceneBreak()



::T206G::
    ESC.RMLock()


    Scene.MoveHero(25, 17, 1)

    ESC.TakeActData(1, -1, Const.STAND, 1) -- 賽特轉站立正面
    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS3336')) -- ESS=算了，我還是不要去打攪她們兩個吧…
    ESC.WaitDLG(1)



    ESC.TakeActData(1, -1, Const.STAND, 6) -- 賽特轉立正八點方向
    ESC.Delay(300)


    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3337')) -- ESS=莉蓮%C4和我的事情已經過去了，而且我也...
    ESC.WaitDLG(1)


    ESC.RMUNlock()
    ESC.SceneBreak()


-- ●火刑場對話

::T206F::

    ESC.Caption(206)
    Scene.Print_W(206,9007,11*2,4*2,StringDB('ESS3338')) -- ESS=唉，怎麼辦…%N千里迢迢來威尼斯，好不容...
    ESC.WaitDLG(206)


    Scene.Print_W(206,9007,9*2,4*2,StringDB('ESS3339')) -- ESS=母親在家一定擔心死了，我該怎麼跟她交待呢...
    ESC.WaitDLG(206)


    if not GameFunc.GetFlag(101) then goto T206 end  -- 火刑場結束


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3340')) -- ESS=唉…我是否應該告訴她%C2莉蓮%C5的事...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 0)


::T206::
end



-- ──────────────────────────────────────────【修道院長】
function Scene.TALK207()
    if GameFunc.GetFlag(101) then goto T207 end

    ESC.Caption(207)
    Scene.Print_W(207,9007,10*2,4*2,StringDB('ESS3341')) -- ESS=你幹什麼？%N這裏是修士們沈思修行的地方...
    ESC.WaitDLG(207)


    ESC.SceneBreak()



::T207::
    if GameFunc.GetFlag(102) then ESC.SceneBreak() return end
    GameFunc.FlagOn(10)

    ESC.MusicFadeMode(1, 40) -- 【淡出模式】
    ESC.StoryMusic(38, 38, 0x2000) -- 【劇情配樂】火刑場


    ESC.RMLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 0)
    ESC.BatchMove(1,    1, 23, 32)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 207)



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3342')) -- ESS=你…你是誰？%N怎麼闖進這兒來的？
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 2)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3343')) -- ESS=聽說你們這兒有前往阿拉伯的航海圖，所以特...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)


    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3344')) -- ESS=大膽！！%N原來是異教徒一夥的，%N竟敢...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10095, 2)

    ESC.Delay(200)



    ESC.StartBattle('BS99') -- 對修道院長的戰鬥
    ESC.StoryMusic(33, 33, 0x4000) -- 【劇情配樂】火刑場



    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3345')) -- ESS=等…等一下！%N不要殺我，%N殺死我，你...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3346')) -- ESS=我才不怕什麼上帝不上帝！%N快說！%N那...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3347')) -- ESS=燒…燒了……通通…燒掉了……%N那些都是...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10095, 2)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3348')) -- ESS=燒掉了？%N哼，本想說你交出航海圖，我就...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 3)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3349')) -- ESS=大…大爺…%N我…我還有…兩三份航海圖還...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 2)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3350')) -- ESS=可以！%N你交出來，我就放你一命！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    Scene.GetItem(765, '%T765.' ) -- ●賽特得到航海圖


    ESC.Delay(2000)

    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3351')) -- ESS=哼，%N全部就這些而已？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 5)


    if GameFunc.GetFlag(7088) then goto BATE1 end -- 判斷是不是試玩版
    ESC.Delay(300)


    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3352')) -- ESS=饒、饒命呀…%N還有一份異教徒的%C2六...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 2)



    --------------------------
    --  -
    --  啟動選單煉妖功能    -
    --  -
    --------------------------

    GameFunc.FlagOn(73) -----   73 號開關控制煉妖介面是否出現

    Scene.GetItem(770, '%T770.' ) -- ●賽特得到六芒星陣

    ESC.Delay(2000)
    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3353')) -- ESS=哼，%N還有呢？%N就這樣子而已嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 5)

::BATE1::
    ESC.Delay(300)

    Scene.MBOn(9, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3354')) -- ESS=就、就這些…%N真的…真的就只剩這些而已...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10095, 2)



    ESC.ChangeQQ(207, Const.WALK)
    ESC.SetMoveHISpeed(207)
    ESC.SetRoleSpeed(207, 0)
    ESC.BatchMove(1,    207, 27, 31)
    ESC.SetMoveHISpeed(207)
    ESC.SetRoleSpeed(207, 0)
    ESC.BatchMove(1,    207, 23, 53)
    ESC.RoleDisable(207)
    ESC.TurnFace(1, 207)

    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3355')) -- ESS=哼，%N逃得可真快！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    if GameFunc.GetFlag(7088) then goto BATE2 end -- 判斷是不是試玩版

    Scene.Nicole_On(26, 34, 4)
    ESC.TurnFace(1, 2)

    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3356')) -- ESS=賽特！%N你得到的%C2六星芒%C5是可...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 2)

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3357')) -- ESS=這寶物如何使用？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    Scene.MBOn(8, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3358')) -- ESS=你只要使用%C2煉妖壺%C5這項命令，就...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10002, 2)

    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,1*2,''..StringDB('ESS3359')) -- ESS=賽特學會煉妖壺功能
    Scene.Nicole_Off()

::BATE2::
    GameFunc.FlagOn(102)
    GameFunc.FlagOff(285)
    ESC.RoleDisable(212)
    ESC.RoleDisable(269)

    ESC.MusicFadeMode(2 , 30)
    ESC.StoryMusicOff()
    ESC.ChangeDIR(1, 1)

    MediaFunc.PlaySound(193)
    Scene.MBOn(2, 9, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%C3'..StringDB('ESS3360')) -- ESS=簡易說明：%C5%N玩家將會在介面系統中...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 8)

    GameFunc.FlagOff(10)
    Scene.QuestOff(63)
    Scene.QuestOn(64)

end



-- ────────────────────────────────────【少女蕾娜妲】（RENATA）
function Scene.TALK208()
    ESC.RoleLock(208)


    ESC.Caption(208)
    Scene.Print_W(208,9007,10*2,3*2,StringDB('ESS3361')) -- ESS=我們%C2威尼斯%C4真是一個美麗的水都...
    ESC.WaitDLG(208)


    Scene.Print_W(208,9007,9*2,4*2,StringDB('ESS3362')) -- ESS=我有個朋友說，他去一趟內陸的%C2法蘭克...
    ESC.WaitDLG(208)


    Scene.Print_W(208,9007,11*2,3*2,StringDB('ESS3363')) -- ESS=他說那裏充滿戰爭、迷信又貧窮，真是一個%...
    ESC.WaitDLG(208)



    Scene.Print_W(208,9007,7*2,3*2,StringDB('ESS3364')) -- ESS=真感謝上帝，讓我能生在美麗的威尼斯。
    ESC.WaitDLG(208)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,7*2,5*2,StringDB('ESS3365')) -- ESS=嗯，好像是真的如此…%N
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,12*2,5*2,StringDB('ESS3366')) -- ESS=威尼斯和我們的法蘭克比起來，真的是又美麗...
    ESC.WaitDLG(1)


    Scene.SAR_ACTCycle(1, 1)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Unlock(208)
end



-- ──────────────────────────────────────────【法蘭克關卡】
function Scene.TALK217()
    if GameFunc.GetFlag(1053) then goto T217D end -- 和關隘士兵說過話
    ESC.RMLock()


    ESC.ChangeQQ(1, Const.STAND)
    ESC.Caption(217)
    Scene.Print_W(217,9007,8*2,4*2,StringDB('ESS3367')) -- ESS=不准通過！%N不准通過！%N現在這一個關...
    ESC.WaitDLG(217)


    ESC.TurnFace(1, 217)
    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS3368')) -- ESS=對不起，大爺…%N我在等一位從%C2法蘭...
    ESC.WaitDLG(1)


    ESC.Caption(217)
    Scene.Print_W(217,9007,10*2,3*2,StringDB('ESS3369')) -- ESS=現在所有人一律不准過關！我們在圍捕這一帶...
    ESC.WaitDLG(217)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,4*2,StringDB('ESS3370')) -- ESS=對不起，大爺！%N我必須等著收他的貨物，...
    ESC.WaitDLG(1)


    ESC.AddHeadSign(217, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(217)


    ESC.Caption(217)
    Scene.Print_W(217,9007,11*2,4*2,StringDB('ESS3371')) -- ESS=最近除了一位%C2護教騎士團%C4的騎士...
    ESC.WaitDLG(217)



    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3372')) -- ESS=謝了，大爺！%N您這樣一說，我就知道不用...
    ESC.WaitDLG(1)


    GameFunc.FlagOn(1053) -- 和關隘守衛士兵說過話
    ESC.RMUNlock()
    ESC.SceneBreak()


::T217D::

    ESC.Caption(217)
    Scene.Print_W(217,9007,8*2,3*2,StringDB('ESS3373')) -- ESS=所有人一律不准通過！我們正在圍捕%C2異...
    ESC.WaitDLG(217)

end



--  ############################################################
--  VENIS.NPC / TALK218
--  【地下牢房的士兵】

function Scene.TALK2053()
    ESC.RMLock()

    ESC.RoleLock(189) -- 把218LOCK不動
    ESC.ChangeQQ(189, Const.STAND)
    ESC.TurnFace(218, 1) -- 把兩士兵轉面對主角
    ESC.TurnFace(189, 1)
    ESC.ChangeDIR(1, 0)

    ESC.AddHeadSign(189, 0)
    ESC.AddHeadSign(218, 0)
    ESC.FitSize()
    Scene.M_Print(189, '%S0'..StringDB('ESS3374')) -- ESS=你是誰！怎麼進來的！
    ESC.DelHeadSign(189)
    ESC.DelHeadSign(218)
    ESC.Unlock(189)
    ESC.ChangeQQ(189, 8)


    ESC.FadeScreen(0 , 0 , 0 , -30 , -30 , -30 , 10) -- 轉暗(士兵一邊衝過來,螢幕一邊轉暗
    ESC.BatchMove(2,
    189, 45, 44,
    218, 47, 44)
    ESC.RoleDisable(189)
    ESC.RoleDisable(218)


    ESC.FadeWait()
    ESC.FadeClear()
    GameFunc.FlagOn(245)
    ESC.RMUNlock()
end



-- ──────────────────────────────────────【地下牢房的神秘老人】

function Scene.TALK226()
    if GameFunc.GetFlag(100) then goto T226C end
    if GameFunc.GetFlag(227) then goto T226 end
    if GameFunc.GetFlag(246) then goto T226A end
::T226::
    if Function.GetItemCount(732) == 0 then
        goto T226E
    end -- 判斷身上有無水
    if GameFunc.GetFlag(257) then goto T226D end
::T226E::

    ESC.Caption(226)
    Scene.Print_W(226,9007,4*2,2*2,StringDB('ESS3375')) -- ESS=……水…%N水…
    ESC.WaitDLG(226)

    ESC.SceneBreak()



::T226A::

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 19, 25)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.ChangeDIR(1 , 4)


    ESC.Caption(226)
    Scene.Print_W(226,9007,6*2,2*2,StringDB('ESS3376')) -- ESS=…賽特…%N賽特…
    ESC.WaitDLG(226)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 48, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3377')) -- ESS=咦…這老人是誰？%N為什麼會曉得我的名字...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框
    ESC.DelHead(10001, 48) -- 清除人頭圖


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3378')) -- ESS=你是誰？%N怎麼會知道我的名字？
    ESC.WaitDLG(1)


    ESC.Caption(226)
    Scene.Print_W(226,9007,4*2,2*2,StringDB('ESS3375')) -- ESS=……水…%N水…
    ESC.WaitDLG(226)


    Scene.MBOn(2, 9, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 0, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%C5'..StringDB('ESS3379')) -- ESS=是我聽錯了嗎…？%N我還是先打一些水給他...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0) -- 關閉透明框
    ESC.DelHead(10001, 0) -- 清除人頭圖


    GameFunc.FlagOn(227)
    Scene.QuestOn(60)
    ESC.SceneBreak()



::T226C::
    Scene.WORD_ON_HEAD(Const.TOWN, 2, 40, -60, StringDB('ESS3380')) -- ESS=剩下一堆衣服！
    ESC.SceneBreak()
::T226D::
    ESC.RMLock()
    ESC.ScreenUnlock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 19, 25)
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, Const.STAND)
    GameFunc.FlagOn(10)
    Scene.QuestOff(60)
    ESC.Caption(226)
    Scene.Print_W(226,9007,4*2,2*2,StringDB('ESS3381')) -- ESS=…水…%N…水…
    ESC.WaitDLG(226)


    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3382')) -- ESS=老先生，我幫你打水過來了！
    ESC.WaitDLG(1)


    ESC.Caption(226)
    Scene.Print_W(226,9007,4*2,2*2,StringDB('ESS3375')) -- ESS=……水…%N水…
    ESC.WaitDLG(226)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框（0:左→右）（1:右→左）
    Scene.AddHead(10001, 46, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3383')) -- ESS=搞了半天，%N原來這老傢伙早已神智不清了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框（0:左→右）（1:右→左）
    ESC.DelHead(10001, 46) -- 清除人頭圖


    MediaFunc.PlaySound(225)
    ESC.Delay(600)


    ItemFunc.AddItem(732, -1)

    GameFunc.FlagOn(7000) -- 把地牢拿水阻擋點拿掉
    GameFunc.FlagOn(271) -- 設定一出地勞就觸動妮可劇情開關

    -- 黑畫面，中央出現字幕
    Scene.ScreenSubtitle('ESS3384') -- ESS=飲下水後，老人漸漸清醒過來……

    ESC.ChangeQQ(226, Const.STAND)
    ESC.RoleMove(226, 15, 23)
    Scene.ScreenSubtitleClose() -- 關閉字幕

    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開上透明框（0:左→右）（1:右→左）
    Scene.AddHead(10095, 11, 50, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3385')) -- 神秘老人說（待換） ESS=謝謝…謝謝你…%N年輕人……
    ESC.WaitDLG(1)
    ESC.MBOff(0, 1) -- 關閉透明框
    ESC.DelHead(10095, 11) -- 清除人頭圖


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 0, 560, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3386')) -- ESS=沒什麼，舉手之勞罷了！%N沒事的話我要先...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框
    ESC.DelHead(10001, 0) -- 清除人頭圖



    ESC.MusicFadeMode(2, 60) -- 【淡出】
    ESC.StoryMusic(30, 31, 0x2000) -- 【劇情配樂】凝結的空氣



    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10095, 11, 50, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,'%S1%C5'..StringDB('ESS3387')) -- ESS=等…等等…賽特…你…你別走！%N我…我已...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1) -- 關閉透明框
    ESC.DelHead(10095, 11) -- 清除人頭圖


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 48, 560, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3388')) -- ESS=咦，你真的知道我的名字？%N你到底是什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0) -- 關閉透明框
    ESC.DelHead(10001, 48) -- 清除人頭圖


    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10095, 11, 50, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,StringDB('ESS3389')) -- 神秘老人說（待換） ESS=…賽特…我…要趕快…出去…%N我…我要為...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1) -- 關閉透明框
    ESC.DelHead(10095, 11) -- 清除人頭圖


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 4, 560, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3390')) -- ESS=重要的事情？%N喂，你還沒有回答我，為什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框
    ESC.DelHead(10001, 4) -- 清除人頭圖


    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10095, 11, 50, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(226,9007,140-10,20,16*2,4*2,StringDB('ESS3391')) -- 神秘老人說（待換） ESS=賽特…賽特…%N…我…我時間不多了…我…...
    ESC.WaitDLG(226)
    ESC.MBOff(2, 1) -- 關閉透明框
    ESC.DelHead(10095, 11) -- 清除人頭圖


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 4, 560, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3392')) -- ESS=等一下，你不能直接這樣就出去！%N外頭可...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框
    ESC.DelHead(10001, 4) -- 清除人頭圖


    ESC.SetRoleSpeed(226, 7)
    ESC.ChangeQQ(226, Const.WALK)
    ESC.BatchMove(1,    226, 17, 27)
    ESC.ChangeDIR(1, 1)

    ESC.SetRoleSpeed(226, 4)
    ESC.BatchMove(1,    226, 20, 30)
    ESC.SetRoleSpeed(226, 4)
    ESC.BatchMove(1,    226, 20, 32)
    ESC.SetRoleSpeed(226, 4)
    ESC.BatchMove(1,    226, 24, 37)

    Scene.WORD_ON_HEAD(1, 5, 20, -65, StringDB('ESS3393')) -- ESS=唉…真是的!


    ESC.SetRoleSpeed(226, 4)
    ESC.ChangeQQ(1, 16)
    ESC.BatchMove(2,
    1, 30, 37,
    226, 28, 37)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 43, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3394')) -- ESS=你等一下！%N那些騎士團可能快回來了，我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 43)


    ESC.SetRoleSpeed(226, 4)
    ESC.SetRoleSpeed(1, 1)

    ESC.ChangeQQ(1, Const.RUN)

    ESC.SetPos(1, 47, 48)
    ESC.SetPos(226, 45, 46)

::T226F::
    ESC.BatchStep( 2,   1, 226)
    if not ESC.RoleReach(1) then goto T226F end
    ESC.RoleHide(1)
    ESC.Delay(300)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 15)
    ESC.FadeWait()
    ESC.GotoMap(24, 58, 42, 1, Const.STAND, 1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 7)
    ESC.FadeWait()

    ESC.SetMoveHISpeed(1)
    ESC.SetRoleSpeed(1, 2)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.BatchMove(1,    1, 46, 42)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(350)

    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 70)
    ESC.SeekACT(1, 1) -- 賽特抱手臂
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(600)

    ESC.ChangeRoleMap(226, 24, 0, 57, 42, 589, Const.STAND, 2)

    GameFunc.FlagOn(100)

    Scene.SHOW1() -- 直接跳到妮可誕生
end

-- 火刑場被救下來統一對話
function Scene.T156B()
    ESC.FitSize()
    ESC.Caption(Const.TOWN)
    Scene.M_Print(Const.TOWN, StringDB('ESS3395')) -- ESS=謝謝你！
    ESC.SceneBreak()
end
-- ────────────────────────────────────────【阿拉伯婦人米雅】

function Scene.TALK156()
    if GameFunc.GetFlag(112) then return end
    if GameFunc.GetFlag(110) then goto T156G end
    if GameFunc.GetFlag(7028) then goto T156E end -- 冰山攻過來了,大廳的人被冰起來了
    if GameFunc.GetFlag(7023) then goto T156I end -- 島在搖動
    if GameFunc.GetFlag(7035) then goto T156A end -- 在島上
    if GameFunc.GetFlag(211) then goto T156C end -- 找航海圖
    if GameFunc.GetFlag(101) then Scene.T156B() return end -- 跳到火刑場被救下來統一對話
    ESC.SceneBreak()

::T156C::
    ESC.TurnFace(156, 1)

    ESC.Caption(156)
    Scene.Print_W(156,9007,9*2,3*2,StringDB('ESS3396')) -- ESS=她傷得很重，必須好好靜養才行，不然可能會...
    ESC.WaitDLG(156)

    ESC.ChangeDIR(156, 4)
    ESC.SceneBreak()

::T156A::

    ESC.Caption(156)
    Scene.Print_W(156,9007,9*2,3*2,StringDB('ESS3397')) -- ESS=沒想到居然我們會搭著島旅行耶！
    ESC.WaitDLG(156)

    ESC.SceneBreak()



::T156E::
    Scene.WORD_ON_HEAD(Const.TOWN, 10, 40, -60, StringDB('ESS3398')) -- ESS=她被冰凍起來了。
    ESC.SceneBreak()
::T156G::
    ESC.Caption(156)
    ESC.FitSize()
    Scene.M_Print(156, StringDB('ESS3399')) -- ESS=那些妖怪真可怕！
    ESC.SceneBreak()


::T156I::
    ESC.Caption(156)
    ESC.FitSize()
    Scene.M_Print(156, StringDB('ESS1013')) -- ESS=怎麼回事？
end


-- ─────────────────────────────────────【阿拉伯商人阿丹】
function Scene.TALK158()
    if not GameFunc.GetFlag(101) then goto T158A end
    if GameFunc.GetFlag(216) then goto T158 end
    Scene.PutPERSON(158, 159)
    GameFunc.FlagOn(216)
    Scene.SAR_CSEL(Const.TOWN , 1)
    if GameFunc.GetFlag(215) and GameFunc.GetFlag(216) and GameFunc.GetFlag(217) and GameFunc.GetFlag(218) then
        Scene.PUTMAN()
        ESC.SceneBreak()
end

::T158::
    ESC.SceneBreak()
::T158A::

    Scene.Print_W(158,9007,8*2,2*2,StringDB('ESS3400')) -- ESS=唉…真是不曉得該說些什麼了…
    ESC.WaitDLG(158)

    Scene.Print_W(158,9007,11*2,3*2,StringDB('ESS3401')) -- ESS=我們老老實實來這兒做生意，卻被套上異教徒...
    ESC.WaitDLG(158)
end



-------------------------------------------------------------------

function Scene.TALK159()
    if GameFunc.GetFlag(112) then return end
    if GameFunc.GetFlag(110) then log('T159E') goto T159E end
    if GameFunc.GetFlag(7028) then -- 冰山攻過來了,大廳的人被冰起來了
        Scene.WORD_ON_HEAD(Const.TOWN, 10, 40, -60, StringDB('ESS3402')) -- ESS=他被冰凍起來了。
        return
    end
    if GameFunc.GetFlag(7023) then log('T159G') goto T159G end -- 島在搖動
    if GameFunc.GetFlag(7035) then log('T159A') goto T159A end -- 在島上
    if GameFunc.GetFlag(7036) then log('T159SP') goto T159SP end -- 找水和食物
    if GameFunc.GetFlag(211) then log('T159C') goto T159C end -- 找航海圖
    if GameFunc.GetFlag(101) then log('T156B') Scene.T156B() return end -- 跳到火刑場被救下來統一對話
    ESC.SceneBreak()
::T159C::
    ESC.FitSize()
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3403')) -- ESS=您不是要去找航海圖嘛？
    ESC.FitSize()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS3404')) -- ESS=我回看來看你們準備的怎樣。
    ESC.FitSize()
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3405')) -- ESS=可能要點時間才能準備好。
    ESC.FitSize()
    ESC.Caption(1)
    Scene.M_Print(1, StringDB('ESS3406')) -- ESS=大夥要小心。
    ESC.SceneBreak()
::T159A::
    ESC.FitSize()
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3407')) -- ESS=真希望能快點回到家。
    ESC.SceneBreak()


::T159E::
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3408')) -- ESS=真想不到在這裏也能碰到故鄉的人。
    ESC.SceneBreak()


::T159G::   -- 拿望遠鏡偷看
    if GameFunc.GetFlag(7031) then goto T159GG end -- 已經可以偷看選項打開就跳過
    if GameFunc.GetFlag(106) then goto T159GF end -- 看過冰山動畫

    ESC.Caption(159)
    Scene.Print_W(159,9007,6*2,3*2,'%S0'..StringDB('ESS3409')) -- ESS=怎、怎麼辦？%N島是不是要沈了？
    ESC.WaitDLG(159)


    if not GameFunc.GetFlag(7019) then ESC.SceneBreak() return end -- 如果石像沒有較主角去遼望台就不給他望遠鏡
    if GameFunc.GetFlag(7024) then ESC.SceneBreak() return end -- 拿過望遠鏡了


    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,'%S0'..StringDB('ESS3410')) -- ESS=不曉得…只知道遠方傳來很奇怪的聲音！
    ESC.WaitDLG(1)


    GameFunc.FlagOn(7024) -- 打開瞭望台的點及拿到望遠鏡


    ESC.Caption(159)
    Scene.Print_W(159,9007,9*2,3*2,'%S0'..StringDB('ESS3411')) -- ESS=賽特先生，我這裏有可以看很遠地方的工具請...
    ESC.WaitDLG(159)


    Scene.GetItem(788, '%T788.') -- 望遠鏡
    Scene.SetGameValue(63, 0)

    ESC.SceneBreak()

::T159GF::
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS3412')) -- ESS=你這工具真好用！
    ESC.Caption(159)
    ESC.FitSize()
    Scene.M_Print(159, StringDB('ESS3413')) -- ESS=它還有%C2更好用%C4的地方！
    if Scene.GetGameValue(63) <= 2 then goto T159GB end  -- 問阿拉伯人三次就會開啟這項
    GameFunc.FlagOn(7031) -- 打開遼望台偷看的點
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS3414')) -- ESS=什麼%C2更好用%C4的地方？
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3415')) -- ESS=我偷偷告訴你，用我給你看遠方的工具，去%...
    ESC.SceneBreak()
::T159GB::
    Scene.AddGameValue(63, 1)
    ESC.SceneBreak()

::T159GG::
    ESC.Caption(159)
    Scene.M_Print(159, StringDB('ESS3416')) -- ESS=島是不是要沉了？我覺得好像有不好的是要發...
    ESC.SceneBreak()

::T159SP::
    GameFunc.FlagOn(10)
    Scene.MoveHero(44, 21, 0)
    ESC.Delay(600)
    ESC.TakeActData(159, -1, Const.STAND, 1)
    Scene.MoveHero(50, 20, 0)
    ESC.Delay(600)
    ESC.TakeActData(164, -1, Const.STAND, 1)
    Scene.T164SPA()
end
function Scene.T164SPA()
    ESC.RMLock()
    Scene.MoveHero(49, 23, 4)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(159, 1)
    ESC.Delay(100)
    Scene.SAR_ROL(159, 0)
    Scene.SAR_ROL(164, 0)
    Scene.SAR_TurnFace(159, 1)
    Scene.SAR_TurnFace(164, 1)

    ESC.Caption(159)
    Scene.Print_W(159,9007,8*2,3*2,StringDB('ESS3417')) -- ESS=賽特大人，真感謝你特地又回來救我們…
    ESC.WaitDLG(159)

    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS3418')) -- ESS=怎麼一回事？%N我以為你們是迷路了，怎麼...
    ESC.WaitDLG(1)

    ESC.Caption(164)
    Scene.Print_W(164,9007,11*2,4*2,StringDB('ESS3419')) -- ESS=賽特大人，那個叫%C2莫雷%C4的海盜說...
    ESC.WaitDLG(164)

    ESC.Caption(159)
    Scene.Print_W(159,9007,10*2,4*2,StringDB('ESS3420')) -- ESS=可是洞穴已經被怪物占領，我們進來找食物反...
    ESC.WaitDLG(159)

    ESC.Caption(164)
    Scene.Print_W(164,9007,9*2,4*2,StringDB('ESS3421')) -- ESS=唉，這一趟旅程，一下是被綁起來用火烤，一...
    ESC.WaitDLG(164)

    ESC.Caption(164)
    Scene.Print_W(164,9007,9*2,3*2,StringDB('ESS3422')) -- ESS=回阿拉伯後，我一定要把這段%C2驚險航海...
    ESC.WaitDLG(164)

    MediaFunc.PlaySound(260)

    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(164, 5)
    ESC.ChangeDIR(159, 5)
    ESC.Delay(200)

    ESC.StoryMusic(33, 0, 0x8000) -- 【劇情配樂】賽特拔劍

    ESC.Caption(159)
    Scene.Print_W(159,9007,4*2,2*2,StringDB('ESS3423')) -- ESS=是那怪物的聲音！
    ESC.WaitDLG(159)

    Scene.Nicole_On(49, 19, 5 ) -- 妮可出現

    ESC.TakeActData(1, -1, 63, 0) -- 賽特拔劍

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,2*2,StringDB('ESS3424')) -- ESS=你們先走，我來殿後！
    ESC.WaitDLG(1)

    ESC.TakeActData(164, -1, Const.WALK, -1)
    ESC.TakeActData(159, -1, Const.WALK, -1)
    ESC.SetMoveHISpeed(164)
    ESC.SetMoveHISpeed(159)
    ESC.BatchMove(2,
    164, 66, 33,
    159, 66, 33)
    ESC.RoleDisable(164)
    ESC.RoleDisable(159)

    Scene.PlayACT(0, 440, 300, 6062, 1)
    ESC.TILPA2(0, 18)
    ESC.StartBattle('BS84')

    ESC.StoryMusicOff()

    ESC.TakeActData(1, -1, 62, 0) -- 賽特收劍
    Scene.Nicole_Off()

    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, Const.STAND, 5)
    Scene.QuestOn(66)
    Scene.QuestOff(65)
    GameFunc.FlagOn(7035) -- 救了阿拉伯人
    GameFunc.FlagOff(10)
end





-- ─────────────────────────────────────【阿拉伯商人哈倫】

function Scene.TALK161()
    if not GameFunc.GetFlag(101) then goto T161A end
    if GameFunc.GetFlag(217) then ESC.SceneBreak() return end
    Scene.PutPERSON(161, 164)
    GameFunc.FlagOn(217)
    Scene.SAR_CSEL(Const.TOWN , 1)
    if GameFunc.GetFlag(215) and GameFunc.GetFlag(216) and GameFunc.GetFlag(217) and GameFunc.GetFlag(218) then
        Scene.PUTMAN()
        ESC.SceneBreak()
    end
    ESC.SceneBreak()
::T161A::
    Scene.Print_W(161,9007,8*2,3*2,StringDB('ESS3425')) -- ESS=可恨…我竟然就這樣莫名其妙死在這地方…
    ESC.WaitDLG(161)

    Scene.Print_W(161,9007,9*2,3*2,StringDB('ESS3426')) -- ESS=旅行過這麼多地方，還沒見過這麼亂來的待客...
    ESC.WaitDLG(161)
end








-------------------------------------------------------------------

function Scene.TALK164()
    if GameFunc.GetFlag(112) then return end
    if GameFunc.GetFlag(110) then log('T164D') goto T164D end
    if GameFunc.GetFlag(7028) then -- 冰山攻過來了,大廳的人被冰起來了
        Scene.WORD_ON_HEAD(Const.TOWN, 10, 40, -60, StringDB('ESS3402')) -- ESS=他被冰凍起來了。
        return
    end
    if GameFunc.GetFlag(7023) then log('T164G') goto T164G end -- 島在搖動
    if GameFunc.GetFlag(7035) then log('T164A') goto T164A end -- 在島上
    if GameFunc.GetFlag(7036) then -- 找水和食物
        log('T164SP')
        goto T164SP
    end
    if GameFunc.GetFlag(211) then log('T164C') goto T164C end -- 出海前尋找飲水
    if GameFunc.GetFlag(101) then log('T56B') Scene.T156B() return end -- 跳到火刑場被救下來統一對話
    ESC.SceneBreak()

::T164C::

    ESC.Caption(164)
    Scene.Print_W(161,9007,7*2,3*2,StringDB('ESS3427')) -- ESS=我們得去趕快找食物和飲水才行…
    ESC.WaitDLG(161)
    ESC.SceneBreak()

::T164A::


    ESC.Caption(164)
    Scene.Print_W(164,9007,10*2,4*2,StringDB('ESS3428')) -- ESS=這一趟旅行真是什麼怪事都有…沒想到居然還...
    ESC.WaitDLG(164)


    Scene.Print_W(164,9007,7*2,3*2,StringDB('ESS3429')) -- ESS=我回去以後一定要把它記錄下來！
    ESC.WaitDLG(164)
    ESC.SceneBreak()



::T164D::
    ESC.Caption(164)
    ESC.FitSize()
    Scene.M_Print(164, StringDB('ESS3430')) -- ESS=只希望能早點回到家。
    ESC.SceneBreak()

::T164G::
    ESC.Caption(164)
    ESC.FitSize()
    Scene.M_Print(164, StringDB('ESS3431')) -- ESS=怎麼辦？要往哪裏逃？
    ESC.SceneBreak()
::T164SP::
    GameFunc.FlagOn(10)
    Scene.MoveHero(50, 20, 0)
    ESC.Delay(600)
    ESC.TakeActData(164, -1, Const.STAND, 1)
    Scene.MoveHero(44, 21, 0)
    ESC.Delay(600)
    ESC.TakeActData(159, -1, Const.STAND, 1)
    Scene.T164SPA()

end



-- ──────────────────────────────────────【火刑台上的海盜莫恩】



function Scene.TALK165()

    if not GameFunc.GetFlag(101) then goto T165A end
    if GameFunc.GetFlag(218) then return end -- 檢查是否救出莫恩

    Scene.PutPERSON(165, 166)
    GameFunc.FlagOn(218)

    Scene.SAR_CSEL(Const.TOWN, 1)
    if GameFunc.GetFlag(215) and GameFunc.GetFlag(216) and GameFunc.GetFlag(217) and GameFunc.GetFlag(218) then
        Scene.PUTMAN()
        ESC.SceneBreak()
    end
    ESC.SceneBreak()


::T165A::

    Scene.Print_W(165,9007,8*2,3*2,StringDB('ESS816')) -- ESS=可惡，放開我！%N我不要被燒死！快放開我...
    ESC.WaitDLG(165)

    Scene.Print_W(165,9007,8*2,2*2,StringDB('ESS3432')) -- ESS=放開我！放開我！%N放開我！
    ESC.WaitDLG(165)
end




-- ───────────────────────────────────────────【海盜莫雷】

function Scene.TALK166()
    if GameFunc.GetFlag(114) then goto T166F end
    if GameFunc.GetFlag(112) then return end
    if GameFunc.GetFlag(110) then goto T166A end
    if GameFunc.GetFlag(7028) then  -- 冰山攻過來了,大廳的人被冰起來了
        Scene.WORD_ON_HEAD(Const.TOWN, 10, 40, -60, StringDB('ESS3402')) -- ESS=他被冰凍起來了。
        return
    end
    if GameFunc.GetFlag(7023) then goto T166G end -- 島在搖動
    if GameFunc.GetFlag(7035) then goto T166B end -- 在島上
    if GameFunc.GetFlag(7036) then goto T166SP end -- 找水和食物
    if GameFunc.GetFlag(211) then goto T166C end -- 找航海圖
    if GameFunc.GetFlag(101) then Scene.T156B() return end -- 跳到火刑場被救下來統一對話
    ESC.SceneBreak()


::T166C::
    ESC.TurnFace(166, 1)

    ESC.Caption(166)
    Scene.Print_W(166,9007,9*2,4*2,StringDB('ESS3433')) -- ESS=賽特大人！%N那兩個東方商人失蹤在%C2...
    ESC.WaitDLG(166)
    ESC.SceneBreak()


::T166SP::
    ESC.Caption(166)
    Scene.Print_W(166,9007,9*2,3*2,StringDB('ESS3434')) -- ESS=賽特大人！%N他們失蹤在%C2西南方%C...
    ESC.WaitDLG(166)
    ESC.SceneBreak()


::T166B::
    ESC.FitSize()

    ESC.Caption(166)
    Scene.Print_WS(166,9007,7*2,3*2,StringDB('ESS3435')) -- ESS=我從沒想到居然可以坐著島來旅行呢！
    ESC.WaitDLG(166)
    ESC.SceneBreak()

::T166A::

    ESC.Caption(166)
    Scene.Print_WS(166,9007,7*2,3*2,StringDB('ESS3436')) -- ESS=真可怕，差點就一輩子變成冰塊了！
    ESC.WaitDLG(166)
    ESC.SceneBreak()




::T166F::
    ESC.TurnFace(3, 166)


    ESC.Caption(166)
    Scene.Print_WS(166,9007,7*2,3*2,StringDB('ESS3437')) -- ESS=希望加入阿拉伯軍隊後，能建立我自己的功業...
    ESC.WaitDLG(166)

    ESC.SceneBreak()

::T166G::


    ESC.Caption(166)
    Scene.Print_WS(166,9007,5*2,2*2,StringDB('ESS3438')) -- ESS=發生什麼事了？
    ESC.WaitDLG(166)

end





-- ───────────────────────────────────────【威尼斯城的三劍客】
-- 改為不使用路徑，固定在定點
function Scene.TALK169check()
    if GameFunc.GetFlag(247) then return end  -- 已經聽過狗交談
    ESC.RoleMove(169,60,58) ESC.ChangePath(169,0) ESC.ChangeDIR(169,1) ESC.ChangeQQ(169,0)
    ESC.RoleMove(170,58,59) ESC.ChangePath(170,0) ESC.ChangeDIR(170,3) ESC.ChangeQQ(170,0)
    ESC.RoleMove(171,61,59) ESC.ChangePath(171,0) ESC.ChangeDIR(171,2) ESC.ChangeQQ(171,0)
end

function Scene.TALK169()
    Scene.WORD_ON_HEAD(Const.TOWN, 2, 0, -30, StringDB('ESS3439')) -- ESS=汪!汪!汪!汪!
    MediaFunc.PlaySound(3)
    if GameFunc.GetFlag(247) then return end -- 已經聽過狗交談
    -- if not GameFunc.GetFlag(7006) then ESC.SceneBreak() return end -- 判斷三隻小狗是否聚在一起
    -- if not GameFunc.GetFlag(7007) then ESC.SceneBreak() return end
    -- if not GameFunc.GetFlag(7008) then ESC.SceneBreak() return end

    Scene.MoveHero(54, 57, 5)
    Scene.TIK()
    ESC.Delay(300)
    ESC.Caption(1)
    Scene.M_PrintW(1,8,4,StringDB('ESS3440')) -- ESS=嘿～%N這些狗狗好像在開什麼會，不曉得牠...
    if not Scene.CheckMainParty(2) then ESC.SceneBreak() return end
    if GameFunc.GetFlag(100) then goto T169B end
    ESC.SceneBreak()

::T169B::
    Scene.Nicole_On(53, 59, 5 ) -- 妮可出現

    ESC.Caption(2)
    Scene.Print_W(2,9007,9*2,3*2,StringDB('ESS3441')) -- ESS=賽特賽特！%N我聽得懂，我可以幫你翻譯！...
    ESC.WaitDLG(2)

    ESC.TurnFace(1, 2)
    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3442')) -- ESS=又是妳！%N妳怎麼又突然冒出來了！
    ESC.WaitDLG(1)

    ESC.TakeActData(1, -1, Const.STAND, 5)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3443')) -- ESS=算了…那妳就說說看，牠們究竟在說些什麼。...
    ESC.WaitDLG(1)

    GameFunc.FlagOn(7011) -- 小狗把寶箱開關打開

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(170,9005,6*2,4*2,'%C0%S0'..StringDB('ESS3444')) -- ESS=狗老三：%N%S1%C6老大老大！最近來...
    ESC.WaitDLG(170)
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(171,9005,7*2,4*2,'%C0%S0'..StringDB('ESS3445')) -- ESS=狗老二：%N%S1%C6老三！聽主人說那...
    ESC.WaitDLG(171)
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(169,9005,7*2,4*2,'%C0%S0'..StringDB('ESS3446')) -- ESS=狗老大：%N%S1%C6老二，老三！那些...
    ESC.WaitDLG(169)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(171,9005,11*2,4*2,'%C0%S0'..StringDB('ESS3447')) -- ESS=狗老二：%N%S1%C6管他們怎麼鬧，只...
    ESC.WaitDLG(171)
    Scene.QuestOn(58)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(170,9005,6*2,4*2,'%C0%S0'..StringDB('ESS3448')) -- ESS=狗老三：%N%S1%C6老大！老大！好像...
    ESC.WaitDLG(170)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    MediaFunc.PlaySound(3)
    Scene.Print_W(169,9005,7*2,2*2,'%C0%S0'..StringDB('ESS3449')) -- ESS=狗老大：%N%C3%C6閃狗！閃狗！
    GameFunc.FlagOn(7009)
    ESC.WaitDLG(169)
    ESC.ChangePath(169,169)
    ESC.ChangePath(170,170)
    ESC.ChangePath(171,171)
    ESC.Unlock(169)
    ESC.Unlock(170)
    ESC.Unlock(171)

    ESC.TakeActData(1, -1, Const.STAND, 7) -- 賽特轉立正兩點方向
    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3450')) -- ESS=哈哈哈！%N這些狗兒的對話還真挺有意思！...
    ESC.WaitDLG(1)


    GameFunc.FlagOn(247)
    Scene.Nicole_Off()
    ESC.Delay(200)
    ESC.TakeActData(1, -1, Const.STAND, 5) -- 賽特轉走路五點方向

end












-- ─────────────────────────────────────【買珍珠的陶德】

function Scene.TALK172()
    ESC.RoleLock(172)

    if GameFunc.GetFlag(1045) then goto T172P1_22 end -- ★賽特已經將珍珠交給陶德老人
    if GameFunc.GetFlag(1035) then goto T172P1_2 end  -- ★賽特已經去向潘朵拉買到珍珠
    if GameFunc.GetFlag(1033) then goto T172P1_1 end  -- ★賽特答應去向派恩問珍珠之事

-- ●第一階段   主對話
    ESC.Caption(172)
    Scene.Print_W(172,9007,10*2,3*2,'%S1'..StringDB('ESS3451')) -- ESS=您好，小伙子，可以麻煩你為老人家我做一件...
    ESC.WaitDLG(172)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3452')) -- ESS=好呀，如果我辦得到的話…請問是什麼事情？...
    ESC.WaitDLG(1)

    ESC.Caption(172)
    Scene.Print_W(172,9007,11*2,3*2,StringDB('ESS3453')) -- ESS=事情是這樣的…%N我想買些%C2珍珠%C...
    ESC.WaitDLG(172)

    ESC.Caption(1)
    Scene.Print_W(1,9007,8*2,3*2,StringDB('ESS3454')) -- ESS=珍珠…？%N整個威尼斯城內，都買不到珍珠...
    ESC.WaitDLG(1)

    ESC.Caption(172)
    Scene.Print_W(172,9007,12*2,4*2,StringDB('ESS3455')) -- ESS=哦，是這樣的…%N我們威尼斯最好的珍珠，...
    ESC.WaitDLG(172)

    Scene.Print_W(172,9007,11*2,4*2,StringDB('ESS3456')) -- ESS=你長得看起來很像%C2東方的人%C4，也...
    ESC.WaitDLG(172)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3457')) -- ESS=好，我明白了！%N我去幫你向%C2派恩%...
    ESC.WaitDLG(1)
    Scene.QuestOn(55)
    ESC.Unlock(172)
    GameFunc.FlagOn(1033) -- ★★1033=賽特答應去購買珍珠
    ESC.SceneBreak()

-- ●第一階段   第1循環對話
::T172P1_1::
    ESC.Caption(172)
    Scene.Print_W(172,9007,7*2,3*2,StringDB('ESS3458')) -- ESS=小伙子，買%C2珍珠%C4的事情就拜託你...
    ESC.WaitDLG(172)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3459')) -- ESS=沒問題，交給我就行了！
    ESC.WaitDLG(1)

    ESC.Unlock(172)
    ESC.SceneBreak()

-- ●第一階段   第2對話
::T172P1_2::
    ESC.Caption(172)
    Scene.Print_W(172,9007,8*2,3*2,StringDB('ESS3460')) -- ESS=小伙子，買%C2珍珠%C4的事情，你進行...
    ESC.WaitDLG(172)

    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS3461')) -- ESS=我已經幫您買到珍珠了，請您過目！
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3462')) -- ESS=賽特將珍珠交給陶德…
    ESC.WaitDLG(1)

    ESC.Caption(172)
    Scene.Print_W(172,9007,9*2,3*2,StringDB('ESS3463')) -- ESS=哦，太感謝你了！%N我代我的老妻%C2戴...
    ESC.WaitDLG(172)

    ESC.Caption(172)
    Scene.Print_W(172,9007,11*2,3*2,StringDB('ESS3464')) -- ESS=這微薄%C2五十枚銀幣%C4算是謝金，你...
    ESC.WaitDLG(172)

    Scene.Print_W(172,9007,8*2,3*2,StringDB('ESS3465')) -- ESS=還有這些%C2藥草%C4可以幫你療傷，很...
    ESC.WaitDLG(172)

    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 100 + 50   -- ●陶得還賽特100枚銀幣  -- ●賽特賺得銀幣50枚

    ItemFunc.AddItem(767, -1) -- ●賽特捨棄珍珠（767）

    Scene.GetItem(621, StringDB('ESS3466') ) -- ●賽特得到藥草（621） ESS=銀幣50枚與%T621.
    ESC.Delay(2000)
    Scene.QuestOff(55)
    ESC.Unlock(172)
    GameFunc.FlagOn(1045) -- ★1045=賽特將珍珠交給陶德
    ESC.SceneBreak()

-- ●第一階段   第2循環對話

::T172P1_22::
    ESC.Caption(172)
    Scene.Print_W(172,9007,8*2,3*2,StringDB('ESS3467')) -- ESS=小伙子，實在謝謝你了，我代我的老妻向你致...
    ESC.WaitDLG(172)

    ESC.Unlock(172)
end







-- ─────────────────────────────────────【威尼斯教堂的約瑟修士】

function Scene.TALK174()
    ESC.RoleLock(60000)
    if Scene.GetSceneFlag('EnterRightTower') then goto T174OVER3 end -- 已經進入過右塔

    if GameFunc.GetFlag(1054) then goto T174OVER end

    ESC.SetRoleSpeed(1, 0)
    ESC.ChangeQQ(1, Const.RUN) -- 賽特跑
    Scene.MoveHero(70, 78, 4)

    ESC.StoryMusic(33, 0, 0x8000) -- 【劇情配樂】賽特拔劍
    ESC.TakeActData(1, -1, 30, 0) -- 賽特拔劍
    ESC.TurnFace(60000, 1)

    ESC.Caption(60000)
    Scene.Print_W(60000,9007,8*2,3*2,StringDB('ESS3468')) -- ESS=你…你是誰？%N是外…外邦人…來劫獄嗎？...
    ESC.WaitDLG(60000)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3469')) -- ESS=說！那些被抓的異教徒，被關在裏面的什麼地...
    ESC.WaitDLG(1)

    ESC.Caption(60000)
    Scene.Print_W(60000,9007,11*2,3*2,StringDB('ESS3470')) -- ESS=朋友啊，放下劍吧！%N%C2用劍之人，必...
    ESC.WaitDLG(60000)

    Scene.Print_W(60000,9007,9*2,3*2,StringDB('ESS3471')) -- ESS=…如果你想進教堂救人，沿著這%C2右邊%...
    ESC.WaitDLG(60000)

    Scene.Print_W(60000,9007,10*2,4*2,StringDB('ESS3472')) -- ESS=異教徒都關在%C2祕密地下牢房%C4，只...
    ESC.WaitDLG(60000)

    Scene.Print_W(60000,9007,11*2,3*2,StringDB('ESS3473')) -- ESS=你必須到教堂%C2兩端的塔頂%C4去啟動...
    ESC.WaitDLG(60000)

    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS3474')) -- ESS=哼，謝謝你說那麼多，但誰知道你說的是不是...
    ESC.WaitDLG(1)

    Scene.Print_W(60000,9007,11*2,4*2,StringDB('ESS3475')) -- ESS=朋友，是不是陷阱，你自己去了才會曉得……...
    ESC.WaitDLG(60000)

    Scene.Print_W(60000,9007,10*2,4*2,StringDB('ESS3476')) -- ESS=並不是所有的基督門徒都贊成隨便殺害%C2...
    ESC.WaitDLG(60000)

    ESC.TakeActData(1, -1, 76, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.Delay(300)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3477')) -- ESS=好，我相信你！謝了！
    ESC.WaitDLG(1)

    ESC.Caption(60000)
    Scene.Print_W(60000,9007,10*2,4*2,StringDB('ESS3478')) -- ESS=請去儘管救出那些%C2外邦人%C4，他們...
    ESC.WaitDLG(60000)

    ESC.StoryMusicOff()  -- 【場景配樂】

    GameFunc.FlagOn(1054)
    goto T174OVER2

::T174OVER:: -- 第二次以後的對話
    ESC.RoleLock(60000)
    ESC.Caption(60000)
    Scene.Print_W(60000,9007,9*2,3*2,StringDB('ESS3471')) -- ESS=…如果你想進教堂救人，沿著這%C2右邊%...
    ESC.WaitDLG(60000)
::T174OVER3::
    Scene.Print_W(60000,9007,10*2,4*2,StringDB('ESS3472')) -- ESS=異教徒都關在%C2祕密地下牢房%C4，只...
    ESC.WaitDLG(60000)

    Scene.Print_W(60000,9007,11*2,3*2,StringDB('ESS3473')) -- ESS=你必須到教堂%C2兩端的塔頂%C4去啟動...
    ESC.WaitDLG(60000)


::T174OVER2::
    ESC.Caption(60000)
    ESC.FitSize()
    Scene.Print_W(60000,9007,10*2,4*2,StringDB('ESS3480')) -- ESS=願神保佑你！
    ESC.WaitDLG(60000)
    Scene.Heal2()   -- ●賽特補血
    ESC.Delay(600)  -- (這種東東的請留給我就好了，不然我很難控制難度ㄟ謝謝)
    ESC.Unlock(60000) -- 這個是我加的,因為遊戲剛開始而已,所以讓玩家簡單一點TMH
end



















-- ────────────────────────────────────────────【壺中世界之妮可】
function Scene.TALK99()
    local rnd
    if GameFunc.GetFlag(432) then goto T99_22 end -- 怛羅斯遇到麥爾斯
    if GameFunc.GetFlag(140) then goto T99_21 end
    if GameFunc.GetFlag(139) then goto T99_20 end -- 離開河邊小帳(抓到遠恩王子)
    if GameFunc.GetFlag(137) then goto T99_19 end -- 往巴格達
    if GameFunc.GetFlag(132) then goto T99_18 end -- 救了麥爾斯之後
    if GameFunc.GetFlag(129) then Scene.T99_17() return end -- 進血迷宮後
    if GameFunc.GetFlag(244) then goto T99_14 end


    if GameFunc.GetFlag(127) then Scene.TALK895() ESC.SceneBreak() end -- 卡瑪加入後

    if GameFunc.GetFlag(384) then goto T99_15 end -- 有關塔德莫爾
    if GameFunc.GetFlag(350) then goto T99_16 end -- 有關星座走廊

    if GameFunc.GetFlag(121) then goto T99_15 end -- 改為有關塔德莫爾的對話
    if GameFunc.GetFlag(120) then goto T99_13 end -- 離開肯迪之家
    if GameFunc.GetFlag(114) then goto T99_12 end -- 貝魯特～離開肯迪之家


    if GameFunc.GetFlag(112) then goto T99_5 end  -- 賽特發現波爾的那次
    if GameFunc.GetFlag(7043) then goto T99_4A end -- 把冰魔封住後
    if GameFunc.GetFlag(316) then goto T99_11 end -- 已知冰魔之事
    if GameFunc.GetFlag(105) then goto T99_10 end -- 擊敗姆斯比爾
    if GameFunc.GetFlag(309) then goto T99_9 end  -- 石像的考驗


    if GameFunc.GetFlag(310) then goto T99_8 end  -- 與護民官對話後
    if GameFunc.GetFlag(104) then goto T99_7 end  -- 移動島出現
    if GameFunc.GetFlag(102) then goto T99_4 end  -- 離開修道院,尚未被姆斯比爾打昏
    if GameFunc.GetFlag(201) then goto T99_1 end  -- 火刑場後,取得航海圖前





-- ───────────────────────────────────────【初到煉妖壺】
-- 【背景說明】賽特第一次來到煉妖壺
--


    GameFunc.FlagOn(10)
    Scene.MoveHero(56, 45, 3)


    ESC.RMLock()
    ESC.ChangeDIR(99, 6)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3481')) -- ESS=喂喂喂，這到底是怎麼一回事？%N這又是什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(6, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3482')) -- ESS=人家不是說過了嗎？%N就是那個%C7瓷壺...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)


    ESC.Unlock(99)

    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3483')) -- ESS=什麼，只有靈魂進來而已？%N那我的身體呢...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 9)


    Scene.MBOn(4, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3484')) -- ESS=身體還在外面啊！%N賽特你順著剛才的%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 2)



    ESC.ChangeDIR(1, 1) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1400)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1700)


    ESC.ChangeDIR(1, 2) -- 賽特抱手臂
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(1400)


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3485')) -- ESS=話說回來…%N原來這個瓷壺，裏頭居然還有...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 0)



    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 49, 53)
    ESC.BatchMove(1,    1, 42, 59)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)


    ESC.DelHeadSign(1)
    ESC.DLGHoldTime(10)
    ESC.DLGNoFrame()
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,12*2,2*2,'%C0'..StringDB('ESS3486')) -- ESS=對了，這裏有一塊石碑…%N說不定會有什麼...
    ESC.WaitDLG(1)


    ESC.SetRoleSpeed(1, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 34, 66)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(400)



    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3487')) -- ESS=……咦，%N這是什麼啊？%N一塊一塊正正...
    ESC.WaitDLG(1)



    ESC.RoleMove(99, 53, 50)
    ESC.ChangeQQ(99, Const.WALK)



    ESC.ChangeHead(10001, 8, 10001, 0)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S1%C5'..StringDB('ESS3488')) -- ESS=世外悠悠隔人間%N　　不忍悽悽亂世煙%N...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10001, 0, 10001, 8)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3489')) -- ESS=奇怪了，%N為什麼我從沒有見過這種文字，...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)


    ESC.ChangeHead(10001, 8, 10001, 0)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3490')) -- ESS=『煉妖壺 壺中仙』…%N這應該表示這個世...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3491')) -- ESS=這塊石碑，%N看來應該就是這兒的主人所立...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(1, 52)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)


    ESC.ChangeHead(10001, 0, 10001, 4)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3492')) -- ESS=哦，底下還有一行字…%N%S1%C7使用...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 4, 10001, 0)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3493')) -- ESS=嗯，這倒有趣，%N沒想到這一個瓷壺，居然...
    ESC.WaitDLG(1)



    ESC.MBOff(5, 0)
    ESC.DelHead(10001, 0)


    ESC.SetMoveHISpeed(99)
    ESC.BatchMove(1,    99, 36, 64)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)


    Scene.MBOn(6, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3494')) -- ESS=賽特賽特，%N這裏完全沒有別人唷！%N妮...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)


    ESC.TurnFace(1, 99)
    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3495')) -- ESS=哦，是呀？%N
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 9, 10001, 1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3496')) -- ESS=也許這石碑已經是很久以前的事吧？%N它看...
    ESC.WaitDLG(1)

    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(4, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3497')) -- ESS=賽特賽特，%N這裏很不錯，人家想以後都要...
    ESC.WaitDLG(1)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3498')) -- ESS=這我沒有意見，%N妳高興就好。
    ESC.WaitDLG(1)

    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 2)

    GameFunc.FlagOn(201)
    ItemFunc.AddItem(730, -1) -- 加ITEMS[道具]  去掉中國陶器
    Scene.GetItem(731, StringDB('ESS3499') ) -- 加ITEMS[道具]   加上煉妖壺 ESS=中國瓷器變成煉妖壺
    ESC.Delay(2000)
    ESC.WaitDLG(1)



    ESC.ChangePath(99, 0)
    ESC.SetRoleSpeed(99 , 0)
    ESC.ChangeQQ(99, Const.WALK)
    ESC.SetMoveHISpeed(99)
    ESC.BatchMove(1,    99, 61, 45)

    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangeDIR(99, 6)
    ESC.RestoreRoleSpeed(99)
    ESC.Unlock(99)
    Scene.SAR_ACTCycle(1, 1)
    GameFunc.FlagOn(260) -- 打開煉妖壺傳送點
    GameFunc.FlagOn(71) -- 可以進出煉妖壺
    ESC.ChangeScript(59987, 'TALK479')

    MediaFunc.PlaySound(193)
    Scene.MBOn(2, 9, 0, 140-10, 200-30, 32*11+30, 6*11+45+20)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,10,'%C3'..StringDB('ESS3500')) -- ESS=簡易說明：%C5%N玩家將會在戰鬥系統中...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 8)

    GameFunc.FlagOff(10)
    ESC.SceneBreak()

-------------煉妖壺對話
--  （有一處屏風，調查後可以與中國式妖魔戰鬥。）
--  （順原路可以出去）
--  （再次與妮可交談）



::T99_1::

    Scene.MBOn(6, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3501')) -- ESS=賽特賽特，%N這裏的風景我好喜歡哦，%N...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3502')) -- ESS=說得也是…%N這裏的感覺，跟我們平常看見...
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(6, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3503')) -- ESS=賽特賽特，%N你真的要去什麼%C7阿拉伯...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 0)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3504')) -- ESS=是一個我也不曉得的地方，%N我就是要去找...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)




    Scene.MBOn(6, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3505')) -- ESS=賽特賽特，%N你要把這瓷壺隨時帶在身上哦...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)


    Scene.MBOn(5, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3506')) -- ESS=好好好，%N隨便妳，%N我沒有意見。
    ESC.WaitDLG(1)
    ESC.MBOff(5, 1)
    ESC.DelHead(10001, 1)
    ESC.SceneBreak()


::T99_4::


    Scene.MBOn(4, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3507')) -- ESS=賽特賽特，%N我猜這裏的主人，%N不是鬼...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10002, 2)


    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3508')) -- ESS=看起來也是…%N要不然一般人會住在壺子裏...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 1)
    ESC.SceneBreak()








-- ───────────────────────────────────────【把波爾帶入煉妖壺】
-- 【背景說明】和薇達在月光下對談之後，突然被拉進煉妖壺
--  （112開）

::T99_5::

    if GameFunc.GetFlag(113) then goto T99_6 end
    ESC.TurnFace(1, 99)
    ESC.ChangePath(99, 0)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)

    GameFunc.FlagOn(10)
    GameFunc.FlagOn(113) -- 和妮可講過波爾進來的事情


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3509')) -- ESS=───妮可！%N妳這次又什麼事，%N突然...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3510')) -- ESS=賽特賽特！%N你看你看，我把%C7波爾%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3511')) -- ESS=難怪我最近一直找不到波爾……%N原來是被...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)

    MediaFunc.PlaySound(5)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3512')) -- ESS=對呀對呀───！%N你看，波爾好高興哦！...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)

    MediaFunc.PlaySound(5)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3513')) -- ESS=妳把我叫進來，%N就是為了這件事情？%N...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3514')) -- ESS=我本來還以為妳是叫我進來，%N準備對我東...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 20, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3515')) -- ESS=………？%N%C3（剛才忙著在和波爾玩%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 20)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3516')) -- ESS=好了，那我回去休息了！%N妳也早點兒休息...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    MediaFunc.PlaySound(5)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3517')) -- ESS=嗯！%N賽特晚安！%N你看，波爾又在叫人...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)


    ESC.Unlock(99)
    ESC.SetRoleSpeed(99, 0)
    ESC.ChangeQQ(99, Const.RUN)
    ESC.ChangePath(99, 21)


    GameFunc.FlagOff(10)
    ESC.SceneBreak()


::T99_6::

    ESC.Caption(2)
    Scene.Print_W(99,9007,7*2,3*2,StringDB('ESS3518')) -- ESS=波爾，%N別亂跑嘛──！%N等一等人家嘛...
    ESC.WaitDLG(1)

    ESC.SceneBreak()





::T99_7::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3519')) -- ESS=我有種奇怪的感覺……，%N怎麼說呢？好像...
    Scene.CloseGlassUp()
    Scene.DelPictureUp(2)
    ESC.SceneBreak()
::T99_8::
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3520')) -- ESS=妮可，妳沒有從撒旦那兒聽過這小島的事嗎？...
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3521')) -- ESS=沒有聽說過。%N小島自己會動有什麼稀奇的...
    Scene.Glass_SRC2(1, StringDB('ESS3522')) -- ESS=在人間沒有陸地會在海上漂流的。
    Scene.Glass_SRC1(99, StringDB('ESS3523')) -- ESS=是嗎？那是你的學問不足吧。
    Scene.Glass_SRC2(1, StringDB('ESS3524')) -- ESS=……就算是吧。%N我再去調查看看。
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.SceneBreak()
::T99_9::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3525')) -- ESS=賽特，有什麼好怕的，人家只是要考考你而已...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3526')) -- ESS=我只是要準備一下。
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.SceneBreak()
::T99_10::  -- 妮可在小島上
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3527')) -- ESS=總說這是我的家，可是我對這裏只有模模糊糊...
    Scene.CloseGlassUp()
    Scene.DelPictureUp(2)
    ESC.SceneBreak()
::T99_11::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3528')) -- ESS=賽特！%N我們快去找藍魔神吧!!
    Scene.CloseGlassUp()
    Scene.DelPictureUp(2)
    ESC.SceneBreak()
::T99_12::  -- 貝魯特-離開肯迪之家
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangePath(99, 0)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3529')) -- ESS=賽特，我想把移動島賣了。
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3530')) -- ESS=賣？誰會買？
    Scene.Glass_SRC1(99, StringDB('ESS3531')) -- ESS=反正扔在那也沒什麼用，不如換些錢來花。
    Scene.Glass_SRC2(1, StringDB('ESS3532')) -- ESS=沒有人會買的……。
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.SceneBreak()
::T99_13:: -- 肯迪之家-塔德莫爾
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangePath(99, 0)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)

    if GameFunc.GetFlag(372) then goto T99_13A end -- 切至第二組對話

    Scene.Glass_SRC1(99, StringDB('ESS3533')) -- ESS=終於要出去玩了嗎？%N這幾個月你都悶在書...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3534')) -- ESS=又不是去玩，別期待什麼。
    GameFunc.FlagOn(372)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.SceneBreak()
    --  循環對話）
::T99_13A::
    GameFunc.FlagOff(372)
    Scene.Glass_SRC1(99, StringDB('ESS3535')) -- ESS= 讀書實在太危險了，看你比以前還笨的樣子...
    Scene.Glass_SRC2(1, StringDB('ESS3536')) -- ESS=是嗎？
    Scene.Glass_SRC1(99, StringDB('ESS3537')) -- ESS=竟然還跑來煉妖壺數星星，差點沒給你笑死！...
    Scene.Glass_SRC2(1, StringDB('ESS3538')) -- ESS=……那只是研究而已。
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.SceneBreak()
-------------------------------------------
::T99_14::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangePath(99, 0)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3539')) -- ESS=賽特，%N這一對人貓是危險分子哦……。
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3540')) -- ESS=妮可，%N我與妳也是危險分子。
    Scene.Glass_SRC1(99, StringDB('ESS3541')) -- ESS=……哼。
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.SceneBreak()
::T99_15::  -- 有關塔德莫爾的資料
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangePath(99, 0)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)

    -- 有關榙德莫爾的對話

    if GameFunc.GetFlag(385) then goto T99_15S end
    GameFunc.FlagOn(385)
    Scene.Glass_SRC1(99, StringDB('ESS3542')) -- ESS=賽特賽特！%N我好想知道這個城市的故事喔...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3543')) -- ESS=我也不清處，我有空問問肯迪，再告訴你。

    goto T99_15END
::T99_15S::
    rnd = math.random(1,4)
    if rnd==1 then
        goto T99_15A
    elseif rnd==2 then
        goto T99_15B
    elseif rnd==3 then
        goto T99_15C
    else
        goto T99_15D
    end

::T99_15A::
    Scene.Glass_SRC1(99, StringDB('ESS3544')) -- ESS=賽特賽特！%N肯迪有告訴你有關塔德莫爾女...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3545')) -- ESS=聽肯迪說，塔德莫爾女王傑娜比雅被稱為東方...
    Scene.Glass_SRC1(99, StringDB('ESS3546')) -- ESS=後來呢？%N後來女王怎麼了？
    Scene.Glass_SRC2(1, StringDB('ESS3547')) -- ESS=傳說羅馬人用黃金鎖練綁著她四處遊行，然後...
    Scene.Glass_SRC1(99, StringDB('ESS3548')) -- ESS=那再來呢？
    Scene.Glass_SRC2(1, StringDB('ESS3549')) -- ESS=就沒人知道啦。%N沒有人可以活幾百年的，...
    Scene.Glass_SRC1(99, StringDB('ESS3550')) -- ESS=喔。
    goto T99_15END

::T99_15B::
    Scene.Glass_SRC1(99, StringDB('ESS3551')) -- ESS=塔德莫爾怎麼又有女王，又被歐馬亞毀掉，%...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3552')) -- ESS=肯迪說被歐馬亞毀掉的塔德莫爾，是一百多年...
    goto T99_15END

::T99_15C::
    Scene.Glass_SRC1(99, StringDB('ESS3553')) -- ESS=塔德莫爾人所拜的神，好像跟歐洲、阿拉伯不...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3554')) -- ESS=他們信奉的是古巴比倫的天地之神，稱為貝爾...
    Scene.Glass_SRC1(99, StringDB('ESS3555')) -- ESS=人間怎麼那麼多種神呀。
    Scene.Glass_SRC2(1, StringDB('ESS3556')) -- ESS=也許更遙遠的東方，跟這邊信的神也不一樣。...
    goto T99_15END

::T99_15D::
    Scene.Glass_SRC1(99, StringDB('ESS3557')) -- ESS=這些人真的很奇怪，墳墓蓋的這麼漂亮，人都...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3558')) -- ESS=他們想總有一天他們會死而復生，%N所以才...
    Scene.Glass_SRC1(99, StringDB('ESS3559')) -- ESS=死而復生，哈哈哈哈。

::T99_15END::
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.SceneBreak()
::T99_16::  -- 有關星座走廊
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(99, Const.STAND)
    ESC.ChangePath(99, 0)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)

    Scene.Glass_SRC1(99, StringDB('ESS3560')) -- ESS=賽特賽特%N我發現一件好好玩的事喔。
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3561')) -- ESS=甚麼好玩的事？
    Scene.Glass_SRC1(99, StringDB('ESS3562')) -- ESS=你前些日子不是常到煉妖壺裏數星星嗎！%P...
    Scene.Glass_SRC1(99, StringDB('ESS3562B')) -- ESS=你前些日子不是常到煉妖壺裏數星星嗎！%P...
    Scene.Glass_SRC2(1, StringDB('ESS3563')) -- ESS=？？？
    Scene.Glass_SRC1(99, StringDB('ESS3564')) -- ESS=那１２個星座，不是成一個%C2大圈圈%C...
    Scene.Glass_SRC1(99, StringDB('ESS3564B')) -- ESS=那１２個星座，不是成一個%C2大圈圈%C...
    Scene.Glass_SRC2(1, StringDB('ESS3565')) -- ESS=嗯～%N說的也是，%N妮可，謝謝你提醒我...
    Scene.Glass_SRC1(99, StringDB('ESS3566')) -- ESS=真的？%N妮可這次幫賽特的忙，賽特終於沒...
    Scene.Glass_SRC2(1, StringDB('ESS3567')) -- ESS=你說的是甚麼話，以前你是越幫越忙。
    Scene.Glass_SRC1(99, StringDB('ESS3568')) -- ESS=人家是好心幫你呀．．．．．

    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.RMUNlock()
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangePath(99, 21)

    ESC.SceneBreak()

::T99_21::
--  ◎妮可
-- 循環對話------------------------------------------------------------
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3569')) -- ESS=賽特，%N撒旦大人不曉得找不找得到你，%...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3570')) -- ESS=找不到最好，我可不想跟他碰面。
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3571')) -- ESS=不曉得其他地方會不會遇道類似撒旦的人。
    ESC.SceneBreak()
-------- 怛羅斯  碰到麥爾斯後    FLAG 432 ON
::T99_22::
    if GameFunc.GetFlag(449) then goto T99_22A end
    GameFunc.FlagOn(449) -- 僅此一次
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3572')) -- ESS=妮可，%N你怎麼不告訴我撒旦就是麥爾斯？...
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3573')) -- ESS=我也不知道呀，%N很久沒見到撒旦大人，%...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3574')) -- ESS=他不像一般人形容的那樣可怕嘛。
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3575')) -- ESS=那可不一定，%N他生氣起來很可怕的……%...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3576')) -- ESS=我也有打過他，他沒有生氣的樣子。
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3577')) -- ESS=誰知道？或許你對他而言比較重要。
    ESC.SceneBreak()
--  （循環對話，同安卡與卡瑪）
::T99_22A::
    if not GameFunc.GetFlag(433) then goto T99_22A1 end
    if GameFunc.GetFlag(451) then goto T99_22B end
    GameFunc.FlagOn(451)
::T99_22A1::
    ESC.ChangeDIR(99, 5)
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3578')) -- ESS=妮可，%N妳到底是撒旦的什麼人？
    Scene.MAIN_TALKS_2(2, 8, 1, StringDB('ESS3579')) -- ESS=我只記得以前我很喜歡撒旦，一直跟著他。移...
    ESC.TurnFace(97, 99)
    ESC.Unlock(97)
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3580')) -- ESS=喵～%N妳會在這裏，看來撒旦是不需要妳了...
    ESC.TurnFace(99, 97)
    ESC.Unlock(99)
    Scene.MAIN_TALKS_2(2, 8, 1, StringDB('ESS3581')) -- ESS=是嗎？%N如果是這樣就好了……。
    ESC.ChangeDIR(97, 1)
    ESC.ChangeDIR(99, 5)
    ESC.SceneBreak()
-- 在被黃雷追殺過，增加一句循環對話，之前沒說過的優先）
::T99_22B::
    GameFunc.FlagOff(451)
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3582')) -- ESS=別耽誤時間了，快點逃走吧！
    ESC.SceneBreak()


-- ───────────────────────────────────────【移動島上，決定搭薇達的船】
-- 【背景說明】在移動島上，藍魔神被冰封，賽特決定改搭薇達的船（這時還未上薇達的船）
--  （7043開）  （112關）



::T99_4A::
    ESC.RMLock()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(99, 1)
    ESC.Unlock(99)
    ESC.TurnFace(1, 99)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3583')) -- ESS=賽特，你真的要搭薇達的船嗎？
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3584')) -- ESS=不搭她的船，怎麼去阿拉伯。
    Scene.Glass_SRC1(99, StringDB('ESS3585')) -- ESS=賽特，你猜薇達會不會喜歡上你呀？
    Scene.Glass_SRC2(1, StringDB('ESS3586')) -- ESS=別亂猜。
    Scene.Glass_SRC1(99, StringDB('ESS3587')) -- ESS=人家只是提醒你嘛。
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    ESC.RMUNlock()
    ESC.SceneBreak()




::T99_18::
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3588')) -- ESS=妳知道撒旦到底有什麼計劃？
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3589')) -- ESS=我怎麼會知道，他從來不跟我討論他的工作。...
    Scene.Glass_SRC2(1, StringDB('ESS3590')) -- ESS=……。
    Scene.Glass_SRC1(99, StringDB('ESS3591')) -- ESS=別擔心，下次看到他再問就好了嘛。
    Scene.Glass_SRC2(1, StringDB('ESS3592')) -- ESS=見到他可沒什麼好事可談。
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    ESC.SceneBreak()
::T99_19::
--  ◎妮可
-- （僅說一次）------------------------------------------------------------
    if GameFunc.GetFlag(402) then goto T99_19A end
    GameFunc.FlagOn(402)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3593')) -- ESS=那個麥爾斯說要建立一個新王國……%N那…...

    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3594')) -- ESS=我沒那種野心。

    Scene.Glass_SRC1(99, StringDB('ESS3595')) -- ESS=那你還是加入撒旦的行列好了，比起麥爾斯統...

    Scene.Glass_SRC2(1, StringDB('ESS3596')) -- ESS=唉～是我瘋了嗎？還是你們瘋了？

    Scene.Glass_SRC1(99, StringDB('ESS3597')) -- ESS=我才沒有瘋，我只是擔心你，被人搶來搶去，...

    Scene.Glass_SRC2(1, StringDB('ESS3598')) -- ESS=妳想太多了。

    Scene.DelPictureDown(1)
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T99_19A::
-- （循環對話）------------------------------------------------------------
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3599')) -- ESS=咱們的賽特王國建成以後，來蓋一個比埃及還...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3600')) -- ESS=妳好了沒？醒著作夢嗎？

    Scene.Glass_SRC1(99, StringDB('ESS3601')) -- ESS=這是生涯規劃，～規～劃！你至少也要想想退...

    Scene.Glass_SRC2(1, StringDB('ESS3602')) -- ESS=別鬧了。

    Scene.DelPictureDown(1)
    Scene.CloseGlassDown()
    Scene.DelPictureUp(2)
    Scene.CloseGlassUp()
    ESC.SceneBreak()

-- 綁走遠恩後的煉妖壺對話
::T99_20::
    if GameFunc.GetFlag(397) then goto T99_20A end
    GameFunc.FlagOn(397)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3603')) -- ESS=真是奇怪，麥爾斯怎麼會魔法？
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3604')) -- ESS=……雖然想解開這個迷，%N但我真的不想再...
    --  妮可（怒）：
    Scene.Glass_SRC1(99, StringDB('ESS3605')) -- ESS=什麼？你不想報這一劍之仇嗎？
    Scene.Glass_SRC2(1, StringDB('ESS3606')) -- ESS=別提了，算是替妳還傷害莉蓮的人情吧。
    --  妮可（喊）：
    Scene.Glass_SRC1(99, StringDB('ESS3607')) -- ESS=真是的！這個跟那個不一樣啦！！
    Scene.Glass_SRC2(1, StringDB('ESS3608')) -- ESS=好好好。
    Scene.CloseGlassDown()
    Scene.CloseGlassUp()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
    ESC.SceneBreak()
::T99_20A::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3609')) -- ESS=撒旦大人非常喜歡人間發生戰爭。慧彥想插手...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3610')) -- ESS=這次戰爭不知是否是撒旦操控的……
    Scene.Glass_SRC1(99, StringDB('ESS3611')) -- ESS=反正，慧彥出問題盡量別管他，惹撒旦不高興...
    Scene.Glass_SRC2(1, StringDB('ESS3612')) -- ESS=這是我的事。
    --  妮可（快哭出來）：
    Scene.Glass_SRC1(99, StringDB('ESS3613')) -- ESS=賽特～
    Scene.CloseGlassDown()
    Scene.CloseGlassUp()
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(1)
end

-- 進入血迷宮後 三個人在一起
function Scene.T99_17()
    if GameFunc.GetFlag(393) then goto T99_17A end
    GameFunc.FlagOn(393)
    Scene.OpenGlassUp(8)
    Scene.AddPicture3(11, 1)
    Scene.Glass_SRC1(97, StringDB('ESS3614')) -- ESS=我就說吧，這個賽特呀，果然有奇怪的遭遇，...
    Scene.OpenGlassDown(8)
    Scene.AddPicture4(2, 0)
    Scene.Glass_SRC2(99, StringDB('ESS3615')) -- ESS=什麼人才？這也能算是才能嗎？應該是比較倒...
    Scene.DelPicture(11, 1)
    Scene.AddPicture3(8, 1)
    Scene.Glass_SRC1(98, StringDB('ESS3616')) -- ESS=如果幸運是才能，那倒楣也是。
    Scene.DelPicture(2, 0)
    Scene.DelPicture(8, 1)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    ESC.MBWait()
    Scene.AddPicture4(1, 0)
    Scene.OpenGlassDown(8)
    Scene.Glass_SRC2(1, StringDB('ESS3617')) -- ESS=這些女人……
    Scene.DelPicture(1, 0)
    Scene.CloseGlassDown()
    ESC.SceneBreak()
::T99_17A::
-- （循環對話）
    Scene.OpenGlassUp(8)
    Scene.AddPicture3(11, 1)
    Scene.Glass_SRC1(97, StringDB('ESS3618')) -- ESS=我們幸好不用吃東西，不然看波爾叼著外面拿...
    Scene.AddPicture4(2, 0)
    Scene.OpenGlassDown(8)
    Scene.Glass_SRC2(99, StringDB('ESS3619')) -- ESS=不要想一些奇怪的事！要是賽特被你教壞，真...
    Scene.DelPicture(2, 0)
    Scene.DelPicture(11, 1)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    ESC.MBWait()
    Scene.AddPicture4(1, 0)
    Scene.OpenGlassDown(8)
    Scene.Glass_SRC2(1, StringDB('ESS3620')) -- ESS=唉....妳們真的沒別的事作？
    Scene.DelPicture(1, 0)
    Scene.CloseGlassDown()
    ESC.SceneBreak()
end

function Scene.T98_5()
-- 卡瑪（笑）：
    if not GameFunc.GetFlag(433) then goto T98_5A end
    if GameFunc.GetFlag(452) then goto T98_5B end
    GameFunc.FlagOn(452)
::T98_5A::
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3621')) -- ESS=聽撒旦說你以前幹了不少大事的樣子。
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3622')) -- ESS=我根本不記得，誰知道是真是假。
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3623')) -- ESS=聽他說的話，不像在騙人的樣子。
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3624')) -- ESS=怎麼說？
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3625')) -- ESS=以他的身分，%N不會隨便跟不重要的人浪費...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3626')) -- ESS=我們那裏不相信那一套。
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3627')) -- ESS=喵～，%N我曾在你們的國度看過，不少神職...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3628')) -- ESS=就像康那里士那種人？
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3629')) -- ESS=是的，讓人誤以為死去的人永遠停留在天堂或...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3630')) -- ESS=至少這一點他是說真的了？
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3631')) -- ESS=那你要加入他嗎？
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3632')) -- ESS=我還有很多不明白的事……%N你們有什麼可...
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3633')) -- ESS=你好好想想吧，我們跟撒旦一樣，是脫離天界...
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3634')) -- ESS=喵～，隨你高興就好。
    ESC.SceneBreak()

-- ◎卡瑪與安卡------------------------------------------------------------
-- 在被黃雷追殺過，增加一句循環對話，之前沒說過的優先）
::T98_5B::
    GameFunc.FlagOff(452)
    Scene.MAIN_TALKS_1(8, 8, 0, StringDB('ESS3635')) -- ESS=賽特，%N現在不是聊天的時候，你們快逃吧...
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3636')) -- ESS=喵～
    ESC.SceneBreak()
end
-- ─────────────────────────────────────【不會計算遺產的婦人】

function Scene.TALK183()
    local select
    if GameFunc.GetFlag(224) then goto T183F end  -- ★224=已經答對了
    ESC.RMLock()
    Scene.MoveHero(46, 54, 4)
    ESC.ChangeDIR(183, 5)
    if GameFunc.GetFlag(212) then goto T183D end  -- ★212=答錯過

    Scene.Print_W(183,9007,10*2,4*2,StringDB('ESS3637')) -- ESS=少年人，我有一個難題，你可不可以幫我？%...
    ESC.WaitDLG(183)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T183A
    end

-- ●不願意解題
::T183B::
    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,StringDB('ESS3638')) -- ESS=真抱歉，現在我有重要的事情在忙，沒辦法幫...
    ESC.WaitDLG(1)

    ESC.Caption(183)
    Scene.Print_W(183,9007,9*2,2*2,StringDB('ESS3639')) -- ESS=對不起，打攪你了，真是不好意思…
    ESC.WaitDLG(183)

    ESC.RMUNlock()
    GameFunc.FlagOff(212) -- ★212=曾經答錯了
    ESC.SceneBreak()

-- ●願意解題
::T183A::
    Scene.M_Print(183, StringDB('ESS3640')) -- ESS=事情是這樣子的……上個月我丈夫過世了，當...
    Scene.Print_W(183,9007,18,12,StringDB('ESS3641')) -- ESS=如果生%C2兒子%C4，兒子得財產的2/...
    ESC.WaitDLG(183)
    Scene.QuestOn(51)
    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3642')) -- ESS=那很好呀！%N這有什麼困難的呢？
    ESC.WaitDLG(1)

    Scene.Print_W(183,9007,15*2,5*2,StringDB('ESS3643')) -- ESS=問題是…結果我生的是雙胞胎，而且是%C2...
    ESC.WaitDLG(183)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T183C
    elseif select == 2 then
        goto T183B
    end

-- ●答錯了，重新問一次
::T183D::
    Scene.Print_W(183,9007,7*2,2*2,StringDB('ESS3644')) -- ESS=我丈夫的遺囑上是這樣寫的：
    ESC.WaitDLG(183)

    Scene.Print_W(183,9007,14,6,StringDB('ESS3641')) -- ESS=如果生%C2兒子%C4，兒子得財產的2/...
    ESC.WaitDLG(183)

    Scene.Print_W(183,9007,12*2,4*2,StringDB('ESS3645')) -- ESS=可是我生的是%C2一男一女%C4的雙胞胎...
    ESC.WaitDLG(183)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T183B
    end

-- ●回答問題

::T183C::
    Scene.KeyInNumber(1, StringDB('ESS3646')) -- ESS=財產應該先分成幾份？
    select = ESC.GetBTNSelect()
    if select ~= 8 then
        GameFunc.FlagOn(262)
    end

    Scene.KeyInNumber(1, StringDB('ESS3647')) -- ESS=兒子得到其中的幾份？
    select = ESC.GetBTNSelect()
    if select ~= 5 then
        GameFunc.FlagOn(262)
    end

    Scene.KeyInNumber(1, StringDB('ESS3648')) -- ESS=妻子得到其中的幾份？
    select = ESC.GetBTNSelect()
    if select ~= 3 then
        GameFunc.FlagOn(262)
    end

    Scene.KeyInNumber(1, StringDB('ESS3649')) -- ESS=女兒得到其中的幾份？
    select = ESC.GetBTNSelect()
    if select ~= 2 then
        GameFunc.FlagOn(262)
    end

    ESC.Caption(183)
    Scene.Print_W(183,9007,8*2,3*2,StringDB('ESS3650')) -- ESS=等一下哦，請讓我想一下這樣分對不對…
    ESC.WaitDLG(183)

    ESC.AddHeadSign(183, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(183)

    if not GameFunc.GetFlag(262) then goto T183E end

-- ●答錯了！
    Scene.Print_W(183,9007,8*2,3*2,StringDB('ESS3651')) -- ESS=好像不對耶，可不可以再麻煩您想想看？
    ESC.WaitDLG(183)

    GameFunc.FlagOff(262)
    GameFunc.FlagOn(212) -- ★212=答錯了
    ESC.RMUNlock()
    Scene.TALK183()
    ESC.SceneBreak()

-- ●答對了！
::T183E::
    Scene.Print_W(183,9007,10*2,3*2,StringDB('ESS3652')) -- ESS=嗯…真的滿有道理哦！%N您的腦筋真好，謝...
    ESC.WaitDLG(183)

    Scene.Print_W(183,9007,7*2,3*2,StringDB('ESS3653')) -- ESS=這是我的一份小禮物，就贈送給您吧！
    ESC.WaitDLG(183)

    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,240,140,13*2,1*2,'%S0'..StringDB('ESS3654'))  -- 改為兩份藥草與100元  -- 這題十分困難 只給銅戒會被玩家罵死 ESS=獲得%T621.兩株與１００枚銀幣
    ItemFunc.AddItem(621, 2)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds + 100
    ESC.Caption(1)
    Scene.Print_W(1,9007,5*2,2*2,StringDB('ESS3655')) -- ESS=謝謝妳的禮物！
    ESC.WaitDLG(1)
    Scene.QuestOff(51)
    GameFunc.FlagOn(224) -- ★224=已經答對了
    if GameFunc.GetFlag(284) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
        ACH.SetAchievement("ACH_8_1") -- 數學家成就
    end
    ESC.RMUNlock()
    ESC.SceneBreak()
::T183F::

-- ●循環對話
    ESC.Caption(183)
    Scene.Print_W(183,9007,8*2,3*2,StringDB('ESS3656')) -- ESS=謝謝你，年輕人，您的腦筋真的很好呢！
    ESC.WaitDLG(183)
end



-- ────────────────────────────────────────────【壺中世界之卡瑪】

function Scene.TALK895()

    -- 煉妖壺之卡瑪
    if GameFunc.GetFlag(432) then Scene.T98_5() return end  -- 怛羅斯遇到麥爾斯
    if GameFunc.GetFlag(140) then Scene.T98_4() return end
    if GameFunc.GetFlag(7055) then goto T98_3 end -- 石國幻影出現
    if GameFunc.GetFlag(137) then goto T98_2 end  -- 往巴格達
    if GameFunc.GetFlag(132) then goto T98_1 end
    if GameFunc.GetFlag(129) then Scene.T99_17() return end -- 進血迷宮後
    if GameFunc.GetFlag(244) then goto T895 end
    GameFunc.FlagOn(10)



    ESC.TakeActData(30, -1, 30, 0)
    MediaFunc.PlaySound(5)
    ESC.TILPA1(30, 4)
    ESC.TakeActData(30, -1, 0, 2)
    ESC.Delay(500)
    MediaFunc.PlaySound(1)
    ESC.Delay(500)
    ESC.Caption(8)
    ESC.FitSize()
    ESC.Print(98,9008,StringDB('ESS3657')) -- ESS=哈哈哈～
    ESC.WaitDLG(98)



    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    Scene.Glass_SRC1(1, StringDB('ESS3658')) -- ESS=這貓在叫什麼？
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(8)
    Scene.Glass_SRC2(98, StringDB('ESS3659')) -- ESS=波爾想跟安卡挑戰，%N安卡說等他多轉生幾...
    Scene.DelPictureUp(1)
    Scene.AddPictureUp(2)
    Scene.Glass_SRC1(99, StringDB('ESS3660')) -- ESS=什麼是轉生？
    Scene.Glass_SRC2(98, StringDB('ESS3661')) -- ESS=就是靈魂重新投胎成新的生命，%N不過會暫...
    Scene.Glass_SRC1(99, StringDB('ESS3662')) -- ESS=有這回事？
    Scene.Glass_SRC2(98, StringDB('ESS3663')) -- ESS=不知道嗎？%N要不要試試看？
    Scene.Glass_SRC1(99, StringDB('ESS3664')) -- ESS=不要！%N我才不要失去記憶！
    Scene.Glass_SRC2(98, StringDB('ESS3665')) -- ESS=哈哈～
    Scene.DelPictureUp(2)
    Scene.DelPictureDown(8)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    Scene.SAR_TurnFace(99 , 1)
    ESC.ChangeQQ(98, Const.WALK)
    ESC.SetRoleSpeed(98, 2)
    ESC.BatchMove(1,    98, 13, 49)
    ESC.TakeActData(98, -1, 0, 5)
    ESC.TakeActData(97, -1, 0, 6)
    ESC.Unlock(98)
    ESC.Unlock(97)
    ESC.ChangeQQ(99, Const.WALK)
    ESC.ChangeQQ(30, Const.WALK)
    ESC.ChangePath(99, 21)
    ESC.ChangePath(30, 21)
    GameFunc.FlagOn(244)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T895::
    GameFunc.FlagOn(10)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(11)
    Scene.Glass_SRC1(97, StringDB('ESS3666')) -- ESS=卡瑪，%N我們來試試那新絕招來對付這狗吧...
    --  卡瑪（笑）：
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(8)
    Scene.Glass_SRC2(98, StringDB('ESS3667')) -- ESS=不要，牠太弱了。
    Scene.DelPictureDown(8)
    Scene.DelPictureUp(11)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T98_1::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3668')) -- ESS=賽特，你到底是哪一國的人種？
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3669')) -- ESS=……怎麼想問我這個？
    Scene.Glass_SRC1(98, StringDB('ESS3670')) -- ESS=你不像歐洲人呀，不像麥爾斯是純種日爾曼血...
    Scene.Glass_SRC2(1, StringDB('ESS3671')) -- ESS=我聽說我雙親是來自東方民族，但我從沒見過...
    Scene.Glass_SRC1(98, StringDB('ESS3672')) -- ESS=原來如此，問問而已。
    Scene.DelPictureUp(8)
    Scene.DelPictureDown(1)
    Scene.CloseGlassUp()
    Scene.CloseGlassDown()
    ESC.SceneBreak()



-- （僅說一次）
::T98_2::
    if GameFunc.GetFlag(405) then goto T98_2C end
    if GameFunc.GetFlag(404) then goto T98_2B end
    if GameFunc.GetFlag(403) then goto T98_2A end

    GameFunc.FlagOn(403) -- 煉妖壺對話卡瑪用
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3673')) -- ESS=唐那個地方，我以前稱為中國。這個煉妖壺就...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3674')) -- ESS=真是奇妙，除了這個壺以外，還有那個做機關...
    Scene.Glass_SRC1(98, StringDB('ESS3675')) -- ESS=那個唐禿子是和尚，就像你們那邊的僧侶。

    Scene.Glass_SRC2(1, StringDB('ESS3676')) -- ESS=哦？他們也有唸聖經？

    Scene.Glass_SRC1(98, StringDB('ESS3677')) -- ESS=不，他們有另外一套經典，是佛經，從天竺傳...

    Scene.Glass_SRC2(1, StringDB('ESS3678')) -- ESS=那現在我知道的經典就有三部了，聖經、可蘭...

    Scene.Glass_SRC1(98, StringDB('ESS3679')) -- ESS=怎樣？你都要學會？

    Scene.Glass_SRC2(1, StringDB('ESS3680')) -- ESS=不，我不想學宗教，那些僧侶也都不是祖師或...

    Scene.Glass_SRC1(98, StringDB('ESS3681')) -- ESS=對呀，那個唐禿子連我們也感知不到；
    Scene.Glass_SRC1(98, StringDB('ESS3682')) -- ESS=伊斯蘭人又為同一部經書自相殘殺；
    Scene.Glass_SRC1(98, StringDB('ESS3683')) -- ESS=還有你們國家有撒旦的手下企圖竄改聖經……...

    Scene.Glass_SRC2(1, StringDB('ESS3684')) -- ESS=唉～妳說的太簡單了。

    Scene.DelPictureDown(1)
    Scene.CloseGlassDown()
    Scene.DelPictureUp(8)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T98_2A::
--  僅說一次）------------------------------------------------------------
    GameFunc.FlagOn(404)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3685')) -- ESS=從絲路到中國，中途可以經過巴格達看看。
    Scene.Glass_SRC1(98, StringDB('ESS3686')) -- ESS=巴格達也是知名的首都，在伊斯蘭開始征服它...
    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3687')) -- ESS=是嗎？%N我們國家有聽過絲路、波斯的名詞...

    Scene.Glass_SRC1(98, StringDB('ESS3688')) -- ESS=那你們怎麼會想派人來？%N你們連這裏有什...

    Scene.Glass_SRC2(1, StringDB('ESS3689')) -- ESS=這……派我來的長官，說他曾聽說過。

-- （卡瑪大笑了起來）

    Scene.Glass_SRC1(98, StringDB('ESS3690')) -- ESS=哈……哈哈哈哈……

    Scene.Glass_SRC2(1, StringDB('ESS3691')) -- ESS=有這麼好笑？

    Scene.Glass_SRC1(98, StringDB('ESS3692')) -- ESS=結果你竟然只為了一個聽說，%N就走了數萬...

    Scene.Glass_SRC2(1, StringDB('ESS3693')) -- ESS=……嗯。%N我知道妳想說的是…天真…愚蠢...

    Scene.DelPictureDown(1)
    Scene.CloseGlassDown()
    Scene.DelPictureUp(8)
    Scene.CloseGlassUp()
    ESC.SceneBreak()

::T98_2B::
--  循環對話）------------------------------------------------------------
    GameFunc.FlagOn(405)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3694')) -- ESS=以前我也曾住過中國，雖然那兒有很多有趣的...
    Scene.DelPictureUp(8)
    Scene.CloseGlassUp()
    ESC.SceneBreak()

::T98_2C::
    GameFunc.FlagOff(405)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3695')) -- ESS=戰爭不敗的方法？%N男人都在想這些稀奇古...
    Scene.DelPictureUp(8)
    Scene.CloseGlassUp()
    ESC.SceneBreak()

-- ◎卡瑪------------------------------------------------------------

::T98_3::
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(8)
    Scene.Glass_SRC1(98, StringDB('ESS3696')) -- ESS=我覺得那個村落不尋常，你最好快離開。
    Scene.DelPictureUp(8)
    Scene.CloseGlassUp()

    Scene.OpenGlassDown(8)
    Scene.AddPictureDown(1)
    Scene.Glass_SRC2(1, StringDB('ESS3697')) -- ESS=如果情況不對，我會立刻離開！
    Scene.DelPictureDown(1)
    Scene.CloseGlassDown()
    ESC.SceneBreak()

end

function Scene.T98_4()
-- ◎卡瑪------------------------------------------------------------
-- ◎安卡------------------------------------------------------------

    Scene.MAIN_TALKS_3(8, 8, 1, StringDB('ESS3698')) -- ESS=以前從來沒聽過，%N有蜃樓王這種妖怪，%...
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS3699')) -- ESS=這妖怪的能力很特殊。
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3700')) -- ESS=喵～%N而且給他逃走了，要是那天中他的暗...
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS3701')) -- ESS=看來他是住沙漠的，以後經過沙漠要小心。
    ESC.SceneBreak()

end

--  ############################################################
-- 安卡的對話段-------------
function Scene.TALK896()
    -- 煉妖壺之安卡 在救了麥爾斯後才啟動
    if GameFunc.GetFlag(432) then Scene.T98_5() return end  -- 怛羅斯遇到麥爾斯
    if GameFunc.GetFlag(140) then Scene.T98_4() return end
    if GameFunc.GetFlag(139) then -- 離開河邊小帳(抓到遠恩王子)
        -- ◎卡瑪 ------------------------------------------------------------
        -- ◎安卡------------------------------------------------------------
        Scene.OpenGlassUp(8)
        Scene.AddPictureUp(11)
        Scene.Glass_SRC1(97, StringDB('ESS3702')) -- ESS=話說回來，那位唐禿子真是個了不起的人物。...
        Scene.OpenGlassDown(8)
        Scene.AddPictureDown(1)
        Scene.Glass_SRC2(1, StringDB('ESS3624')) -- ESS=怎麼說？
        Scene.Glass_SRC1(97, StringDB('ESS3703')) -- ESS=那和尚在巴格達不但救了你，還擺脫那麼多追...
        Scene.Glass_SRC1(97, StringDB('ESS3704')) -- ESS=他醫術也不錯，找來給你的草藥相當有效，連...
        -- 賽特（笑）：
        Scene.Glass_SRC2(1, StringDB('ESS3705')) -- ESS=雖然早就知道他很厲害，但是外表真是一點也...
        Scene.CloseGlassDown()
        Scene.CloseGlassUp()
        Scene.DelPictureUp(11)
        Scene.DelPictureDown(1)
        ESC.SceneBreak()
        return
    end
    if GameFunc.GetFlag(137) then -- 往巴格達
        -- 安卡------------------------------------------------------------
        Scene.OpenGlassUp(8)
        Scene.AddPictureUp(11)
        Scene.Glass_SRC1(97, StringDB('ESS3706')) -- ESS=喵～賽特，%N你知道我喜歡的東西嗎？
        Scene.OpenGlassDown(8)
        Scene.AddPictureDown(1)
        Scene.Glass_SRC2(1, StringDB('ESS3707')) -- ESS=什麼？
        Scene.Glass_SRC1(97, StringDB('ESS3708')) -- ESS=喵～，我喜歡發亮的石頭。
        Scene.Glass_SRC2(1, StringDB('ESS3709')) -- ESS=那是寶石嘛。
        Scene.Glass_SRC1(97, StringDB('ESS3710')) -- ESS=或許吧，我有數量龐大的收集品喔。
        Scene.Glass_SRC2(1, StringDB('ESS3711')) -- ESS=在哪裏？
        Scene.Glass_SRC1(97, StringDB('ESS3712')) -- ESS=別打我的主意，我早就埋在世界各地隱密的地...
        Scene.Glass_SRC2(1, StringDB('ESS3713')) -- ESS=那還真周到。
        Scene.Glass_SRC1(97, StringDB('ESS3714')) -- ESS=喵～%N為了怕我不小心說出來，%N我努力...
        Scene.Glass_SRC2(1, StringDB('ESS3715')) -- ESS=喔……，那實在太有保障了。
        Scene.DelPictureUp(11)
        Scene.DelPictureDown(1)
        Scene.CloseGlassUp()
        Scene.CloseGlassDown()
        ESC.SceneBreak()
    end
    MediaFunc.PlaySound(1)
    Scene.WORD_ON_HEAD(97, 2, 30, -60, '%S1'..StringDB('ESS3716')) -- ESS=喵!喵!
end




--  ############################################################
function Scene.TALK2092()
    -- 煉妖壺中的妮可   -- 天山751之後
    if GameFunc.GetFlag(486) then goto T2092_6 end -- 與悟緣到洛陽
    if GameFunc.GetFlag(370) then goto T2092_5 end -- 與悟緣對話   走木人巷
    if GameFunc.GetFlag(482) then goto T2092_4B end
    if GameFunc.GetFlag(481) then goto T2092_4A end
    if GameFunc.GetFlag(471) then goto T2092_3 end -- 離開白連儀家
    if GameFunc.GetFlag(7069) then goto T2092_2 end
    if GameFunc.GetFlag(467) then goto T2092_1 end
    Scene.MAIN_TALKS_3(2, 3, 17, StringDB('ESS3717')) -- ESS=賽特，%N你真的要對抗撒旦大人嗎？
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS3718')) -- ESS=你害怕了嗎？
    Scene.MAIN_TALKS_3(2, 3, 19, StringDB('ESS3719')) -- ESS=才不是呢。%N人家是替你擔心。
    ESC.SceneBreak()
::T2092_1::
    ESC.TurnFace(99, 96)
    ESC.Unlock(99)
    Scene.MAIN_TALKS_3(2, 3, 39, StringDB('ESS3720')) -- ESS=這個死禿子陰魂不散！
    Scene.MAIN_TALKS_3(11, 11, 1, StringDB('ESS3721')) -- ESS=他現在不禿了，%N喵～
    Scene.MAIN_TALKS_3(2, 3, 39, StringDB('ESS3722')) -- ESS=我才不管那個，%N只要他在，%N一定又會...
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3723')) -- ESS=貧僧……%N不，在下從不亂講話。
    Scene.MAIN_TALKS_3(2, 3, 39, StringDB('ESS3724')) -- ESS=是喔，%N那我怎麼聽不懂你說的話？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3725')) -- ESS=在下未曾在之前與小姐您交談過。
    Scene.MAIN_TALKS_3(2, 3, 43, StringDB('ESS3726')) -- ESS=就會狡辯……。
    ESC.ChangeDIR(99, 1)
    ESC.Unlock(99)
    ESC.SceneBreak()
::T2092_2::
    Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS3727')) -- ESS=以前煉妖壺的主人，%N現在不知道是不是也...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS3728')) -- ESS=如果不是人類的話，可能吧……？
    ESC.SceneBreak()
::T2092_3::
    GameFunc.FlagOn(481)
    Scene.MAIN_TALKS_1(2, 8, 19, StringDB('ESS3729')) -- ESS=走啦！賽特！%N悶在這都要發瘋了！
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3730')) -- ESS=妳不是都有出去逛，還不過癮嗎？
    ESC.TakeActData(99, -1, 56, 1)
    ESC.Unlock(99)
    Scene.MAIN_TALKS_1(2, 8, 34, StringDB('ESS3731')) -- ESS=可是你一直看書都不理我！
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3732')) -- ESS=有嗎？我記得都是妳吵得我不能專心。
    ESC.TakeActData(99, -1, 0, 1)
    ESC.Unlock(99)
    Scene.MAIN_TALKS_1(2, 8, 42, '.................')
    ESC.SceneBreak()
::T2092_4A::
    GameFunc.FlagOn(482)
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3733')) -- ESS=賽特，%N中國的僧侶好像都要理光頭是吧？...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3734')) -- ESS=對，佛教是這樣。
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3735')) -- ESS=那是誰的命令？把頭髮剃掉不是很難看嗎？
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3736')) -- ESS=我不曉得，佛教的事李靖與卡瑪或許知道吧？...
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3737')) -- ESS=我問過了，連李靖也不知道喔，他說創佛教的...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3738')) -- ESS=這妳問倒我了，看來我應該多讀點書。
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3739')) -- ESS= 好了啦！我不問了！你再讀下去都不理我了...
    ESC.SceneBreak()
::T2092_4B::
    GameFunc.FlagOff(482)
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3740')) -- ESS=我真怕哪天你要是學慧彥理光頭……%N天哪...
    ESC.SceneBreak()
::T2092_5::
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3741')) -- ESS=賽特！%N這個國家真是個好地方，咱們在這...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3742')) -- ESS=妳喜歡的話，當然可以。%N不過我還得回高...
    Scene.MAIN_TALKS_1(2, 8, 0, StringDB('ESS3743')) -- ESS=笑話，%N你這一趟回去，還能不能再來都很...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3744')) -- ESS=嗯，是很難說。
    ESC.SceneBreak()
::T2092_6::
    Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS3745')) -- ESS=抓個強盜都要勞師動眾，%N這兒的人日子真...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS3746')) -- ESS=是呀，%N在我們國家，%N盜賊到處都是。...
end

--  ############################################################
function Scene.TALK2093()
    -- 煉妖壺中的卡瑪   -- 天山751之後
    if GameFunc.GetFlag(487) then goto T2093_3B end
    if GameFunc.GetFlag(486) then goto T2093_3A end -- 與悟緣到洛陽
    if GameFunc.GetFlag(485) then goto T2093_2B end
    if GameFunc.GetFlag(471) then goto T2093_2A end
    if GameFunc.GetFlag(7069) then goto T2093_1 end
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS3747')) -- ESS=這像是慧彥嗎？%N以前又老又禿，死了就這...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS3748')) -- ESS=……以前我不是禿頭，是和尚都要剃頭。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS3749')) -- ESS=要是賽特死了，%N會不會反而變得又禿又老...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS3750')) -- ESS=才不會！%N他敢長這樣我就打死他！
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS3751')) -- ESS=都已經死了，%N妳要怎麼打死他？
    Scene.MAIN_TALKS_2(1, 9, 31, StringDB('ESS3752')) -- ESS=……我還沒死呢。
    ESC.SceneBreak()
::T2093_1::
    Scene.MAIN_TALKS_2(8, 2, 1, StringDB('ESS3753')) -- ESS=中國是一個盛行佛教的地方呢，%N佛教是在...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS3754')) -- ESS=我不太了解喵～，%N妳是婆羅門教還是佛教...
    Scene.MAIN_TALKS_2(8, 2, 1, StringDB('ESS3755')) -- ESS=我也不知道，我從沒跟那些宗教家往來。
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS3756')) -- ESS=中國還有一大宗教，稱做道教，%N你們可也...
    ESC.SceneBreak()
::T2093_2A::
    GameFunc.FlagOn(485)
    Scene.MAIN_TALKS_3(8, 8, 1, StringDB('ESS3757')) -- ESS=最近好像都沒聽到撒旦有什麼動靜。
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3758')) -- ESS=是呀，%N撒旦好像也來中國了，%N不知道...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3759')) -- ESS=反正不是什麼好事。%N不過，我也沒什麼義...
    Scene.MAIN_TALKS_3(8, 8, 1, StringDB('ESS3760')) -- ESS=你呀！%N撒旦跟你的緣分不淺，%N你要是...
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3761')) -- ESS=喵～同感。
    ESC.SceneBreak()
::T2093_2B::
    GameFunc.FlagOff(485)
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3762')) -- ESS=喵～%N賽特要是跟撒旦打起來，誰贏？
    Scene.MAIN_TALKS_3(8, 8, 1, StringDB('ESS3763')) -- ESS=有我們幫助，加上那個什麼李靖的，恐怕也不...
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3764')) -- ESS=我看也是，喵～
    ESC.SceneBreak()
::T2093_3A::
    GameFunc.FlagOn(487)
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3765')) -- ESS=喵～%N抓犯人應該是狗的工作，%N要不要...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3766')) -- ESS=有嗎？%N這倒是很少見。
    Scene.MAIN_TALKS_3(8, 8, 1, StringDB('ESS3767')) -- ESS=是很少見，%N安卡的狗朋友在近百年前我有...
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3768')) -- ESS=對！%N喵～%N咱們去找他！
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3769')) -- ESS=這可能還要多花個幾年吧？%N免了。
    ESC.SceneBreak()
::T2093_3B::
    GameFunc.FlagOff(487)
    Scene.MAIN_TALKS_2(8, 8, 1, StringDB('ESS3770')) -- ESS=我還真想看看中國強盜長什麼樣子？
    Scene.MAIN_TALKS_1(11, 8, 0, StringDB('ESS3771')) -- ESS=喵～%N一定很凶。
end

--  ############################################################
--  ############################################################
--  ############################################################








-- ──────────────────────────────────────【笨妮可的男人論】


function Scene.TALK2096()
    -- 妮可在天山的對話段(回西元751之後)

    if GameFunc.GetFlag(474) then goto T_CHINA1 end   --  在木人巷對話
    if GameFunc.GetFlag(463) then goto T2_SKY3 end --  天山 得到舍利子後出洞
    if GameFunc.GetFlag(464) then goto T2_SKY2 end --  天山,妮可循環對話開關


    GameFunc.FlagOn(464)
    ESC.Unlock(2)


    ESC.Caption(2)
    Scene.Print_WS(2,9007,10*2,3*2,StringDB('ESS3772')) -- ESS=賽特，人家發現其實你跟撒旦大人好多地方其...
    ESC.WaitDLG(2)


    ESC.Caption(1)
    Scene.Print_WS(1,9007,4*2,1*2,StringDB('ESS3624')) -- ESS=怎麼說？
    ESC.WaitDLG(1)


    ESC.Caption(2)
    Scene.Print_WS(2,9007,9*2,4*2,StringDB('ESS3773')) -- ESS=都%C2愛恨分明%C4，而且很有自己的%...
    ESC.WaitDLG(2)


    ESC.Caption(1)
    Scene.Print_WS(1,9007,7*2,3*2,StringDB('ESS3774')) -- ESS=是嗎？%N我以前都沒有注意到呢！
    ESC.WaitDLG(1)

    ESC.SceneBreak()


::T2_SKY2::


    ESC.Caption(2)
    Scene.Print_WS(2,9007,8*2,4*2,StringDB('ESS3775')) -- ESS=賽特，%N人家真的搞不懂追求夢想，真的有...
    ESC.WaitDLG(2)

    ESC.SceneBreak()




-- ──────────────────────────────────────【妮可重回身邊】

::T2_SKY3::

    GameFunc.FlagOn(10)
    ESC.SetRoleSpeed(2, 3)
    ESC.ChangeDIR(1, 5)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3776')) -- ESS=妮可，我要離開這裏了，%N妳要不要一起來...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)


    ESC.SetRoleSpeed(2, 5)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 16, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 16)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3777')) -- ESS=怎麼了，不願意嗎？%N還是覺得跟著撒旦比...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 28, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 28)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3778')) -- ESS=我只是怕妳會被撒旦見怪，%N如果妳不願意...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)


    ESC.ChangeDIR(1, 5)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.BatchMove2(1,    1, 113+1, 26-1, 1, Const.STAND,6)
    ESC.TakeActData(2, 2, 34-6, 6)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.BatchMove2(1,    1, 113-1, 26+1, 1, Const.STAND,6)
    ESC.TakeActData(2, 2, 57-1, 1)
    ESC.Delay(400)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3779')) -- ESS=賽特──%N你是真的不生人家的氣了嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)


    ESC.ChangeDIR(1, 7)
    ESC.Delay(400)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3780')) -- ESS=生氣？%N我生什麼氣？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3781')) -- ESS=人家怕你因為上次那個幻象中，人家跑回撒旦...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3782')) -- ESS=那只不過幻影而已，既然我自己都被騙得暈頭...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 19)



    ESC.TakeActData(2, 2, 34-6, 6)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 28, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3783')) -- ESS=賽特，你說的是真的嗎？%N人家…真的可以...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 28)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3784')) -- ESS=走吧走吧，%N我們都一起旅行那麼久了，少...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)


    ESC.TakeActData(2, 2, Const.STAND, 2)

    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 30, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3785')) -- ESS=賽特，你真好！%N人家最喜歡你了啦───...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 30)



    ESC.Unlock(2) -- 妮可消失
    ESC.TakeActData(2, -1, 69, 0)
    ESC.TILPA1(2, 16)
    ESC.SetRoleSpeed(2, 0)
    ESC.ChangeQQ(2, 60)
    ESC.BatchMovePenetrate(2)
    ESC.BatchMove(1,    2, -1, -1)
    ESC.RoleDisable(2)
    ESC.TakeActData(2, -1, Const.STAND, 0)


    GameFunc.FlagOn(465)
    Scene.AddMainParty(2)
    GameFunc.FlagOff(10)

    ESC.RoleEnable(99)
    ESC.ChangeScript(99, 'TALK2092')
    ESC.SceneBreak()

::T_CHINA1::
    Scene.MAIN_TALKS_1(2, 3, 12, StringDB('ESS3786')) -- ESS=賽特，前面太危險了，找別條路走好不好。
end
-- ──────────────────────────────────────【卡瑪和安卡的感言】

function Scene.TALK2097()
    -- 薇達在天山的對話段(回西元751之後)

    if GameFunc.GetFlag(463) then goto T2097B end
    if GameFunc.GetFlag(466) then goto T2097A end -- 天山回751 循環對話
    GameFunc.FlagOn(466)

    ESC.ChangeDIR(8, 5)
    ESC.ChangeDIR(11, 6)



    ESC.Caption(11)
    Scene.Print_WS(11,9008,10*2,3*2,StringDB('ESS3787')) -- ESS=原來這麼多年的事全是幻影，那個%C2蜃樓...
    ESC.WaitDLG(11)


    ESC.Caption(8)
    Scene.Print_WS(8,9008,7*2,3*2,StringDB('ESS3788')) -- ESS=連我們兩個人都察覺不出來，真是好丟臉……...
    ESC.WaitDLG(8)


    ESC.Caption(11)
    Scene.Print_WS(11,9008,10*2,4*2,StringDB('ESS3789')) -- ESS=不過剛才那一個%C2老仙人%C4更厲害，...
    ESC.WaitDLG(11)


    ESC.Caption(8)
    Scene.Print_WS(8,9008,8*2,3*2,StringDB('ESS3790')) -- ESS=真的是不得了……不曉得他年輕時候長什麼樣...
    ESC.WaitDLG(8)
    ESC.SceneBreak()


::T2097A::

    ESC.Caption(11)
    Scene.Print_WS(11,9008,7*2,3*2,StringDB('ESS3791')) -- ESS=剛才那一個老仙人好像是%C2唐國%C4那...
    ESC.WaitDLG(11)


    ESC.Caption(8)
    Scene.Print_WS(8,9008,9*2,3*2,StringDB('ESS3792')) -- ESS=唐國嗎……？%N說不定唐國可能比%C2伊...
    ESC.WaitDLG(8)


--  Scene.MAIN_TALKS_2(3, 8, 1, "那我該怎麼辦呢？")
--  Scene.MAIN_TALKS_1(11, 8, 0, "跟賽特一起走喵～")
--  Scene.MAIN_TALKS_2(3, 8, 1, "我想想看……。")
    ESC.SceneBreak()





-- ──────────────────────────────────────【與薇達之訣別】

::T2097B::

    GameFunc.FlagOn(467)
    GameFunc.FlagOn(10)

    Scene.MoveHero(39+5, 39-4, 6)




    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(114, 124, 0x4000) -- 【劇情配樂】月光下的薇達


    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 14, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3793')) -- ESS=薇達……%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 14)



    ESC.ChangeDIR(3, 0) -- 薇達閉目
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS293')) -- ESS=………
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 14, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3794')) -- ESS=薇達……%N妳真的不願意和我一起去東方嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 14)



    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3795')) -- ESS=我不是早已說過了嗎？%N你這樣不等於多此...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 14, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3796')) -- ESS=薇達……%N這五年來，真的謝謝妳對我所付...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3797')) -- ESS=和妳在一起時的這一段時光，我真的十分十分...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 14)



    ESC.ChangeDIR(3, 0) -- 薇達閉目
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 14, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3798')) -- ESS=我永遠忘不了妳在月光下歌唱給我聽的妳，妳...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3799')) -- ESS=薇達，那是我心中最美的畫面，我永遠永遠忘...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 14)



    ESC.ChangeDIR(3, 0) -- 薇達抱臂
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.AddHeadSign(3, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(3)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3800')) -- ESS=薇達，請相信我……%N我答應妳我一定會回...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3801')) -- ESS=從東方唐國學到我所要學的東西後，我就會回...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    ESC.ChangeDIR(3, 0) -- 薇達側站
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3802')) -- ESS=賽特，%N你…不會回故鄉法蘭克去，%N或...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3803')) -- ESS=別擔心……%N我把我所學到的事物交給我的...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3804')) -- ESS=到時候，我們就可以再一塊兒上巴格達宅邸的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 18)



    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3805')) -- ESS=真的───？%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 18, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3806')) -- ESS=真的，當然是真的───%N以妳們的%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 18)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3807')) -- ESS=謝謝你，賽特……%N我知道我真的很自私，...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3808')) -- ESS=但…我…真的…真的…好希望你能夠不要離去...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 0) -- 薇達側站
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3809')) -- ESS=賽特，我願意等你──%N
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3810')) -- ESS=我會一直在巴格達等待，一直一直，%N直到...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.SetRoleSpeed(3, 2)
    ESC.ChangeDIR(3, 7)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove2(1,    3, 28, 45, -1, Const.WALK, 7)

    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(450)

    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 23, 56)
    ESC.RoleDisable(3)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 10, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3811')) -- ESS=薇達，謝謝妳……
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3812')) -- ESS=是妳讓我真正走出%C7莉蓮%C5的影子，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 10)

    ESC.Delay(400)


    Scene.Kama_On(32, 35, 5)
    Scene.Ankh_On(37, 34, 3)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3813')) -- ESS=賽特，%N薇達很堅強的，別替她太擔心……...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3814')) -- ESS=和她在一起的那段時間，%N我也感覺她其實...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)


    ESC.ChangeDIR(8, 6)


    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3815')) -- ESS=伊斯蘭世界一向歧視女性，薇達她卻一直不願...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 0)


    ESC.ChangeDIR(11, 6)

    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3816')) -- ESS=賽特，走吧！%N我們來助你一臂之力，趕快...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 0)




--  Scene.Kama_On(32, 35, 5)
--  Scene.Ankh_On(37, 34, 3)
--  Scene.MAIN_TALKS_3(8, 8, 1, "別替她擔心，賽特。")
--  ESC.TurnFace(1, 8)
--  Scene.MAIN_TALKS_4(1, 8, 0, "嗯～%N薇達很堅強，在歧視女性的伊斯蘭，也從不屈服於環境。")
--  --  卡瑪（笑）：
--  Scene.MAIN_TALKS_3(8, 8, 1, "你要注意喔，說不定一疏忽，連你都追不上了。")
--  Scene.MAIN_TALKS_1(11, 8, 0, "你是說她能成佛？別開玩笑喵～")
--  Scene.MAIN_TALKS_3(8, 8, 1, "才不是開玩笑咧，我可是比任何人還瞭解她喔。")
--  Scene.MAIN_TALKS_4(1, 8, 0, "嗯，那些年之間妳們都在一起。")
--  Scene.MAIN_TALKS_3(8, 8, 1, "不只是這樣。")
--  Scene.MAIN_TALKS_1(11, 8, 0, "還有？還有什麼？")
--  Scene.MAIN_TALKS_3(8, 8, 1, "幾百幾千年後的事吧？那是以後的事了……。")
--  Scene.MAIN_TALKS_1(11, 8, 0, "喵～%N卡瑪好厲害。")
--  Scene.MAIN_TALKS_4(1, 8, 0, "話說回來，你們怎麼辦呢？還要要跟我繼續旅行？")
--  Scene.MAIN_TALKS_1(11, 8, 0, "喵！%N還有好戲看，我們怎麼能放過？%N卡瑪。")
--  -- 卡瑪（笑）：
--  Scene.MAIN_TALKS_3(8, 8, 1, "當然啦！安卡。")


    Scene.Kama_Off()
    Scene.Ankh_Off()


    Scene.AddMainParty(3) -- 卡馬安卡加入



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()


    ESC.RoleEnable(98)
    ESC.RoleEnable(97)
    ESC.RoleMove(98, 51, 52)
    ESC.RoleMove(97, 54, 49)
    ESC.RoleMove(99, 57, 49)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)
    ESC.ChangeDIR(99, 1)
    ESC.Unlock(97)
    ESC.Unlock(98)
    ESC.Unlock(99)
    ESC.ChangeScript(97, 'TALK2093')
    ESC.ChangeScript(98, 'TALK2093')
    Scene.SAR_TurnFace(99, 0)

    GameFunc.FlagOff(10)

end






--  ############################################################
function Scene.TALK2098()
    -- 安卡新對話段(回751之後)
end
--  ############################################################
function Scene.TALK2099()
    -- 煉妖壺中的李靖
    if GameFunc.GetFlag(488) then goto T2099_5B end
    if GameFunc.GetFlag(486) then goto T2099_5A end -- 與悟緣到洛陽
    if GameFunc.GetFlag(484) then goto T2099_4B end
    if GameFunc.GetFlag(483) then goto T2099_4A end
    if GameFunc.GetFlag(471) then goto T2099_3 end
    if GameFunc.GetFlag(479) then goto T2099_2B end
    if GameFunc.GetFlag(7069) then goto T2099_2A end
    if GameFunc.GetFlag(478) then goto T2099_1 end
    GameFunc.FlagOn(478)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3817')) -- ESS=以前中國有許多和尚到天竺取經，%N蜃樓王...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS3818')) -- ESS=蜃樓王？%N那怎麼會變成這樣？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3819')) -- ESS=旅途中死於沙漠，%N因此遺恨而作弄害人。...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS3820')) -- ESS=算起來也是同路人了……。
    ESC.SceneBreak()
::T2099_1::
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3821')) -- ESS=軒轅劍是遠古時代開創中國的神器，%N曾經...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS3822')) -- ESS=哦？真是不得了！
    ESC.SceneBreak()
::T2099_2A::
    GameFunc.FlagOn(479)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3823')) -- ESS=最近東市正在整修，已經很久沒開放了。
    ESC.SceneBreak()
::T2099_2B::
    GameFunc.FlagOff(479)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS3824')) -- ESS=長安城相當大，規劃得也相當整齊，所有的市...
    ESC.SceneBreak()
::T2099_3::
    GameFunc.FlagOn(483)
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3825')) -- ESS=少林寺雖然是修行佛法的寺廟，%N但同時也...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3826')) -- ESS=有趣？
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3827')) -- ESS=佛教講慈悲，%N但所謂武術，大多又是練來...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3828')) -- ESS=哦？%N我沒想到過這一點。
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3829')) -- ESS=問題就在這裏，%N大多數人以為慈悲…或者...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3830')) -- ESS=好像是這樣……。
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3831')) -- ESS=這問題我還是到死後才想通。%N憐憫他人會...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3832')) -- ESS=……這我不太明白，%N所謂的憐憫是指什麼...
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3833')) -- ESS=不讓他人有機會為惡，%N這是相當主動的慈...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3834')) -- ESS=那只是換一個說法嘛！
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3835')) -- ESS=哈哈哈……！%N你會認為你吃東西是殘殺其...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3836')) -- ESS=這……怎麼能這麼說？
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3837')) -- ESS=這不也是換一個說法？%N只是看你要走光明...
    ESC.SceneBreak()
::T2099_4A::
    GameFunc.FlagOn(484)
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3838')) -- ESS=老白實在太會感嘆慧彥的死，%N可是又不是...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3839')) -- ESS=那我去跟他說清楚。
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3840')) -- ESS=這件事，%N你說了他也不會明白。
    ESC.SceneBreak()
::T2099_4B::
    GameFunc.FlagOff(484)
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3841')) -- ESS=中國的武術，%N最有名的就屬少林寺。%N...
    ESC.SceneBreak()
::T2099_5A::
    GameFunc.FlagOn(488)
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3842')) -- ESS=悟緣這小和尚我還沒見過，%N個性似乎太驕...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3843')) -- ESS=是嗎？%N我沒什麼特別感覺。
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3844')) -- ESS=在生前我佛教修行中，%N最主要是在修正自...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS3845')) -- ESS=那我跟他說你的事可以嗎？%N他跟你是同宗...
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3846')) -- ESS=唉～%N不用了，我也不認識他，你跟他做做...
    ESC.SceneBreak()
::T2099_5B::
    Scene.MAIN_TALKS_1(17, 8, 0, StringDB('ESS3847')) -- ESS=以前中國強盜很少見，這次居然動用大批少林...
end



-- ──────────────────────────────────────【救了四個火刑場的人】

function Scene.PUTMAN()
    if GameFunc.GetFlag(256) then ESC.SceneBreak() end
    GameFunc.FlagOn(10)
    GameFunc.FlagOff(228)
    ESC.RMLock()
    Scene.MoveHero(79, 73, 3)

    ESC.TurnFace(1, 166)
    ESC.TurnFace(156, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(166, 1)



    ESC.Caption(1)
    Scene.Print_W(1,9007,10*2,3*2,'%S0'..StringDB('ESS3848')) -- ESS=先別急著道謝…我想要去%C2東方%C4你...
    ESC.WaitDLG(1)


    ESC.Caption(161)
    Scene.Print_W(164,9007,12*2,4*2,'%S0'..StringDB('ESS3849')) -- ESS=這位大人，我是%C2阿拉伯%C4來的%C...
    ESC.WaitDLG(164)


    ESC.Caption(158)
    Scene.Print_W(159,9007,10*2,4*2,'%S0'..StringDB('ESS3850')) -- ESS=……只是我們的%C2船隻%C4，全被那些...
    ESC.WaitDLG(159)


    ESC.Caption(165)
    Scene.Print_W(166,9007,11*2,4*2,'%S0'..StringDB('ESS3851')) -- ESS=這位恩公大人，我們的船是藏在%C2威尼斯...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_W(1,9007,6*2,3*2,StringDB('ESS3852')) -- ESS=太好了！%N這就是我想要的答案！
    ESC.WaitDLG(1)


    Scene.Print_W(1,9007,10*2,4*2,'%S0'..StringDB('ESS3853')) -- ESS=我們走吧！%N騎士團的人可能很快就會回來...
    ESC.WaitDLG(1)


    ESC.SetRoleSpeed(166, 1)
    ESC.SetRoleSpeed(164, 1)
    ESC.SetRoleSpeed(156, 1)
    ESC.SetRoleSpeed(159, 1)
    Scene.BatchWlak({
    {166,82,79,-1,-1}, -- 莫雷
    {164,91,78,-1,-1}, -- 哈倫
    {156,85,79,-1,-1}, -- 米雅
    {159,94,78,-1,-1}  -- 阿丹
    })


    Scene.MoveHero(80, 79, 3)


    ESC.TakeActData(1, -1, 32, 1)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)

    ESC.TurnFace(156, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(166, 1)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,3*2,StringDB('ESS3854')) -- ESS=等一等…%N還有一件重要的事！
    ESC.WaitDLG(1)

    Scene.MoveHero(81, 57, 1)

    ESC.ChangeRoleMap(5, 42, 0, 10, 13, 005, 32, 2) -- 移至海盜船上
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, 64) -- 賽特抱起莉蓮
    ESC.Delay(600)

    ESC.TakeActData(4, -1, 63, 2) -- 麥爾斯跪張眼

    ESC.TurnFace(156, 1)
    ESC.TurnFace(159, 1)
    ESC.TurnFace(164, 1)
    ESC.TurnFace(166, 1)

    ESC.Caption(4)
    Scene.Print_W(4,9007,8*2,3*2,StringDB('ESS3855')) -- ESS=你…你這邪教徒！想對…對我的%C2莉蓮%...
    ESC.WaitDLG(4)


    ESC.Caption(1)
    Scene.Print_W(1,9007,11*2,3*2,StringDB('ESS3856')) -- ESS=在我離開這裏之前，想麻煩她當個%C2人質...
    ESC.WaitDLG(1)


    ESC.Caption(4)
    Scene.Print_W(4,9007,7*2,3*2,StringDB('ESS3857')) -- ESS=你…你……%N你這畜生，是想%C2玷污%...
    ESC.WaitDLG(4)







    ESC.DLGNoFrame() ESC.DLGNoCloseKey()
    ESC.DLGNoPass() ESC.DLGHoldTime(10)
    Scene.Print_SL(4,9007,320,70,32,8,'%S0%C6%N%S1'..StringDB('ESS3859')) -- ESS=畜生…放開她……


    ESC.ChangeACT(1, 5)
    ESC.ChangeQQ(1, 64)
    ESC.ChangeDIR(1, 1)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(30, 2)
    ESC.ChangeQQ(30, Const.WALK)

    -- ESC.SetPos(1, 94, 95)
    ESC.SetPos(1, 88, 80)
    -- ESC.SetPos(30, 96-4, 95+2)
    ESC.SetPos(30, 86, 78)

::PUTMAN_1::
    ESC.BatchStep( 2,   1, 30)
    if not ESC.RoleReach(1) then goto PUTMAN_1 end
    ESC.ChangeQQ(1, 60)
    ESC.ChangeQQ(30, 0)
    ESC.ChangeDIR(30, 3)

    ESC.Caption(1)
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS3858')) -- ESS=大家走吧！%N沒時間理他了！
    ESC.WaitDLG(1)

    ESC.ChangeQQ(1, 64)
    ESC.ChangeQQ(30, Const.WALK)
    ESC.ChangeQQ(166, Const.WALK) ESC.SetPos(166,95,91)
    ESC.ChangeQQ(164, Const.WALK) ESC.SetPos(164,95,89)
    ESC.ChangeQQ(156, Const.WALK) ESC.SetPos(156,94,87)
    ESC.ChangeQQ(159, Const.WALK) ESC.SetPos(159,93,90)

    ESC.SetPos(1, 94, 95)
    ESC.SetPos(30, 96-4, 95+2)
::PUTMAN_B::
    ESC.BatchStep( 6,   1, 30,166,164,156,159)


    if GameFunc.GetFlag(7002) then goto PUTMAN_A end
    GameFunc.FlagOn(7002)

    MediaFunc.PlaySound(5)
::PUTMAN_A::
    if not ESC.RoleReach(1) then goto PUTMAN_B end
    ESC.RoleDisable(4)    -- 取消威尼斯廣場上的麥爾斯
    ESC.ChangeDIR(1, 1)
    ESC.ChangeQQ(1, 60)
::PUTMAN_C::
    ESC.BatchStep( 5,   30,166,164,156,159)
    if not ESC.RoleReach(30) then goto PUTMAN_C end
     ESC.Unlock(30)
    ESC.TakeActData(30, -1, 28, 3)
    ESC.TILPA1( 30, 2)
    ESC.ChangeQQ(166, 0)
    ESC.ChangeQQ(164, 0)
    ESC.ChangeQQ(156, 0)
    ESC.ChangeQQ(159, 0)

    ESC.StoryMusic(35, 23, 0x4000) -- 【劇情配樂】沈默與恐懼
    ESC.ChangeQQ(30, 0)
    ESC.ChangeDIR(30, 3)

    ESC.Delay(300)
    ESC.RoleDisable(336)
    ESC.RoleDisable(337)
    ESC.Caption(1)
    Scene.Print_W(1, 9007, 9*2, 4*2, StringDB('ESS3860')) -- ESS=咦…%N這不是剛剛也在火刑場的%C2教士...
    ESC.WaitDLG(1)
    ESC.TurnFace(166, 1)
    ESC.Caption(165)
    Scene.Print_W(166, 9007, 9*2, 3*2, StringDB('ESS3861')) -- ESS=恩公大人，這個傢伙邪裏邪氣的，請您最好小...
    ESC.WaitDLG(166)
    ESC.TurnFace(7, 1)
    Scene.MBOn(4, 4, 1, 140-0, 390-20, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0 , 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3862')) -- ESS=迷途的羔羊呀…%N你的災禍近了！%N上帝...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3863')) -- ESS=嘿嘿嘿…嘿嘿…%N在下%C7康那里士%C...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)


    ESC.MBOff(4, 0)
    ESC.DelHead(10007, 0)


    Scene.MBOn(3, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3864')) -- ESS=真是莫名其妙的傢伙……%N我們走吧，別管...
    MediaFunc.PlaySound(5)
    ESC.WaitDLG(1)
    ESC.DelHead(10001, 3)
    ESC.MBOff(3, 1)


    ESC.Delay(1200)

    ESC.ChangeQQ(1, 64)




    ESC.ChangeDIR(30, 1)
    ESC.ChangeQQ(30, Const.WALK)

    Scene.SAR_ABSC(7, 1) -- 設成穿不過的人
    ESC.ChangeDIR(1, 1)

    ESC.SetRoleSpeed(30, 3)
    ESC.SetPos(1, 104, 110)
    ESC.SetPos(30, 107, 105)
    ESC.ChangeQQ(166, Const.WALK) ESC.SetPos(166,100,104)
    ESC.ChangeQQ(164, Const.WALK) ESC.SetPos(164,105,103)
    ESC.ChangeQQ(156, Const.WALK) ESC.SetPos(156,110,104)
    ESC.ChangeQQ(159, Const.WALK) ESC.SetPos(159,108,103)
    for i=1,53 do
        ESC.BatchStep( 6,   1, 30,166,164,156,159)
    end

    ESC.ChangeQQ(1, 60)

    ESC.TurnFace(7, 1)
    ESC.Delay(1)
    ESC.DLGNoFrame() ESC.DLGNoCloseKey()
    ESC.DLGNoPass() ESC.DLGHoldTime(10)
    Scene.Print_SL(7,9007,140-10,20,32,8,'%S0%C6%N%S1'..StringDB('ESS3865')) -- ESS=嘿嘿…嘿嘿嘿……
    ESC.ChangeQQ(1, 64)
    while not ESC.IsAllReach() do
        ESC.BatchStep( 6,   1, 30,166,164,156,159)
    end

    ESC.RoleDisable(104)
    ESC.RoleDisable(158)
    ESC.RoleDisable(161)
    ESC.RoleDisable(165)
    ESC.RoleDisable(203)
    ESC.RoleDisable(204)
    ESC.RoleDisable(252)
    ESC.RoleDisable(253)
    GameFunc.FlagOn(256)
    ESC.ChangeDIR(1, 1)

    ESC.SetRoleSpeed(30, 2)
    ESC.SetPos(1, 104, 126)
    ESC.SetPos(30, 107, 126)
    ESC.ChangeQQ(166, Const.WALK) ESC.SetPos(166,100,124)
    ESC.ChangeQQ(164, Const.WALK) ESC.SetPos(164,105,123)
    ESC.ChangeQQ(156, Const.WALK) ESC.SetPos(156,110,124)
    ESC.ChangeQQ(159, Const.WALK) ESC.SetPos(159,108,123)
    for i=1,49 do
        ESC.BatchStep(  6,   1, 30,166,164,156,159)
    end

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 12)

    for i=1,26 do
        ESC.BatchStep(  6,   1, 30,166,164,156,159)
    end


    Scene.SAR_ABSC(7, 0)
    ESC.RoleDisable(7)

    ESC.RoleDisable(267) --   酒店門口拿掉
    GameFunc.FlagOn(7003)

    ESC.AddParty(166)
    ESC.AddParty(164)
    ESC.AddParty(156)
    ESC.AddParty(159)

    ESC.RemoveParty(156 , 0,'TALK156',579 , Const.WALK, 1, 0xD900)
    ESC.RemoveParty(159 , 0,'TALK159',501 , Const.WALK, 1, 0xD900)
    ESC.RemoveParty(164 , 0,'TALK164',505 , Const.WALK, 1, 0xD900)
    ESC.RemoveParty(166 , 0,'TALK166',503 , Const.WALK, 1, 0xD900)

    ESC.ChangeRoleMap(156, 130, 0 , 82, 44 , 579 , Const.STAND, 1)
    ESC.ChangeRoleMap(159, 130, 0 , 79, 41 , 501 , Const.STAND, 1)
    ESC.ChangeRoleMap(164, 130, 0 , 70, 44 , 505 , Const.STAND, 1)
    ESC.ChangeRoleMap(166, 130, 0 , 73, 41 , 503 , Const.STAND, 1)
    ESC.ChangeRoleMap( 30, 42, 0 , 16, 16 , 30 , Const.STAND, 2) -- 移至海盜船

    ESC.StoryMusicOff()
    ESC.UnlockAll()

    ESC.GotoMap(10, 71, 44, 1, 8, 1)
    ESC.ChangeACT(1, 96) -- 換成縮小版主角
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RMUNlock()
    GameFunc.FlagOff(10)
    Scene.QuestOn(62)
    Scene.QuestOff(61)

    ESC.RoleEnable(102) ESC.ChangePath(102,102)
    ESC.RoleEnable(105) ESC.ChangePath(105,105)
    ESC.RoleEnable(112) ESC.ChangePath(112,112) -- 露絲
    ESC.RoleEnable(103) ESC.ChangePath(103,103)
    ESC.RoleEnable(124) ESC.ChangePath(124,124)
    ESC.RoleEnable(106) ESC.ChangePath(106,106)
    ESC.RoleEnable(108) ESC.ChangePath(108,108)
    ESC.RoleEnable(109) ESC.ChangePath(109,109)
    ESC.RoleEnable(117) ESC.ChangePath(117,117)
    ESC.RoleEnable(119) ESC.ChangePath(119,119)
    ESC.RoleEnable(128) ESC.ChangePath(128,128)
    ESC.RoleEnable(123) -- 養小狗的艾蜜莉亞 (演出很礙事)
end


--  #################################################################
--  【小妮可誕生】

function Scene.SHOW1()

    ESC.SetRoleSpeed(226, 4)
    ESC.ChangeQQ(226, Const.WALK)

    ESC.BatchMove(1,    226, 52, 42)

    ESC.TurnFace(1, 226)
    ESC.ChangeQQ(1, Const.STAND)

    Scene.MBOn(3, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3866')) -- ESS=目前看起來%C2騎士團%C5的人還沒有回...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 10, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3867')) -- ESS=…賽特…%N讓…讓我…上去祭壇…%N…我...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10095, 10)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 51, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3868')) -- ESS=這老傢伙真有夠得寸進尺！%N我急著趕去%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1) -- 關閉透明框
    ESC.DelHead(10001, 51) -- 清除人頭圖


    ESC.SetRoleSpeed(226, 6)
    ESC.ChangeQQ(226, Const.WALK)
    ESC.BatchMove(1,    226, 49, 42)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, Const.STAND)



    ESC.SetRoleSpeed(226, 6)
    ESC.ChangeQQ(226, Const.WALK) -- 老人上祭壇
    ESC.BatchMove(1,    226, 49, 34)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 9, 50, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_L(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3869')) -- ESS=別上去！%N騎士團的人可能馬上就要回來了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0) -- 關閉透明框
    ESC.DelHead(10001, 9) -- 清除人頭圖


    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(226, 6)

    ESC.SetPos(226, 52, 34)
    ESC.SetPos(1, 46, 35)

::SHOW1A::
    ESC.BatchStep( 2,   1, 226)
    if not ESC.RoleReach(1) then goto SHOW1B end
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 3)
::SHOW1B::
    if not ESC.IsAllReach() then goto SHOW1A end
    ESC.SetRoleSpeed(226, 6)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(226, Const.STAND)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(100)
    ESC.ChangeDIR(226, 6)
    ESC.Delay(100)
    Scene.MBOn(4, 11, 0, 140-0, 10, 32*11+30, 6*11+45) --  打開透明框
    Scene.AddHead(10095, 10, 560, 120) -- 打開大頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3870'))    -- 神秘老人說（待換） ESS=賽特…%N你…你在這裏…等著…%N…我馬...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0) -- 關閉透明框
    ESC.DelHead(10095, 10) -- 清除人頭圖



    ESC.SetRoleSpeed(226, 6)
    ESC.ChangeQQ(226, Const.WALK)
    ESC.BatchMove(1,    226, 58, 32)
    ESC.ChangeDIR(226, 1)
    ESC.Delay(10)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 49, 50, 460) -- 打開頭
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGHoldTime(-1) -- 對話框永不消失
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3871')) -- ESS=這傢伙自己走路都搖搖墜墜、快不行了，不快...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1) -- 關閉透明框
    ESC.DelHead(10001, 49) -- 清除人頭圖


    ESC.MusicFadeMode(2 , 60)
    ESC.StoryMusic(20, 31, 0x2000) -- 【劇情配樂】妮可誕生 沈默與恐懼


    ESC.ScrollMap(12, 0, 4, 0)
    ESC.ScrollMapWait()
    ESC.Delay(300)

    -- 畫魔法陣小動畫
    ESC.RoleDisable(226)
    ESC.PlayACT(0, -22, -70, 589, 25, 226)


    ESC.RoleEnable(196)
    ESC.TILPA2(0, 6)
    ESC.RoleEnable(226)
    ESC.Delay(200)


    Scene.MBOn(2, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10001, 9, 50, 460) -- 打開頭
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame() -- 對話不要外框
    ESC.DLGNoPass()  -- 慢速對話文字
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3872')) -- ESS=嘿，這…這老傢伙在做什麼？%N居然咬破自...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1) -- 關閉透明框
    ESC.DelHead(10001, 9) -- 清除人頭圖


    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10095, 10, 560, 120) -- 打開大頭
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame() -- 對話不要外框
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3873')) -- 神秘老人說（待換） ESS=出來吧！%N我奉%C2撒旦%C5大人之名...
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0) -- 關閉透明框
    ESC.DelHead(10095, 10) -- 清除人頭圖
    ESC.TILPA2(0, 6)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()
    ESC.ScreenHide()

    ESC.PlayVedio('born') -- 【劇情動畫】妮可誕生


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()


    ESC.RoleMove(226, 58, 30)
    ESC.TakeActData(226, -1, 33, 0)

    ESC.AniPlay('nicole',false, false) -- 【角色動畫】好奇的妮可

    ESC.AniUntil( 37) -- 14
    Scene.MBOn(2, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10095, 11, 50, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3874')) -- ESS=…撒…撒旦大人，%N您…您交待…我的…任...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10095, 11)

    ESC.AniUntil( 69) -- 40
    Scene.MBOn(6, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3875')) -- ESS=…嘩…！%N融化掉了，融化掉了！他好厲害...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)
    ESC.TILPA2(0, 6)

    ESC.AniUntil( 70) -- 36
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3876')) -- ESS=…這是怎麼回事？%N老傢伙不見了，卻莫名...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)

    ESC.AniUntil( 73) -- 44
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3877')) -- ESS=喂喂，妳…%N妳到底是什麼人？%N居然有...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1) -- 關閉透明框
    ESC.DelHead(10001, 5)


    ESC.AniUntil( 78) -- 36
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 4, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3878')) -- ESS=兇巴巴的，哼！
    ESC.WaitDLG(1)
    ESC.MBOff(0, 0)
    ESC.DelHead(10002, 4)

    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(36, 37, 0x4000)

    ESC.AniUntil( 138) -- 36
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3879')) -- ESS=嘩，好漂亮的地方哦！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10002, 2)

    ESC.AniUntil( 170) -- 204
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3880')) -- ESS=嘩，這是什麼啊？好漂亮的畫畫哦！%N是誰...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10002, 2)


    ESC.AniUntil( 190) -- 106
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 0, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3881')) -- ESS=嘩，從這一邊看更漂亮，比我們那裏漂亮多了...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10002, 0)


    ESC.AniUntil( 339) -- 148
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45) -- 打開透明框
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3882')) -- ESS=嘩，這裏的感覺也很不錯耶！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)

    ESC.AniUntil( 495) -- 232
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3883')) -- ESS=喂！妳到底是誰呀？%N到底來幹什麼的？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 5)



    ESC.AniUntil( 513) -- 236
    Scene.MBOn(6, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 4, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3884')) -- ESS=耶～～
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10002, 4)


    ESC.AniUntil( 529) -- 338
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3885')) -- ESS=喂！妳到底是誰呀？%N說呀！快回答我！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    ESC.AniUntil( 620) -- 349
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3886')) -- ESS=這個人是誰呀，好可憐哦！%N為什麼把他吊...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)



    ESC.AniUntil( 623) -- 356
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3887')) -- ESS=不…那只是一個雕像而已，%N一個叫耶穌的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.AniUntil( 631) -- 365
    Scene.MBOn(6, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 6, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3888')) -- ESS=嘿～～%N那你們這裏和我們那裏一樣，都喜...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 6)

    ESC.AniUntil( 642) -- 379
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3889')) -- ESS=喂喂喂，講了大半天，%N妳到底是哪來的？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)

    ESC.AniUntil( 661) -- 389
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 4, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3890')) -- ESS=耶～～你就是那個賽特嗎？%N你好兇哦！
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10002, 4)


    ESC.AniUntil( 675) -- 395
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3891')) -- ESS=怎麼一回事…？%N為什麼居然連這一個傢伙...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)

    ESC.AniUntil( 703) -- 395
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3892')) -- ESS=妳到底從哪來的？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.AniUntil( 409)


    ESC.AniUntil( 416)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3893')) -- ESS=沒有錯！%N我就是賽特，為什麼妳們都知道...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)


    ESC.AniUntil( 423)
    Scene.MBOn(6, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 2, 560, 120+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_L(1,9007,140-10,20,16*2,4*2,StringDB('ESS3894')) -- ESS=賽特，我叫做%C2妮可%C5，%N妮可，...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 0)
    ESC.DelHead(10002, 2)



    ESC.AniUntil( 432)
    Scene.MBOn(6, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460+0x8000)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3895')) -- ESS=妮可…？%N跟我在一起…？
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10001, 5)


    ESC.RoleMove(1, 60, 29)


    ESC.StoryMusicOff()
    ESC.AniUntilClose()




    ESC.ScreenShow()



    GameFunc.FlagOff(10) -- 判斷妮可與賽特第一次對話過了沒有
    ESC.RMUNlock()
    ESC.ChangeDIR(196, 2)
    GameFunc.FlagOff(271) -- 設定一出地牢就觸動妮可劇情關掉
    ESC.RoleDisable(2)
end


function Scene.TALK2201()
    Scene.OpenChest(2201, 627, '%T627.' ) -- 魔貝粉
end



function Scene.TALK2202()
    Scene.OpenChest(2202, 621, '%T621.')
end

function Scene.TALK2203()
    Scene.OpenMeneyChest(2203, 300) -- 銀幣300
end

function Scene.TALK2204()
    Scene.OpenChest(2204, 954, '%T954.' ) -- 吸魔壺
end

function Scene.TALK2205()
    Scene.OpenChest(2205, 566, '%T566.' ) -- 流雲針566
end

function Scene.TALK2206()
    Scene.OpenChest(2206, 621, '%T621.')
end

function Scene.TALK2207()
    Scene.OpenChest(2207, 625, '%T625.' ) -- 回復劑
end

function Scene.TALK2208()
    Scene.OpenChest(Const.TOWN, 625, '%T625.' ) -- 回復劑
end

function Scene.TALK2209()
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end

function Scene.TALK2210()
    Scene.OpenChest(Const.TOWN, 773, '%T773.' ) -- 魔晶礦B
end

function Scene.TALK2211()
    Scene.OpenChest(Const.TOWN, 1045, '%T1045.' ) -- 雨雲之腕
end

function Scene.TALK2212()
    Scene.OpenChest(Const.TOWN, 625, '%T625.' ) -- 回復劑
end

function Scene.TALK2213()
    Scene.OpenChest(Const.TOWN, 637, '%T637.' ) -- 魔晶粉637
end

function Scene.TALK2214()
    Scene.OpenChest(Const.TOWN, 638, '%T638.' ) -- 魔力水638
end

function Scene.TALK2215()
    Scene.OpenMeneyChest(2215, 500 ) -- 銀幣500
end

function Scene.TALK2216()
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end

function Scene.TALK2217()
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end
----------------------------美索不達米亞山區    ,部份寶箱設距離限制
function Scene.TALK2218()
    if ESC.GetRoleToPosDistance(74, 44, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 630, '%T630.')
end

function Scene.TALK2219()
    if ESC.GetRoleToPosDistance(52, 63, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 638, '%T638.')
end

function Scene.TALK2220()
    if ESC.GetRoleToPosDistance(8, 94, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 628, '%T628.')
end


function Scene.TALK2222()
    if ESC.GetRoleToPosDistance(152, 19, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 623, '%T623.')
end

function Scene.TALK2223()
    Scene.OpenChest(Const.TOWN, 645, '%T645.')
end

function Scene.TALK2224()
    if ESC.GetRoleToPosDistance(70, 64, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 672, '%T672.')
end

function Scene.TALK2226()
    Scene.OpenChest(Const.TOWN, 627, '%T627.')
end

function Scene.TALK2228()
    Scene.OpenChest(Const.TOWN, 627, '%T627.')
end

function Scene.TALK2229()
    Scene.OpenChest(Const.TOWN, 626, '%T626.')
end

function Scene.TALK2230()
    Scene.OpenChest(Const.TOWN, 626, '%T626.')
end

------------ 石國水井迷宮    === 固定的寶箱  有距離限制
function Scene.TALK2231()
    if ESC.GetRoleToPosDistance(74, 21, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end

function Scene.TALK2232()
    if ESC.GetRoleToPosDistance(88, 22, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 638, '%T638.')
end

function Scene.TALK2233()
    if ESC.GetRoleToPosDistance(133, 53, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 626, '%T626.')
end

function Scene.TALK2234()
    if ESC.GetRoleToPosDistance(78, 123, 1) > 2 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    ESC.FitSize()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    Scene.M_Print(2234, '%K'..StringDB('ESS3898')) -- ESS=糟了！是個陷阱。
    Scene.PlayACT(0, 303, 274, 7004, 0)
    ESC.TILPA2(0, 8)
    MediaFunc.PlaySound(117)
    ESC.RoleDisable(2234)
    ESC.Healing(1, -200, 0, 0)
end

function Scene.TALK2235()
    if ESC.GetRoleToPosDistance(34, 191, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 625, '%T625.')
end

function Scene.TALK2236()
    if ESC.GetRoleToPosDistance(51, 197, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 627, '%T627.')
end

function Scene.TALK2237()
    if ESC.GetRoleToPosDistance(90, 150, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 626, '%T626.')
end

function Scene.TALK2238()
    if ESC.GetRoleToPosDistance(48, 153, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 628, '%T628.')
end

function Scene.TALK2239()
    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 169, 181)
    ESC.ChangeQQ(1, 0)
    ESC.FitSize()
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    Scene.M_Print(2239, '%K'..StringDB('ESS3899')) -- ESS=啊！糟糕，是陷阱。
    Scene.PlayACT(0, 303, 272, 7004, 0)
    ESC.TILPA2(0, 8)
    MediaFunc.PlaySound(117)
    ESC.RoleDisable(2239)
    ESC.Healing(1, -100, 0, 0)
end

function Scene.TALK2240()
    if ESC.GetRoleToPosDistance(191, 19, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 628, '%T628.')
end

function Scene.TALK2241()
    if ESC.GetRoleToPosDistance(177, 22, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 627, '%T627.')
end

function Scene.TALK2242()
    if ESC.GetRoleToPosDistance(134, 85, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 627, '%T627.')
end

function Scene.TALK2243()
    if ESC.GetRoleToPosDistance(128, 95, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChestBattle(2243, 'BS185')
end

function Scene.TALK2244()
    if ESC.GetRoleToPosDistance(32, 94, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 729, '%T729.')
end

function Scene.TALK2245()
    if ESC.GetRoleToPosDistance(28, 107, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end
------------ 石國水井迷宮    === 漂流的寶箱
function Scene.TALK2246()
    Scene.OpenChest(2246, 630, '%T630.')
end

function Scene.TALK2247()
    Scene.OpenChest(2247, 621, '%T621.')
end

function Scene.TALK2248()
    Scene.OpenChest(2248, 621, '%T621.')
end

function Scene.TALK2249()
    Scene.OpenChest(2249, 674, '%T674.')
end

function Scene.TALK2250()
    Scene.OpenChest(2250, 621, '%T621.')
end

function Scene.TALK2251()
    Scene.OpenChest(2251, 774, '%T774.' ) -- 魔晶礦C
end
-- 少林寺 MAP21
function Scene.TALK2252()
    Scene.OpenChest(2252, 621, '%T621.')
end

function Scene.TALK2253()
    Scene.OpenChest(2253, 653, '%T653.')
end

function Scene.TALK2254()
    if ESC.GetRoleToPosDistance(73, 86, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2254, 779, '%T779.')
end

function Scene.TALK2255()
    if ESC.GetRoleToPosDistance(94, 126, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2255, 645, '%T645.')
end

function Scene.TALK2256()
    Scene.OpenChest(2256, 621, '%T621.')
end

function Scene.TALK2257()
    Scene.OpenChest(2257, 639, '%T639.')
end

function Scene.TALK2258()
    Scene.OpenChest(2258, 621, '%T621.')
end

function Scene.TALK2259()
    Scene.OpenChest(2259, 628, '%T628.')
end
-- MAP14
function Scene.TALK2260()
    if ESC.GetRoleToPosDistance(35, 28, 1) > 2 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2260, 628, '%T628.')
end

function Scene.TALK2261()
    if ESC.GetRoleToPosDistance(54, 45, 1) > 2 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2261, 945, '%T945.')
end

function Scene.TALK2262()
    if ESC.GetRoleToPosDistance(67, 37, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2262, 895, '%T895.')
end

function Scene.TALK2263()
    if ESC.GetRoleToPosDistance(52, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2263, 899, '%T899.')
end

function Scene.TALK2264()
    if ESC.GetRoleToPosDistance(84, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2264, 621, '%T621.')
end

function Scene.TALK2265()
    if ESC.GetRoleToPosDistance(115, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2265, 633, '%T633.')
end

function Scene.TALK2266()
    if ESC.GetRoleToPosDistance(147, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2266, 621, '%T621.')
end

function Scene.TALK2267()
    if ESC.GetRoleToPosDistance(179, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2267, 946, '%T946.')
end
-- MAP 15
function Scene.TALK2268()
    Scene.OpenChest(2268, 948, '%T948.')
end
-- MAP 16
function Scene.TALK2269()
    if ESC.GetRoleToPosDistance(59, 43, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2269, 633, '%T633.')
end

function Scene.TALK2270()
    if ESC.GetRoleToPosDistance(91, 34, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2270, 639, '%T639.')
end

function Scene.TALK2271()
    if ESC.GetRoleToPosDistance(91, 71, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2271, 692, '%T692.')
end
-- 驪山
function Scene.TALK2272()
    if ESC.GetRoleToPosDistance(51, 53, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2272, 827, '%T827.')
end

function Scene.TALK2273()
    if ESC.GetRoleToPosDistance(20, 42, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) ESC.SceneBreak() end -- ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(2273, 558, '%T558.')
end

function Scene.TALK2274()
    Scene.SearchFlower(628)
end

function Scene.TALK2275()
    Scene.SearchFlower(729)
end

function Scene.TALK2276()
    Scene.SearchFlower(639)
end

function Scene.TALK2277()
    Scene.SearchFlower(897)
end
-- 安宅
function Scene.TALK2278()
    Scene.SearchFlower(691)
end

function Scene.TALK2279()
    Scene.SearchFlower(689)
end

function Scene.TALK2280()
    Scene.SearchFlower(951)
end

function Scene.TALK2281()
    Scene.SearchFlower(1050)
end

function Scene.TALK2282()
    Scene.SearchFlower(543)
end

function Scene.TALK2283()
    Scene.SearchFlower(867)
end

function Scene.TALK2284()
    Scene.SearchFlower(673)
end

function Scene.TALK2285()
    Scene.SearchFlower(888)
end

function Scene.TALK2286()
    Scene.SearchFlower(1012)
end

function Scene.TALK2287()
    Scene.SearchFlower(512)
end

function Scene.TALK2288()
    Scene.OpenChestBattle('BS241')
end

function Scene.TALK2289()
    Scene.OpenChest(Const.TOWN, 884, '%T884.')
end
-------------------------------------------------- 風伯
function Scene.TALK2290()
    if Scene.CheckQQ(2290, 8) then return end
    Scene.AutoPrint_C(2290, StringDB('ESS3900')) -- ESS=你們好，吾乃天界之神──風伯，如果你們有...

    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T2290B
    end

::T2290A::
    if Function.CheckEquip(943) then goto T2290B0 end   -- 檢查是否裝備，有則跳無則下

    if Function.GetItemCount(943)>0 then
        goto T2290A1
    end
    goto T2290B1

::T2290A1::
    Scene.Print_W(2290,9005,9*2,1*2,StringDB('ESS3901')) -- ESS=嗯！沒錯就是它。
    ESC.WaitDLG(2290)
    ESC.ChangeQQ(2290, 8)
    ESC.SkillLearn(3, 1647)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS3902')) -- ESS=卡瑪學會%C2風伯見日
    ItemFunc.AddItem(943, -1)
    ESC.SceneBreak()

::T2290B0::
    ESC.Caption(2290)
    Scene.Print_W(2290,9005,7*2,2*2,StringDB('ESS3903')) -- ESS=可是請先將它卸下裝備。
    ESC.WaitDLG(2290)
    ESC.SceneBreak()

::T2290B::
    ESC.Caption(2290)
    Scene.Print_W(2290,9005,6*2,2*2,StringDB('ESS3904')) -- ESS=唉──，可能我們無緣吧！
    ESC.WaitDLG(2290)
    ESC.SceneBreak()

::T2290B1::
    Scene.Print_W(2290,9005,8*2,2*2,StringDB('ESS3905')) -- ESS=有了乾坤袋，我才能幫助你們。
    ESC.WaitDLG(2290)
end
--------------------------------------------------------------------------------------------------------------------------
function Scene.TALK2291()
    Scene.OpenChest(Const.TOWN, 947, '%T947.')
end

function Scene.TALK2292()
    Scene.OpenChest(Const.TOWN, 902, '%T902.')
end

function Scene.TALK2295()
    Scene.SearchFlower(817)
end
-------------------------------------------------------------------- 雨師
function Scene.TALK2296()
    Scene.AutoPrint_C(2296, StringDB('ESS3906')) -- ESS=你們好，吾乃天界之神──雨師，如果你們有...

    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T2296B
    end

::T2296A::
    if Function.CheckEquip(947) then goto T2296B0 end  -- 檢查是否裝備著，無則下有則跳

    if Function.GetItemCount(947)>0 then
        goto T2296A1
    end
    goto T2296B1

::T2296A1::
    Scene.Print_W(2296,9005,9*2,1*2,StringDB('ESS3901')) -- ESS=嗯！沒錯就是它。
    ESC.WaitDLG(2296)
    ESC.SkillLearn(4, 1651)
    ESC.Center_X()
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0'..StringDB('ESS3907')) -- ESS=李靖學會%C2雨師興浪
    ESC.RoleDisable(2296)
    ItemFunc.AddItem(947, -1)
    ESC.SceneBreak()

::T2296B0::
    ESC.Caption(2296)
    Scene.Print_W(2296,9005,7*2,2*2,StringDB('ESS3903')) -- ESS=可是請先將它卸下裝備。
    ESC.WaitDLG(2296)
    ESC.SceneBreak()

::T2296B::
    ESC.Caption(2296)
    Scene.Print_W(2296,9005,6*2,2*2,StringDB('ESS3904')) -- ESS=唉──，可能我們無緣吧！
    ESC.WaitDLG(2296)
    ESC.SceneBreak()

::T2296B1::
    Scene.Print_W(2296,9005,8*2,2*2,StringDB('ESS3908')) -- ESS=有了雷公鎚，我才能幫助你們。
    ESC.WaitDLG(2296)
end
-----------------------------------------------------------------------------------------------------------------------
function Scene.TALK2297()
    Scene.SearchFlower(935)
end

function Scene.TALK2298()
    Scene.SearchFlower(861)
end

----- 4041 ,牧羊人干吉循環對話
----- 4042 ,羅秘甌循環對話
----- 4043 ,茱麗曄循環對話
------------------------------------------------------------------------------------------------------------

function Scene.TALK4101()
    ESC.Caption(4101)
    Scene.Print_W (4101 ,9008 ,8*2 ,3*2,StringDB('ESS3909')) -- ESS=我是個孤兒，我的家人全部死於戰亂了。
    ESC.WaitDLG(4101)
    Scene.Print_W (4101 ,9008 ,8*2 ,3*2,StringDB('ESS3910')) -- ESS=我帶著三頭羊到這裏討生活，牠們是我全部的...
    ESC.WaitDLG(4101)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4102()
    if GameFunc.GetFlag(4041) then goto T4102 end
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,4*2,StringDB('ESS3911')) -- ESS=這裏的牧草青翠營養，五年前我只有兩三隻羊...
    ESC.WaitDLG(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3912')) -- ESS=當初來到這個石國廢墟，還真怕生活不下去呢...
    ESC.WaitDLG(4102)
    GameFunc.FlagOn(4041)
    ESC.SceneBreak()
::T4102::
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,10*2,4*2,StringDB('ESS3913')) -- ESS=敕勒川，陰山下，%N天似穹廬，籠罩四野，...
    ESC.WaitDLG(4102)
    GameFunc.FlagOff(4041)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4103()
    ESC.TurnFace(4102, 4103)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3914')) -- ESS=這隻是%C2大青%C4，牠是青兒跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4104()
    ESC.TurnFace(4102, 4104)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3915')) -- ESS=這隻是%C2四青%C4，牠是青兒跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4105()
    ESC.TurnFace(4102, 4105)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3916')) -- ESS=這隻是%C2二青%C4，牠是青兒跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4106()
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3917')) -- ESS=這隻是%C2三青%C4，牠是青兒跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4107()
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3918')) -- ESS=這隻是%C2小青%C4，牠是青兒跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4108()
    ESC.ChangeDIR(4102, 1)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3919')) -- ESS=這隻是%C2小白%C4，牠是白雪跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4109()
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3920')) -- ESS=這隻是%C2小雪%C4，牠是白雪跟男子漢...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4110()
    if GameFunc.GetFlag(462) then goto T4110 end
    ESC.TurnFace(4102, 4110)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3921')) -- ESS=這隻是%C2青兒%C4，我小時候叫她青蛙...
    ESC.WaitDLG(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3922')) -- ESS=這裏大部分的小羊都是她跟男子漢生的！
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
    ESC.SceneBreak()
::T4110::
    ESC.TurnFace(4101, 1)
    ESC.Caption(4101)
    Scene.Print_W (4101 ,9008,8*2,4*2,StringDB('ESS3923')) -- ESS=她喜歡追青蛙，所以我叫她%C2青蛙%C4...
    ESC.WaitDLG(4101)
    Scene.Print_W (4101 ,9008,8*2,3*2,StringDB('ESS3924')) -- ESS=就算會生，恐怕也不夠奶水讓小羊們喝！
    ESC.WaitDLG(4101)
    ESC.ChangeDIR(4101, 1)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4111()
    if GameFunc.GetFlag(462) then goto T4111 end
    ESC.TurnFace(4102, 4111)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3925')) -- ESS=它是我最早養的公羊，我替牠取名為%C2男...
    ESC.WaitDLG(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3926')) -- ESS=這裏的小羊都是牠和青兒還有白雪生的！
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
    ESC.SceneBreak()
::T4111::
    ESC.TurnFace(4101, 1)
    ESC.Caption(4101)
    Scene.Print_W (4101 ,9008,8*2,3*2,StringDB('ESS3927')) -- ESS=我都叫他%C2男子漢%C4，他是這裏唯一...
    ESC.WaitDLG(4101)
    Scene.Print_W (4101 ,9008,8*2,3*2,StringDB('ESS3928')) -- ESS=希望他能讓%C2青蛙%C4和%C2白兔%...
    ESC.WaitDLG(4101)
    ESC.ChangeDIR(4101, 1)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4112()
    if GameFunc.GetFlag(462) then goto T4112 end
    ESC.TurnFace(4102, 4112)
    ESC.Delay(400)
    ESC.TurnFace(4102, 1)
    ESC.Caption(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3929')) -- ESS=牠出生時就像一隻小白兔，所以我叫牠%C2...
    ESC.WaitDLG(4102)
    Scene.Print_W (4102 ,9008,8*2,3*2,StringDB('ESS3930')) -- ESS=原本還以為牠很會生，沒想到居然只生了兩隻...
    ESC.WaitDLG(4102)
    ESC.ChangeDIR(4102, 5)
    ESC.SceneBreak()
::T4112::
    ESC.TurnFace(4101, 1)
    ESC.Caption(4101)
    Scene.Print_W (4101 ,9008,8*2,3*2,StringDB('ESS3929')) -- ESS=牠出生時就像一隻小白兔，所以我叫牠%C2...
    ESC.WaitDLG(4101)
    Scene.Print_W (4101 ,9008,8*2,3*2,StringDB('ESS3931')) -- ESS=我每天餵牠很多青草，牠生的小羊一定白白胖...
    ESC.WaitDLG(4101)
    ESC.ChangeDIR(4101, 1)
end
------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------
function Scene.TALK4114()
    ESC.Caption(4114)
    Scene.Print_W (4114 ,9008,8*2,3*2,StringDB('ESS3932')) -- ESS=唉～自從女兒出嫁之後，獨自生活的日子過得...
    ESC.WaitDLG(4114)
    Scene.Print_W (4114 ,9008,8*2,3*2,StringDB('ESS3933')) -- ESS=我也沒有兒子，等到黃泉終老之時，這家店要...
    ESC.WaitDLG(4114)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4115()
    ESC.Caption(4115)
    Scene.Print_W (4115 ,9008,9*2,3*2,StringDB('ESS3934')) -- ESS=阿爹一心幫我找個婆家，但我若出嫁了，誰來...
    ESC.WaitDLG(4115)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4116()
    if GameFunc.GetFlag(4042) then goto T4116 end
    ESC.Caption(4116)
    Scene.Print_W (4116 ,9008,8*2,4*2,StringDB('ESS3935')) -- ESS=我家與茱麗曄的家族是世仇，為了愛情，我們...
    ESC.WaitDLG(4116)
    Scene.Print_W (4116 ,9008,8*2,3*2,StringDB('ESS3936')) -- ESS=若是被人發現，一定會拆散我們，我考慮躲到...
    ESC.WaitDLG(4116)
    GameFunc.FlagOn(4042)
    ESC.SceneBreak()

::T4116::
    ESC.Caption(4116)
    Scene.Print_W (4116 ,9008,10*2,3*2,StringDB('ESS3937')) -- ESS=愛是溫柔的嗎？它是太粗暴、太專橫、太野蠻...
    ESC.WaitDLG(4116)
    Scene.Print_W (4116 ,9008,10*2,3*2,StringDB('ESS3938')) -- ESS=愛情是嘆息吹起的一陣煙，戀人的眼中有它淨...
    ESC.WaitDLG(4116)
    Scene.Print_W (4116 ,9008,10*2,4*2,StringDB('ESS3939')) -- ESS=戀人的眼淚是它激起的波濤，它又是最智慧的...
    ESC.WaitDLG(4116)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4117()
    if GameFunc.GetFlag(4043) then goto T4117 end
    ESC.Caption(4117)
    Scene.Print_W (4117 ,9008,8*2,3*2,StringDB('ESS3940')) -- ESS=啊！追兵終於還是來了嗎？我死也不會跟你回...
    ESC.WaitDLG(4117)
    ESC.ChangeQQ(4117, 8)
    ESC.SetMoveHISpeed(4117)
    ESC.BatchMove2(1,    4117, 29, 24, -1, 0, 6)
    ESC.ChangeDIR(4116, 7)
    ESC.Caption(4117)
    Scene.Print_W (4117 ,9008,10*2,3*2,StringDB('ESS3941')) -- ESS=不要指著月亮起誓，它是變化無常的，每個月...
    ESC.WaitDLG(4117)
    Scene.Print_W (4117 ,9008,10*2,3*2,StringDB('ESS3942')) -- ESS=你要是指著它起誓，也許你的愛情也會像它一...
    ESC.WaitDLG(4117)
    ESC.Caption(4116)
    Scene.Print_W (4116 ,9008,10*2,3*2,StringDB('ESS3943')) -- ESS=愛神邱比特的羽鏃已經穿透我的胸膛，我不能...
    ESC.WaitDLG(4116)
    Scene.Print_W (4116 ,9008,10*2,3*2,StringDB('ESS3944')) -- ESS=它束縛住了我整個的靈魂，愛的重擔壓得我向...
    ESC.WaitDLG(4116)
    ESC.ChangeQQ(4117, 8)
    ESC.SetMoveHISpeed(4117)
    ESC.BatchMove(1,    4117, 28, 24)
    ESC.ChangeQQ(4117, 0)
    ESC.Caption(4117)
    Scene.Print_W (4117 ,9008,8*2,2*2,StringDB('ESS3945')) -- ESS=啊～羅秘甌！
    ESC.WaitDLG(4117)
    ESC.ChangeQQ(4116, 8)
    ESC.SetMoveHISpeed(4116)
    ESC.BatchMove(1,    4116, 27, 25)
    ESC.TakeActData(4116, -1, 0, 7)
    ESC.Caption(4116)
    Scene.Print_W (4116 ,9008,8*2,2*2,StringDB('ESS3946')) -- ESS=喔～茱麗曄！
    ESC.WaitDLG(4116)
    ESC.ChangeQQ(4117, 8)
    ESC.BatchMove(1,    4117, 27, 24)
    ESC.ChangeDIR(4116, 7)
    ESC.Delay(200)
    MediaFunc.PlaySound(347)
    ESC.Delay(1500)
    ESC.RoleMove(4117 , 28 , 24)
    ESC.ChangeQQ(4117, 0)
    ESC.Caption(4117)
    Scene.Print_W (4117 ,9008,8*2,3*2,StringDB('ESS3947')) -- ESS=愛情的力量所能夠做到的事，它都會冒險嘗試...
    ESC.WaitDLG(4117)
    ESC.ChangeDIR(4116, 0)
    Scene.Print_W (4116 ,9008,8*2,3*2,StringDB('ESS3948')) -- ESS=我會保護妳的！%N妳進房間休息吧！
    ESC.WaitDLG(4116)
    ESC.ChangeQQ(4116, 8)
    ESC.ChangeQQ(4117, 8)
    ESC.SetMoveHISpeed(4116)
    ESC.SetMoveHISpeed(4117)
    ESC.BatchMove2(2,
    4116, 23, 25, -1, 0, 1,
    4117, 29, 17, -1, 0, 5)
    GameFunc.FlagOn(4043)
    ESC.SceneBreak()
::T4117::
    ESC.Caption(4117)
    Scene.Print_W (4117 ,9008,9*2,3*2,StringDB('ESS3949')) -- ESS=我的慷慨像海一樣浩渺，我的愛情也像海一樣...
    ESC.WaitDLG(4117)
    Scene.Print_W (4117 ,9008,9*2,3*2,StringDB('ESS3950')) -- ESS=我給的越多，我自己也越是富有，因為這兩者...
    ESC.WaitDLG(4117)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4118()
    ESC.Caption(4118)
    Scene.Print_W (4118 ,9008,8*2,3*2,StringDB('ESS3951')) -- ESS=我們兄弟倆來到這裏插地落戶，多年來總算有...
    ESC.WaitDLG(4118)
    Scene.Print_W (4118 ,9008,8*2,4*2,StringDB('ESS3952')) -- ESS=可惜方圓百里之內人口稀少，我都老大不小了...
    ESC.WaitDLG(4118)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4119()
    ESC.Caption(4119)
    Scene.Print_W (4119 ,9008,8*2,3*2,StringDB('ESS3953')) -- ESS=我大哥工作不努力就算了，整天想著如何討到...
    ESC.WaitDLG(4119)
    Scene.Print_W (4119 ,9008,8*2,3*2,StringDB('ESS3954')) -- ESS=一天中除了睡覺就是發呆，我都不知該怎麼說...
    ESC.WaitDLG(4119)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4120()
    ESC.Caption(4120)
    Scene.Print_W (4120 ,9008,8*2,3*2,StringDB('ESS3955')) -- ESS=原本想在這裏落地生根，來了才發現竟是如此...
    ESC.WaitDLG(4120)
    Scene.Print_W (4120 ,9008,8*2,4*2,StringDB('ESS3956')) -- ESS=唉～這個鳥不生蛋的地方，連找個好女人開枝...
    ESC.WaitDLG(4120)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4121()
    ESC.Caption(4121)
    Scene.Print_W (4121 ,9008,8*2,3*2,StringDB('ESS3957')) -- ESS=大哥說服我到這裏裏一起闖天下，結果他啥事...
    ESC.WaitDLG(4121)
    Scene.Print_W (4121 ,9008,8*2,4*2,StringDB('ESS3958')) -- ESS=整天想著如何傳宗接代，才能對得起祖宗，我...
    ESC.WaitDLG(4121)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4122()
    ESC.Caption(4122)
    Scene.Print_W (4122 ,9008,8*2,3*2,StringDB('ESS3959')) -- ESS=我娘子平常對我非常溫柔，但在教養%C2大...
    ESC.WaitDLG(4122)
    Scene.Print_W (4122 ,9008,9*2,3*2,StringDB('ESS3960')) -- ESS=她說玉不琢不成器，希望能將大地教導成為有...
    ESC.WaitDLG(4122)

end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4123()
    ESC.Caption(4123)
    Scene.Print_W (4123 ,9008,8*2,3*2,StringDB('ESS3961')) -- ESS=娘不是教你跟人相處要相親相愛嗎？為什麼要...
    ESC.WaitDLG(4123)
    ESC.Caption(4124)
    Scene.Print_W (4124 ,9008,8*2,3*2,StringDB('ESS3962')) -- ESS=嗚～%N我的名字不知道是誰幫我取的？
    ESC.WaitDLG(4124)
    Scene.Print_W (4124 ,9008,8*2,3*2,StringDB('ESS3963')) -- ESS=小朋友笑我是宇文%C2答滴%C4，我就跟...
    ESC.WaitDLG(4124)
    ESC.ChangeDIR(4124, 0)
    ESC.Caption(4123)
    Scene.Print_W (4123 ,9008,8*2,3*2,StringDB('ESS3964')) -- ESS=打架就是不對，你不反省還要怪別人嗎？
    ESC.WaitDLG(4123)
    ESC.Caption(4124)
    Scene.Print_W (4124 ,9008,9*2,3*2,StringDB('ESS3965')) -- ESS=嗚～%N我以後不敢了啦！
    ESC.WaitDLG(4124)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4124()
    ESC.Caption(4124)
    Scene.Print_W (4124 ,9008,8*2,3*2,StringDB('ESS3966')) -- ESS=嗚～%N我好想改名字喔。
    ESC.WaitDLG(4124)
    GameFunc.FlagOn(4051)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4125()
    ESC.Caption(4125)
    Scene.Print_W (4125 ,9008,8*2,3*2,StringDB('ESS3967')) -- ESS=呵呵呵～我快要做爸爸了，該替小孩取什麼名...
    ESC.WaitDLG(4125)
    ESC.Caption(1)
    Scene.Print_W (1 ,9008,8*2,3*2,StringDB('ESS3968')) -- ESS=男孩叫%C2宇文大地%C4，女生就叫%C...
    ESC.WaitDLG(1)
    Scene.Print_W (4125 ,9008,8*2,3*2,StringDB('ESS3969')) -- ESS=宇文大地！%N宇文小雨！%N好名字，好名...
    ESC.WaitDLG(4125)
    GameFunc.FlagOn(4050)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4126()
    ESC.Caption(4126)
    Scene.Print_W (4126 ,9008,8*2,3*2,StringDB('ESS3970')) -- ESS=孩子的爹～%N你喜歡男孩還是女孩呢？
    ESC.WaitDLG(4126)
    ESC.ChangeDIR(4125, 1)
    ESC.Delay(300)
    ESC.ChangeDIR(4125, 6)
    ESC.Caption(4125)
    Scene.Print_W (4125 ,9008,8*2,3*2,StringDB('ESS3971')) -- ESS=呵呵呵～%N男孩女孩都一樣，只要健康就好...
    ESC.WaitDLG(4125)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4127()
    ESC.Caption(4114)
    Scene.Print_W (4127 ,9008,9*2,3*2,StringDB('ESS3972')) -- ESS=我妻子死得早，這幾年來我與女兒相依為命守...
    ESC.WaitDLG(4127)
    Scene.Print_W (4127 ,9008,8*2,3*2,StringDB('ESS3973')) -- ESS=我得幫女兒找個好歸宿，以後才有臉去見她死...
    ESC.WaitDLG(4127)
end
------------------------------------------------------------------------------------------------------------
-- ──────────────────────────────────────【看見幻影石國】

function Scene.TALK4006()
     --  如果不是綠洲右邊的沙漠就不產生劇情
    if GameFunc.MapID == 109 then goto T4006 end



    if not GameFunc.GetFlag(7058) then goto T4006A end -- 開的話設為走不過沙漠
    if GameFunc.GetFlag(429) then goto T4006 end  -- 設定以下劇情只產生一次
    GameFunc.FlagOn(429) -- 啟動進換影石國劇情
    GameFunc.FlagOn(426) -- 設在幻影中



    ESC.TakeActData(1, -1, Const.STAND, 3)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 72+3, 33)
    ESC.TakeActData(1, -1, Const.STAND, 3)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3974')) -- ESS=那些商人說的是真的，那兒真的有一個%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.RemoveParty(15, 0 , 'TALK15', 15, 8 , 3 , 0xD100)
    ESC.RemoveParty(10, 0 , 'TALK10', 10, 8 , 3 , 0xD100)
    ESC.SetRoleSpeed(15, 1)
    ESC.SetRoleSpeed(10, 2)
    ESC.SetMoveHISpeed(15)
    ESC.SetMoveHISpeed(10)
    ESC.BatchMove2(2,
    15, 75+3, 34, -1, 0, 3,
    10, 70+1, 34, -1, 0, 3)

    ESC.ChangeQQ(10, Const.STAND)


    ESC.AddHeadSign(15, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(15)


    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3975')) -- ESS=哦，怎麼可能──%N那…那真的是我們%C...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeQQ(15, Const.WALK)
    ESC.SetRoleSpeed(15, 0)
    ESC.SetMoveHISpeed(15)
    ESC.BatchMove(1,    15, 102, 34)
    ESC.RoleDisable(15)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3976')) -- ESS=不可思議……%N這幾天老僧一直四處尋找食...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 6)
    ESC.Delay(300)
    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3977')) -- ESS=我明白了！%N難不成是傳說中的%C7海市...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3978')) -- ESS=海市蜃樓……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3979')) -- ESS=是的，%N那是傳說中，一種叫%C7蜃%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3980')) -- ESS=這個妖怪的目的，是讓旅人被這些幻影所迷惑...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3981')) -- ESS=哦，%N竟還有這種沙漠的妖怪？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.Ankh_On(76+3, 32, 6 ) -- 貓貓出現
    ESC.Delay(300)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3982')) -- ESS=賽特，前面那聚落不尋常哦！%N我聞到一股...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)


    ESC.ChangeDIR(1, 7)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3983')) -- ESS=不尋常的妖氣……？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.ChangeDIR(10, 7)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3984')) -- ESS=賽特，%N好像又出現另一個沙漠幻影，老僧...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3985')) -- ESS=喵喵，對對對，%N我是沙漠幻影，所以不必...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 00)


    Scene.Ankh_Off()
    ESC.ChangeDIR(1, 6)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3986')) -- ESS=賽特，貓還會講人話，%N這沙漠的幻影真是...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂



    ESC.AddParty(10)

    ESC.ChangeRoleMap(14, 220, 0, 72, 20, 14, 60 , 0)
    ESC.RoleEnable(14)
    ESC.ChangeScript(14, '')



    -- 以下的路人,在幻影沙漠結束前不可搬動

    Scene.SAR_ABSC(575, 0)
    Scene.SAR_ABSC(576, 0)
    Scene.SAR_ABSC(577, 0)
    Scene.SAR_ABSC(578, 0)
    Scene.SAR_ABSC(579, 0)
    Scene.SAR_ABSC(580, 0)
    Scene.SAR_ABSC(581, 0)
    Scene.SAR_ABSC(582, 0)
    Scene.SAR_ABSC(583, 0)
    Scene.SAR_ABSC(584, 0)
    Scene.SAR_ABSC(585, 0)
    Scene.SAR_ABSC(586, 0)
    ESC.ChangeRoleMap(575, 220 , 601 , 33, 19, 416, 16, 0)
    ESC.ChangeRoleMap(576, 220 , 601 , 51, 20, 416, 16, 0)
    ESC.ChangeRoleMap(577, 220 , 602 , 45, 23, 416, 16, 0)
    ESC.ChangeRoleMap(578, 220 , 602 , 60, 23, 416, 16, 0)
    ESC.ChangeRoleMap(579, 220 , 603 , 76, 23, 416, 16, 0)
    ESC.ChangeRoleMap(580, 220 , 603 , 86, 27, 416, 16, 0)
    ESC.ChangeRoleMap(581, 220 , 604 , 41, 24, 416, 16, 0)
    ESC.ChangeRoleMap(582, 220 , 604 , 53, 24, 416, 16, 0)
    ESC.ChangeRoleMap(583, 220 , 605 , 31, 25, 416, 16, 0)
    ESC.ChangeRoleMap(584, 220 , 605 , 10, 25, 416, 16, 0)
    ESC.ChangeRoleMap(585, 220 , 000 , 74, 19, 24, 60, 0)
    ESC.RoleEnable(575)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(579)
    ESC.RoleEnable(580)
    ESC.RoleEnable(581)
    ESC.RoleEnable(582)
    ESC.RoleEnable(583)
    ESC.RoleEnable(584)
    ESC.RoleEnable(585)
    ESC.ChangeScript(575, '')
    ESC.ChangeScript(576, '')
    ESC.ChangeScript(577, '')
    ESC.ChangeScript(578, '')
    ESC.ChangeScript(579, '')
    ESC.ChangeScript(580, '')
    ESC.ChangeScript(581, '')
    ESC.ChangeScript(582, '')
    ESC.ChangeScript(583, '')
    ESC.ChangeScript(584, '')
    ESC.ChangeScript(585, '')
    ESC.SceneBreak()

::T4006::
    ESC.SceneBreak()

::T4006A::
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS3987')) -- ESS=糧食和飲水不夠，可能沒辦法過去……
    ESC.WaitDLG(1)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 67, 34)
    ESC.TakeActData(1, -1, Const.STAND, 2)
end


function Scene.TALK4007()
    if GameFunc.MapID == 109 then goto T4007 end
    -- 進西域大地圖
    Scene.ChangeMap(220, 2, 25, 3 ) -- 幻影石國
    GameFunc.FlagOn(7)
    ESC.SceneBreak()
::T4007:: -- 這邊暫時不需要用
    Scene.ChangeMap(108, 4, 22, 3 ) -- 綠洲
end




function Scene.TALK4008()
    -- 綠洲左
    if GameFunc.MapID == 109 then goto T4008 end

    Scene.ChangeMap(6, 36, 22, 2 ) -- 到兩河流域
    ESC.SceneBreak()

::T4008:: -- 這邊暫時不需要用

    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS3987')) -- ESS=糧食和飲水不夠，可能沒辦法過去……
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 3)
end




function Scene.TALK4009()
    -- 石國民房出口
    if GameFunc.MapID == 279 then goto T4009 end
    Scene.ChangeMap(220, 17, 19, 1)
    ESC.SceneBreak()
::T4009::
    Scene.ChangeMap(221, 17, 19, 1)
end

function Scene.TALK4010()
    -- 民房出口
    if GameFunc.MapID == 280 then goto T4010 end
    Scene.ChangeMap(220, 28, 17, 1)
    ESC.SceneBreak()
::T4010::
    Scene.ChangeMap(221, 28, 17, 1)
end

function Scene.TALK4011()
    -- 旅店出口
    if GameFunc.MapID == 281 then goto T4011 end
    Scene.ChangeMap(220, 63, 19, 1)
    ESC.SceneBreak()
::T4011::
    Scene.ChangeMap(221, 63, 19, 1)
end

function Scene.TALK4018()
    -- 民房1
    if GameFunc.MapID == 221 then goto T4018 end
    Scene.ChangeMap(217, 17, 24, 0)
    ESC.SceneBreak()
::T4018::
    Scene.ChangeMap(279, 17, 24, 0)
    Scene.RoadFlag(StringDB('ESS3988')) -- ESS=　石國民房
end

function Scene.TALK4019()
    -- 民房2
    if GameFunc.MapID == 221 then goto T4019 end
    Scene.ChangeMap(218, 18, 24, 4)
    ESC.SceneBreak()
::T4019::
    Scene.ChangeMap(280, 18, 24, 4)
    Scene.RoadFlag(StringDB('ESS3988')) -- ESS=　石國民房
end

function Scene.TALK4020()
    -- 旅店
    if GameFunc.MapID == 221 then goto T4020 end
    Scene.ChangeMap(219, 21, 33, 0)
    ESC.SceneBreak()
::T4020::
    Scene.ChangeMap(281, 21, 33, 0)
    Scene.RoadFlag(StringDB('ESS3989')) -- ESS=　石國旅店
end













function Scene.TALK4038()
    -- 地下水道入口
    if GameFunc.GetFlag(426) then goto T4038 end
    Scene.ChangeMap(221, 83, 20, 6)
    ESC.SceneBreak()
::T4038::
    Scene.ChangeMap(220, 83, 20, 6)
end

function Scene.TALK4039()
    -- 綠洲左
    Scene.ChangeMap(6, 32, 20, 2 ) -- 到兩河流域
end

function Scene.TALK4040()
    -- 綠洲右
    Scene.ChangeMap(6, 36, 20, 3 ) -- 到兩河流域
end

function Scene.TALK4041()
    -- 幻影石國
    if GameFunc.MapID ~= 221 then goto T4041 end
    Scene.ChangeMap(8, 70, 27, 6)
    ESC.SceneBreak()
::T4041::
    Scene.ChangeMap(120, 101, 34, 2 ) -- 沙漠
end

function Scene.TALK4042()
    -- 進水井
    if GameFunc.MapID == 221 then goto T4042B end
    if not GameFunc.GetFlag(427) then goto T4042 end --   未跟段秀實說話，不可進水井
    if GameFunc.GetFlag(428) then goto T4042A end
    GameFunc.FlagOn(428)
    ESC.RMLock()

    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    -- 將遠恩搬到水井深處

    ESC.ChangeRoleMap( 15, 43, 000, 50, 52, 15, 60, 0)
    ESC.RoleEnable(15)

::T4042A::
    ESC.RMLock()
    Scene.MoveHero(86, 19, 0)
    ESC.Clump()
    Scene.ChangeMap(43, 147, 53, 5)
::T4042::
    ESC.SceneBreak()


::T4042B::
    ESC.RMLock()
    -- if GameFunc.GetFlag(458) then goto T4042A end  -- 如果時間點為751年時，要進地下水路，將這行取消MARK
    Scene.MoveHero(86, 19, 0)

    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,2*2,StringDB('ESS3990')) -- ESS=這水井好像塌了，沒法子下去……
    ESC.WaitDLG(1)

end


function Scene.TALK4043()
    -- 綠洲
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T4043C
    end
    ESC.ChangeRoleMap(805, 108, 0, 1, 19, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 108, 0, 2, 20, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T4043B
::T4043C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T4043B::
    Scene.ChangeMap(108, 4, 22, 3)
end

function Scene.TALK4044()
    -- 往西域的沙漠
    ESC.RoleDisable(805) -- 駱駝消失
    ESC.RoleDisable(806)
    if GameFunc.GetFlag(7059) then goto T4044C end -- 到西域過
    if GameFunc.GetFlag(7055) then goto T4044A end -- 如果沒有遠恩跟著
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(120 , 3 , 34, 1, 0, 3)
    if Function.GetItemCount(402) == 0 then -- 判斷有無駱駝
        goto T4044B
    end
    ESC.ChangeRoleMap(805, 120, 0, 2, 33, 500, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 120, 0, 4, 34, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 駱駝出現
    ESC.RoleEnable(806)
::T4044B::
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.SceneBreak()
::T4044C::
    if Function.GetItemCount(402) == 0 then -- 判斷有無駱駝
        goto T4044A
    end
    ESC.ChangeRoleMap(805, 120, 0, 2, 31, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 120, 0, 1, 32, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 駱駝出現
    ESC.RoleEnable(806)

::T4044A::
    Scene.ChangeMap(120, 3, 34, 3 ) -- 沙漠
end

function Scene.TALK4045()
    -- 進入綠洲
    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T4045C
    end
    ESC.ChangeRoleMap(805, 108, 0, 51, 19, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 108, 0, 52, 20, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T4045B
::T4045C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T4045B::
    Scene.ChangeMap(108, 49, 22, 2)
end







-- ──────────────────────────────────────【段秀實】

-- ───────────────────────────────────────────【段秀實】
function Scene.TALK24()
    if GameFunc.GetFlag(140) then goto T4090A end -- 幻影事件後
    GameFunc.FlagOn(10)


    ESC.RemoveParty(10, 0 , 'TALK10', 10, 8 , 3 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 74, 25, -1, 0, 7,
    10, 73, 22, -1, 0, 3)


    ESC.TurnFace(24, 10)


    ESC.Caption(276)
    Scene.Print_WS(24,9005,8*2,2*2,StringDB('ESS3991')) -- ESS=慧彥、慧彥大師！真的是您嗎？
    ESC.WaitDLG(24)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3992')) -- ESS=阿彌陀佛，老衲就是慧彥沒錯，%N施主您認...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3993')) -- ESS=慧彥大師，果然是您！%N小人曾在%C7長...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3994')) -- ESS=原來您也是%C7唐人%C5……%N敢問施...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3995')) -- ESS=小人是安西節度使%C7高仙芝%C5大人的...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3996')) -- ESS=安西節度使%C5的部將？%N這裏距大食的...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3997')) -- ESS=不，高大人的部隊還在後頭，他因為聽說最近...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS3998')) -- ESS=原來如此……%N那這些%C7鬼影%C5又...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)




    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS3999')) -- ESS=這小人也不知道……%N剛才走至此，突然冒...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4000')) -- ESS=說來奇怪……%N這景像是當初我們唐軍在石...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.AddHeadSign(10, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4001')) -- ESS=這些……是%C7過去%C5的景象？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TurnFace(24, 1)
    ESC.ChangeDIR(24, 4)
    ESC.Delay(300)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4002')) -- ESS=是的，兩位請看，%N那邊還有另一個我和%...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)


    ESC.ChangeDIR(10, 7)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(300)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4003')) -- ESS=看他們完全對我們幾個沒有反應，難不成真是...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4004')) -- ESS=慧彥大師，%N可從沒聽過有人能真正進入海...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)

    ESC.ChangeDIR(24, 6)
    ESC.Delay(300)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4005')) -- ESS=對了，慧彥大師，%N您又怎會來這偏遠的西...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)


    ESC.ChangeDIR(10, 5)
    ESC.Delay(300)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4006')) -- ESS=老衲本隨商隊到處雲遊，但途中聽說大唐與大...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4007')) -- ESS=唉，您有所不知……%N去年我軍遠征石國，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4008')) -- ESS=不料石國王子卻從%C7地下水路%C5逃走...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4009')) -- ESS=這事老衲也有所聞……%N使用如此詐術，是...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4010')) -- ESS=慧彥師父，%N我猜遠恩可能是看到這些凶神...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4011')) -- ESS=遠恩？%N
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4012')) -- ESS=賽特，你說的有理……%N我猜那口%C7水...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 7)


    ESC.AddHeadSign(24, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(24)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4013')) -- ESS=慧彥大師，%N我也陪你們一道去───
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.AddParty(10)
    ESC.AddParty(24)


    Scene.QuestOff(281)
    Scene.QuestOn(282)

    GameFunc.FlagOn(427)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()



-- ──────────────────────────────────────【啟程前往怛羅斯】

::T4090A::
    GameFunc.FlagOn(10)

    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 2 , 0xD100)
    ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK , 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)

    ESC.BatchMove2(3,
    1, 27, 24, -1, 0, 4,
    15, 31, 24, -1, 0, 4,
    10, 30, 20, -1, 0, 2)


    Scene.MBOn(24, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4014')) -- ESS=慧彥大師，%N飲水和食物都備妥了，我們這...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4015')) -- ESS=感謝您，段施主……%N老衲心中現在只求能...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.ChangeDIR(1, 7)
    ESC.Delay(200)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4016')) -- ESS=慧彥師父，%N想再多也沒有用，我們還是趕...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30, 26)
    ESC.FadeWait()

    ESC.RoleDisable(575) -- 去掉綠洲駱駝
    ESC.RoleDisable(576)
    ESC.RoleDisable(104)
    ESC.RoleDisable(131)
    ItemFunc.AddItem(402 , 2) -- 物品多駱駝

    ESC.AddParty(15)
    ESC.AddParty(10)
    ESC.AddParty(24)

    ESC.Progress_Off()
    ESC.GotoMap(119, 27, 32, 94, Const.WALK, 3)

    ESC.RemoveParty(10, 0 , 'TALK10', 94, 24, 3 , 0xD100)
    ESC.RemoveParty(24, 0 , 'TALK24', 94, 22, 3 , 0xD100)
    ESC.RemoveParty(15, 0 , 'TALK15', 94, 23, 3 , 0xD100)
    ESC.RoleMove(10, 25, 34)
    ESC.RoleMove(15, 22, 32)
    ESC.RoleMove(24, 20, 34)
    ESC.SetRoleSpeed(10, 1)
    ESC.SetRoleSpeed(15, 1)
    ESC.SetRoleSpeed(24, 1)

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
    ESC.BatchMove(4,
    1, 27+20, 32,
    10, 25+20, 34,
    15, 22+20, 32,
    24, 20+20, 34)
    ESC.FadeWait()
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 1)
    ESC.BatchMove(4,
    1, 27+30, 32,
    10, 25+30, 34,
    15, 22+30, 32,
    24, 20+30, 34)

    -- ESC.FadeScreen( 0 , 0, 0, -30, -30, -30, 1)
    ESC.FadeWait()
    ESC.TakeActData(10, 10, Const.STAND, 3) -- 將慧彥騎駱駝喚回走路
    ESC.TakeActData(15, 15, Const.STAND, 3)
    ESC.TakeActData(24, 24, Const.STAND, 3)


    ESC.AddParty(15)
    ESC.AddParty(10)
    ESC.AddParty(24)

    Scene.QuestOff(283)
    Scene.QuestOn(284)




    ESC.MusicFadeMode(2, 15)
    ESC.StoryMusic(124, 122, 0x8000) -- 【劇情配樂】晴天霹靂


    ESC.ScreenHide()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()

    ESC.DLGNoPass()
    ESC.DLGHoldTime(22)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.FitSize()
    Scene.Print_SL(1,9009,126,200,2*14,2,'%C5%S1'..StringDB('ESS4017')) -- ESS=就在同一個時候，阿拉伯帝國皇宮中……
    ESC.WaitDLG3(1)
    ESC.Delay(1000)

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.WaitDLG(1)

    ESC.ScreenHide()

    ESC.RemoveParty(10, 0 , 'TALK10', 94, 24, 3 , 0xD100) -- 為了下面演戲先去掉夥伴
    ESC.RemoveParty(24, 0 , 'TALK24', 94, 22, 3 , 0xD100)
    ESC.RemoveParty(15, 0 , 'TALK15', 94, 23, 3 , 0xD100)






-- ──────────────────────────────────────【黑衣大食軍出動】
-- 畫面轉到大馬士革的皇宮



    ESC.Progress_Off()
    ESC.GotoMap(196, 63, 26, 1, 0, 3)
    ESC.RoleHide(1)
    ESC.RoleHide(15)
    ESC.RoleHide(10)
    ESC.RoleHide(24)
    ESC.RoleEnable(498)

    ESC.ChangeRoleMap(3, 196, 0, 61, 24, 3, 0, 7)
    ESC.ChangeRoleMap(576, 196, 0, 69, 21, 513, 0, 6)

    ESC.ChangeRoleMap(578, 196, 0, 60, 19, 564, 0, 5)

    ESC.ChangeRoleMap(579, 196, 0, 62, 16, 600, 0, 5)
    ESC.ChangeRoleMap(580, 196, 0, 64, 27, 600, 0, 7)
    ESC.ChangeRoleMap(577, 196, 0, 62-6*1, 16, 599, 0, 5)
    ESC.ChangeRoleMap(581, 196, 0, 64-6*1, 27, 599, 0, 7)
    ESC.ChangeRoleMap(582, 196, 0, 62-6*2, 16, 600, 0, 5)
    ESC.ChangeRoleMap(583, 196, 0, 64-6*2, 27, 600, 0, 7)
    ESC.ChangeRoleMap(584, 196, 0, 62-6*3, 16, 599, 0, 5)
    ESC.ChangeRoleMap(585, 196, 0, 64-6*3, 27, 599, 0, 7)
    ESC.ChangeRoleMap(586, 196, 0, 62-6*4, 16, 600, 0, 5)
    ESC.ChangeRoleMap(587, 196, 0, 64-6*4, 27, 600, 0, 7)

    ESC.RoleEnable(3)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(579)
    ESC.RoleEnable(580)
    ESC.RoleEnable(581)
    ESC.RoleEnable(582)
    ESC.RoleEnable(583)
    ESC.RoleEnable(584)
    ESC.RoleEnable(585)
    ESC.RoleEnable(586)
    ESC.RoleEnable(587)

    ESC.ScreenShow()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 25)
    ESC.FadeWait()
    ESC.Delay(600)


    ESC.Caption(259)
    Scene.Print_WS(576,9008,10*2,4*2,StringDB('ESS4018')) -- ESS=聽說之前向我們伊斯蘭借兵，打算向唐國復仇...
    ESC.WaitDLG(576)





--  Scene.M_PrintNN_EA(576, "聽說向我們大食和西域各族，提議聯軍對付唐國的石國王子，被唐國的人綁架了。")

    ESC.SetRoleSpeed(576, 8)
    ESC.ChangeQQ(576, Const.WALK)
    ESC.BatchMove(1,    576, 69, 21+2)
    ESC.ChangeQQ(576, Const.STAND)
    ESC.Delay(600)
    ESC.ChangeDIR(576, 6)
    ESC.Delay(300)



    ESC.Caption(257)
    Scene.Print_WS(576,9008,11*2,4*2,StringDB('ESS4019')) -- ESS=上次我們阿拔斯家%C2起義%C4時，唐國...
    ESC.WaitDLG(576)



    ESC.SetRoleSpeed(576, 8)
    ESC.ChangeQQ(576, Const.WALK)
    ESC.BatchMove(1,    576, 69, 21-2)
    ESC.ChangeQQ(576, Const.STAND)
    ESC.Delay(600)
    ESC.ChangeDIR(576, 6)
    ESC.Delay(300)




    ESC.Caption(257)
    Scene.Print_WS(576,9008,10*2,4*2,StringDB('ESS4020')) -- ESS=哼──%N這%C2唐國%C4實在太囂張了...
    ESC.WaitDLG(576)



    ESC.Caption(258)
    Scene.Print_WS(578,9008,12*2,4*2,StringDB('ESS4021')) -- ESS=哈里發大人……%N之前我們借兵出去，是%...
    ESC.WaitDLG(578)



    ESC.Caption(3)
    Scene.Print_WS(3,9008,12*2,4*2,StringDB('ESS4022')) -- ESS=不，%C2蘇里曼%C4長官……%N唐國勢...
    ESC.WaitDLG(3)


    Scene.Print_WS(3,9008,10*2,4*2,StringDB('ESS4023')) -- ESS=他們目前還一直繼續西進，薇達以為我們應該...
    ESC.WaitDLG(3)




    ESC.SetRoleSpeed(576, 8)
    ESC.ChangeQQ(576, Const.WALK)
    ESC.BatchMove(1,    576, 69, 21)
    ESC.ChangeQQ(576, Const.STAND)
    ESC.Delay(600)


    ESC.Caption(257)
    Scene.Print_WS(576,9008,8*2,2*2,StringDB('ESS4024')) -- ESS=沒錯，說得好──%N正是如此──
    ESC.WaitDLG(576)


    ESC.ChangeDIR(576, 6)
    ESC.Delay(300)





    Scene.Print_WS(576,9008,6*2,2*2,StringDB('ESS4025')) -- ESS=蘇里曼──%N薇達──
    ESC.WaitDLG(576)


    Scene.Print_WS(576,9008,9*2,3*2,StringDB('ESS4026')) -- ESS=為了我們伊斯蘭，我命令你們立刻帶兵，向%...
    ESC.WaitDLG(576)


    ESC.StoryMusic(47, 25, 0x2000) -- 【劇情配樂】晴天霹靂
    ESC.Delay(300)



    ESC.Caption(258)
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(5)
    ESC.Print(578,9008,StringDB('ESS4027')) -- ESS=是─!!



    ESC.Caption(3)
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(5)
    ESC.Print(3,9008,StringDB('ESS4028')) -- ESS=是──！
    ESC.Delay(800)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 15)
    ESC.FadeWait()
    ESC.DLGClose(3)
    ESC.DLGClose(578)
    ESC.RoleDisable(498)





-- ──────────────────────────────────────【麥爾斯覺醒！】
-- 畫面轉到石國帳棚前的麥爾斯



    ESC.Progress_Off()
    ESC.GotoMap(213, 28, 26, 1, 0, 3)
    ESC.RoleHide(1)
    ESC.RoleHide(15)
    ESC.RoleHide(10)
    ESC.RoleHide(24)
    ESC.ChangeRoleMap(4, 213 , 111, 32, 30, -1, Const.WALK, 2)
    ESC.RoleEnable(4)
    ESC.Unlock(4)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4029')) -- ESS=可恨的賽特，把王子捉走，%N害我整個計劃...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.Delay(1400)
    ESC.ChangeQQ(4, Const.STAND)
    ESC.ChangePath(4, 0)
    ESC.Delay(300)
    ESC.RoleLock(4)
    ESC.TakeActData(4, -1, 70, 0)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4030')) -- ESS=可惡……%N最近老是很不舒服，一股%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.Unlock(4)
    ESC.TILPA1(4, 5)
    ESC.Delay(500)


    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4031')) -- ESS=嗚……%N頭…我的頭好痛……%N怎麼回事...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)




    ESC.ChangeRoleMap(7, 213 , 0, 28, 34, 7, 55, 0)
    MediaFunc.PlaySound(224)
    ESC.RoleEnable(7)
    ESC.TILPA1(7, 16)



    Scene.MBOn(7, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4032')) -- ESS=大王，恭喜您，%N您覺醒之日終於要來臨了...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 1)
    ESC.DelHead(10007, 1)



    Scene.MBOn(4, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4033')) -- ESS=康那里士……%N你…你不是…已經……被我...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4034')) -- ESS=可惡……%N我的頭……我的頭………
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)




    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 26)
    ESC.FadeWait()
    ESC.RoleDisable(7)
    ESC.RoleDisable(4)

    ESC.RoleShow(1)
    ESC.RoleShow(15)
    ESC.RoleShow(10)
    ESC.RoleShow(24)
    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()

    ESC.AniPlay('bd2dh',false, false) -- 賽特路線圖
    ESC.AniUntilClose()


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()

    ESC.Progress_Off() -- 先到沙漠把同伴加入回來,再去西域
    ESC.GotoMap(119, 27, 32, 94, Const.WALK, 3)
    ESC.TakeActData(10, 10, Const.STAND, 3) -- 將慧彥騎駱駝喚回走路
    ESC.TakeActData(15, 15, Const.STAND, 3)
    ESC.TakeActData(24, 24, Const.STAND, 3)

    ESC.AddParty(15)
    ESC.AddParty(10)
    ESC.AddParty(24)

    ESC.ScreenShow()
    ESC.Progress_Off()
    ESC.GotoMap(8, 1, 31, 1, Const.WALK, 3)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 16)
    ESC.SetRoleSpeed(1, 2)
    ESC.BatchMove2(1,    1, 5, 31, -1, Const.STAND,3)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4035')) -- ESS=各位，這裏就是%C7西域%C5（中亞），...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


--  Scene.MAIN_TALKS_2(24, 8, 1, "這裏就是西域，一直往東走就可以到唐國了。")


    ESC.FadeWait()

    GameFunc.FlagOn(7059) -- 到達西域
    GameFunc.FlagOff(10)
end
-- 怛羅斯篇 4021-4036


-- ──────────────────────────────────────【進入唐營】

function Scene.TALK4021()
    if GameFunc.GetFlag(441) then goto T4021A end
    if GameFunc.GetFlag(432) then goto T4021 end
::T4021A::
    Scene.OutCity_NPC(8, 41, 30, 2)
    GameFunc.FlagOn(12)
    ESC.SceneBreak()
::T4021::
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(104, 1)


    ESC.Caption(228)
    Scene.Print_WS(104,9005,6*2,3*2,StringDB('ESS4036')) -- ESS=黃雷大人%C4請各位一定要去見見他！
    ESC.WaitDLG(104)


    ESC.ChangeDIR(104, 7)
end


function Scene.TALK4022()
    Scene.OutCity_NPC(8, 52, 31, 3)
    GameFunc.FlagOn(12)
end

function Scene.TALK4023()
    Scene.ChangeMap(159, 34, 71, 0)
end

function Scene.TALK4024()
    ESC.ChangeQQ(1, Const.STAND)
    if GameFunc.GetFlag(458) then goto T4024 end  -- 重回塔羅斯後
    if GameFunc.GetFlag(7064) then Scene.T4024A() return end -- 判斷是不是微達帶隊
    if not GameFunc.GetFlag(433) then goto T4024 end


    ESC.Caption(15)
    Scene.Print_WS(15,9005,7*2,3*2,StringDB('ESS4037')) -- ESS=賽特，我們還是先避開戰場比較安全……
    ESC.WaitDLG(15)


    ESC.ChangeDIR(1, 0)
    Scene.MoveHero(34, 65, 0)
    ESC.SetRoleSpeed(15, 1)
    ESC.SceneBreak()
::T4024::
    Scene.ChangeMap(158, 37, 57, 1)
end

function Scene.TALK4025()
    if GameFunc.GetFlag(7064) then goto T4025 end -- 判斷是不是微達帶隊
    Scene.ChangeMap(160, 108, 71, 0)
    ESC.SceneBreak()
::T4025::
    Scene.ChangeMap_Vida(160, 108, 71, 0)
end







-- ───────────────────────────────────【慧彥之死】

function Scene.TALK4026()
    if GameFunc.GetFlag(7064) then goto T4026 end -- 判斷是不是微達帶隊
    Scene.ChangeMap(159, 89, 5, 1)
    ESC.SceneBreak()
::T4026::
    if not GameFunc.GetFlag(7065) then goto T4026A end -- 判斷是否有演過慧彥犧牲
    Scene.ChangeMap_Vida(159, 89, 5, 1)
    ESC.SceneBreak()


::T4026A::
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    GameFunc.FlagOn(10)

    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,200-60,200,32,2,'%S1'..StringDB('ESS4038')) -- ESS=同一時間，在山谷的戰場上……
    ESC.WaitDLG3(1)


    ESC.Delay(1000)
    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 45)
    ESC.FadeWait()
    ESC.DLGClose(1)


    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()


    ESC.AniPlay('MonkDie',false, false) -- 慧彥之死


    ESC.AniUntil( 16)

    ESC.Caption(256)
    Scene.Print_SL(1,9008,15,290,8*2,4*2,StringDB('ESS4039')) -- ESS=小心！%N這傢伙是怪物！%N繞過去，不要...
    ESC.WaitDLG2(1)


    ESC.AniUntil( 115-36)


    ESC.Caption(256)
    Scene.Print_SL(15,9008,20,110,8*2,3*2,StringDB('ESS4040')) -- ESS=小心這惡魔──%N所有人迅速從兩側繞過去...
    ESC.WaitDLG2(15)

    ESC.AniUntilClose()


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.Progress_Off()
    ESC.GotoMap(159, 89, 5, 3, 0, 1)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()
    GameFunc.FlagOn(7065)
    GameFunc.FlagOff(10)
end





-- ───────────────────────────────────【賽特第一個停頓點】

function Scene.TALK4027()

    if GameFunc.GetFlag(435) then goto T4027 end
    GameFunc.FlagOn(420)
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(435) -- 執行第一個機關前的劇情


    ESC.RemoveParty(15, 0,'TALK15',15,Const.WALK,3,0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(15, 1)
    ESC.BatchMove2(2,
    1, 36, 27, -1, 0, 1,
    15, 39, 27, -1, 0, 1)
    ESC.Delay(500)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.AniPlay('ChaosWar',false, false) -- 兩軍對砍
    ESC.AniUntil( 30)
    ESC.AniUntilClose()


    MediaFunc.PlaySound(252) -- 戰鬥聲



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()



    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4041')) -- ESS=哇啊……%N山下的戰場打得好激烈呀！
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.ChangeRoleMap(327, 159 , 0 , 29, 45, 411, 0 , 0) -- 黑衣大食兵
    ESC.ChangeRoleMap(104, 159 , 0 , 34, 45, 411, 0 , 0) -- 黑衣大食兵

    ESC.RoleEnable(327)
    ESC.RoleEnable(104)



    ESC.StoryMusic(121, 121, 0x4000) -- 【劇情配樂】拔劍


    ESC.DLGHoldTime(5)
    Scene.Print_SL(327,9008,150,350,6*2,2*2,StringDB('ESS4042')) -- ESS=在那裏，那邊也有敵人──
    ESC.WaitDLG2(327)


    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(15, 6)

    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(104, Const.WALK)



    ESC.SetRoleSpeed(327, 1)
    ESC.SetRoleSpeed(104, 1)
    ESC.BatchMove2(2,
    327, 29, 36, -1, 0, 7,
    104, 32, 40, -1, 0, 7)


    ESC.Caption(256)
    ESC.DLGHoldTime(5)
    Scene.Print_WS(104,9008,8*2,2*2,StringDB('ESS4043')) -- ESS=可惡的唐軍！%N想往哪逃───
    ESC.WaitDLG2(104)


    ESC.TakeActData(1, -1, 28, 2)


    ESC.Caption(15)
    Scene.Print_SL(15,9008,380,290,10*2,4*2,StringDB('ESS4044')) -- ESS=等一下！%N我…我不是唐軍，我是你們%C...
    ESC.WaitDLG(15)



    ESC.Caption(256)
    ESC.DLGHoldTime(5)
    Scene.Print_WS(327,9008,5*2,2*2,StringDB('ESS4045')) -- ESS=上啊，殺了他們──
    ESC.WaitDLG2(327)




    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(104, Const.WALK)
    ESC.SetRoleSpeed(327, 0)
    ESC.SetRoleSpeed(104, 0)


    ESC.BatchMove2(2,
    327, 30, 27, -1, 0, 7,
    104, 29, 30, -1, 0, 7)


    ESC.StartBattle('BS147') -- 與黑衣大食士兵戰鬥（第一次）


    ESC.StoryMusicOff()-- 【地圖音樂】回復場景配樂


    ESC.RoleDisable(327)
    ESC.RoleDisable(104)
    ESC.TakeActData(1, -1, 76, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 6)
    ESC.Delay(150)
    ESC.TakeActData(1, -1, 0, 5)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS4046')) -- ESS=王子，%N這就是戰場，一旦殺紅了眼，你講...
    ESC.WaitDLG(1)



    ESC.Caption(15)
    Scene.Print_SL(15,9008,380,290,9*2,3*2,StringDB('ESS4047')) -- ESS=怎…怎會這樣……%N當初%C2聯軍行動%...
    ESC.WaitDLG(15)



    ESC.ChangeDIR(1, 5) -- 賽特沈思
    ESC.ChangeQQ(1, 33-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,10*2,3*2,StringDB('ESS4048')) -- ESS=……看來這邊似乎也不太安全，我們得繼續往...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, -1, 0, 5)


    ESC.AddParty(15)
    GameFunc.FlagOff(10)

::T4027::
end






-- ──────────────────────────────────────【與黃雷爭執】

function Scene.TALK4028()


    if GameFunc.GetFlag(433) then goto T4028 end
    GameFunc.FlagOn(433)
    GameFunc.FlagOn(10)

    ESC.RoleDisable(805)
    ESC.RoleDisable(806)
    ESC.RoleDisable(104)
    ItemFunc.AddItem(402, -2) -- 去掉駱駝

    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK, 3, 0xD100)


    ESC.SetRoleSpeed(10, 1)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 115, 69, -1, 0, 5,
    10, 118, 72, -1, 0, 7)
    Scene.ScrollMapD(102, 54, 2, 2)



    ESC.ChangeDIR(24, 7)
    ESC.Delay(300)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4049')) -- ESS=黃大人，%N慧彥大師人已到了。
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    ESC.ChangeQQ(24, Const.RUN)
    ESC.BatchMove2(1,    24, 121, 64, -1, Const.STAND,6)

    ESC.ScrollMapWait()
    ESC.ChangeDIR(14, 6)
    ESC.Delay(50)
    ESC.ChangeDIR(24, 6)
    ESC.Delay(150)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4050')) -- ESS=啊，貴客貴客，%N許久不見了，慧彥大師─...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4051')) -- ESS=您來得正好，%N請您瞧瞧晚輩這隻新完成的...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4052')) -- ESS=阿彌陀佛……%N%C7萬轟%C5（黃雷）...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4053')) -- ESS=──請問您駐軍在這峽谷，是要埋伏攻擊什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(14, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(14)


    ESC.AddHeadSign(14, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(14)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4054')) -- ESS=呵，慧彥大師啊，%N您果然聰明，竟然一眼...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4055')) -- ESS=據報%C7西域%C5各國陰謀勾結%C7黑...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4056')) -- ESS=萬轟，老衲聽說你用詐術，把信任大唐誠意的...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(14, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(14)


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4057')) -- ESS=這…這事您也知道？%N
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4058')) -- ESS=正是──%N你如此作為，老衲深深不解。
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)




    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4059')) -- ESS=慧彥大師，%N您可曾聽過兵法上有云「%C...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4060')) -- ESS=當時我軍長途跋涉，與其打得兩敗俱傷，不如...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4061')) -- ESS=可…可是你知道你這樣做，反把我們大唐在西...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4062')) -- ESS=哼！%N西域小國，蠻夷之邦，%N我天朝大...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    ESC.AddHeadSign(10, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(10)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4063')) -- ESS=唉，你這算什麼話啊？%N萬轟，你還真已病...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4064')) -- ESS=慧彥大師，%N這樣說晚輩可要生氣了！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4065')) -- ESS=阿彌陀佛……%N為了你的立功沙場，就可以...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4066')) -- ESS=可惡……%N老禿驢死腦筋也真是煩人！
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4067')) -- ESS=上次我%C7機關獸%C5為你所敗，晚輩已...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.TakeActData(1, -1, 63, 0)
    ESC.Delay(400)



    ESC.StartBattle('BS146') -- 與機關獸試作機二號開打


    ESC.StoryMusic(121, 25, 0x2000) -- 【劇情配樂】拔劍



    ESC.RoleDisable(857)
    ESC.ChangeDIR(24, 6)


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4068')) -- ESS=可…可惡！%N你們竟敢摧毀我的%C7機關...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4069')) -- ESS=來人哪────
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.SAR_ABSC(576, 0)
    Scene.SAR_ABSC(577, 0)
    Scene.SAR_ABSC(578, 0)
    Scene.SAR_ABSC(579, 0)
    Scene.SAR_ABSC(580, 0)
    Scene.SAR_ABSC(581, 0)
    Scene.SAR_ABSC(582, 0)
    Scene.SAR_ABSC(583, 0)
    Scene.SAR_ABSC(584, 0)
    ESC.ChangeRoleMap(576, 158, 606, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(577, 158, 607, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(578, 158, 608, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(579, 158, 609, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(580, 158, 610, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(581, 158, 606, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(582, 158, 607, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(583, 158, 608, 144, 51, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(584, 158, 609, 144, 51, 416, Const.WALK, 6)
    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(579)
    ESC.RoleEnable(580)
    ESC.RoleEnable(581)
    ESC.RoleEnable(582)
    ESC.RoleEnable(583)
    ESC.RoleEnable(584)
    ESC.SetRoleSpeed(576, 0)
    ESC.SetRoleSpeed(577, 0)
    ESC.SetRoleSpeed(578, 0)
    ESC.SetRoleSpeed(579, 0)
    ESC.SetRoleSpeed(580, 0)
    ESC.SetRoleSpeed(581, 0)
    ESC.SetRoleSpeed(582, 0)
    ESC.SetRoleSpeed(583, 0)
    ESC.SetRoleSpeed(584, 0)
    ESC.BatchMove2(9,
    576, 123+2, 60-2, -1, 0, 6,
    577, 127+2, 63-2, -1, 0, 6,
    578, 130+2, 65-2, -1, 0, 6,
    579, 134, 67, -1, 0, 6,
    580, 123, 60, -1, 0, 6,
    581, 127, 63, -1, 0, 6,
    582, 130, 65, -1, 0, 6,
    583, 135, 64, -1, 0, 6,
    584, 135+4, 64+2, -1, 0, 6)




    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4070')) -- ESS=哼，我的機關獸你下得了重手，%N現在這些...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.ChangeDIR(24, 5)
    ESC.Delay(30)


    ESC.SetRoleSpeed(24, 0)
    ESC.ChangeQQ(24, Const.RUN)
    ESC.BatchMove2(1,    24, 122, 69, -1, Const.STAND,7)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4071')) -- ESS=請住手，黃大人，%N您…您…又何必這樣苦...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)




    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4072')) -- ESS=滾開，段秀實───%N這裏的事，有你們這...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4073')) -- ESS=黃、黃大人……%N可…可是……
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)




    ESC.AddHeadSign(24, 3)
    ESC.Delay(600)
    ESC.DelHeadSign(24)


    ESC.AddHeadSign(14, 3)
    ESC.Delay(600)
    ESC.DelHeadSign(14)


    ESC.AddHeadSign(24, 3)
    ESC.Delay(600)
    ESC.DelHeadSign(24)


    ESC.ScrollMapToRole(1, 4, 4)
    ESC.TurnFace(10, 1)


    ESC.AddHeadSign(14, 3)
    ESC.Delay(400)
    ESC.DelHeadSign(14)

    ESC.AddHeadSign(24, 3)
    ESC.Delay(400)
    ESC.DelHeadSign(24)


    ESC.AddHeadSign(14, 3)
    ESC.Delay(400)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4074')) -- ESS=慧彥師父……%N我們趁現在快逃，阻止戰爭...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.DelHeadSign(14)
    ESC.AddHeadSign(24, 3)
    ESC.Delay(200)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4075')) -- ESS=唉……%N老衲…老衲真是…好遺憾啊───...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)
    ESC.DelHeadSign(24)




    ESC.ScrollMapWait()
    ESC.SetRoleSpeed(1, 0)
    ESC.TakeActData(1, -1, 60, 2) -- 賽特收劍
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 7)


    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(10, Const.RUN)




    ESC.SetMoveHISpeed(1) -- 第二段
    ESC.SetMoveHISpeed(10)
    ESC.SetRoleSpeed(10, 0)
    ESC.SetRoleSpeed(1, 1)
    -- ESC.BatchMove(2,
    -- 1, 92, 87,
    -- 10, 92+3, 87+2)
    Scene.BatchWlak({ {1, 92, 87, Const.RUN, 6},{10, 92+3, 87+2, Const.RUN, 6} })


    ESC.ChangeDIR(15, 5)
    ESC.ChangeQQ( 1, Const.RUN)
    ESC.ChangeQQ(10, Const.RUN)
    Scene.WORD_ON_HEAD(1, 7, 20, -75, '%C5'..StringDB('ESS4076')) -- ESS=遠恩，快點一起逃───



    ESC.ChangeDIR(15, 6)
    ESC.SetMoveHISpeed(1)
    ESC.SetRoleSpeed(10, 0)
    -- ESC.BatchMove2(2,
    -- 1, 62, 92, -1, 0, 6,
    -- 10, 64, 94, -1, 0, 6)
    Scene.BatchWlak({ {1, 62, 92, Const.RUN, 7},{10,64, 94, Const.RUN, 6} })


    ESC.ChangeQQ( 1, Const.RUN)
    ESC.ChangeQQ(10, Const.RUN)
    ESC.ChangeQQ(15, Const.RUN)
    ESC.Unlock(15)
    ESC.SetMoveHISpeed(1)
    ESC.SetRoleSpeed(10, 0)
    ESC.SetRoleSpeed(15, 0)
    ESC.SetRoleSpeed(1, 1)


    ESC.BatchMove2(3,
    1, 45, 97, -1, 0, 6,
    10, 47, 98, -1, 0, 6,
    15, 48, 95, -1, 0, 6)


    ESC.StoryMusic(124, 25, 0x2000) -- 【劇情配樂】晴天霹靂



    Scene.BattleSupportOff(10) -- 慧彥

    ESC.RoleDisable(327)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)


-- ──────────────────── ──────────────────【怛羅斯開戰！】


    ESC.AniPlay('combat01',false, false) -- 動畫【康貝特】

    ESC.AniUntil( 33)

    Scene.MBOn(1, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4077')) -- ESS=糟了，不好────%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.AniUntil( 73)


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4078')) -- ESS=怎麼回事？%N慧彥，這是哪裏冒出來的軍隊...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    ESC.AniUntil( 75)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4079')) -- ESS=這…這是%C7黑衣大食軍%C5啊！%N一...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AniUntil( 76)


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4080')) -- ESS=什、什麼───%N
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.AniUntil( 82)


    ESC.StoryMusic(79, 79, 0x2000) -- 【劇情配樂】怛羅斯


    ESC.Caption(14)
    Scene.Print_SL(14,9005,400,210,8*2,3*2,'%S0'..StringDB('ESS4081')) -- ESS=上、上上───%N快快給我消滅這些大食蠻...
    ESC.WaitDLG2(14)


    MediaFunc.PlaySound(348)


    ESC.AniUntil( 90)
    MediaFunc.PlaySound(304)
    ESC.AniUntil( 130)
    MediaFunc.PlaySound(251)
    ESC.AniUntil( 153)
    ESC.AniUntilClose()

    -- ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    -- ESC.FadeWait()



    -- 三人逃到崖壁上方
    ESC.GotoMap(159, 34, 68, 1, 8, 0)
    ESC.ChangeRoleMap(10, -1, 0, 34, 70, -1, Const.WALK, 0)
    ESC.ChangeRoleMap(15, -1, 0, 35, 71, -1, Const.WALK, 0)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.BatchMove2(3,
    1, 39, 64, -1, 0, 2,
    10, 33, 63, -1, 0, 5,
    15, 36, 62, -1, 0, 1)



    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4082')) -- ESS=哼，老頭───%N你答應什麼要說服唐軍停...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4083')) -- ESS=遠恩王子，%N這事本來就很不容易，慧彥師...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4084')) -- ESS=賽特啊，%N感謝你能理解老衲的苦心──%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 6)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.Delay(300)
    ESC.ChangeDIR(10, 1)
    ESC.Delay(300)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4085')) -- ESS=賽特，%N老衲有一件事情務必請你幫忙，請...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 2)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4086')) -- ESS=……請您儘管吩咐！%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4087')) -- ESS=老衲真的很對不起%C7遠恩%C5施主……...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(10, 5)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4088')) -- ESS=事到如今，老衲也要下去參加戰鬥，請你為我...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4089')) -- ESS=……慧彥師父，%N你……你要下去參加戰鬥...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.ChangeDIR(15, 6)



    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4090')) -- ESS=哼，%N說來說去，還是要幫自己國家！%N...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4091')) -- ESS=遠恩施主，您錯了！%N
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4092')) -- ESS=正因老衲身為佛門武僧，想盡最後一份心力，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(15, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4093')) -- ESS=什麼？%N你、你這不是去送死嗎？%N
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4094')) -- ESS=敝…敝人剛才只是說說氣話而已，%N請…請...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4095')) -- ESS=拜託你了，賽特……%N
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 6)



    ESC.ChangeQQ(10, Const.WALK)
    ESC.SetRoleSpeed(10, 1)
    ESC.BatchMove(1,    10, 34, 73)
    ESC.RoleDisable(10)



    ESC.ChangeDIR(10, 1)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)




    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4096')) -- ESS=怎…怎麼會這樣……%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4097')) -- ESS=……遠恩王子，%N除了%C7武功%C5之...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(15, 1)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(15)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4098')) -- ESS=他從不講什麼大道理，但一直用他自己的行為...
    ESC.WaitDLG(1)



    ESC.TakeActData(1, 98, 62-6, 6)
    ESC.Delay(300)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4099')) -- ESS=其實以前的我，只知道努力%C7消滅敵人%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(15)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4100')) -- ESS=說真的，我很敬佩他……所以想去他的國家看...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4101')) -- ESS=你…你都不擔心他嗎？%N
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)




    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4102')) -- ESS=下面阿拉伯軍和唐軍數量都不多，看來應該只...
    ESC.WaitDLG(1)



    ESC.TakeActData(1, 1, Const.STAND, 4)
    ESC.Delay(300)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4103')) -- ESS=走吧，我答應他要保護你的，%N我們先%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.AddParty(15)


    Scene.QuestOff(286)
    Scene.QuestOn(287)


    GameFunc.FlagOff(10)
    ESC.RoleDisable(203)
    ESC.RoleDisable(204)
    ESC.RoleDisable(218)
    ESC.RoleDisable(219)
    ESC.RoleDisable(220)
    ESC.RoleDisable(221)
    ESC.RoleDisable(228)
    ESC.RoleDisable(229)
    ESC.RoleDisable(230)
    GameFunc.FlagOn(421)
    GameFunc.FlagOn(422)
    GameFunc.FlagOn(423)


::T4028::
end



-- ────────────────────────────────【第一塊石頭掉下來】
function Scene.TALK4029()
    Scene.MoveHero(56, 15, 3)
    ESC.Delay(300)
    GameFunc.FlagOff(420)
    GameFunc.FlagOn(423)
    ESC.RoleDisable(851)
    ESC.ScreenShack(2, 4, 4, -4, -4, 4, -4, -4, 4, 0xFF00)
    MediaFunc.PlaySound(57)
    ESC.BatchMove(1,    850, 65, 36)
    ESC.ScreenShackStop()
end

function Scene.TALK4030()
    Scene.MoveHero(95, 30, 2)
    ESC.Delay(300)
    GameFunc.FlagOff(421)
    GameFunc.FlagOn(424)
    ESC.RoleDisable(852)
    ESC.ScreenShack(2, 4, 4, -4, -4, 4, -4, -4, 4, 0xFF00)
    MediaFunc.PlaySound(57)
    ESC.BatchMove(1,    853, 90, 52)
    ESC.Delay(120)
    ESC.RoleMove(853, 90, 66)
    ESC.TakeActData(853, 12005, 0, 0)
    ESC.Delay(450)
    ESC.ScreenShackStop()
end

function Scene.TALK4031()
    Scene.MoveHero(79, 10, 2)
    ESC.Delay(300)
    GameFunc.FlagOff(422)
    GameFunc.FlagOn(425)
    ESC.RoleDisable(855)
    ESC.ScreenShack(2, 4, 4, -4, -4, 4, -4, -4, 4, 0xFF00)
    MediaFunc.PlaySound(57)
    ESC.BatchMove(1,    854, 72, 38)
    ESC.RoleMove(854, 72, 51)
    ESC.TakeActData(854, 12005, 3, 0)
    ESC.Delay(450)
    ESC.ScreenShackStop()
end





-- ───────────────────────────────────【第二個停頓點】


function Scene.TALK4032()

    if GameFunc.GetFlag(445) then goto T4032 end
    GameFunc.FlagOn(445)
    GameFunc.FlagOn(10)

    ESC.RemoveParty(15, 0,'TALK15',15,Const.WALK,3,0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(15, 1)
    ESC.BatchMove2(2,
    1, 98, 41, -1, 0, 1,
    15, 94, 41, -1, 0, 5)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4104')) -- ESS=爬這麼高了，%N應該比較安全一點了吧？
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)
    ESC.TakeActData(1, 98, 63-5, 5)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4105')) -- ESS=嗯……%N不曉得現在下面的戰況如何……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(78, 78, 0x4000) -- 【劇情配樂】戰爭之影


    ESC.Delay(400)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()

    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()




    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.AniPlay('Withdraw',false, false) -- 這段動畫表示唐軍敗戰，借用前30張
    ESC.AniUntil( 30)
    ESC.AniSeek(108)
    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.AniUntilClose()



    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.Progress_Off()
    ESC.GotoMap(158 , 95, 78, 1, 0, 0)
    ESC.RoleHide(1)
    ESC.RoleMove(14, 105, 73)
    ESC.RoleMove(24, 102, 73)
    ESC.TakeActData(24, -1, 0, 6)
    ESC.TakeActData(14, -1, 0, 6)
    ESC.RoleEnable(14)
    ESC.RoleEnable(24)
    ESC.RoleDisable(10)
    ESC.ChangeRoleMap(327, 158 , 0 , 100, 74, 421, 0 , 6)
    ESC.RoleEnable(327)

    ESC.RoleDisable(576)
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)
    ESC.RoleDisable(580)
    ESC.RoleDisable(581)
    ESC.RoleDisable(582)
    ESC.RoleDisable(583)
    ESC.RoleDisable(584)


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.TakeActData(220, -1, 0, 6)
    ESC.RoleMove(327, 100, 79)
    ESC.RoleMove(203, 112, 75)
    ESC.RoleMove(204, 106, 80)
    ESC.RoleMove(218, 111, 84)
    ESC.RoleMove(220, 95-1, 74+1)
    ESC.RoleMove(219, 97-2, 68+2)
    ESC.RoleMove(221, 92-1, 65+1)
    ESC.RoleMove(228, 101-1, 64+1)
    ESC.RoleEnable(203)
    ESC.RoleEnable(204)
    ESC.RoleEnable(218)
    ESC.RoleEnable(219)
    ESC.RoleEnable(220)
    ESC.RoleEnable(221)
    ESC.RoleEnable(228)
    ESC.ChangeACT(203, 420) -- 換有盾牌

    ESC.ChangeRoleMap(230, 158 , 0 , 85, 88, 600, 52 , 0) -- 砍殺的人
    ESC.ChangeRoleMap(104, 158 , 0 , 75, 75, 600, 53 , 0) -- 砍殺的人
    ESC.ChangeRoleMap(131, 158 , 0 , 78, 84, 600, 54 , 0) -- 砍殺的人
    ESC.ChangeRoleMap(158, 158 , 0 , 79, 79, 600, 55 , 0) -- 砍殺的人
    Scene.SAR_Shadow(158, 1)
    ESC.RoleEnable(230)
    ESC.RoleEnable(104)
    ESC.RoleEnable(131)
    ESC.RoleEnable(158)
    ESC.ChangeRoleMap(161, 158 , 0 , 98, 91, 599, 52 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(165, 158 , 0 , 102, 86, 416, 52 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(181, 158 , 0 , 90, 84, 599, 54 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(199, 158 , 0 , 85, 76, 416, 54 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(200, 158 , 0 , 83, 69, 599, 56 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(201, 158 , 0 , 77, 84, 416, 56 , 0) -- 殺亡的人
    ESC.ChangeRoleMap(229, 158 , 0 , 76, 91, 416, 32 , 0) -- 殺亡的人
    ESC.RoleEnable(161)
    ESC.RoleEnable(165)
    ESC.RoleEnable(181)
    ESC.RoleEnable(199)
    ESC.RoleEnable(200)
    ESC.RoleEnable(201)
    ESC.RoleEnable(229)

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()


    Scene.ScrollMapD(76+4, 63-4, 2, 2)
    ESC.ScrollMapWait()




    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.ChangeDIR(24, 7)


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4106')) -- ESS=啟稟黃大人，%N我軍數量似乎不如大食軍，...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    MediaFunc.PlaySound(252) -- 戰鬥聲


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4107')) -- ESS=可恨可恨！%N都是慧彥那老禿驢，害我軍來...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.ChangeDIR(14, 7)
    ESC.Delay(50)
    ESC.ChangeQQ(14, Const.WALK)
    Scene.ScrollMapD(76+6, 63-6, 2, 2)
    ESC.BatchMove2(1,    14, 108, 70, -1, 0, 7)


    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.TurnFace(24, 14)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4108')) -- ESS=請等等，黃大人！%N您……您要去哪裏？
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.TurnFace(14, 24)


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4109')) -- ESS=你們在這兒牽制敵軍，本座去後方之大本營，...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    MediaFunc.PlaySound(252) -- 戰鬥聲


    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4110')) -- ESS=黃大人，這事讓令卒去就可以了，現在前方士...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    MediaFunc.PlaySound(304) -- 戰鬥聲


    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4111')) -- ESS=段秀實，你敢教訓本座？%N現在再不離開，...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    MediaFunc.PlaySound(252) -- 戰鬥聲



    ESC.TakeActData(229, 421, Const.WALK, 0)
    ESC.RoleMove(229, 119, 63)
    ESC.RoleEnable(229)
    ESC.SetRoleSpeed(229, 0)
    ESC.BatchMove2(1,    229, 111, 68, -1, 0, 6)


    MediaFunc.PlaySound(304) -- 戰鬥聲



    ESC.Caption(228)
    Scene.Print_WS(229,9005,5*2,1*2,StringDB('ESS4112')) -- ESS=報告───
    ESC.WaitDLG(229)



    ESC.TurnFace(14, 229)
    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.Caption(14)
    Scene.Print_WS(14,9005,6*2,1*2,StringDB('ESS4113')) -- ESS=又什麼事──
    ESC.WaitDLG(14)

    MediaFunc.PlaySound(304) -- 戰鬥聲



    ESC.Caption(228)
    Scene.Print_WS(229,9005,9*2,3*2,StringDB('ESS4114')) -- ESS=援軍來了──！%N節度使%C2高大人%C...
    ESC.WaitDLG(229)



    MediaFunc.PlaySound(252) -- 戰鬥聲



    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()

    ESC.ScreenHide()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()


    ESC.AniPlay('BigArmy',false, false) -- 高仙芝大軍增援
    ESC.AniUntil( 52)
    MediaFunc.PlaySound(348)
    ESC.AniUntil( 125)
    MediaFunc.PlaySound(348)
    ESC.AniUntil( 175)
    ESC.AniUntilClose()


    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.AniPlay('ChaosWar',false, false) -- 混戰
    ESC.AniUntil( 30)
    ESC.AniUntilClose()


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.Progress_Off()
    ESC.GotoMap(160, 98, 41, 1, 0, 1)
    ESC.RoleShow(1)

    ESC.ChangeDIR(15, 5)
    ESC.TakeActData(1, 98, 63-5, 5)


    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4115')) -- ESS=嘩，%N%C7唐軍%C5又來了這麼多人…...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4116')) -- ESS=哼……%N這就是那個沒信用、死後一定下地...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4117')) -- ESS=不過奇怪了……%N那個高仙芝的部隊人數應...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(400)
    ESC.DelHeadSign(1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4118')) -- ESS=我看到慧彥師父了，%N他在最前面那裏，還...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(15)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4119')) -- ESS=哦，在那裏，%N我也看見了───
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.AddHeadSign(15, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(15)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4120')) -- ESS=真奇怪，你看……%N他竟然阿拉伯人也打，...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4121')) -- ESS=現在兩方的軍隊，都把他當作敵人在圍攻，他...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4122')) -- ESS=到現在這一刻，他還在努力想%C7阻止這場...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)



    ESC.ChangeRoleMap(230, 160, 0, 118, 55, 411, 0, 4)
    ESC.ChangeRoleMap(231, 160, 0, 118, 56, 411, 0, 4)


    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.SetRoleSpeed(230, 0)
    ESC.SetRoleSpeed(231, 0)

    ESC.ChangeQQ(230, Const.WALK)
    ESC.ChangeQQ(231, Const.WALK)
    ESC.BatchMove(2,
    230, 106, 51,
    231, 107, 54)
    ESC.ChangeQQ(230, Const.STAND)
    ESC.ChangeQQ(231, Const.STAND)


    ESC.TurnFace(230, 1)
    ESC.TurnFace(231, 1)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(550)
    ESC.DelHeadSign(1)


    ESC.Caption(256)
    ESC.DLGHoldTime(5)
    Scene.Print_WS(230,9008,9*2,2*2,StringDB('ESS4123')) -- ESS=可惡的唐軍！%N竟然躲在這裏──
    ESC.WaitDLG2(230)


    ESC.ChangeDIR(15, 5)
    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.Delay(50)
    ESC.TakeActData(1, 1, 63-5, 5)




    ESC.Caption(256)
    ESC.DLGHoldTime(5)
    Scene.Print_WS(231,9008,6*2,2*2,StringDB('ESS4124')) -- ESS=殺死他們──%N殺啊──
    ESC.WaitDLG2(231)



    ESC.ChangeQQ(230, Const.WALK)
    ESC.ChangeQQ(231, Const.WALK)
    ESC.SetRoleSpeed(230, 0)
    ESC.SetRoleSpeed(231, 0)
    ESC.BatchMove(2,
    230, 106, 44,
    231, 107, 45)

    ESC.StartBattle('BS147') -- 和黑衣大食兵戰鬥（第二次）

    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂



    ESC.RoleDisable(230)
    ESC.RoleDisable(231)
    ESC.TakeActData(1, -1, 60, 2)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 5)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 6)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,10*2,3*2,StringDB('ESS4125')) -- ESS=……看來這邊也不是太安全，我們得繼續%C...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 5)
    ESC.AddParty(15)
    GameFunc.FlagOff(10)

::T4032::
end





-- ───────────────────────────────────【第三個停頓點】

function Scene.TALK4033()

    if GameFunc.GetFlag(444) then goto T4033 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(444)

    ESC.RemoveParty(15, 0,'TALK15',15,Const.WALK,3,0xD100)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 1)
    ESC.SetRoleSpeed(15, 1)
    ESC.BatchMove2(1,    15, 110, 10, -1, 0, 5)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4126')) -- ESS=這兒已經夠高了，%N應該會更安全一點吧？...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(1, 6)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4127')) -- ESS=下面喊殺聲好大……%N不曉得慧彥師父他還...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4128')) -- ESS=仔細想想，%N他還真的是個很好的人……%...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)




    ESC.SetRoleSpeed(15, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(15, Const.WALK)
    ESC.BatchMove2(2,
    1, 94, 12, -1, 0, 1,
    15, 89, 12, -1, 0, 1)
    ESC.Delay(500)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.Progress_Off()



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(78, 78, 0x4000) -- 【劇情配樂】戰爭之影


    ESC.GotoMap(158, 98, 73, 1, 0, 0)

    ESC.RoleHide(1)
    ESC.RoleMove(24, 99, 72)
    ESC.RoleMove(14, 104, 74)
    ESC.ChangeDIR(14, 6)
    ESC.ChangeDIR(24, 6)
    ESC.ChangeRoleMap(232, 158, 0, 119, 63, 420, 8, 6)
    ESC.ChangeRoleMap( 23, 158, 0, 119, 66, 23 , 8, 6)
    ESC.RoleEnable(232)
    ESC.RoleEnable(23)
    ESC.RoleMove(104, 88, 82)
    ESC.RoleMove(181, 91, 80)

    ESC.ChangeRoleMap(233, 158, 0, 77, 74, 600, 56, 0) -- 砍殺的人
    ESC.RoleEnable(233)

    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()

    ESC.BatchMove2(2,
    232, 105, 67, -1, 0, 6,
    23, 107, 70, -1, 0, 6)



    MediaFunc.PlaySound(304) -- 戰鬥聲

    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4129')) -- ESS=黃雷───!!
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)



    ESC.AddHeadSign(14, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(14)


    ESC.TurnFace(14, 23)
    ESC.Delay(300)



    MediaFunc.PlaySound(304) -- 戰鬥聲



    Scene.MBOn(14, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4130')) -- ESS=屬、屬下黃雷，%N參見高大人───
    ESC.WaitDLG(1)
    ESC.MBOff(14, 1)
    ESC.DelHead(10014, 1)


    ESC.TurnFace(24, 23)
    ESC.Delay(300)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4131')) -- ESS=這到底是怎麼回事───%N本將不是命令你...
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)



    MediaFunc.PlaySound(252) -- 戰鬥聲


    Scene.MBOn(14, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4132')) -- ESS=啟稟將軍，%N都是%C7慧彥%C5那個叛...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 1)
    ESC.DelHead(10014, 1)


    ESC.ChangeDIR(24, 5)
    ESC.Delay(300)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.MBOn(24, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4133')) -- ESS=黃大人，您不可隨便誣賴人！%N%C7大食...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    ESC.ChangeDIR(14, 4)
    ESC.Delay(300)


    MediaFunc.PlaySound(304) -- 戰鬥聲


    Scene.MBOn(14, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4134')) -- ESS=段秀實，你胡說八道什麼───%N難道我們...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.MBOn(24, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4135')) -- ESS=那是您自己要拿%C7機關獸%C5跟他挑戰...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    MediaFunc.PlaySound(304) -- 戰鬥聲


    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4136')) -- ESS=夠了───%N通通閉嘴，不要吵了！
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)



    ESC.AddHeadSign(14, 0)
    ESC.AddHeadSign(24, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(14)
    ESC.DelHeadSign(24)


    ESC.TurnFace(14, 23)
    ESC.TurnFace(24, 23)
    ESC.Delay(300)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4137')) -- ESS=全是一群飯桶────%N本將軍回去再問清...
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)




    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.GotoMap(160, 94, 12, 1, 0, 1)
    ESC.RoleShow(1)
    ESC.ChangeRoleMap(10, 160, 0, 92, 25, 10, 65, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 30)
    ESC.FadeWait()




    ESC.RoleEnable(10)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.TILPA1(10, 14)
    ESC.RoleHide(10)



    ESC.AddHeadSign(1, 0) -- 慧彥跳躍，共三次
    ESC.AddHeadSign(15, 0)


    ESC.ChangeDIR( 1, 6)
    ESC.ChangeDIR(15, 6)


    ESC.RoleMove(10, 97, 18)

    ESC.TakeActData(10, -1, 64, 0)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.RoleShow(10)
    ESC.TILPA1(10, 14)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(15)


    ESC.RoleHide(10)


    ESC.ChangeDIR( 1, 5)
    ESC.ChangeDIR(15, 5)


    ESC.RoleMove(10, 92, 11)
    ESC.TakeActData(10, -1, 65, 0)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.RoleShow(10)
    ESC.TILPA1(10, 14)
    ESC.TakeActData(10, -1, 0, 1)

    ESC.TurnFace(1, 10)
    ESC.TurnFace(15, 10)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4138')) -- ESS=慧彥師父───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4139')) -- ESS=還…還好您平安無事，%N敝人真擔心自己一...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(10, 6)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4140')) -- ESS=謝謝你們為老衲擔心，%N賽特，遠恩施主…...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(10, 1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4141')) -- ESS=老衲是為自己平日之信念而戰，豈會只為區區...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData(10, -1, Const.WALK, 1)
    ESC.SetRoleSpeed(10, 5)
    ESC.BatchMove(1,    10, 92, 12)
    MediaFunc.PlaySound(178) -- 走路聲
    ESC.TakeActData(10, -1, Const.STAND, 1)


    ESC.ChangeDIR( 1, 6)
    ESC.ChangeDIR(15, 5)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4142')) -- ESS=只是…遠恩施主，%N實在很抱歉，老衲盡力...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4143')) -- ESS=那已經沒關係了……不過接下來怎麼辦，您還...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(10, 1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4144')) -- ESS=不……%N人數實在太多了，老衲再怎麼努力...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4145')) -- ESS=目前唐軍佔上風，而這位%C7高將軍%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(15)




    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4146')) -- ESS=慧彥老師父，%N現在遠恩真的相信您是%C...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.StoryMusic(121, 121, 0x4000) -- 【劇情配樂】拔劍



    ESC.ChangeDIR(15, 3)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(15)


    ESC.Caption(15)
    Scene.Print_WS(15,9008,6*2,2*2,StringDB('ESS4147')) -- ESS=危險──！%N有敵人───
    ESC.WaitDLG(15)


    ESC.TakeActData(1, -1, 60, 3)



    Scene.BattleSupportOn(10) -- 慧彥 -- 慧彥加入


    ESC.ChangeDIR(10, 5)
    ESC.ChangeDIR(10, 3)

    ESC.ChangeRoleMap(230, 160, 0, 116, 11, 411, 8, 2)
    ESC.ChangeRoleMap(231, 160, 0, 119, 11, 411, 8, 2)

    ESC.RoleEnable(230)
    ESC.RoleEnable(231)
    ESC.SetRoleSpeed(230, 0)
    ESC.SetRoleSpeed(231, 0)
    ESC.BatchMove(2,
    230, 100, 11,
    231, 103, 11)



    ESC.StartBattle('BS147') -- 與黑衣大食軍戰鬥（第三次）



    ESC.StoryMusic(78, 78, 0x4000) -- 【劇情配樂】戰爭之影


    ESC.RoleDisable(230)
    ESC.RoleDisable(231)
    ESC.TakeActData(1, -1, 60, 2)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.TakeActData(10, 10, Const.STAND, 5)




    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4148')) -- ESS=賽特，這邊還是很危險，%N我們帶遠恩王子...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 5)


    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    ESC.AddParty(15)
    ESC.AddParty(10)
    GameFunc.FlagOff(10)
::T4033::
end









-- ───────────────────────────────────【唐軍潰敗】


function Scene.TALK4034()
    if GameFunc.GetFlag(446) then goto T4034 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(446)
    Scene.BattleSupportOff(10) -- 慧彥


    Scene.MoveHero(35, 10, 2)
    ESC.Delay(500)


    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(500)


    ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK, 2, 0xD100)
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK, 2, 0xD100)

    ESC.SetRoleSpeed(15, 1)
    ESC.SetRoleSpeed(10, 1)
    ESC.BatchMove2(2,
    10, 37, 11, -1, Const.STAND,6,
    15, 40, 12, -1, Const.STAND,6)
    ESC.Delay(400)
    ESC.TakeActData(15, 15, Const.STAND, 6)
    ESC.TakeActData(10, 10, Const.STAND, 6)



    ESC.SceneMusic(158, 135, 135, 0x4000) -- 【更換地圖音樂】怛羅斯崖壁→重生
    ESC.SceneMusic(159, 135, 135, 0x4000) -- 【更換地圖音樂】怛羅斯崖壁→重生
    ESC.SceneMusic(160, 135, 135, 0x4000) -- 【更換地圖音樂】怛羅斯崖壁→重生



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4149')) -- ESS=沒路了……%N這裏好像已經是盡頭───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4150')) -- ESS=目前一時也無法下去……%N我們就暫時待在...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.Delay(300)
    ESC.ChangeDIR(15, 5)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(15)




    Scene.MBOn(15, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4151')) -- ESS=你們快看───%N有好多的%C7阿拉伯軍...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(10, 5)


    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)



    ESC.SetRoleSpeed(10, 0)
    ESC.ChangeQQ(10, Const.RUN)
    ESC.BatchMove2(1,    10, 45-1, 13, -1, 0, 5)
    ESC.Delay(600)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 10)
    ESC.FadeWait()


    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(78, 78, 0x4000) -- 【劇情配樂】戰爭之影


    ESC.Progress_Off()
    ESC.GotoMap(158, 98, 73, 1, 0, 0)

    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()


    ESC.AniPlay('attack-1',false, false) -- 黑衣大軍增援

    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 48)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 60)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 87)


    ESC.AniSeek(1)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 28)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 50)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntilClose()



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 5)
    ESC.FadeWait()



    ESC.RoleHide(1)
    ESC.ChangeRoleMap(230, 158 , 0 , 77, 81, 419, 8 , 0)
    ESC.RoleEnable(230)

    ESC.RoleMove(24, 99+3, 72-1)
    ESC.RoleMove(14, 104+1, 74-1)

    ESC.ChangeDIR(14, 6)
    ESC.ChangeDIR(24, 6)
    ESC.ScreenShow()

    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()


    ESC.Delay(400)
    ESC.SetRoleSpeed(230, 0)


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.BatchMove(1,     --  高仙芝陣地
    230, 86, 78)
    ESC.SetRoleSpeed(230, 0)
    ESC.BatchMove2(1,    230, 100, 74, -1, 0, 7)
    ESC.Delay(300)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_WS(230,9005,7*2,2*2,StringDB('ESS4152')) -- ESS=高…高大人，大事不好了──
    ESC.WaitDLG(230)


    ESC.TurnFace(23, 230)
    MediaFunc.PlaySound(304) -- 戰鬥聲


    ESC.Caption(23)
    Scene.Print_WS(23,9005,7*2,2*2,StringDB('ESS4153')) -- ESS=幹什麼？%N如此緊張───
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_WS(230,9005,8*2,3*2,StringDB('ESS4154')) -- ESS=大…%C2大食軍團%C4他們突然出現大批...
    ESC.WaitDLG(230)


    MediaFunc.PlaySound(304) -- 戰鬥聲


    ESC.AddHeadSign(14, 0)
    ESC.AddHeadSign(24, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(14)
    ESC.DelHeadSign(24)


    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.Caption(228)
    Scene.Print_WS(230,9005,9*2,3*2,StringDB('ESS4155')) -- ESS=目前敵人士氣高昂，我軍漸漸招架不住，請大...
    ESC.WaitDLG(230)



    MediaFunc.PlaySound(304) -- 戰鬥聲


    ESC.ChangeDIR(24, 5)
    ESC.ChangeDIR(14, 7)



    ESC.Caption(14)
    Scene.Print_SL(14,9005,370+60,260,4*2,2*2,StringDB('ESS4156')) -- ESS=高大人，這……
    ESC.WaitDLG(14)



    ESC.Caption(23)
    Scene.Print_WS(23,9005,12*2,4*2,StringDB('ESS4157')) -- ESS=哼，怕什麼──%N後面還有%C2一萬多人...
    ESC.WaitDLG(23)


    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.Caption(228)
    Scene.Print_WS(230,9005,4*2,2*2,StringDB('ESS4158')) -- ESS=是！%N得令──
    ESC.WaitDLG(230)

    MediaFunc.PlaySound(252) -- 戰鬥聲



    ESC.SetRoleSpeed(230, 0)
    ESC.ChangeQQ(230, Const.WALK)
    ESC.BatchMove(1,    230, 119, 63)



    ESC.ChangeDIR(24, 5)
    ESC.ChangeDIR(14, 7)



    MediaFunc.PlaySound(304) -- 戰鬥聲



    ESC.ChangeDIR(24, 6)
    ESC.ChangeDIR(14, 7)
    ESC.Delay(300)


    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.Progress_Off()

    ESC.GotoMap(160, 46, 13, 1, 0, 1)
    ESC.RoleShow(1)
    ESC.RoleMove(10, 49, 13)
    ESC.RoleMove(15, 43, 13)
    ESC.ChangeDIR(10, 1)
    ESC.TakeActData(15, -1, 0, 5)
    ESC.TakeActData(1, 1, 0, 5)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4159')) -- ESS=阿彌陀佛……%N局勢怎會…變成這樣子？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4160')) -- ESS=沒想到現在輪到%C7阿拉伯%C5的軍隊他...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4161')) -- ESS=那些%C7阿拉伯戰士%C5好像都不怕死，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4162')) -- ESS=伊斯蘭信徒相信若為阿拉戰死，%N靈魂可以...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.Progress_Off()-- 畫面轉到高仙芝陣地，又一個唐士兵跑向高仙芝通報
    ESC.GotoMap(158, 98, 73, 1, 0, 0)
    ESC.RoleHide(1)
    ESC.RoleDisable(229)
    MediaFunc.PlaySound(252) -- 戰鬥聲
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()


    ESC.SetRoleSpeed(230, 0)
    ESC.BatchMove2(1,    230, 111, 68, -1, 0, 6)
    ESC.Delay(300)


    MediaFunc.PlaySound(304) -- 戰鬥聲


    ESC.Caption(228)
    Scene.Print_WS(230,9005,5*2,2*2,StringDB('ESS4163')) -- ESS=報───%N不好了──
    ESC.WaitDLG(230)



    ESC.ChangeDIR(23, 7)
    ESC.ChangeDIR(24, 7)
    ESC.ChangeDIR(14, 7)
    ESC.Delay(300)



    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.Caption(23)
    Scene.Print_SL(23,9005,310,230,10*2,3*2,StringDB('ESS4164')) -- ESS=又怎麼了？%N不是叫你去通知後方部隊火速...
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_SL(230,9005,210,30,12*2,4*2,StringDB('ESS4165')) -- ESS=因…因為高大人您剛才急行軍趕來支援黃大人...
    ESC.WaitDLG(230)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(23)
    Scene.Print_SL(23,9005,310,230,11*2,3*2,StringDB('ESS4166')) -- ESS=混帳，豈有此理！%N那本將軍為什麼趕得及...
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(304) -- 戰鬥聲


    Scene.Print_SL(23,9005,370-60,260,8*2,3*2,StringDB('ESS4167')) -- ESS=目前落後趕不過來的部隊，大約多少人？
    ESC.WaitDLG(23)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_SL(230,9005,280,30,7*2,3*2,StringDB('ESS4168')) -- ESS=啟稟大人，%N大約…大約%C2半數以上%...
    ESC.WaitDLG(230)


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(23)
    Scene.Print_SL(23,9005,280,230,5*2,2*2,StringDB('ESS4169')) -- ESS=什麼──%N半數以上？
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.SAR_Shadow(322, 1)
    ESC.RoleMove(322, 119, 63) -- 又一個士兵來通報


    ESC.RoleEnable(322)
    ESC.SetRoleSpeed(322, 0)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.BatchMove2(1,    322, 109, 65, -1, 0, 6)
    ESC.Delay(300)


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_SL(230,9005,250,30,7*2,2*2,StringDB('ESS4170')) -- ESS=高大人──%N不好了……
    ESC.WaitDLG(322)


    ESC.TakeActData(23, -1, 0, 5) -- 側身背對士兵
    ESC.Delay(300)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(23)
    Scene.Print_SL(23,9005,310,230,7*2,2*2,StringDB('ESS4171')) -- ESS=廢物──%N全是一群廢物！
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_WS(322,9005,4*2,1*2,StringDB('ESS4172')) -- ESS=啊…？
    ESC.WaitDLG(322)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(23)
    Scene.Print_SL(23,9005,310,230,5*2,1*2,StringDB('ESS4173')) -- ESS=你說───
    ESC.WaitDLG(23)


    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_SL(322,9005,180,30,11*2,4*2,StringDB('ESS4174')) -- ESS=黑、黑衣大食派人到%C2西域各國%C4部...
    ESC.WaitDLG(322)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    Scene.Print_SL(322,9005,180,30,11*2,3*2,StringDB('ESS4175')) -- ESS=目前西域各國全都叛變，同仇敵愾，開始攻擊...
    ESC.WaitDLG(322)



    ESC.ChangeDIR(23, 7)


    ESC.Caption(23)
    Scene.Print_SL(23,9005,290,230,5*2,1*2,StringDB('ESS4176')) -- ESS=什麼───
    ESC.WaitDLG(23)


    ESC.ChangeDIR(23, 5)
    MediaFunc.PlaySound(252) -- 戰鬥聲


    Scene.Print_SL(23,9005,310,230,10*2,3*2,StringDB('ESS4177')) -- ESS=媽的──%N你們這些西域臭蠻子，竟敢陣前...
    ESC.WaitDLG(23)


    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.Delay(400)




    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(160, 46, 13, 1, 0, 1)
    ESC.RoleMove(10, 49, 13-1)
    ESC.RoleMove(15, 43, 13-1)
    ESC.RoleShow(1)
    ESC.TakeActData(1, 98, 63-5, 5)
    ESC.TakeActData(10, 10, Const.STAND, 5)


    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()




    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4178')) -- ESS=你們看、你們看！%N戰情大逆轉，那個%C...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4179')) -- ESS=勝敗看來已分出來，%N這一戰是唐國敗了─...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4180')) -- ESS=呵呵，老天有眼！%N誰叫唐國的人多行不義...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4181')) -- ESS=真希望阿拉伯大軍就這樣，一路直打到他們首...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)


    ESC.ChangeDIR(10, 6)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4182')) -- ESS=遠恩施主……%N如果老衲想請你去勸說大食...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4183')) -- ESS=──我？%N──叫阿拉伯人退兵？
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4184')) -- ESS=──開玩笑！%N唐國無緣無故滅了我家園，...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4185')) -- ESS=遠恩施主……%N如果老衲以天下蒼生的名義...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4186')) -- ESS=這……%N我…這個……
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4187')) -- ESS=遠恩施主……%N原本老衲是打算唐軍贏了，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4188')) -- ESS=如今局勢逆轉，老衲卻與%C7大食%C5無...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.AddHeadSign(15, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(15)

    ESC.ChangeDIR(15, 1)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4189')) -- ESS=──如是老師父懇求，%N遠恩雖甚不願意，...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4190')) -- ESS=──阿拉伯的%C7哈里發%C5本來就很不...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4191')) -- ESS=唉……%N果然也是如此……%N難道一切都...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(10, 1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4192')) -- ESS=黃雷啊，黃雷啊───%N你自己好好看一看...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()


    ESC.Progress_Off()
    ESC.GotoMap(158, 98, 73, 1, 0, 0)

    ESC.RoleHide(1)
    ESC.RoleMove(323, 119, 63)
    ESC.RoleEnable(323)
    ESC.ChangeQQ(323, Const.WALK)
    MediaFunc.PlaySound(252) -- 戰鬥聲
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()


    ESC.SetRoleSpeed(323, 0)
    ESC.BatchMove2(1,    323, 114, 69, -1, 0, 2)
    ESC.Delay(300)



    MediaFunc.PlaySound(304) -- 戰鬥聲

    ESC.Caption(228)
    Scene.Print_WS(323,9005,6*2,3*2,StringDB('ESS4193')) -- ESS=報───%N不好了，後面的……
    ESC.WaitDLG(323)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.Caption(23)
    Scene.Print_SL(23,9005,290,230,5*2,1*2,StringDB('ESS4194')) -- ESS=閉嘴──！
    ESC.WaitDLG(23)



    MediaFunc.PlaySound(252) -- 戰鬥聲


    ESC.Caption(24)
    Scene.Print_SL(24,9005,370+60,260,5*2,1*2,StringDB('ESS4195')) -- ESS=高大人──
    ESC.WaitDLG(24)



    ESC.ChangeDIR(23, 6)
    ESC.Delay(300)



    MediaFunc.PlaySound(304) -- 戰鬥聲

    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4196')) -- ESS=撤退───%N撤退───%N全軍撤退──...
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)



    MediaFunc.PlaySound(252) -- 戰鬥聲
    ESC.AddHeadSign(24, 0)
    ESC.AddHeadSign(14, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(14)
    ESC.DelHeadSign(24)


    ESC.ChangeDIR(24, 7)

    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4197')) -- ESS=高…高大人，我方將士還在前方苦戰，如果我...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)


    MediaFunc.PlaySound(304) -- 戰鬥聲



    ESC.ChangeDIR(14, 4)
    MediaFunc.PlaySound(252) -- 戰鬥聲



    Scene.MBOn(14, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4198')) -- ESS=段秀實！%N高大人全是為了大局著想，「%...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    MediaFunc.PlaySound(304) -- 戰鬥聲
    ESC.ChangeDIR(24, 5)



    Scene.MBOn(24, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4199')) -- ESS=但…我們身為他人長官，%N卻自己害怕先逃...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 1)
    ESC.DelHead(10024, 1)



    MediaFunc.PlaySound(252) -- 戰鬥聲


    Scene.MBOn(23, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10023, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4200')) -- ESS=媽的，段秀實───%N到底你是將軍，還是...
    ESC.WaitDLG(1)


    MediaFunc.PlaySound(304) -- 戰鬥聲


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4201')) -- ESS=本將軍說撤退就是撤退───%N走───！...
    ESC.WaitDLG(1)
    ESC.MBOff(23, 0)
    ESC.DelHead(10023, 0)


    MediaFunc.PlaySound(252) -- 戰鬥聲

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30, 30)
    ESC.SetRoleSpeed(23, 1)
    ESC.SetRoleSpeed(14, 1)
    ESC.SetRoleSpeed(322, 0)
    ESC.SetRoleSpeed(323, 0)
    ESC.SetRoleSpeed(232, 0)
    ESC.SetRoleSpeed(228, 0)
    ESC.SetRoleSpeed(203, 0)
    ESC.SetRoleSpeed(220, 0)
    ESC.SetRoleSpeed(219, 0)
    ESC.SetRoleSpeed(221, 0)
    ESC.SetRoleSpeed(204, 0)
    ESC.SetRoleSpeed(327, 0)
    ESC.SetRoleSpeed(230, 0)
    ESC.SetRoleSpeed(218, 0)

    ESC.ChangeQQ(23, Const.WALK)
    ESC.ChangeQQ(14, Const.WALK)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(232, Const.WALK)
    ESC.ChangeQQ(228, Const.WALK)
    ESC.ChangeQQ(203, Const.WALK)
    ESC.ChangeQQ(220, Const.WALK)
    ESC.ChangeQQ(219, Const.WALK)
    ESC.ChangeQQ(221, Const.WALK)
    ESC.ChangeQQ(204, Const.WALK)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(230, Const.WALK)
    ESC.ChangeQQ(218, Const.WALK)

    ESC.BatchMove(14,
    23, 116, 61,
    14, 116, 62,
    322, 116, 60,
    323, 116, 63,
    203, 117, 63,
    232, 107, 59,
    228, 107, 59,

220, 116, 60,
    219, 107, 59,
    221, 107, 59,
    204, 117, 63,
    327, 117, 63,
    230, 107, 59,
    218, 117, 63)
    ESC.FadeWait()

    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(79, 79, 0x4000) -- 【劇情配樂】怛羅斯


    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()




    ESC.AniPlay('Withdraw',false, false) -- 唐軍潰敗
    ESC.AniUntil( 40)
    MediaFunc.PlaySound(348)
    ESC.AniUntil( 60)
    MediaFunc.PlaySound(348)
    ESC.AniUntil( 90)
    MediaFunc.PlaySound(348)
    ESC.AniUntil( 108)





    ESC.AniPlay('attack-1',false, false) -- 黑衣大軍增援


    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 28)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 40)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 88)
    ESC.AniUntilClose()







-- ───────────────────────────────────【慧彥的悲壯決意】

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    ESC.FadeWait()
    ESC.ScreenShow()

    ESC.Progress_Off()
    ESC.GotoMap(160, 46, 13, 1, 0, 1)
    ESC.RoleShow(1)

    ESC.ChangeRoleMap(10, 160, 0, 48, 23, 10, 0, 0)
    ESC.RoleEnable(10)
    ESC.TakeActData(10, 10, Const.STAND, 5)
    ESC.RoleMove(10, 48, 11)

    ESC.RoleMove(10, 49, 13-1)
    ESC.RoleMove(15, 43, 13-1)
    ESC.TakeActData(1, 98, 63-5, 5)
    ESC.TakeActData(10, 10, Const.STAND, 5)
    ESC.TakeActData(15, 15, Const.STAND, 5)


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()


    MediaFunc.PlaySound(348) -- 大軍衝刺聲


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4202')) -- ESS=唐軍已經開始潰敗了───%N看來唐國那兒...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.ChangeDIR(1, 1) -- 賽特抱臂面右
    ESC.ChangeQQ(1, 56)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4203')) -- ESS=這一仗阿拉伯的人數遠比他們少，%N最後卻...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4204')) -- ESS=哼──！%N誰叫他們自己不講信用，多行不...
    ESC.WaitDLG(1)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4205')) -- ESS=希望伊斯蘭軍就這樣一路殺到唐國，讓這些唐...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)

    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.AddHeadSign(15, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(15)

    ESC.AddHeadSign(1, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(1)

    ESC.AddHeadSign(15, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(15)

    ESC.AddHeadSign(1, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.SetRoleSpeed(10, 3)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 55, 16)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 5)



    ESC.AddHeadSign(15, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(15)


    ESC.ChangeDIR(1, 2) -- 賽特抱臂面左
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.AddHeadSign(1, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(1)

    ESC.AddHeadSign(15, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(15)

    ESC.AddHeadSign(1, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    ESC.AddHeadSign(15, 3)
    ESC.Delay(500)
    ESC.DelHeadSign(15)

    MediaFunc.PlaySound(348) -- 大軍衝刺聲


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(116, 116, 0x4000) -- 【劇情配樂】慧彥



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4206')) -- ESS=蒼天啊……%N老衲…現在究竟該怎麼辦才好...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(10, 5)


    MediaFunc.PlaySound(348) -- 大軍衝刺聲


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4207')) -- ESS=慈悲我佛，請開示愚昧弟子，%N告訴弟子該...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(10, 5)
    ESC.AddHeadSign(10, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(10)

    ESC.Delay(100)
    ESC.AddHeadSign(10, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(10)



    MediaFunc.PlaySound(348) -- 大軍衝刺聲


    ESC.SetRoleSpeed(10, 3)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 55, 24)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 1)


    ESC.AddHeadSign(10, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4208')) -- ESS=唉……%N三十餘年，老衲未開%C7殺戒%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.SetRoleSpeed(10, 4)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 6)


    ESC.Delay(1000)
    ESC.TakeActData(10, 10, 70, 0) -- 合什


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4209')) -- ESS=……我佛在上，%N弟子慧彥願以%C7一己...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4210')) -- ESS=願我佛慈悲，引渡其至彼岸，%N一切罪業，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.SetRoleSpeed(10, 1)


    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 49, 12)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 6)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4211')) -- ESS=賽特，%N老衲有件事情，誠心想請託您……...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData( 1, 1, Const.STAND, 7)
    ESC.TakeActData(15, 15, Const.STAND, 7)
    ESC.Delay(300)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4212')) -- ESS=請您吩咐───%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4213')) -- ESS=這一路走來，%N老衲很實在很高興能結識你...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4214')) -- ESS=老衲待會要下去設法阻止%C7大食軍團%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(15, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(15)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4215')) -- ESS=您在說什麼───？%N您不是說過不要參與...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.ChangeDIR(10, 1)
    ESC.AddHeadSign(10, 1)
    ESC.Delay(600)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4216')) -- ESS=如今%C7大食%C5即將攻入%C7大唐%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.ChangeDIR(10, 5)
    ESC.Delay(200)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4217')) -- ESS=賽特，你也見到了……%N%C7兵法%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)
    ESC.ChangeDIR(10, 6)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4218')) -- ESS=答應老衲，不要放棄你的%C7求道之旅%C...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4219')) -- ESS=這趟旅程很抱歉只能陪你行走至此，但老衲確...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.SetRoleSpeed(10, 3)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.BatchMove(1,    10, 55, 16)
    ESC.ChangeQQ(10, Const.STAND)
    ESC.ChangeDIR(10, 5)


    ESC.ChangeDIR(15, 5)

    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetRoleSpeed(1, 1)
    ESC.BatchMove(1,    1, 53, 14)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4220')) -- ESS=慧彥師父───%N情勢現在都這樣了，您又...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4221')) -- ESS=賽特啊──%N你也知道老衲的為人，請務必...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)



    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(10, 5)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S1%C5'..StringDB('ESS4222')) -- ESS=漫漫紅塵佛天遠，%N　　悠悠白雲西山陲；...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4223')) -- ESS=老衲原想到西天%C7天竺%C5雲遊求法，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)





    ESC.SetRoleSpeed(10, 3)
    ESC.TakeActData(10, -1, 67, 0)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.Unlock(10)
    ESC.TILPA1(10, 7)



    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(124, 124, 0x4000) -- 【劇情配樂】晴天霹靂（音樂要更換→慧彥決死）


    ESC.RoleMove(10, 60, 28)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音
    ESC.SetRoleSpeed(10, 3)
    ESC.TakeActData(10, -1, 66, 0)



    ESC.Unlock(10)
    ESC.TILPA1(10, 7)
    ESC.RoleDisable(10)




    ESC.FadeScreen(0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    ESC.ScreenHide()

    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.TakeActData(10, 10, Const.STAND, 5)


    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 1)
    ESC.FadeWait()



    ESC.AniPlay('monk',false, false)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲

    ESC.AniUntil( 35)
    MediaFunc.PlaySound(266) -- 慧彥移動的聲音

    ESC.AniUntil( 40)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 41)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 42)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 43)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 44)
    MediaFunc.PlaySound(127)

    ESC.AniUntil( 45)
    MediaFunc.PlaySound(322) -- 慧彥著地聲

    ESC.AniUntil( 72)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5%C3'..StringDB('ESS4224')) -- ESS=（阿拉伯語）%C5%N%C7吾乃大唐武僧...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4225')) -- ESS=剛才敗戰者不過前鋒，大唐如老衲之武僧不知...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AniUntil( 79)


    ESC.Caption(228)
    Scene.Print_SL(1,9008,10,210,11*2,4*2,StringDB('ESS4226')) -- ESS=哼──！%N你這剛才一直想幫唐國，卻又%...
    ESC.WaitDLG(1)



    ESC.AniUntil( 80)
    ESC.StoryMusic(98, 98, 0x4000) -- 【劇情配樂】少林寺（音樂要更換→慧彥決死）



    ESC.AniUntil( 86)
    MediaFunc.PlaySound(532) -- 喝
    ESC.AniUntil( 88)
    MediaFunc.PlaySound(87) -- 轟

    ESC.AniUntil( 98)
    MediaFunc.PlaySound(8) -- 噓

    ESC.AniUntil( 117)
    MediaFunc.PlaySound(530) -- 哈
    ESC.AniUntil( 117)
    MediaFunc.PlaySound(15) -- 噓--梆
    ESC.AniUntil( 119)
    MediaFunc.PlaySound(255)


    ESC.AniUntil( 137)
    MediaFunc.PlaySound(532)
    ESC.AniUntil( 138)
    MediaFunc.PlaySound(87)


    ESC.AniUntil( 159)
    MediaFunc.PlaySound(529)
    ESC.AniUntil( 160)
    MediaFunc.PlaySound(235)


    ESC.AniUntil( 162)
    MediaFunc.PlaySound(530)
    ESC.AniUntil( 163)
    MediaFunc.PlaySound(40)


    ESC.AniUntil( 169)
    MediaFunc.PlaySound(531)
    ESC.AniUntil( 170)
    MediaFunc.PlaySound(255)


    ESC.AniUntil( 176)
    MediaFunc.PlaySound(529)
    ESC.AniUntil( 177)
    MediaFunc.PlaySound(236)


    ESC.AniUntil( 182)
    MediaFunc.PlaySound(530)
    ESC.AniUntil( 183)
    MediaFunc.PlaySound(87)
    ESC.AniUntil( 187)
    MediaFunc.PlaySound(16)


    ESC.AniUntil( 210)
    MediaFunc.PlaySound(532)
    ESC.AniUntil( 211)
    MediaFunc.PlaySound(238)
    ESC.AniUntil( 216)
    MediaFunc.PlaySound(229)


    ESC.AniUntil( 231)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲
    ESC.AniUntil( 259)
    MediaFunc.PlaySound(348) -- 大軍衝刺聲


    ESC.AniUntil( 310)
    MediaFunc.PlaySound(530)
    ESC.AniUntil( 311)
    MediaFunc.PlaySound(238)
    ESC.AniUntil( 314)
    MediaFunc.PlaySound(315)


    ESC.AniUntil( 323)
    ESC.AniUntilClose()



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.RoleMove(1, 46, 13)
    ESC.RoleMove(15, 42, 13)
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 10)
    ESC.FadeWait()



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4227')) -- ESS=慧彥師父………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(1, 5) -- 賽特沈思
    ESC.ChangeQQ(1, 33-5)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4228')) -- ESS=這…這不根本就是%C7送死%C5？%N即...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(1, 5) -- 賽特抱手臂
    ESC.ChangeQQ(1, 33-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(15, 1)

    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4229')) -- ESS=嘩呀，老天……%N原本這麼講%C7慈悲%...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.ChangeDIR(1, 5) -- 賽特抱手臂
    ESC.ChangeQQ(1, 33-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4230')) -- ESS=原來如此，%N我明白慧彥師父的用意了……...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(15, 5)
    ESC.AddHeadSign(15, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(15)


    ESC.TakeActData(1, 98, 63-5, 5)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4231')) -- ESS=……他是要讓阿拉伯人誤以為%C7唐國%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(15, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS514')) -- ESS=…………
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.TakeActData(1, 98, 63-5, 5)
    ESC.TakeActData(10, 10, Const.STAND, 5)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4232')) -- ESS=這是他留給我們的最後禮物……%N用自己生...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.ChangeDIR(1, 5) -- 賽特抱手臂
    ESC.ChangeQQ(1, 33-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)



    ESC.ChangeRoleMap(327, 160 , 0 , 61, 31, 411, 8, 0)
    ESC.ChangeRoleMap(322, 160 , 0 , 61, 32, 411, 8, 0)
    ESC.RoleEnable(327)
    ESC.RoleEnable(322)
    ESC.SetRoleSpeed(327, 0)
    ESC.SetRoleSpeed(322, 0)


    ESC.BatchMove2(2,
    327, 54, 19, -1, 0, 4,
    322, 52, 23, -1, 0, 4)



    ESC.StoryMusic(121, 25, 0x2000) -- 【劇情配樂】拔劍→無聲



    ESC.TakeActData(1, 1, 63-5, 5)
    ESC.Caption(256)
    ESC.DLGHoldTime(5)
    Scene.Print_SL(327,9008,160,330,7*2,2*2,StringDB('ESS4233')) -- ESS=找到了───%N這裏還有唐軍！
    ESC.WaitDLG2(327)
    ESC.TurnFace(15, 322)



    ESC.Caption(15)
    Scene.Print_WS(15,9008,7*2,2*2,StringDB('ESS4234')) -- ESS=哇，等一下──%N我們不是敵人！
    ESC.WaitDLG2(15)



    ESC.ChangeRoleMap(3, 160, 0, 70, 34, 3, 8, 0)
    ESC.RoleEnable(3)


    ESC.Caption(256)
    Scene.Print_SL(322,9008,130,330,9*2,4*2,StringDB('ESS4235')) -- ESS=胡說───%N剛才明明還看見你們是跟下面...
    ESC.WaitDLG2(322)


    ESC.SetRoleSpeed(3, 0)
    ESC.BatchMove2(1,    3, 60, 24, -1, 0, 4)
    ESC.TurnFace(3, 1)


    ESC.AddHeadSign(3, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(3)
    ESC.DelHeadSign(1)



    ESC.Caption(3)
    Scene.Print_SL(3,9008,430,170,7*2,2*2,StringDB('ESS4236')) -- ESS=賽特──？%N怎會是你？
    ESC.WaitDLG2(3)


    ESC.TurnFace(322, 3)
    ESC.TurnFace(327, 3)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,5*2,1*2,StringDB('ESS154')) -- ESS=薇達──？
    ESC.WaitDLG2(1)


    ESC.Caption(256)
    Scene.Print_SL(322,9008,150,330,9*2,4*2,StringDB('ESS4237')) -- ESS=薇達大人──%N這幾個傢伙是%C2唐軍%...
    ESC.WaitDLG2(322)


    ESC.TurnFace(3, 322)

    ESC.AddHeadSign(3, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(3)



    ESC.Caption(3)
    Scene.Print_SL(3,9008,400,170,9*2,4*2,StringDB('ESS4238')) -- ESS=不，等等──%N他們只是%C2旅人%C4...
    ESC.WaitDLG2(3)


    Scene.Print_SL(3,9008,430,170,7*2,3*2,StringDB('ESS4239')) -- ESS=你們在下面等一下，我來跟他們談談！
    ESC.WaitDLG2(3)



    ESC.ChangeDIR(322, 4)
    ESC.ChangeDIR(327, 4)
    ESC.Unlock(3)
    ESC.ChangeQQ(3, Const.WALK) -- 薇達走近賽特
    ESC.BatchMove2(1,    3, 49+2, 12, -1, 0, 6)



    ESC.ChangeDIR(15, 7)
    ESC.TakeActData(1, 98, 70, 7) -- 賽特持劍面右後
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)




    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4240')) -- ESS=賽特，%N沒想到在這裏又遇見你了……
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4241')) -- ESS=說真的，我本來還以為……我們兩人今生真的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4242')) -- ESS=太好了，你們認識？%N快告訴他我是石國王...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4243')) -- ESS=啊，你就是那位石國王子嗎？%N幸會幸會！...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4244')) -- ESS=您那隻%C7巴格達部隊%C5，目前還被困...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4245')) -- ESS=薇達，恭喜妳贏了唐國，%N──不過妳是上...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(135, 135, 0x4000) -- 【劇情配樂】重生



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4246')) -- ESS=賽特，%N你這是什麼鬼問題？%N把劍放下...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4247')) -- ESS=救我……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)




    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4248')) -- ESS=是呀，那位唐國僧侶正在山下大開殺戒而許多...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4249')) -- ESS=現在我的立場很為難……%N我不希望見到你...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4250')) -- ESS=所以這樣子吧！%N你們暫時先裝作我捉到的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4251')) -- ESS=……原來如此，%N等戰爭結束，就放我們離...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4252')) -- ESS=當然了，%N你們又不是真的俘虜啊！%N請...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4253')) -- ESS=這真是好主意！%N賽特，就這麼辦吧？
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.ChangeACT(1, 98) -- 賽特收劍
    MediaFunc.PlaySound(276) -- 收劍音效
    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, 77-7)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, 77-7)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, 77-7)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, 77-7)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)


    ESC.ChangeDIR(1, 7)
    ESC.ChangeQQ(1, 77-7)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.TakeActData(1, 1, Const.STAND, 7)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4254')) -- ESS=薇達，謝謝妳了！%N我信得過妳──
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4255')) -- ESS=賽特，我也謝謝你，%N願意相信我！
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeDIR(3, 5)

    ESC.Caption(3)
    Scene.Print_SL(3,9008,200,30,10*2,4*2,StringDB('ESS4256')) -- ESS=這兩人向我們投降了，從現在起算是%C2俘...
    ESC.WaitDLG2(3)



    ESC.Caption(256)
    Scene.Print_SL(327,9008,230,330,5*2,2*2,StringDB('ESS4257')) -- ESS=是，薇達長官───
    ESC.WaitDLG2(327)



    ESC.SetRoleSpeed(327, 0)
    ESC.SetRoleSpeed(322, 0)
    ESC.ChangeQQ(327, Const.WALK)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.BatchMove(2,
    327, 61, 31,
    322, 61, 32)
    ESC.RoleDisable(327)
    ESC.RoleDisable(322)
    ESC.ChangeDIR(3, 6)


    ESC.Caption(3)
    Scene.Print_SL(3,9008,430,70,7*2,3*2,StringDB('ESS4258')) -- ESS=沒事了，我帶你們離開這個戰場吧！
    ESC.WaitDLG2(3)


    ESC.ScreenLock()
    ESC.RoleMove(1, 49, 12)
    ESC.RoleMove(3, 46, 13)
    ESC.TakeActData(1, 3, 0, 6)
    ESC.TakeActData(3, 1, 0, 7)
    ESC.AddParty(3)
    ESC.AddParty(15)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ChangeDIR(1, 5)
    ESC.ScreenUnlock()

    ESC.DungeonEsc_Off(StringDB('ESS4259')) -- ESS=無法使用！

    Scene.BattleSupportOn(3) -- 薇達
    GameFunc.FlagOn(7064) -- 微達帶隊設定

    Scene.QuestOff(287)
    Scene.QuestOn(288)

    GameFunc.FlagOff(10)
    GameFunc.FlagOff(12)

::T4034::
end


function Scene.T4024A()
-- ───────────────────────────────────【死者的山丘】

    GameFunc.FlagOn(10)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.RoleDisable(323)
    ESC.RoleDisable(23)
    ESC.RoleDisable(24)
    ESC.RoleDisable(14)
    ESC.GotoMap(158 , 36, 56, 1, Const.WALK, 1)



    ESC.ChangeRoleMap(578, 158, 0, 61, 95, 416, 32, 0) -- 以下的唐軍改為死亡
    ESC.ChangeRoleMap(579, 158, 0, 56, 98, 599, 52, 0)
    ESC.ChangeRoleMap(580, 158, 0, 37, 98, 599, 53, 0)

    ESC.ChangeRoleMap(581, 158, 0, 39, 88, 416, 34, 0)
    ESC.ChangeRoleMap(582, 158, 0, 40, 92, 599, 54, 0)
    ESC.ChangeRoleMap(584, 158, 0, 45, 88, 416, 54, 0)
    ESC.ChangeRoleMap(585, 158, 0, 51, 104, 599, 56, 1)

    ESC.ChangeRoleMap(586, 158, 0, 23, 104, 416, 56, 0)
    ESC.ChangeRoleMap(587, 158, 0, 29, 104, 599, 58, 0)
    ESC.ChangeRoleMap(588, 158, 0, 40, 107, 416, 57, 0)
    ESC.ChangeRoleMap(589, 158, 0, 47, 105, 599, 59, 0)

    ESC.ChangeRoleMap(591, 158, 0, 57, 102, 416, 55, 0)
    ESC.ChangeRoleMap(592, 158, 0, 52, 86, 599, 62, 0)
    ESC.ChangeRoleMap(593, 158, 0, 53, 92, 416, 53, 0)

    ESC.ChangeRoleMap(583, 158, 0, 46, 93, 411, 0, 3)
    ESC.ChangeRoleMap(590, 158, 0, 42, 97, 600, 0, 2)
    ESC.ChangeRoleMap(327, 158, 0, 51, 94, 411, 0, 3)
    ESC.ChangeRoleMap(328, 158, 0, 53, 99, 599, 0, 2)
    ESC.ChangeRoleMap(329, 158, 0, 44, 104, 411, 0, 3)
    ESC.ChangeRoleMap(330, 158, 0, 51, 103, 600, 0, 2)

    ESC.ChangeRoleMap( 10, 158, 0, 47, 99, 10, 68, 0)
    ESC.RoleEnable(10)

    ESC.RoleEnable(578)
    ESC.RoleEnable(579)
    ESC.RoleEnable(580)
    ESC.RoleEnable(581)
    ESC.RoleEnable(582)
    ESC.RoleEnable(583)
    ESC.RoleEnable(584)
    ESC.RoleEnable(585)
    ESC.RoleEnable(586)
    ESC.RoleEnable(587)
    ESC.RoleEnable(588)
    ESC.RoleEnable(589)
    ESC.RoleEnable(590)
    ESC.RoleEnable(591)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)

    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.RoleEnable(329)
    ESC.RoleEnable(330)

    ESC.TurnFace(583, 10)
    ESC.TurnFace(590, 10)
    ESC.TurnFace(327, 10)
    ESC.TurnFace(328, 10)
    ESC.TurnFace(329, 10)
    ESC.TurnFace(330, 10)


    ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK, 1, 0xD100)
    ESC.RemoveParty(3, 0 , 'TALK3', 3, Const.WALK, 1, 0xD100)
    ESC.RoleMove(15, 39, 56)
    ESC.RoleMove(3, 37, 59)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)


    Scene.BattleSupportOff(3) -- 薇達
    GameFunc.FlagOff(7064) -- 微達帶隊設定關掉


    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(3, 2)
    ESC.SetRoleSpeed(15, 2)
    ESC.BatchMove2(3,
    1, 37, 71, -1, 0, 1,
    3, 39, 73, -1, 66-5, 5,
    15, 41, 70, -1,0 , 1)



    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)


    ESC.FadeWait()
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetRoleSpeed(1, 2)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 44-1, 95-1)


    ESC.ChangeACT(1, 1) -- 賽特驚訝
    ESC.ChangeDIR(1, 5)
    ESC.ChangeQQ(1, 63-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(116, 116, 0x4000) -- 【劇情配樂】慧彥


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4260')) -- ESS=慧彥師父────%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)
    ACH.SetAchievement("ACH_0_7")

    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 44+1, 95+2)
    ESC.Delay(100)


    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)


    ESC.ChangeQQ(15, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)

    ESC.SetRoleSpeed(15, 0)
    ESC.SetRoleSpeed(3, 1)
    ESC.BatchMove2(2,
    15, 43-2, 100+1, -1, 0, 7,
    3, 40-2, 94-2, -1, 0, 5)



    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)




    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4261')) -- ESS=老師父啊，您也真傻……%N您只要別管我們...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4262')) -- ESS=賽特……
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.TurnFace(583, 3)
    ESC.TurnFace(590, 3)
    ESC.TurnFace(327, 3)
    ESC.TurnFace(328, 3)
    ESC.TurnFace(329, 3)
    ESC.TurnFace(330, 3)
    ESC.Delay(300)


    ESC.SetRoleSpeed(3, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 40, 94)



    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)



    ESC.Caption(256)
    Scene.Print_WS(590,9008,7*2,3*2,StringDB('ESS4263')) -- ESS=薇達大人，%N請您千萬不要靠近───
    ESC.WaitDLG(590)



    ESC.Caption(256)
    Scene.Print_WS(329,9008,10*2,3*2,StringDB('ESS4264')) -- ESS=這傢伙明明應該死了，剛才兩名弟兄靠近他，...
    ESC.WaitDLG(329)


    ESC.Caption(256)
    Scene.Print_WS(327,9008,7*2,3*2,StringDB('ESS4265')) -- ESS=薇達大人，%N這傢伙不是人，根本是%C2...
    ESC.WaitDLG(327)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(3)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4266')) -- ESS=賽特……%N以我的立場，真的是完全無能為...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 7, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4267')) -- ESS=薇達，這不是妳的錯……%N我並沒有任何怪...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4268')) -- ESS=他真的是一位偉大的導師，%N我從他身上，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 7)




    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)


    ESC.AddHeadSign(3, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(1, 3) -- 賽特起身
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 6)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)


    ESC.TakeActData(1, 1, Const.STAND, 4)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 6, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4269')) -- ESS=……薇達，我希望能將師父他的遺體火化，帶...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 6)



    ESC.AddHeadSign(3, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(3)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4270')) -- ESS=這是沒什麼問題……%N只是我的弟兄們，現...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 6, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4271')) -- ESS=不，我自己來就可以了……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 6)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4272')) -- ESS=敝人也來幫忙，%N算是為老師父最後盡一點...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(15, 7)
    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(15, 7)
    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(15, 7)
    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4273')) -- ESS=永別了…%N慧彥師父………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.Delay(300)


    ESC.FadeScreen(0 , 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(4, 20, 09, 6250, 0, 1) -- 字幕＋軒三大地圖
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009, 100,200-20,40,8,'%S1%C5'..StringDB('ESS4274')) -- ESS=西元七五一年（唐玄宗天寶十年），%C3阿...
    ESC.WaitDLG2(1)
    ESC.DLGClose(1)


    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    Scene.Print_SL(1,9009,100,200-20,40,8,'%S1'..StringDB('ESS4275')) -- ESS=經此一戰，中國西域霸權重挫，再無力進出%...
    ESC.WaitDLG2(1)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.DLGClose(1)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(75, 75, 0x8000) -- 【劇情配樂】灼熱的沙漠



    ESC.Progress_Off()
    ESC.GotoMap(120, 39, 34, 1, 0, 4)
    ESC.ChangeRoleMap( 3, -1, 0, 35, 33, 3, 0, 5)
    ESC.ChangeRoleMap(15, -1, 0, 32, 31, 15, 0, 5)


    ESC.ChangeRoleMap(576, -1, 0, 30, 29, 402, 0, 2)
    ESC.ChangeRoleMap(577, -1, 0, 28, 31, 500, 0, 2)
    ESC.ChangeRoleMap(578, -1, 0, 30+5, 29, 402, 0, 2)
    ESC.ChangeRoleMap(579, -1, 0, 28+5+25, 31, 500, 0, 2)


    ESC.ChangeRoleMap(580, -1, 0, 30+10, 29, 402, 0, 2)
    ESC.ChangeRoleMap(581, -1, 0, 28+10, 31, 500, 0, 2)
    ESC.ChangeRoleMap(582, -1, 0, 30+15, 29, 402, 0, 2)
    ESC.ChangeRoleMap(584, -1, 0, 28+15, 31, 500, 0, 2)
    ESC.ChangeRoleMap(585, -1, 0, 30+20, 29, 402, 0, 2)
    ESC.ChangeRoleMap(586, -1, 0, 28+20, 31, 500, 0, 2)
    ESC.ChangeRoleMap(587, -1, 0, 30+25, 29, 402, 0, 2)
    ESC.ChangeRoleMap(588, -1, 0, 28+25, 31, 500, 0, 2)



    ESC.ChangeRoleMap(583, -1, 0, 29, 29, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(327, -1, 0, 25, 29, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(328, -1, 0, 21, 29, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(329, -1, 0, 20, 31, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(330, -1, 0, 24, 31, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(590, -1, 0, 28, 31, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(592, -1, 0, 25, 33, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(593, -1, 0, 21, 33, 411, Const.STAND, 3)
    ESC.ChangeRoleMap(589, -1, 0, 29, 33, 411, Const.STAND, 3)




    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 35)
    ESC.FadeWait()
    ESC.Delay(600)




-- ──────────────────────────────────────【俘虜】






    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45) -- 換幕
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4276')) -- ESS=薇達，%N戰爭結束了，我答應慧彥師父要將...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4277')) -- ESS=這可不成───%N你不准離開，你得跟我一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4278')) -- ESS=什麼？%N這不是跟我們當初約定不一樣嗎？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)


    ESC.ChangeDIR(3, 5) -- 薇達抱臂
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4279')) -- ESS=我並可沒有失約───%N我已經完全還遠恩...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(3, 5) -- 薇達抱臂閉目
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)




    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4280')) -- ESS=從現在開始，你就是%C7我的奴隸%C5─...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 8, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4281')) -- ESS=薇達───%N妳…妳到底在想什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 8)



    ESC.ChangeDIR(3, 5) -- 薇達側站
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4282')) -- ESS=肯迪%C5他非常想念你，%N如果你能一直...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 5) -- 薇達抱臂閉目
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(500)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4283')) -- ESS=……當然，%N最高興的人是我───
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)


    ESC.ChangeDIR(3, 5) -- 薇達抱臂
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)



    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 1)
    ESC.BatchMove(1,    1, 38+5, 34)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(123, 122, 0x8000) -- 【劇情配樂】衝突


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4284')) -- ESS=薇達───%N妳的好意我很高興，但我已經...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)




    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4285')) -- ESS=哼，我就知道你會這麼說……%N來人哪──...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(3, 5) -- 薇達抱臂閉目
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)

    ESC.Caption(256)
    Scene.Print_SL(576,9008,30,210,5*2,2*2,StringDB('ESS4286')) -- ESS=在───%N薇達長官！
    ESC.WaitDLG(576)



    ESC.ChangeDIR(3, 5) -- 薇達側站
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4287')) -- ESS=這個%C7跟唐國僧人一夥的奴隸%C5想逃...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.SAR_ABSC(589, 0)
    Scene.SAR_ABSC(592, 0)
    Scene.SAR_ABSC(593, 0)

    ESC.ChangeQQ(589, Const.WALK) -- 四個黑衣大食兵堵路
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    ESC.SetRoleSpeed(589, 0)
    ESC.SetRoleSpeed(592, 0)
    ESC.SetRoleSpeed(593, 0)
    ESC.BatchMove(4-1,
    589, 59, 33,
    592, 59, 34,
    593, 57, 34)
    ESC.ChangeQQ(589, Const.STAND)
    ESC.ChangeQQ(592, Const.STAND)
    ESC.ChangeQQ(593, Const.STAND)
    ESC.ChangeDIR(589, 6)
    ESC.ChangeDIR(592, 6)
    ESC.ChangeDIR(593, 6)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)



    ESC.TakeActData(1, 1, Const.STAND, 4)
    ESC.Delay(300)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4288')) -- ESS=薇達，%N妳─────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)



    ESC.TakeActData(3, 3, Const.STAND, 5)


    Scene.MBOn(3, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4289')) -- ESS=我薇達一向有我自己做事的方法，%N對不起...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    Scene.Kama_On(45, 32, 6 ) -- 卡瑪出現41,34,4



    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4290')) -- ESS=賽特，%N你聽她的話也沒有什麼損失啊！%...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)


    ESC.ChangeRoleMap(2, -1, 0, -1, -1, 2, 60, 0) -- 妮可出現
    ESC.RoleEnable(2)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 39, 33)
    ESC.Unlock(2)
    ESC.TakeActData(2, -1, 68, 0)
    ESC.TILPA1(2, 16)
    ESC.SetRoleSpeed(2, 0)
    ESC.TakeActData(2, -1, Const.STAND, 5)




    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4291')) -- ESS=不行啦───%N以前我就有發現，這個女生...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)



    Scene.Ankh_On(39, 35, 7)
    ESC.Delay(400)

    ESC.SetRoleSpeed(2, 1)


    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4292')) -- ESS=妮可，%N真佩服妳好意思說出口哦～～%N...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)


    ESC.SetRoleSpeed(2, 2)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 4, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4293')) -- ESS=夠了、夠了───%N我賽特自己要去什麼地...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 4)


    ESC.TakeActData(2, 2, Const.STAND, 5)

    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)



    ESC.ScreenLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 0)
    ESC.BatchMove(1,    1, 43, 33)     --  賽特離開
    ESC.ChangeDIR(2, 5)
    ESC.ChangeDIR(8, 5)



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(124, 0, 0x8000) -- 【劇情配樂】晴天霹靂


    ESC.SetRoleSpeed(1, 1) -- 三步一跪，五步一拜
    ESC.BatchMove(1,    1, 43+2, 33)


    ESC.SetRoleSpeed(1, 3)
    ESC.BatchMove(1,    1, 43+5, 33)


    ESC.SetRoleSpeed(1, 6)
    ESC.BatchMove2(1,    1, 43+8, 33, -1, 0, 3)
    ESC.Delay(200)
    ESC.SetRoleSpeed(1, 4)
    ESC.TakeActData(1, 98, 78, 0)



    Scene.Print_SL(1,9008,370,280,7*2,3*2,StringDB('ESS4294')) -- ESS=我…我的頭……%N好痛呀…怎麼回事……
    ESC.WaitDLG(1)


    ESC.TILPA1(1, 5)



    ESC.AddHeadSign(2, 0)
    ESC.AddHeadSign(3, 0)
    ESC.AddHeadSign(8, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(2)
    ESC.DelHeadSign(3)
    ESC.DelHeadSign(8)



    Scene.Print_SL(1,9008,370,280,8*2,3*2,StringDB('ESS4295')) -- ESS=哇……%N我的頭……好像要被撕裂一樣……...
    ESC.WaitDLG(1)



    ESC.ChangeQQ(8, Const.WALK)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)


    ESC.SetRoleSpeed(8, 0)
    ESC.SetRoleSpeed(2, 0)
    ESC.SetRoleSpeed(3, 0)


    ESC.BatchMove2(3,
    8, 41+5, 34, -1, 0, 7,
    2, 41+4, 31, -1, 0, 5,
    3, 35+7, 33, -1, 0, 3)
    ESC.TakeActData(2, 2, Const.WALK, 5)
    ESC.Unlock(2)
    ESC.Unlock(8)


    ESC.ChangeDIR(3, 3) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    ESC.SetRoleSpeed(2, 1)

    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 27, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4296')) -- ESS=賽特，你怎麼了──%N是不是…薇達和卡瑪...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 27)


    ESC.SetRoleSpeed(2, 2)


    Scene.MBOn(11, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4297')) -- ESS=笨妮可，妳少亂講！%N人家以前沒被妳給活...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 1)



    Scene.Print_SL(1,9008,370,280,8*2,3*2,StringDB('ESS4298')) -- ESS=哇……%N我的頭…我的頭…我的身體……
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 98, 79, 0) -- 賽特倒地
    ESC.ChangeDIR(3, 5) -- 薇達側站
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(300)


    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.Print(2,9008,StringDB('ESS4299')) -- ESS=賽特！

    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.Print(3,9008,StringDB('ESS4300')) -- ESS=賽特──

    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.Print(8,9008,StringDB('ESS4299')) -- ESS=賽特！



    ESC.Delay(600)
    ESC.FadeScreen(0, 0, 0, 30, 30, 30, 20)
    ESC.FadeWait()
    ESC.Delay(500)


    ESC.DLGClose(2)
    ESC.DLGClose(3)
    ESC.DLGClose(8)



    -- 將怛羅斯的，慧彥，遠恩，士兵都清掉

    ESC.RoleDisable(15)
    ESC.RoleDisable(10)
    ESC.RoleDisable(322)
    ESC.RoleDisable(323)
    ESC.RoleDisable(327)
    ESC.RoleDisable(328)
    ESC.RoleDisable(329)
    ESC.RoleDisable(330)
    ESC.RoleDisable(576)
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)
    ESC.RoleDisable(580)
    ESC.RoleDisable(581)
    ESC.RoleDisable(582)
    ESC.RoleDisable(583)
    ESC.RoleDisable(585)
    ESC.RoleDisable(586)
    ESC.RoleDisable(587)
    ESC.RoleDisable(588)
    ESC.RoleDisable(589)
    ESC.RoleDisable(590)
    ESC.RoleDisable(591)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(595)





    GameFunc.FlagOn(12) -- 打開戰鬥
    -- 第七章結束，跳至第八章【幻影巴格達】賽特豪宅中

    Scene.CHAP8_BEGIN() -- JUMP TO HOUSE.ASM
    ESC.SceneBreak()
end



-- ──────────────────────────────────────【覺醒！撒旦轉生】

function Scene.TALK4035()

    if GameFunc.GetFlag(432) then goto T4035 end  -- 是否執行過劇情 ,遇見麥爾斯
    GameFunc.FlagOn(432)
    GameFunc.FlagOn(10)

    Scene.SAR_ABSC(203, 0)
    Scene.SAR_ABSC(204, 0)
    Scene.SAR_ABSC(218, 0)
    Scene.SAR_ABSC(219, 0)
    Scene.SAR_ABSC(220, 0)
    Scene.SAR_ABSC(221, 0)
    Scene.SAR_ABSC(222, 0)
    Scene.SAR_ABSC(228, 0)
    Scene.SAR_ABSC(229, 0)
    Scene.SAR_ABSC(230, 0)

    Scene.SAR_Shadow(203, 1)
    Scene.SAR_Shadow(204, 1)
    Scene.SAR_Shadow(218, 1)
    Scene.SAR_Shadow(219, 1)
    Scene.SAR_Shadow(220, 1)
    Scene.SAR_Shadow(221, 1)
    Scene.SAR_Shadow(222, 1)
    Scene.SAR_Shadow(228, 1)
    Scene.SAR_Shadow(229, 1)
    Scene.SAR_Shadow(230, 1)

    ESC.ChangeRoleMap(203, 158, 000, 125, 70, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(204, 158, 000, 129, 82, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(218, 158, 000, 112, 73, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(219, 158, 000, 112, 65, 421, Const.STAND, 6)
    ESC.ChangeRoleMap(220, 158, 205, 90, 65, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(221, 158, 000, 112, 89, 420, Const.STAND, 6)
    ESC.ChangeRoleMap(228, 158, 000, 107, 95, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(229, 158, 000, 105, 62, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(230, 158, 000, 116, 63, 416, Const.STAND, 6)
    ESC.ChangeRoleMap(320, 158 , 0 , 96, 62, 416, 0 , 6)
    ESC.ChangeRoleMap(321, 158 , 0 , 101, 66, 416, 0 , 6)
    ESC.ChangeRoleMap(322, 158 , 204 , 108+6, 77+6, 416, Const.WALK, 6)
    ESC.ChangeRoleMap(323, 158 , 0 , 106, 69, 416, 0 , 6)

    ESC.RoleEnable(203)
    ESC.RoleEnable(204)
    ESC.RoleEnable(218)
    ESC.RoleEnable(219)
    ESC.RoleEnable(220)
    ESC.RoleEnable(221)
    ESC.RoleEnable(228)
    ESC.RoleEnable(229)
    ESC.RoleEnable(230)

    ESC.RoleEnable(322)
    ESC.RoleEnable(323)
    ESC.RoleEnable(321)
    ESC.RoleEnable(320)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK, 7, 0xD100)
    ESC.RemoveParty(24, 0 , 'TALK24', 24, Const.WALK, 7, 0xD100)
    ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK, 7, 0xD100)
    ESC.SetRoleSpeed(10, 1)
    ESC.SetRoleSpeed(15, 1)
    ESC.SetRoleSpeed(24, 1)

    ESC.BatchMove2(4,
    1, 74, 84, -1, 0, 7,
    24, 79, 85, -1, 0, 7,
    10, 72, 89, -1, 0, 7,
    15, 78, 89, -1, 0, 7)

    Scene.ScrollMapD(74, 52, 4, 4) -- 螢幕上捲
    ESC.ScrollMapWait()
    ESC.Delay(500)


    ESC.ScrollMapToRole(1, 8, 8) -- 螢幕捲回

    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4301')) -- ESS=咦……？%N這麼多士兵───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)


    ESC.ScrollMapWait()

    ESC.ChangeDIR(24, 6)
    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(15, 4)
    ESC.Delay(500)

    ESC.TurnFace(15, 10)


    Scene.MBOn(15, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4302')) -- ESS=你看，這算什麼？%N還不分明就是想把我賣...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)


    ESC.ChangeDIR(24, 6)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4303')) -- ESS=慧彥大師，%N這裏應該是%C7大食%C5...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4304')) -- ESS=以正常行軍速度而言，唐軍出現在此實也太早...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4305')) -- ESS=阿彌陀佛……%N不瞞各位，事情的發展，好...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4306')) -- ESS=段施主，可以請您過去幫我們打聽一下嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4307')) -- ESS=是的，慧彥大師！
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    Scene.ScrollMapD(74, 52, 4, 4)
    ESC.ChangeQQ(24, Const.WALK)
    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(15, 7)
    ESC.BatchMove2(1,    24, 98, 69, -1, 0, 7)


    ESC.AddHeadSign(24, 3) -- 段秀實和唐軍講話
    ESC.ScrollMapWait()
    ESC.Delay(600)
    ESC.DelHeadSign(24)
    ESC.AddHeadSign(321, 3)
    ESC.Delay(600)
    ESC.DelHeadSign(321)


    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()



    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)
    ESC.Delay(500)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.Delay(50)
    ESC.TakeActData(1, 98, 74-6, 6)
    ESC.Delay(500)

    ESC.TakeActData(1, 98, 75-5, 5)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)




    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4308')) -- ESS=怎麼了，賽特？%N你在看什麼？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(15, 4)
    ESC.TakeActData(1, 98, 74-6, 6)
    ESC.Delay(700)


    ESC.TakeActData(1, 1, 68, 2)
    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4309')) -- ESS=慧彥師父，%N您不覺得這個%C7怛羅斯峽...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4310')) -- ESS=老衲也發現了……%N不過別說出來給他們聽...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4311')) -- ESS=慧彥師父，就我以前的經驗，%N如要埋伏，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4312')) -- ESS=如果不確定敵人什麼時候來就太早埋伏，反而...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4313')) -- ESS=你的意思是說，唐軍已經正確掌握到%C7大...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4314')) -- ESS=非常有可能……%N所以他們才會儘快行軍至...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 2)
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4315')) -- ESS=以前我的工作，就是暗中去收集敵人%C7軍...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4316')) -- ESS=阿彌陀佛，%N看來…這下真的棘手了……
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4317')) -- ESS=唐軍如有十成贏的把握，就不易叫他們退兵…...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.ChangePath(322, 0)
    ESC.ChangePath(220, 0)
    ESC.RoleDisable(220)

    ESC.ChangeQQ(24, Const.WALK)
    ESC.ChangeQQ(320, Const.WALK)
    ESC.ChangeQQ(321, Const.WALK)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)

    ESC.ChangeDIR(15, 7)
    ESC.ChangeDIR(10, 7)



    ESC.BatchMove2(5,
     --  段秀實和士兵回來
    24, 79, 85, -1, 0, 6,
    320, 78, 83, -1, 0, 6,
    321, 82, 85, -1, 0, 6,
    322, 82, 83, -1, 0, 6,
    323, 80, 82, -1, 0, 6)


    ESC.ChangeDIR(15, 0)


    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4318')) -- ESS=慧彥大師，%N%C7高仙芝%C5大人的部...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)


    ESC.TakeActData(1, 1, Const.STAND, 7)


    ESC.AddHeadSign(10, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(10)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4319')) -- ESS=黃雷……？%N不是…高仙芝？
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4320')) -- ESS=是的，黃雷大人一聽說是您，%N說您是他老...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.TurnFace(1, 10)
    ESC.TurnFace(15, 10)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4321')) -- ESS=阿彌陀佛，這下可不好……%N沒想到%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4322')) -- ESS=師父，%N要不要推辭？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4323')) -- ESS=不，阿彌陀佛……%N都走到這一步了，老衲...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4324')) -- ESS=賽特，%N待會麻煩您照顧遠恩王子一下，老...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(24, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10024, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4325')) -- ESS=慧彥大師，%N那小的先回去稟告黃大人了…...
    ESC.WaitDLG(1)
    ESC.MBOff(24, 0)
    ESC.DelHead(10024, 0)



    ESC.ChangeQQ( 24, Const.WALK)
    ESC.ChangeQQ(320, Const.WALK)
    ESC.ChangeQQ(321, Const.WALK)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(323, Const.WALK)


    ESC.ChangeRoleMap(7, 158 , 0 , 103, 65, 7, 8 , 6)
    ESC.ChangeRoleMap(4, 158 , 0 , 102, 68, 4, 8 , 6)


    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(15, 7)



    ESC.BatchMove2(5,
    24, 102, 65, -1, 0, 6,
    320, 101, 66, -1, 0, 6,
    321, 103, 66, -1, 0, 6,
    322, 103, 68, -1, 0, 6,
    323, 101, 68, -1, 0, 6)
    ESC.RoleDisable(322)
    ESC.RoleDisable(323)
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)

    ESC.RoleEnable(7)
    ESC.RoleEnable(4)



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(124, 57, 0x2000) -- 【劇情配樂】晴天霹靂＋魔鬼的讚歌


    ESC.AddHeadSign(15, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(15)



    ESC.SetRoleSpeed(4, 3)
    ESC.SetRoleSpeed(7, 2)
    ESC.BatchMove2(2,
    7, 78, 83, -1, 0, 6,
    4, 82, 85, -1, 0, 6)


    ESC.ChangeDIR(1, 3)
    ESC.RoleMove(24, 121, 69)
    ESC.ChangeRoleMap( 14, 158 , 0 , 124, 68, 14, 0 , 7)
    ESC.RoleEnable(14)
    ESC.ChangeScript(24, 'TALK4028')
    ESC.ChangeScript(14, 'TALK4028')



    ESC.ChangeDIR(1, 5)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4326')) -- ESS=麥爾斯────！%N你不是在%C7巴格達...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4327')) -- ESS=麥、麥爾斯勇士，%N你是專誠趕來救敝人的...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4328')) -- ESS=敝人…敝人被這幾個唐國匪人挾持到現在，請...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.TakeActData(4, -1, 62-6, 6)
    ESC.Unlock(4)


    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4329')) -- ESS=大膽─────%N你是什麼東西，敢用這種...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)




    ESC.AddHeadSign(15, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(15)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4330')) -- ESS=麥爾斯勇士，你…你怎麼了？%N你不是要…...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)




    Scene.MBOn(7, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4331')) -- ESS=呵呵呵─────%N他現在已經不是麥爾斯...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)


    ESC.TakeActData(1, -1, 63, 0) -- 賽特拔劍



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4332')) -- ESS=可恨，康那里士，%N你這殺不死的妖怪──...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(7, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5%C3'..StringDB('ESS4333')) -- ESS=（法蘭克語）%C5%N　　呼呼呼────...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4334')) -- ESS=我只是幫助他的靈魂自己覺醒而已，%N您說...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4335')) -- ESS=什、什麼────！%N他是…大魔王%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4336')) -- ESS=沒錯───%N賽特，我就是聖經上所寫那位...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(4, 6) -- 麥爾斯收劍至胸前
    ESC.ChangeQQ(4, 30-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4337')) -- ESS=可惜取得人類肉體後，所有%C7記憶%C5...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4338')) -- ESS=哼，麥爾斯───%N你這傢伙過去以%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)




    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4339')) -- ESS=哈哈哈哈，你也真好笑───%N我問你，上...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4340')) -- ESS=稍有頭腦的人，想也知道那是不可能的，那些...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4341')) -- ESS=好幾百年前，本魔王就命令部下滲透到教會中...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeDIR(4, 6) -- 麥爾斯把劍垂下
    ESC.RoleLock(4)
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4342')) -- ESS=難怪…教會變這麼殘酷血腥，%N原來是你們...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)




    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4343')) -- ESS=感謝你的讚美……%N賽特，如今%C7魔界...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(4, 6) -- 麥爾斯收劍至胸前
    ESC.ChangeQQ(4, 30-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4344')) -- ESS=賽特！%N我們%C7幾萬年前%C5曾攜手...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 39, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4345')) -- ESS=你胡說八道什麼────%N麥爾斯，我看你...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 39)



    ESC.ChangeDIR(4, 6) -- 麥爾斯把劍垂下
    ESC.RoleLock(4)
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)


    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4346')) -- ESS=哼，%N看來你靈魂的記憶還沒恢復……%N...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)


    ESC.TakeActData(4, 4, 32-6, 6)
    MediaFunc.PlaySound(115)
    ESC.Unlock(4)
    ESC.TILPA1(4, 3)



    ESC.DLGNoFrame()
    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4347')) -- ESS=以我大魔王%C7撒旦%C5之名義召喚！%...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    Scene.Nicole_On(74, 88, 7)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4348')) -- ESS=……賽特，%N是誰在召喚我啊？%N為什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 19)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4349')) -- ESS=妮可──%N妳給我看清楚點！%N現在在妳...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeQQ(2, Const.RUN)
    ESC.SetRoleSpeed(2, 0)



    Scene.MBOn(2, 3, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4350')) -- ESS=撒旦大人─────?!%N您……您怎麼會...
    ESC.WaitDLG(1)



    ESC.ChangeQQ(2, Const.STAND)
    ESC.SetRoleSpeed(2, 1)
    ESC.ChangeDIR(2, 3)
    ESC.Delay(30)
    ESC.ChangeDIR(2, 5)
    ESC.Delay(30)
    ESC.TakeActData(2, 2, 57-1, 1)



    ESC.ChangeHead(10002, 41, 10002, 35)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4351')) -- ESS=撒旦大人─────%N人家都不曉得原來%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 35)




    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4352')) -- ESS=呵呵，賽特，%N這下你可相信了吧───
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4353')) -- ESS=最初本魔王安排妮可來誘惑你加入魔界，不料...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4354')) -- ESS=算了……%C7伊斯蘭帝國%C5和%C7唐...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 39, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4355')) -- ESS=你說什麼────%N原來唐軍會在這裏埋伏...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 39)



    ESC.ChangeDIR(4, 6) -- 麥爾斯把劍垂下
    ESC.RoleLock(4)
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(4, 1, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4356')) -- ESS=沒錯，賽特！%N如果你記憶恢復了，就會記...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4357')) -- ESS=本魔王這一趟覺醒之路也花了不少時間，所以...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(4, 6) -- 麥爾斯收劍至胸前
    ESC.ChangeQQ(4, 30-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4358')) -- ESS=我非常懷念過去我們一起向天界挑戰的時光，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeQQ(7, Const.WALK)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove(2,
    7, 98, 69,
    4, 98, 69)
    ESC.RoleDisable(7)
    ESC.RoleDisable(4)





    ESC.TakeActData(1, -1, 60, 2)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 7)

    Scene.Nicole_Off()



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4359')) -- ESS=可惡────%N這到底是怎麼一回事？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.TurnFace(15, 1)



    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusicOff()  -- 【地圖音樂】回復場景配樂


    Scene.MBOn(15, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5%C3'..StringDB('ESS4360')) -- ESS=（阿拉伯語）%C5%N　　賽特，%N　　...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)


    ESC.ChangeDIR(1, 5)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4361')) -- ESS=遠恩王子，%N我們所有人被麥爾斯出賣了！...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(15, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4362')) -- ESS=什麼────%N麥爾斯勇士他……
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)



    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4363')) -- ESS=阿彌陀佛……%N莫非天意真要%C7大唐%...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 6)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4364')) -- ESS=慧彥師父，%N待會我也一起去見%C7黃雷...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(15, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4365')) -- ESS=哼，又來了！%N那我留在這裏還更安全點，...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 0)
    ESC.DelHead(10015, 0)




    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(15, 6)


    ESC.AddParty(10)



    ESC.RoleMove(99, 72, 36)
    ESC.RoleMove(98, 79, 36)
    ESC.RoleMove(97, 75, 34)
    ESC.ChangeDIR(99, 5)
    ESC.ChangeDIR(98, 6)
    ESC.ChangeDIR(97, 1)
    ESC.RoleMove(857, 128, 65)
    ESC.RoleEnable(857)
    ESC.ChangeScript(203, 'TALK4089')
    ESC.ChangeScript(204, 'TALK4089')
    ESC.ChangeScript(218, 'TALK4089')
    ESC.ChangeScript(219, 'TALK4089')
    ESC.ChangeScript(220, 'TALK4089')
    ESC.ChangeScript(221, 'TALK4089')
    ESC.ChangeScript(222, 'TALK4089')
    ESC.ChangeScript(228, 'TALK4089')
    ESC.ChangeScript(229, 'TALK4089')
    ESC.ChangeScript(230, 'TALK4089')

    Scene.SAR_TurnFace(203, 1)
    Scene.SAR_TurnFace(204, 1)
    Scene.SAR_TurnFace(218, 1)
    Scene.SAR_TurnFace(219, 1)
    Scene.SAR_TurnFace(220, 1)
    Scene.SAR_TurnFace(221, 1)
    Scene.SAR_TurnFace(222, 1)
    Scene.SAR_TurnFace(228, 1)
    Scene.SAR_TurnFace(229, 1)
    Scene.SAR_TurnFace(230, 1)

    ESC.RoleMove(203, 132, 70)
    ESC.RoleMove(204, 136, 75)
    ESC.RoleMove(230, 120, 61)
    ESC.RoleMove(218, 114, 59)
    ESC.RoleMove(221, 130, 75)
    ESC.RoleMove(219, 115, 64)
    ESC.RoleMove(229, 107, 62)

    ESC.RoleDisable(229)
    ESC.RoleDisable(220)
    ESC.RoleDisable(228)


    ESC.RoleMove(104, 39, 109)
    ESC.TakeActData(104, -1, Const.STAND, 7)
    ESC.RoleEnable(104)
    ESC.ChangeScript(104, 'TALK4089')

    Scene.QuestOff(285)
    Scene.QuestOn(286)


    GameFunc.FlagOff(10)
::T4035::
end







function Scene.TALK4036()
    -- 擋路的唐士兵

    ESC.Caption(228)
    Scene.Print_WS(327,9005,6*2,3*2,StringDB('ESS4366')) -- ESS=走開！%N這裏不許任何人通過！
    ESC.WaitDLG(327)

end


function Scene.TALK4089()
    ESC.Caption(228)
    Scene.Print_W(Const.TOWN,9005,7*2,2*2,StringDB('ESS4367')) -- ESS=黃大人%C4想見你們，快點過去吧。
    ESC.WaitDLG(Const.TOWN)
end
------天山




function Scene.TALK4012()
    Scene.ChangeMap(194, 64, 29, 1)
end

function Scene.TALK4013()
    Scene.ChangeMap(194, 84, 39, 1)
end

function Scene.TALK4014()
    Scene.ChangeMap(194, 84, 25, 1)
end




-- ──────────────────────────────────────【麥爾斯逆襲】

function Scene.TALK4015()
    -- 麥爾斯等人趕來的地方

    if GameFunc.GetFlag(463) then goto T4015A end -- 天山，與李靖對完話，得到舍利子
    if GameFunc.GetFlag(462) then goto T4015 end -- 回到751年
    if not GameFunc.GetFlag(461) then goto T4015 end -- 與劍仙對話（第一次遇到劍仙）-- TALK4050
    GameFunc.FlagOn(462) -- 開始「回到751年」

    GameFunc.FlagOn(10)
    ESC.ChangeScript(27, 'TALK4051') -- 將對話恢復
    ESC.ChangeScript(35, 'TALK4049')




    ESC.RemoveParty(10, 0,'',93,Const.WALK,2,0xD000) -- 幽靈慧彥解除伙伴
    ESC.ChangeQQ(1, Const.WALK) -- 賽特就定位
    ESC.SetRoleSpeed(10, 1)
    ESC.SetMoveHISpeed(10)
    ESC.BatchMove2(2,
    1, 46, 41, -1, 0, 4,
    10, 50, 36, -1, 0, 2)


    Scene.ScrollMapD(27, 22, 2, 2)
    ESC.ChangeACT(3, 3) -- 薇達側身
    ESC.ChangeDIR(3, 0)
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4368')) -- ESS=麥爾斯───%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)


    ESC.ScrollMapWait()


    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4369')) -- ESS=哼，賽特！%N本魔王如此信任尊重你，你究...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4370')) -- ESS=我們前世相約今生要一起征服%C7魔界%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)





    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4371')) -- ESS=這就是%C7西方的魔界之王%C5撒旦嗎…...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4372')) -- ESS=銳氣果然凌厲逼人……但%C7武力%C5永...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 0)


    ESC.TakeActData(16, -1, 64, 0) -- 麥爾斯拔劍


    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4373')) -- ESS=哼，死老頭，你們又是誰？%N憑什麼有資格...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)


    ESC.ChangeACT(16, 4) -- 麥爾斯持劍說
    ESC.ChangeQQ(16, 27-5)
    ESC.ChangeDIR(16, 5)
    ESC.SeekACT(16, 0)
    Scene.SAR_ACTCycle(16, 0)



    ESC.SetRoleSpeed(16, 1)
    ESC.SetMoveHISpeed(16)
    ESC.TakeActData(16, 5, 72, 5)
    --ESC.ChangeQQ(16, 0)
    --ESC.ChangeDIR(16, 5)
    ESC.BatchMove(1,    16, 42, 38)


    ESC.ChangeACT(16, 4) -- 麥爾斯持劍說
    ESC.ChangeQQ(16, 27-5)
    ESC.ChangeDIR(16, 5)
    ESC.SeekACT(16, 0)
    Scene.SAR_ACTCycle(16, 0)



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4374')) -- ESS=賽特，你別被這些傢伙所影響！%N%C7法...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4375')) -- ESS=唐國如今近在咫尺，我們只要現在大軍一揮整...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4376')) -- ESS=麥爾斯啊───%N你對我的情誼我十分感動...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4377')) -- ESS=前世可能發生過許多事，但我已毫無一點印象...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)


    -- 【蔡明宏】這裏希望能螢幕震動


    ESC.StoryMusic(124, 54, 0x2000) -- 【劇情配樂】晴天霹靂→麥爾斯



    ESC.ChangeACT(16, 4) -- 麥爾斯舉劍
    ESC.ChangeQQ(16, 31-5)
    ESC.ChangeDIR(16, 5)
    ESC.SeekACT(16, 0)
    Scene.SAR_ACTCycle(16, 0)
    ESC.TakeActData(2, 2, 52, 1)


    MediaFunc.PlaySound(239)
    ESC.ScreenShack(4, 1, 1, 0, 0, -1, 1, 0, 0, 0xFF00) -- 開始震動


    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4378')) -- ESS=賽特！%N你─────
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    MediaFunc.PlaySound(127)
    ESC.Delay(1000)
    MediaFunc.PlaySound(127)
    ESC.Delay(1000)
    MediaFunc.PlaySound(239)
    ESC.Delay(1000)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.MBOn(35, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10035, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4379')) -- ESS=生氣了，生氣了，%N西方的大魔王生氣了─...
    ESC.WaitDLG(1)
    ESC.MBOff(35, 0)
    ESC.DelHead(10035, 0)


    MediaFunc.PlaySound(656)


    ESC.TakeActData(2, 2, Const.STAND, 7)
    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.ScreenShackStop()   -- 停止震動



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4380')) -- ESS=好，可以！%N本魔王向來只相信%C7力量...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.ScreenLock()

    Scene.RemoveMainParty(3)
    Scene.BattleSupportOff(10) -- 慧彥
    -- 與麥爾斯戰鬥【羊咩咩設】（以下MARK區為戰鬥中對話→已交待楊淵升）

    ESC.StartBattle('BS178')
    ESC.StoryMusic(92, 92, 0x2000) -- 【劇情配樂】天山石窟

    Scene.AddMainParty(3)
    Scene.BattleSupportOn(10) -- 慧彥

    Scene.Heal()


    -- 戰鬥到最後，麥爾斯和賽特要以兩敗俱傷收場



-- ───────────────────────────────


    ESC.TakeActData(16, -1, 67, 0) -- 麥爾斯倒地
    ESC.TakeActData(1, -1, 67, 0) -- 賽特倒地


    ESC.TakeActData(2, 2, Const.STAND, 5) -- 妮可著急
    ESC.SetRoleSpeed(2, 0)


    ESC.ChangeDIR(3, 3) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(99, 11, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS4381')) -- ESS=賽特────
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10003, 1)
    ESC.DelHead(10002, 41)



    ESC.ChangeQQ(27, Const.WALK)
    ESC.SetRoleSpeed(2, 1)
    ESC.SetRoleSpeed(27, 2)
    ESC.BatchMove2(1,    27, 46, 40, 27, Const.STAND,1)
    ESC.ChangeDIR(35, 1)


    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4382')) -- ESS=唉……%N看來是老身上場、實現當初對%C...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)



    ESC.SetRoleSpeed(2, 0)
    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4383')) -- ESS=喂，%N你這老頭子，想要對人家的賽特幹什...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 1)
    ESC.DelHead(10002, 41)


    GameFunc.FlagOn(7)
    ESC.FadeScreen(0, 0, 0, 30, 30, 30, 35)
    ESC.FadeWait()
    ESC.RoleDisable(10)
    ESC.ScreenUnlock()
    GameFunc.FlagOff(7)



-- ──────────────────────────────────────【回到真實世界】



    ESC.StoryMusic(125, 122, 0x2000) -- 【劇情配樂】不氣味→衝突


    ESC.Progress_Off()
    ESC.GotoMap(161 , 23, 22, -1, -1, -1)
    ESC.ChangeRoleMap( 16, -1 , 000 , 21-6, 23-2, -1, -1, -1)
    ESC.ChangeRoleMap( 27, -1 , 000 , 21+0, 23-2, -1, -1, -1)
    ESC.ChangeRoleMap( 35, -1 , 000 , 24, 21, -1, Const.STAND, 6)
    ESC.ChangeRoleMap( 3, -1 , 000 , 21-6, 23+4, -1, -1, -1)
    ESC.ChangeRoleMap( 2, -1 , 000 , 21-8, 23+1, -1, -1, -1)
    ESC.SetRoleSpeed(2, 0)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)

    ESC.ChangeRoleMap(576, -1, 0, 0, 21, 402, 0, 2) -- 駱駝
    ESC.ChangeRoleMap(577, -1, 0, 2, 23, 500, 0, 2)
    ESC.ChangeRoleMap(578, -1, 0, 0+5, 21, 402, 0, 2)
    ESC.ChangeRoleMap(579, -1, 0, 2+5, 23, 500, 0, 2)

    ESC.RoleEnable(576)
    ESC.RoleEnable(577)
    ESC.RoleEnable(578)
    ESC.RoleEnable(579)

    MediaFunc.PlaySound(219)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 35)
    ESC.FadeWait()
    ESC.ScreenLock()-- 螢幕鎖定


    ESC.SetRoleSpeed(2, 0)
    Scene.MBOn(2, 3, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 23, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4384')) -- ESS=咦……？%N怎麼變成晚上了───
    ESC.WaitDLG(1)
    ESC.MBOff(2, 3)
    ESC.DelHead(10002, 23)


    ESC.ChangeDIR(35, 6)


    ESC.ChangeDIR(3, 0) -- 薇達側身
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.AddHeadSign(3, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(3)



    ESC.SetRoleSpeed(2, 1)
    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4385')) -- ESS=這…這是沙漠！%N我們不是在山上，怎會變...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeRoleMap(8, -1, 0, 16, 19, 8, 60, 0)
    ESC.ChangeRoleMap(11, -1, 0, 19, 19, 11, 60, 0)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.TILPA1(8, 9)
    ESC.TakeActData(8, -1, Const.STAND, 5)
    ESC.TakeActData(11, -1, Const.STAND, 6)
    ESC.Unlock(8)
    ESC.Unlock(11)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)

    ESC.ChangeDIR(2, 7)



    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4386')) -- ESS=這又是哪裏……%N我們何時來到這地方的？...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4387')) -- ESS=天曉得……%N應該是剛天黑沒多久的沙漠吧...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)


    ESC.ChangeDIR(35, 1)

    ESC.TakeActData(1, -1, 71, 0) -- 賽特醒來
    ESC.TILPA1(1, 7)
    ESC.TakeActData(1, -1, 0, 5)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(450)
    ESC.ChangeDIR(2, 7)


    ESC.ChangeDIR(11, 5)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 6)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4388')) -- ESS=這是───%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4389')) -- ESS=看清楚，之前一切皆乃%C7幻影%C5，如...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)



    ESC.ChangeDIR(1, 5) -- 賽特訝異
    ESC.ChangeQQ(1, 63-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)




    ESC.SetRoleSpeed(1, 0)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 25, 25+2)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)

    ESC.ChangeDIR(2, 5)
    ESC.ChangeDIR(3, 5)
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4390')) -- ESS=什麼────%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 17)



    ESC.RoleLock(16)
    ESC.RoleEnable(920) -- 【光偏掉了！】
    MediaFunc.PlaySound(50)
    ESC.TILPA1(920, 25)
    MediaFunc.PlaySound(54)
    ESC.RoleMove(16, 16, 21)
    ESC.TakeActData(16, 16, 60, 0) -- 麥爾斯屍體化身為蜃樓王
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)
    ESC.Unlock(16)
    ESC.TILPA1(16, 10)
    ESC.TakeActData(16, 16, 0, 3)



    ESC.StoryMusic(121, 121, 0x4000) -- 【劇情配樂】拔劍


    ESC.ChangeDIR(11, 6)
    ESC.AddHeadSign(11, 0) ESC.Delay(500) ESC.DelHeadSign(11)

    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4391')) -- ESS=喵，是%C7蜃樓王%C5────%N我們...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)



    ESC.ChangeDIR(1, 4)
    ESC.ChangeDIR(2, 7)
    ESC.ChangeDIR(3, 7)
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.ChangeDIR(35, 6)
    ESC.ChangeDIR(27, 6)


    ESC.AddHeadSign(1, 0, ADD_HEAD_SIGN, 2, 0, ADD_HEAD_SIGN, 3, 0, ADD_HEAD_SIGN, 8, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1, DEL_HEAD_SIGN, 2, DEL_HEAD_SIGN, 3, DEL_HEAD_SIGN, 8)



    Scene.MBOn(11, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4392')) -- ESS=原來從頭到尾，%N我們一直都在他%C7幻...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 0)
    ESC.DelHead(10011, 0)





    Scene.MBOn(8, 2, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4393')) -- ESS=原來如此……%N這%C7五年%C5都是蜃...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 1)
    ESC.DelHead(10008, 1)


    Scene.MBOn(3, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4394')) -- ESS=我…我當時是要帶賽特回%C7大馬士革%C...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4395')) -- ESS=這、這麼長的一段時光，%N全都不是真的？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)



    Scene.MBOn(16, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4396')) -- ESS=軒轅劍仙────%N在下與你一向素來井水...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 1)
    ESC.DelHead(10016, 1)



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4397')) -- ESS=當然要管了！%N你這小妖，到處迷惑別人，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4398')) -- ESS=你以前也是一位懷抱求道大志之有為書生，前...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4399')) -- ESS=不料你自此竟反過來，不願見任何其他西行求...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)



    Scene.MBOn(16, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10016, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4400')) -- ESS=哼，軒轅劍仙───%N這些人上回瞧不起在...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4401')) -- ESS=如繼續讓我發展下去，這些人全會死於最後東...
    ESC.WaitDLG(1)
    ESC.MBOff(16, 1)
    ESC.DelHead(10016, 1)



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4402')) -- ESS=蜃樓王啊……%N人心恰如幻影，你鎮日工於...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(27, 1)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(124, 0, 0x8000) -- 【劇情配樂】晴天霹靂


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4403')) -- ESS=來，小朋友，%N你身上有一個%C7瓷壺%...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4404')) -- ESS=我的瓷壺？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    Scene.WORD_ON_HEAD(16, 10, 110, -75, '%C5'..StringDB('ESS1847')) -- ESS=？
    ESC.Delay(300)



    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(1,9009,320,140,12,2,'%K'..StringDB('ESS4405')) -- ESS=煉妖壺開啟
    MediaFunc.PlaySound(357)
    ESC.WaitDLG(1)

    ESC.ChangeDIR(27, 6)
    ESC.Delay(300)

    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4406')) -- ESS=以軒轅劍仙之名，%N%C7煉妖壺%C5啊...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)




    ESC.PlayACT(0, -6, -20, 6250, 16, 16)
    MediaFunc.PlaySound(50)
    ESC.TILPA2(0, 25)
    MediaFunc.PlaySound(54)
    ESC.TILPA2(0, 50)
    Scene.WORD_ON_HEAD(16, 5, 20, -75, '%C6'..StringDB('ESS4407')) -- ESS=嗚哇啊，怎麼回事───
    ESC.TakeActData(16, 16, 64, 0)
    ESC.TILPA2(0, 95)
    ESC.RoleDisable(16)


    ESC.StoryMusic(92, 92, 0x4000) -- 【劇情音樂】天山石窟



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4408')) -- ESS=煉妖壺%C5老友啊……%N數百年不見，竟...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)


    ESC.ChangeDIR(1, 2) -- 賽特閉目沈思
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(500)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4409')) -- ESS=這…我還是不能相信────%N五年…這%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)


    ESC.ChangeDIR(27, 5)
    ESC.ChangeDIR(35, 1)
    ESC.ChangeDIR(11, 5)


    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4410')) -- ESS=不，小朋友……%N你可知自己身上有股%C...
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 1, Const.STAND, 4)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4411')) -- ESS=你似乎還不能控制它，但蜃樓王卻能將之引出...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4412')) -- ESS=真實的────？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4413')) -- ESS=是的，蜃樓王利用你的能力，帶大家到未來去...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4414')) -- ESS=這麼說……%N這些事情以後都會照著發生了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4415')) -- ESS=如果你與這位%C7阿拉伯少女%C5一同回...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4416')) -- ESS=但有一點例外────%N就是即使你東征，...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4417')) -- ESS=為什麼？%N一路帶我來這裏找您的，%N正...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)


    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4418')) -- ESS=不，他已圓寂了────%N在你火化他之時...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4419')) -- ESS=你能見到他，是因為蜃樓王偷用了自己%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4420')) -- ESS=是嗎，%N慧彥師父真的永遠離開了……%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4421')) -- ESS=小朋友，有一個%C7重要的人%C5老身要...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 0)
    ESC.DelHead(10027, 1)


    GameFunc.FlagOn(7)

    ESC.FadeScreen(0, 0, 0, 30, 30, 30, 35)
    ESC.FadeWait()


    GameFunc.FlagOff(7)
    ESC.Progress_Off()
    ESC.GotoMap(194 , 42, 42, 1, Const.STAND, 4)
    ESC.ChangeRoleMap( 35, 194, 0, 44, 37, -1, 0, 6)
    ESC.ChangeRoleMap( 16, 194, 0, 36, 36, -1, 0, -1)
    ESC.ChangeRoleMap( 2, 194, 0, 34, 39, -1, 0, -1)
    ESC.ChangeRoleMap( 3, 194, 0, 36, 42, -1, 0, 7)
    ESC.ChangeRoleMap( 27, 194, 0, 42, 36, -1, 0, 6)
    ESC.ChangeRoleMap( 8, 194, 0, 37, 34, -1, 0, -1)
    ESC.ChangeRoleMap( 11, 194, 0, 40, 34, -1, 0, 1)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    MediaFunc.PlaySound(219)
    ESC.FadeScreen( 30 , 30, 30, 0, 0, 0 , 35)
    ESC.FadeWait()



    Scene.MBOn(27, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4422')) -- ESS=各位，%N你們心緒一定還很亂，老身先回%...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)


    ESC.ChangeQQ(27, Const.WALK) -- 軒轅劍仙離開
    ESC.BatchMove(1,    27, 68, 29)
    ESC.RoleDisable(27)


    ESC.ChangeDIR(2, 5)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4423')) -- ESS=……這裏是真的天山嗎？%N還是又是幻象？...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)



    Scene.MBOn(35, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10035, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4424')) -- ESS=什麼話？%N當然是真的%C7天山%C5了...
    ESC.WaitDLG(1)
    ESC.MBOff(35, 0)
    ESC.DelHead(10035, 0)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4425')) -- ESS=說的對……%N是有那麼一點────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)


    ESC.SetRoleSpeed(3, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove(1,    3, 41-1, 40)


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4426')) -- ESS=賽特夫君……%N
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)


    ESC.RoleMove(919, 19, 15)
    ESC.TakeActData(919, 700, 0, 0)
    ESC.RoleEnable(17)
    ESC.RoleEnable(919)
    ESC.ChangeScript(2, 'TALK2096')
    ESC.ChangeScript(8, 'TALK2097')
    ESC.ChangeScript(3, 'TALK2097')
    ESC.ChangeScript(11, 'TALK2097')
    ESC.RoleEnable(30)
    ESC.ChangeQQ(30, Const.WALK)

    Scene.SAR_TurnFace(2, 1)
    Scene.SAR_TurnFace(3, 1)
    Scene.SAR_TurnFace(8, 1)
    Scene.SAR_TurnFace(11, 1)
    Scene.SAR_TurnFace(35, 1)



    Scene.QuestOff(293)
    Scene.QuestOn(294)


    ESC.ChangeRoleMap(17, 240, 0, 25, 15, 93, 70-6, 6) -- 石窟中的幽靈慧彥


    ESC.RoleEnable(4101) -- 更改路人群
    ESC.RoleEnable(4110)
    ESC.RoleEnable(4111)
    ESC.RoleEnable(4112)
    ESC.RoleEnable(4115)
    ESC.RoleEnable(4120)
    ESC.RoleEnable(4121)
    ESC.RoleEnable(4125)
    ESC.RoleEnable(4126)
    ESC.RoleEnable(4127)

    ESC.RoleDisable(4102)
    ESC.RoleDisable(4103)
    ESC.RoleDisable(4104)
    ESC.RoleDisable(4105)
    ESC.RoleDisable(4106)
    ESC.RoleDisable(4107)
    ESC.RoleDisable(4108)
    ESC.RoleDisable(4109)
    ESC.RoleDisable(4113)
    ESC.RoleDisable(4114)
    ESC.RoleDisable(4116)
    ESC.RoleDisable(4117)
    ESC.RoleDisable(4118)
    ESC.RoleDisable(4119)
    ESC.RoleDisable(4122)
    ESC.RoleDisable(4123)
    ESC.RoleDisable(4124)
    ESC.ChangeACT(4401, 528)
    ESC.ChangeACT(4402, 529)
    ESC.ChangeACT(4403, 527)


    Scene.SAR_TurnFace(3, 0) -- 薇達不轉身
    Scene.SAR_TurnFace(11, 0) -- 笨貓咪不轉身
    Scene.SAR_TurnFace(8, 0) -- 笨卡瑪不轉身
    ESC.ChangeScript(3, 'TALK4073')

    ESC.RoleDisable(576) -- 清掉駱駝
    ESC.RoleDisable(577)
    ESC.RoleDisable(578)
    ESC.RoleDisable(579)

    ItemFunc.AddItem(70, 1) -- 加入甚樓王到物品

    Scene.RemoveMainParty(3) -- 安卡和卡瑪和惠彥脫離主角
    Scene.BattleSupportOff(10) -- 慧彥

    ESC.TownTrans_On() -- 開啟城鎮傳送功能


    ESC.MusicFadeMode(2, 80)
    ESC.StoryMusicOff()-- 【等待新功能】


    GameFunc.FlagOff(10)
    ESC.SceneBreak()



::T4015::
    ESC.SceneBreak()




::T4015A::
    -- 天山,與李靖對完話 得到舍利子 而走到左邊時 自動和微達說話 避免主角直接衝下山
    if not GameFunc.GetFlag(467) then goto T4015A1 end
    ESC.SceneBreak()


::T4015A1::
    Scene.TALK2097() -- 與薇達訣別（TALK2.ASM）
    ESC.SceneBreak()
end




function Scene.TALK4016()
    -- 得到舍利子出洞後，直接接到妮可對話
    ESC.StoryMusicOff()
    Scene.ChangeMap(194, 115, 25, 1)
    Scene.SAR_TurnFace(99 , 1)
    Scene.SAR_TurnFace(96 , 1)
    if GameFunc.GetFlag(463) then goto T4016A end -- 天山,與李靖對完話 得到舍利子
    ESC.SceneBreak()


::T4016A::
    if not GameFunc.GetFlag(465) then goto T4016B end -- 天山,妮可回練妖壺
    ESC.SceneBreak()


::T4016B::
    Scene.TALK2096() -- 得到舍利子 & 妮可還沒有回煉妖壺
    ESC.SceneBreak()
end





-- ──────────────────────────────────────【李靖登場】

function Scene.TALK4017()
    -- 李靖初登場


    GameFunc.FlagOn(10)

    ESC.ChangeRoleMap(17, 240, 0, 25, 15, 93, 70-6, 6) -- 石窟中的幽靈慧彥


    ESC.TurnFace(1, 17)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4427')) -- ESS=慧彥師父，%N原來您在這裏───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 22, 18, -1, 0, 7)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 29, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4428')) -- ESS=慧彥師父……%N您過世之後，魂魄還繼續守...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 29)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4429')) -- ESS=哈哈，賽特呀！%N今天可算是你的重生之日...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.TakeActData(1, 1, Const.STAND, 7)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4430')) -- ESS=慧彥師父，%N您還有機會還魂活過來嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 15)



    ESC.Delay(300)
    ESC.SetRoleSpeed(1, 2)
    ESC.ChangeQQ(1, Const.WALK) -- 賽特往前走，避免等一下被軒轅劍仙的光遮到
    ESC.BatchMove2(1,    1, 23, 17, 1, Const.STAND,7)
    ESC.Delay(300)




    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4431')) -- ESS=阿彌陀佛，%N你也應了解我早化為灰燼了，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4432')) -- ESS=對不起……%N您吩咐我將您%C7骨灰%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 15)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4433')) -- ESS=阿彌陀佛，%N那只是我為了希望你繼續往前...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4434')) -- ESS=既然你自己都能毅然捨棄榮華，%N其實那就...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4435')) -- ESS=倒是老衲身前薄有修行，骨灰內有%C7舍利...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    Scene.GetItem(800, '%T800.')
    ESC.Delay(2000)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4436')) -- ESS=慧彥師父……
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4437')) -- ESS=其實，我真希望和您一起前去唐國旅行，由您...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4438')) -- ESS=那有什麼問題？%N我留在這裏等你，就是要...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4439')) -- ESS=真的嗎？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4440')) -- ESS=沒錯，%N不過我會使用不同之形象，因為我...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.FadeScreen(0, 0, 0, 15, 13, 0, 10) -- 李靖出現


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(92, 92, 0x4000) -- 【劇情配樂】天山石窟


    MediaFunc.PlaySound(249)
    ESC.PlayACT(1, -6, -20, 6250, 79, 17) -- Scene.PlayACT(1, 25*16+12, 15*16-8, 6250, 79)
    ESC.RoleDisable(104)
    ESC.ChangeRoleMap(104, 240, 0, 25, 15, 10, 79, 0)

    MediaFunc.PlaySound(308)
    ESC.PlayACT(1, -18, -44, 6250, 78, 17) -- Scene.PlayACT(1, 25*16, 15*16-32, 6250, 78)
    ESC.FadeWait()
    ESC.FadeScreen(15, 13, 0, 0, 0, 0, 18)

    MediaFunc.PlaySound(297)
    ESC.TakeActData(17, 17, 79, 0)
    ESC.Unlock(17)
    ESC.RoleEnable(104)



    MediaFunc.PlaySound(267)
    ESC.PlayACT(1, 2, -36, 6250, 77, 17) -- Scene.PlayACT(1, 25*16+20, 15*16-24, 6250 , 77)
    ESC.TILPA1(17, 15)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.RoleLock(17)
    ESC.RoleDisable(104)
    ESC.ChangeRoleMap(104, 0, 0, 0, 0, 1, 0, 0) -- 用完搬走
    ESC.TakeActData(17, 17, 0, 6)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4441')) -- ESS=這是我一個重要的前世之一，%N叫做%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    MediaFunc.PlaySound(249)
    ESC.PlayACT(0, -144, -170, 6064, 1, 919) -- Scene.PlayACT(0, 170, 90-20, 6064, 1) -- 軒轅劍仙出現
    ESC.TILPA2(0, 25)
    ESC.TakeActData(919, 27, Const.STAND, 5)
    ESC.TILPA2(0, 49)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4442')) -- ESS=小朋友啊，%N這就是老身所要你來見之人─...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)



    ESC.ChangeDIR(1, 4)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4443')) -- ESS=……這究竟是怎麼一回事，%N軒轅劍老仙人...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4444')) -- ESS=李靖也就是%C7慧彥%C5，他們是%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)


    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4445')) -- ESS=賽特，當時我真的很憂心見你如此一路走錯下...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)


    ESC.TakeActData(1, 1, Const.STAND, 7)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4446')) -- ESS=呵呵，小朋友……%N其實李靖自己也另有急...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4447')) -- ESS=真抱歉，全都是因為我……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4448')) -- ESS=別這麼說……%N我昔日是大唐的開國功臣，...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4449')) -- ESS=不過反託你們之福，讓我留下因而發現了更嚴...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4450')) -- ESS=撒旦，不……%C7麥爾斯%C5他現在人應...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)



    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4451')) -- ESS=不，%N他已經先一步到%C7大唐%C5去...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4452')) -- ESS=你如果與薇達回伊斯蘭去，掌握了大權，撒旦...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4453')) -- ESS=原來如此……%N那目前麥爾斯趕到東方，%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4454')) -- ESS=撒旦跟你的目的完全一樣，目的是%C7王道...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4455')) -- ESS=王道……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)



    Scene.MBOn(17, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4456')) -- ESS=你的目的是去%C7學習王道%C5帶回故鄉...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4457')) -- ESS=這西方魔王野心大，但倒也聰明──只要消滅...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 4)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4458')) -- ESS=王道者，亦即%C7秩序%C5與%C7仁慈...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 10, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4459')) -- ESS=我懂了……%N到了唐國，我會盡我最大努力...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4460')) -- ESS=不過，%N老仙人您也要跟我們一塊去嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 10)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4461')) -- ESS=不可，%N人間之事老身不宜介入……但你有...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4462')) -- ESS=切莫拘泥%C7情誼%C5而讓那魔王得逞，...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)


    MediaFunc.PlaySound(249) -- 軒轅劍仙消失
    ESC.PlayACT(0, -144, -170, 6064, 1, 919) -- Scene.PlayACT(1, 170, 90-20, 6064, 1)
    ESC.TILPA2(0, 25)
    ESC.TakeActData(919, 700, 0, 0)
    ESC.TILPA2(0, 49)
    ESC.Delay(1900) -- 等待消失


    Scene.MBOn(17, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4463')) -- ESS=對了，賽特，我要給你一項寶物──%C7封...
    ESC.WaitDLG(1)

    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)
    ESC.ChangeDIR(1, 7)

    GameFunc.FlagOn(7081)
    Scene.GetItem(771, '%T771.')
    ESC.Delay(2000)
    ESC.WaitDLG(0)

    ESC.SetRoleSpeed(17, 2)
    ESC.ChangeQQ(17, Const.WALK) -- 故意讓賽特往前走，避免等一下被軒轅劍仙的光遮到
    ESC.Unlock(17)
    ESC.BatchMove2(1,    17, 25, 16+6, 17, Const.STAND,1)
    ESC.TurnFace(1,17)
    ESC.Delay(300)



    Scene.MBOn(17, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10017, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4464')) -- ESS=賽特，我%C7慧彥%C5那一世，活得轟轟...
    ESC.WaitDLG(1)

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4465')) -- ESS=希望今後你這一趟旅程，也能創造你自己的一...
    ESC.WaitDLG(1)
    ESC.MBOff(17, 0)
    ESC.DelHead(10017, 0)



    ESC.Unlock(17)

    Scene.Lee_Off() -- 李靖消失

    ESC.RoleEnable(96) -- 煉妖壺中的李靖
    Scene.SAR_TurnFace(96, 1)
    ESC.RoleMove(35, 112, 24) -- 軒轅劍童搬到石洞口
    ESC.TakeActData(35, -1, 0, 5)
    ESC.RoleMove(2, 125, 25) -- 妮可搬到石洞口
    ESC.TakeActData(2, -1, 70, 0)
    ESC.RoleDisable(8) -- 卡瑪、安卡消失
    ESC.RoleDisable(11)

    GameFunc.FlagOn(463)
    Scene.AddMainParty(4)
    GameFunc.FlagOff(10)

    Scene.QuestOff(294)
    Scene.QuestOn(295)


    Scene.SAR_TurnFace(2, 0)
    Scene.SAR_TurnFace(3, 0)
    ESC.TakeActData(3, -1, 0, 7)

    ESC.ChangeDIR(1, 1)


    MediaFunc.PlaySound(193)
    Scene.MBOn(2, 9, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%C3'..StringDB('ESS4466')) -- ESS=簡易說明：%C5%N玩家獲得封神壇後可以...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 8)


    ESC.StoryMusicOff()

end



function Scene.TALK4051()
    Scene.ChangeMap(286, 90, 27, 6)
end

function Scene.TALK4052()
    Scene.ChangeMap(301, 23, 65, 3)
end

function Scene.TALK4053()
    Scene.ChangeMap(300, 77, 25, 2)
end

function Scene.TALK4054()
    Scene.ChangeMap(302, 40, 20, 1)
end

function Scene.TALK4055()
    Scene.ChangeMap(299, 10, 10, 5)
end

function Scene.TALK4056()
    Scene.ChangeMap(301, 88, 70, 0)
end

function Scene.TALK4057()
    Scene.ChangeMap(299, 57, 55, 0)
end

function Scene.TALK4058()
    Scene.ChangeMap(301, 89, 26, 2)
end

function Scene.TALK4059()
    Scene.ChangeMap(304, 35, 60, 0)
end

function Scene.TALK4060()
    Scene.ChangeMap(303, 46, 20, 1)
end

function Scene.TALK4061()
    Scene.ChangeMap(299, 55, 8, 1)
end

function Scene.TALK4062()
    Scene.ChangeMap(305, 55, 36, 0)
end

function Scene.TALK4063()
    Scene.ChangeMap(304, 24, 17, 1)
end

function Scene.TALK4064()
    Scene.ChangeMap(306, 34, 37, 7)
end

function Scene.TALK4065()
    Scene.ChangeMap(305, 59, 19, 2)
end

function Scene.TALK4066()
    Scene.ChangeMap(307, 3, 16, 5)
end

function Scene.TALK4067()
    Scene.ChangeMap(306, 75, 36, 4)
end

function Scene.TALK4068()
    Scene.ChangeMap(308, 21, 47, 0)
end

function Scene.TALK4069()
    Scene.ChangeMap(307, 36, 6, 1)
end

function Scene.TALK4070()
    Scene.ChangeMap(194, 22, 55, 7)
end




-- ──────────────────────────────────────【迷惘的薇達】


function Scene.TALK4073()
    -- 薇達在天山的對話段（回西元751之後）


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS4467')) -- ESS=原來這幾年來的一切都不是真的……我該怎麼...
    ESC.WaitDLG(3)


end


function Scene.TALK4081()
    if GameFunc.GetFlag(469) then goto T4081A end -- 離開天山
    if GameFunc.GetFlag(467) and GameFunc.GetFlag(465) then  -- 465 天山,妮可回練妖壺
        goto GO_CHINA -- 467 天山,卡瑪安卡回練妖壺    薇達離去
    end

::T4081A::
    Scene.OutCity_NPC(8, 106, 20, 6)
    ESC.SceneBreak()

-- ──────────────────────────────────────【壯烈！主角終於踏入中國】


::GO_CHINA::    -- 【蔡明宏】請將阻擋點改天山的山腳出口，可增加遊戲時間（∵已將下面的話融入其他段落）

    GameFunc.FlagOn(469)
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(300)
    ESC.SetRoleSpeed(1, 4)
    Scene.MoveHero(4, 26, 3)
    ESC.Delay(600)
    ESC.TakeActData(1, 1501, 57, 0)
    ESC.Delay(600)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS4468')) -- ESS=唉...真的只是一場夢？
    ACH.SetAchievement("ACH_0_8")
    ESC.Delay(500)

    Scene.Nicole_On(10, 26, 6)
    ESC.FitSize()
    ESC.Caption(2)
    Scene.M_Print(2, StringDB('ESS4469')) -- ESS=賽特，你在想什麼？
    ESC.TakeActData(1, 1, 0, 3)
    ESC.TurnFace(1, 2)
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS4470')) -- ESS=沒什麼....
    ESC.Caption(1)
    ESC.FitSize()
    Scene.M_Print(1, StringDB('ESS4471')) -- ESS=走吧，我們往中國出去吧！
    Scene.Nicole_Off()
    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)

    ESC.RoleEnable(904)
    ESC.RoleEnable(905)
    ESC.RoleEnable(1003)
    ESC.RoleDisable(9) -- 肯迪出去旅行了

    GameFunc.FlagOff(448)

-- CHAP9

    GameFunc.FlagOn(70) -- 關閉進度列
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 5)
    ESC.BatchMove(1,    1, 1, 26)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeClear()

    ESC.AniPlay('dh2ch3',false, false) -- 賽特路線圖（巴格達→怛羅斯）
    ESC.AniUntilClose()

    ESC.Progress_Off()
    ESC.GotoMap(9 , 1, 2, 1 , Const.WALK , 5)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 10)
    ESC.SetRoleSpeed(1, 3)
    ESC.BatchMove2(1,    1, 1+2, 2+2, -1, Const.STAND,5)
    ESC.FadeWait()
    ESC.RoleDisable(40) -- 先把悟緣消失
    Scene.SAR_TurnFace(99, 1)
    Scene.SAR_CSEL(359, 1)
    Scene.SAR_CSEL(360, 1)
    Scene.SAR_CSEL(364, 1)
    ESC.RoleMove(31, 30, 18) -- 白連儀的位置
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4472')) -- ESS=賽特，我們已經來到唐朝的長安附近了。
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS4473')) -- ESS=終於到了，真是一段漫長的旅程。
    GameFunc.FlagOff(10)
    -- 更換洛陽雜貨店老闆
    ESC.TakeActData(4454, 563, 18, 0)
end

function Scene.TALK4082()
    Scene.ChangeMap(283, 24, 41, 7)
end

function Scene.TALK4083()
    -- 天山山道往山腳
    Scene.ChangeMap(282, 94, 26, 2)
end

function Scene.TALK4084()
    Scene.ChangeMap(286, 2, 31, 3)
end

function Scene.TALK4085()
    -- 天山山道2   往下
    -- 接山道1
    Scene.ChangeMap(283, 111, 22, 6)
end

function Scene.TALK4086()
    -- 天山山道2   往上
    Scene.ChangeMap(300, 28, 63, 7)
end

function Scene.TALK4088()    -- 薇達昏倒在天山山道
    Scene.WORD_ON_HEAD(1, 5, 30, -65, StringDB('ESS4474')) -- ESS=薇達……
end

function Scene.TALK4091()
    Scene.ChangeMap(308, 26, 17, 1)
end

function Scene.TALK4092()
    Scene.ChangeMap(237, 18, 26, 0)
    Scene.RoadFlag(StringDB('ESS4475')) -- ESS=　　天山石室
end

function Scene.TALK4093()
    Scene.ChangeMap(239, 18, 26, 0)
    Scene.RoadFlag(StringDB('ESS4476')) -- ESS=　天山石室
end

function Scene.TALK4094()
    Scene.ChangeMap(240, 20, 26, 0)
    Scene.RoadFlag(StringDB('ESS4477')) -- ESS= 軒轅劍石室
end

function Scene.TALK4095()
    Scene.ChangeMap(238, 24, 25, 4)
    Scene.RoadFlag(StringDB('ESS4478')) -- ESS=　天山石室
end





-- ──────────────────────────────────────【黃雷阻擋】



function Scene.TALK4096()

    if GameFunc.GetFlag(454) then goto T4096 end
    GameFunc.FlagOn(454)
    GameFunc.FlagOn(10)


    ESC.StoryMusic(124, 121, 0x2000) -- 【劇情配樂】晴天霹靂→拔劍



    ESC.TakeActData(1, 1, Const.STAND, 3)
    ESC.TurnFace(1, 14)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)


    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(10, 0,'TALK10',93,8,3,0xD000) -- 幻影慧彥
    ESC.SetRoleSpeed(10, 0)

    ESC.BatchMove2(2,
    1, 92, 25, -1, 0, 7,
    10, 88, 26, -1, 0, 7)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4479')) -- ESS=黃雷？%N你是衝著我來的嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4480')) -- ESS=沒錯！%N本座奉%C7撒旦大人%C5之命...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4481')) -- ESS=撒旦大人邀您一起共享天下，消滅大唐，您竟...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4482')) -- ESS=黃雷，你不是唐國的人嗎？%N竟然背地投靠...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)



    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4483')) -- ESS=愚蠢小輩，你懂什麼？%N大唐昏庸，本座%...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4484')) -- ESS=來吧！%N要回去或與我一戰？%N請您自己...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)


    ESC.TakeActData(1, -1, 63, 0) -- 賽特拔劍
    ESC.TILPA1(1, 8)







    ESC.StartBattle('BS197') -- 與機關獸試作機三號開打
    ESC.RoleDisable(48) -- 消去機關獸


    ESC.StoryMusic(0, 0, 0x8000) -- 【劇情配樂】天山石窟




    Scene.MBOn(14, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4485')) -- ESS=可惡！%N你下次給我記住！
    ESC.WaitDLG(1)
    ESC.MBOff(14, 0)
    ESC.DelHead(10014, 0)



    ESC.TakeActData(1, 1, 62, 0) -- 賽特收劍
    ESC.ChangeQQ(14, Const.WALK)
    ESC.SetRoleSpeed(14, 1)
    ESC.SetMoveHISpeed(14)
    ESC.BatchMove(1,    14, 69, 32)
    ESC.RoleDisable(14)

    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.ChangeDIR(10, 6)




    ESC.StoryMusic(92, 92, 0x8000) -- 【劇情配樂】天山石窟




    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4486')) -- ESS=黃雷，可惜啊……%N你如此聰明，卻為什麼...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4487')) -- ESS=慧彥師父，我倒認為他是因麥爾斯%C7欣賞...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4488')) -- ESS=也是一理……%N知音難尋，撇開野心不談，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.ChangeDIR(1, 7)
    ESC.AddParty(10)
    GameFunc.FlagOff(10)

::T4096::
end





-- ──────────────────────────────────────【康那里士阻擋】

function Scene.TALK4097()

    if GameFunc.GetFlag(455) then goto T4097 end
    GameFunc.FlagOn(455)
    GameFunc.FlagOn(10)


    ESC.StoryMusic(56, 56, 0x2000) -- 【劇情配樂】地下牢房



    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(10, 0,'TALK10',93,8,3,0xD000) -- 幻影慧彥


    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove2(2,
    1, 50, 23, -1, 0, 7,
    10, 47, 26, -1, 0, 7)




    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4489')) -- ESS=賽特，你這不識好歹的東西！%N%C7撒旦...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)




    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 3, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4490')) -- ESS=康那里士！%N最辜負他的人，我看應該是你...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4491')) -- ESS=麥爾斯真心深愛著%C7莉蓮%C5，但你卻...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 3)




    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4492')) -- ESS=愚蠢，你懂什麼？%N這全是為了幫助撒旦大...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4493')) -- ESS=撒旦大人必須整個心中充滿了%C7對上帝的...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)





    ESC.TakeActData(1, -1, 63, 0) -- 賽特拔劍

    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4494')) -- ESS=所以，你就為了這個理由，%N把無辜可憐的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)



    Scene.MBOn(7, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10007, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4495')) -- ESS=嘿嘿，聰明！%N這只是將計就計，既然撒旦...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4496')) -- ESS=託莉蓮之死，撒旦大人終於開始漸漸覺醒……...
    ESC.WaitDLG(1)
    ESC.MBOff(7, 0)
    ESC.DelHead(10007, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 5, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4497')) -- ESS=可恨──%N你們這些完全不把人當人看的傢...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 5)




    ESC.StartBattle('BS175') -- 與康那里士戰鬥


    ESC.StoryMusic(124, 0, 0x2000) -- 【劇情配樂】晴天霹靂


    ESC.ChangeQQ(7, Const.WALK)
    ESC.SetRoleSpeed(7, 0)
    ESC.TakeActData(1, 1, 62, 0) -- 賽特收劍
    ESC.BatchMove(1,    7, 45, 26)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.ChangeDIR(10, 6)


    ESC.SetRoleSpeed(7, 0)
    ESC.BatchMove(1,    7, 14, 30)
    ESC.RoleDisable(7)


    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%K%C5'..StringDB('ESS4498')) -- ESS=姆斯比爾───%N藍魔神───
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeRoleMap(13, -1, 0, 45, 22, 13, 8, 1)
    ESC.ChangeRoleMap( 6, -1, 0, 39, 24, 6, 5, 0)
    ESC.ChangeRoleMap(29995, -1, 0, 38, 26, 6, 76, 0) -- 姆斯比爾魔法陣
    ESC.ChangeDIR(1, 2)
    ESC.ChangeDIR(10, 4)

    Scene.SAR_Shadow(6, 0)
    Scene.PlayACT(0, 10*16, 21*16, 622, 5)
    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 14*16, 18*16, 6011, 1)
    ESC.RoleEnable(6)
    ESC.RoleEnable(13)
    ESC.RoleEnable(29995)
    ESC.TakeActData(13, 13, 8, 0)
    ESC.TakeActData(6, 6, 0, 5)
    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)
    ESC.TILPA2(0, 26)
    ESC.Delay(600)


    Scene.MBOn(99, 2, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 460)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS4499')) -- ESS=您在呼喚我們嗎，%N主人──────
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10006, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4500')) -- ESS=我已經跟撒旦沒有任何關係了，%N你們還要...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(13, 8, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10013, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4501')) -- ESS=賽特主人，%N當初撒旦大人要我們與您訂的...
    ESC.WaitDLG(1)
    ESC.MBOff(13, 1)
    ESC.DelHead(10013, 1)



    Scene.MBOn(6, 2, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10006, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4502')) -- ESS=這是魔界中的最高契約之一，撒旦大人一向只...
    ESC.WaitDLG(1)
    ESC.MBOff(6, 1)
    ESC.DelHead(10006, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4503')) -- ESS=原來如此……%N那你們就繼續跟著我好了。...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.PlayACT(0, 10*16, 21*16, 622, 5) -- 兩魔神消失
    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- Scene.PlayACT(0, 14*16, 18*16, 6011, 1)
    ESC.TILPA2(0, 3)

    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)

    ESC.TakeActData(13, 13, 30, 0)
    ESC.RoleDisable(6)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.TILPA1(13, 5)
    ESC.RoleDisable(13)
    ESC.RoleDisable(29995)
    ESC.Delay(300)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C3'..StringDB('ESS4504')) -- ESS=（沒想到撒旦居然對我這麼禮遇……%N　　...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.AddParty(10)


    ESC.StoryMusicOff()


    ESC.ChangeRoleMap(2, 305, 000, 57, 19+1, 2, Const.STAND, 1) -- 妮可在下一張地圖出現
    ESC.RoleEnable(2)

    GameFunc.FlagOff(10)
::T4097::
end








-- ──────────────────────────────────────【妮可阻擋】

function Scene.TALK4098()
    if GameFunc.GetFlag(456) then goto T4098 end

    ESC.ChangeRoleMap(2, 305, 000, 57, 19+1, 2, Const.STAND, 1)
    ESC.RoleEnable(2)

    GameFunc.FlagOn(456)
    GameFunc.FlagOff(10)


    ESC.TakeActData(2, 2, Const.STAND, 1)
    ESC.ChangeScript(2, 'TALK2')
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(2, 1)
    ESC.Unlock(2)


    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4505')) -- ESS=賽特！%N你怎麼可以這樣子半途拋棄大家，...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 40)




    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(10, 0,'TALK10',93,8,3,0xD000) -- 幻影慧彥


    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove2(2,
    10, 54, 25, -1, 0, 7,
    1, 55, 22, -1, 0, 7)
    ESC.ChangeDIR(2, 6)
    ESC.Unlock(2)



    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(64, 64, 0x2000) -- 【劇情配樂】悲傷的心



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4506')) -- ESS=妮可，%N妳這樣子才是我熟悉的妳……%N...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4507')) -- ESS=不過，%N妳也是要來幫麥爾斯他攔阻我的嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)



    ESC.AddHeadSign(2, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(2)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4508')) -- ESS=我們一起旅行了那麼長的時間，難道妳還不了...
    ESC.WaitDLG(1)


    ESC.ChangeHead(10001, 11, 10001, 23)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4509')) -- ESS=我一直都是為了我自己的%C7夢想%C5，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4510')) -- ESS=但麥爾斯他希望我來幫助他實現征服世界的野...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4511')) -- ESS=才不是呢、才不是呢！
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4512')) -- ESS=撒旦大人真心把你當成%C7朋友%C5，%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 40)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4513')) -- ESS=前世嗎……？%N到底我和麥爾斯前世，是什...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 16, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4514')) -- ESS=你跟他原本都是天界的%C7天使%C5，但...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10002, 16, 10002, 12)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4515')) -- ESS=但是上帝最後選擇米迦勒當天使長，撒旦大人...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 12)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4516')) -- ESS=原來如此……%N但前世是前世，今生是今生...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 40, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4517')) -- ESS=不…不可以啦！%N撒旦大人吩咐人家不擇手...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 40)


    ESC.TakeActData(2, -1, 34, 0)
    ESC.Unlock(2)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4518')) -- ESS=妮可……%N我不願意和妳動武，還是妳要跟...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)


    ESC.TakeActData(2, -1, 53, 0)
    ESC.Unlock(2)
    ESC.Delay(600)



    Scene.MBOn(2, 3, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 34, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4519')) -- ESS=……怎麼辦，%N撒、撒旦大人那麼信任人家...
    ESC.WaitDLG(1)



    ESC.TakeActData(2, -1, 56, 1)
    ESC.Unlock(2)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4520')) -- ESS=人家一直都喜歡賽特，但也很尊敬撒旦大人這...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 34)



    ESC.TakeActData(2, -1, 56, 1)
    ESC.BatchMovePenetrate(2) -- 角色移動無視阻擋點
    ESC.BatchMove(1,    2, 57, 25)
    ESC.ChangeDIR(1, 5)
    ESC.BatchMovePenetrate(2) -- 角色移動無視阻擋點
    ESC.ChangeDIR(10, 5)
    ESC.BatchMove(1,    2, 56, 37+1)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(10, 1)
    ESC.RoleDisable(2)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4521')) -- ESS=妮可………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)
    ESC.Delay(500)



    ESC.AddParty(10)
    ESC.ChangeRoleMap(3, 307, 000, 32, 16, 3, Const.STAND, 6) -- 薇達在下一張地圖出現
    ESC.RoleEnable(3)


    GameFunc.FlagOff(10)


    ESC.MusicFadeMode(2, 80)
    ESC.StoryMusicOff()-- 【等待新功能】

::T4098::
end


-- ──────────────────────────────────────【薇達阻擋】

function Scene.TALK4099()
    -- 與薇達對戰



    if GameFunc.GetFlag(457) then goto T4099 end
    GameFunc.FlagOn(457)
    GameFunc.FlagOn(10)




    ESC.ChangeScript(3, 'TALK4088')

    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 3)



    ESC.MusicFadeMode(2, 50)
    ESC.StoryMusic(135, 135, 0x2000) -- 【劇情配樂】重生


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4522')) -- ESS=薇達……？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)



    ESC.ChangeQQ(1, Const.WALK)
    ESC.RemoveParty(10, 0,'TALK10',93,8,3,0xD000) -- 幽靈慧彥
    ESC.SetRoleSpeed(10, 0)
    ESC.BatchMove2(2,
    1, 27, 19, -1, 0, 7,
    10, 30, 21, -1, 0, 7)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4523')) -- ESS=夫君，%N請跟我一起回去───
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4524')) -- ESS=薇達……%N妳一向最了解我，沒想到連妳也...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 15)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4525')) -- ESS=我為什麼不來阻止？%N我們兩人%C7五年...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4526')) -- ESS=……這一點真的很對不起妳，%N但我確實想...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10001, 15, 10001, 23)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4527')) -- ESS=薇達，我最摯愛的妻子……%N妳真的不願意...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)


    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4528')) -- ESS=夫君，我也不是沈迷榮華的人，但我生在伊斯...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4529')) -- ESS=今天你可以為了自己%C7夢想%C5，去一...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4474')) -- ESS=薇達……
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 15)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4530')) -- ESS=來吧，夫君！%N想實現你的夢想就打倒我，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    -- 薇達出劍【吳欣叡】


    Scene.Kama_On(28, 15, 1)
    Scene.Ankh_On(31, 15, 6)



    Scene.MBOn(8, 2, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 0, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4531')) -- ESS=賽特，這一次我不能幫忙你……%N身為一個...
    ESC.WaitDLG(1)
    ESC.MBOff(8, 0)
    ESC.DelHead(10008, 0)



    Scene.MBOn(11, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4532')) -- ESS=因為兩邊都算朋友，本貓咪很公平，決定不幫...
    ESC.WaitDLG(1)
    ESC.MBOff(11, 1)
    ESC.DelHead(10011, 0)


    Scene.Kama_Off()
    Scene.Ankh_Off()

    Scene.RemoveMainParty(3)
    Scene.BattleSupportOff(10) -- 慧彥
    ESC.TakeActData(3, -1, 72, 0)
    ESC.TILPA1(3, 3)

    -- 與薇達戰鬥【羊咩咩設】


    ESC.StartBattle('BS177')
    ESC.StoryMusicOff()-- 【等待新功能】


    Scene.BattleSupportOn(10) -- 慧彥
    Scene.AddMainParty(3)


    ESC.TakeActData(3, -1, 65, 0)
    ESC.TurnFace(10, 3)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 15, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4533')) -- ESS=薇達……對不起！%N這一次得讓妳自己一個...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 15)



    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4534')) -- ESS=賽特，你會迷惘嗎？%N她真的是個很不錯的...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 11, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4535')) -- ESS=其實我真的也有一絲迷惘……%N我希望趕快...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 11)




    Scene.MBOn(10, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4536')) -- ESS=嗯……%N失去%C7同情悲憫心%C5之人...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 1)
    ESC.DelHead(10010, 1)


    GameFunc.FlagOff(10)
    ESC.AddParty(10)
::T4099::



end

function Scene.TALK4301()
    if GameFunc.GetFlag(462) then goto T4301 end
    ESC.Caption(4301)
    Scene.Print_W (4301 ,9008,6*2,3*2,StringDB('ESS4537')) -- ESS=一笑煩惱跑，二笑怒氣消，三笑憾事了；
    ESC.WaitDLG(4301)
    Scene.Print_W (4301 ,9008,6*2,3*2,StringDB('ESS4538')) -- ESS=四笑病魔逃，五笑永不老，六笑樂逍遙。
    ESC.WaitDLG(4301)
    Scene.Print_W (4301 ,9008,6*2,2*2,StringDB('ESS4539')) -- ESS=時常開口笑，壽比老彭高。
    ESC.WaitDLG(4301)
    ESC.Delay(200)
    ESC.SceneBreak()
::T4301::
    ESC.Caption(4301)
    Scene.Print_W (4301 ,9008,8*2,3*2,StringDB('ESS4540')) -- ESS=平時常念心經，能讓人心靈平靜，消煩解慮。...
    ESC.WaitDLG(4301)
    ESC.Delay(200)
end

------------------------------------------------------------------------------------------------------------
function Scene.TALK4302()
    if GameFunc.GetFlag(462) then goto T4302 end
    ESC.Caption(4302)
    Scene.Print_W (4302 ,9008,8*2,3*2,StringDB('ESS4541')) -- ESS=天父在這裏留下預言，公元兩千年時會有惡魔...
    ESC.WaitDLG(4302)
    Scene.Print_W (4302 ,9008,8*2,3*2,StringDB('ESS4542')) -- ESS=牠將會藉由%C2窗戶%C4滲透到全世界，...
    ESC.WaitDLG(4302)
    Scene.Print_W (4302 ,9008,9*2,3*2,StringDB('ESS4543')) -- ESS=這個預言太過隱晦，我必須了解其真意，才能...
    ESC.WaitDLG(4302)
    ESC.SceneBreak()
::T4302::
    ESC.Caption(4302)
    Scene.Print_W (4302 ,9008,9*2,3*2,StringDB('ESS4544')) -- ESS=這裏有全能的神所遺留的神蹟，我希望能解讀...
    ESC.WaitDLG(4302)
    Scene.Print_W (4302 ,9008,9*2,3*2,StringDB('ESS4545')) -- ESS=別打擾我研究真理，我就快了解人世間最奧妙...
    ESC.WaitDLG(4302)
end
------------------------------------------------------------------------------------------------------------
function Scene.TALK4303()
    if GameFunc.GetFlag(462) then goto T4303 end -- 回到751年

    if GameFunc.GetFlag(4052) then
        Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS7113')) -- ESS=要再聽一次嗎？
        ESC.WaitDLG(1)
        local select = ESC.GetBTNSelect()
        if select==2 then
            return
        end
    end
        ESC.Caption(4303)
        Scene.Print_W (4303 ,9008,8*2,3*2,StringDB('ESS4546')) -- ESS=貧道每夜子時至山巔觀星望斗，能知未來、通...
        ESC.WaitDLG(4303)
        ESC.Caption(1)
        Scene.Print_W (1 ,9008,8*2,3*2,StringDB('ESS4547')) -- ESS=您對西方的占星學有研究嗎？還是中國也有占...
        ESC.WaitDLG(1)
        ESC.Caption(4303)
        Scene.Print_W (4303 ,9008,10*2,4*2,StringDB('ESS4548')) -- ESS=這是七政四餘推命術，中國人可以依照星曜在...
        ESC.WaitDLG(4303)
        Scene.Print_W (4303 ,9008,10*2,5*2,StringDB('ESS4549')) -- ESS=只要計算人出生時星辰在黃道之方位，並依照...
        ESC.WaitDLG(4303)
        ESC.Caption(1)
        Scene.Print_W (1 ,9008,8*2,3*2,StringDB('ESS4550')) -- ESS=這跟西洋占星術有極相似之處，您能再稍加說...
        ESC.WaitDLG(1)
        ESC.Caption(4303)
        Scene.Print_W (4303 ,9008,12*2,5*2,StringDB('ESS4551')) -- ESS=七政四餘共分十二宮，分別為命宮、財帛宮、...
        ESC.WaitDLG(4303)
        ESC.Caption(4303)
        Scene.Print_W (4303 ,9008,12*2,5*2,StringDB('ESS4552')) -- ESS=就黃道十二星座的名稱分為人馬座、天蠍座、...
        ESC.WaitDLG(4303)
        Scene.OpenGlassDown(8)
        Scene.AddPicture4(1, 0)
        Scene.Glass_SRC2(1, StringDB('ESS4553')) -- ESS=謝謝你的講解！%N我猜想七政四餘祿命法或...
        Scene.CloseGlassDown()
        Scene.DelPicture(1, 0)
        ESC.Delay(200)
        GameFunc.FlagOn(4052)
        ESC.SceneBreak()

::T4303::
    if GameFunc.GetFlag(4053) then
        Scene.Print_W(1,9007,9*2,2*2,StringDB('ESS7113')) -- ESS=要再聽一次嗎？
        ESC.WaitDLG(1)
        local select = ESC.GetBTNSelect()
        if select==2 then
            return
        end
    end
    ESC.Caption(4303)
    Scene.Print_W (4303 ,9008,8*2,3*2,StringDB('ESS4554')) -- ESS=貧道每夜子時至山巔觀星望斗，發覺近日天象...
    ESC.WaitDLG(4303)
    ESC.Caption(1)
    Scene.Print_W (1 ,9008,8*2,3*2,StringDB('ESS4555')) -- ESS=據你所觀察，近日星象有何變化？
    ESC.WaitDLG(1)
    ESC.Caption(4303)
    Scene.Print_W (4303 ,9008,7*2,3*2,StringDB('ESS4556')) -- ESS=北極五星，%N勾陳六星，%N皆在%C2紫...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,9*2,3*2,StringDB('ESS4557')) -- ESS=北極%C4，%N北辰最尊者也，%N其紐星...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,11*2,3*2,StringDB('ESS4558')) -- ESS=第一星主%C2月%C4，太子也。%N第二...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,11*2,3*2,StringDB('ESS4559')) -- ESS=第三星主%C2五星%C4，庶子也。%N中...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,7*2,3*2,StringDB('ESS4560')) -- ESS=勾陳%C4，後宮也，%N大帝之正妃也、%...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,11*2,3*2,StringDB('ESS4561')) -- ESS=大帝上九星曰%C2華蓋%C4，%N所以覆...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,12*2,3*2,StringDB('ESS4562')) -- ESS=華蓋下五星曰五帝內坐，%N設敘順帝所居也...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,11*2,3*2,StringDB('ESS4563')) -- ESS=傳舍九星%C4在華蓋上近河，%N賓客之館...
    ESC.WaitDLG(4303)
    Scene.Print_W (4303 ,9008,9*2,3*2,StringDB('ESS4564')) -- ESS=客星守之，備姦使，亦曰%C2胡兵起%C4...
    ESC.WaitDLG(4303)

    Scene.OpenGlassDown(8)
    Scene.AddPicture4(1, 0)
    Scene.Glass_SRC2(1, StringDB('ESS4565')) -- ESS=大臣犯主、胡兵起，想必預言的是五年後的%...
    Scene.Glass_SRC2(1, StringDB('ESS4566')) -- ESS=中國%C2七政四餘%C0推命術，果然有其...
    Scene.CloseGlassDown()
    Scene.DelPicture(1, 0)
    ESC.Delay(200)
    GameFunc.FlagOn(4053)
end

-- ──────────────────────────────────────【復活！四個石像】


function Scene.TALK4201()
    -- 休息室出入口


    if GameFunc.GetFlag(441) then goto T4201 end -- 正常出入
    if not GameFunc.GetFlag(7067) then goto T4201X end -- 賽特換回舊衣服
    if GameFunc.GetFlag(442) then goto T4201A end -- 開始找舊衣服
    if GameFunc.GetFlag(1061) then goto T4201B end -- 和薇達講過話了，準備跳到找衣服段落



::T4201X::
    GameFunc.FlagOn(441)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()


    ESC.GotoMap(92, 89, 21, 1, 8, 2) -- 往走廊，並開始佈置大廳
    ESC.ChangeRoleMap(166, 107, 0, 11, 17, -1, 0, 5) -- 莫雷到
    ESC.ChangeScript(166, 'TALK4212')
    ESC.RoleEnable(166)


    ESC.ChangeRoleMap( 2, 107, 0, 31, 35, 506, 8, 0) -- 妮可
    ESC.ChangeRoleMap( 4, 107, 0, 29, 35, 4, 8, 0) -- 麥爾斯
    ESC.ChangeRoleMap(14, 107, 0, 27, 35, 14, 8, 0) -- 黃雷
    ESC.ChangeRoleMap( 7, 107, 0, 27, 34, 7, 8, 0) -- 康那里士
    ESC.ChangeScript(14, 'TALK14')

    ESC.RoleDisable(2)
    ESC.RoleDisable(4)
    ESC.RoleDisable(14)
    ESC.RoleDisable(7)


    ESC.ChangeRoleMap(19, -1, 0, 75, 23, 19, 0 , 0) -- 米迦勒
    ESC.ChangeRoleMap(20, -1, 0, 85, 24, 20, 0 , 0) -- 史芬克斯
    ESC.ChangeRoleMap(22, -1, 0, 84, 19, -1, -1, -1) -- 波希頓
    ESC.ChangeRoleMap(21, -1, 0, 75, 18, -1, -1, -1) -- 雅典娜


    ESC.ChangeScript(19, 'TALK4209')
    ESC.ChangeScript(20, 'TALK4209')
    ESC.ChangeScript(21, 'TALK4209')
    ESC.ChangeScript(22, 'TALK4209')


    ESC.RoleDisable(413)
    ESC.RoleDisable(420)
    ESC.RoleDisable(421)
    ESC.RoleDisable(422)
    ESC.RoleDisable(423)
    ESC.RoleDisable(424)
    ESC.RoleDisable(425)
    ESC.RoleDisable(426)
    ESC.RoleDisable(427)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.RemoveParty(3, 0,'TALK3',3,8,2,0xD100)
    ESC.BatchMove2(2,
    1, 80, 21, -1, 0, 6,
    3, 83, 21, -1, 0, 6)


    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)


    GameFunc.FlagOff(12) -- 暫時關閉走廊的戰鬥



    Scene.MBOn(22, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10022, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4567')) -- ESS=早安呀───%N賽特！
    ESC.WaitDLG(1)
    ESC.MBOff(22, 0)
    ESC.DelHead(10022, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    ESC.TurnFace(1, 22)
    ESC.Delay(450)
    ESC.TurnFace(1, 21)
    ESC.Delay(450)
    ESC.TurnFace(1, 19)
    ESC.Delay(450)
    ESC.TurnFace(1, 20)
    ESC.Delay(450)
    ESC.ChangeDIR(1, 6)



    ESC.Caption(1)
    Scene.Print_W(1,9007,9*2,3*2,StringDB('ESS4568')) -- ESS=你們不是移動島上的四個石像嗎？怎麼會跑來...
    ESC.WaitDLG(1)


    ESC.MusicFadeMode(2, 70)
    ESC.StoryMusic(76, 76, 0x8000) -- 【劇情配樂】卡瑪



    Scene.MBOn(22, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10021, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4569')) -- ESS=哼，還敢說，%N是你自己%C7五年前%C...
    ESC.WaitDLG(1)
    ESC.MBOff(22, 1)
    ESC.DelHead(10021, 1)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)

    ESC.ChangeDIR(3, 6)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,10*2,4*2,StringDB('ESS4570')) -- ESS=賽特夫君，%N這是我們新婚時，你把它們搬...
    ESC.WaitDLG(3)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,4*2,1*2,StringDB('ESS4571')) -- ESS=對哦……
    ESC.WaitDLG(1)



    Scene.MBOn(19, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10019, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4572')) -- ESS=這幾天，%N我們聽到大地精靈們的風聲，說...
    ESC.WaitDLG(1)
    ESC.MBOff(19, 1)
    ESC.DelHead(10019, 1)




    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    ESC.FitSize() ESC.DLGNoCloseKey() ESC.DLGNoFrame() ESC.DLGNoPass() ESC.DLGHoldTime(40) ESC.OnHead( 30, -65)
    ESC.Print_S(1,9007,'%C6'..StringDB('ESS1847')) -- ESS=？
    ESC.Delay(600)
    ESC.DLGClose(1)



    Scene.MBOn(20, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10020, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4573')) -- ESS=所以啦，您沒發現嗎？%N這幾天你走在路上...
    ESC.WaitDLG(1)
    ESC.MBOff(20, 0)
    ESC.DelHead(10020, 0)



    ESC.FitSize() ESC.DLGNoCloseKey() ESC.DLGNoFrame() ESC.DLGNoPass() ESC.DLGHoldTime(40) ESC.OnHead( 30, -65)
    ESC.Print_S(1,9007,'%C6'..StringDB('ESS1847')) -- ESS=？
    ESC.FitSize() ESC.DLGNoCloseKey() ESC.DLGNoFrame() ESC.DLGNoPass() ESC.DLGHoldTime(40) ESC.OnHead( 5, -52)
    ESC.Print_S(1,9007,'%C5'..StringDB('ESS1847')) -- ESS=？
    ESC.FitSize() ESC.DLGNoCloseKey() ESC.DLGNoFrame() ESC.DLGNoPass() ESC.DLGHoldTime(40) ESC.OnHead( 52, -50)
    ESC.Print_S(1,9007,''..StringDB('ESS1847')) -- ESS=？
    ESC.Delay(600)
    ESC.DLGClose(1)



    ESC.ChangeDIR(1, 2) -- 賽特按著下巴思考
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,4*2,StringDB('ESS4574')) -- ESS=夫君，我們得快去%C2大廳%C4才行，要...
    ESC.WaitDLG(3)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.AddParty(3)
    ESC.Delay(200)
    ESC.DLGClose(1)


    ESC.SceneBreak()

::T4201::
    Scene.ChangeMap(92, 88, 21, 2)
    ESC.SceneBreak()


-- ──────────────────────────────────────【無法離開休息室】



::T4201A:: -- 不讓賽特出門


    Scene.MoveHero(29+3, 31, 7)
    ESC.ChangeDIR(1, 6)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,10*2,4*2,StringDB('ESS4575')) -- ESS=不行，這套絆手絆腳的鬼衣服真難受，我還是...
    ESC.WaitDLG(1)

    ESC.SceneBreak()





-- ──────────────────────────────────────【換回舊衣服的賽特】


::T4201B:: -- 讓賽特更衣回原來的忍者小偷衣服

    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)

    ESC.Caption(1)
    ESC.FitSize()
    Scene.Print_W(1,9008,6*2,1*2,StringDB('ESS4576')) -- ESS=等一下……
    ESC.WaitDLG(1)

    ESC.RemoveParty(3, 0,'TALK3',3,Const.STAND,0,0xD100)
    ESC.TurnFace(3, 1)

    Scene.MoveHero(30, 32, 4)
    ESC.TurnFace(3, 1)
    Scene.MoveHero(27, 26, 4)
    ESC.TurnFace(3, 1)

    ESC.AddHeadSign(1, 1)
    ESC.Delay(400)
    ESC.DelHeadSign(1)

    ESC.Caption(1)
    Scene.Print_W(1,9008,6*2,3*2,StringDB('ESS4577')) -- ESS=薇達……%N我以前的衣服呢？
    ESC.WaitDLG(1)

    ESC.TurnFace(3, 1)


    Scene.WORD_ON_HEAD(3, 10, 20, -75, '%C0'..StringDB('ESS1847')) -- ESS=？
    ESC.Delay(700)
    ESC.DLGClose(3)


    ESC.Caption(3)
    Scene.Print_W(3,9008,5*2,2*2,StringDB('ESS4578')) -- ESS=……什麼衣服？
    ESC.WaitDLG(3)


    ESC.TurnFace(1, 3)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,9*2,3*2,StringDB('ESS4579')) -- ESS=我以前和慧彥師父旅行去唐國時，穿的那一套...
    ESC.WaitDLG(1)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS4580')) -- ESS=夫君，您剛才一定又夢到那位唐國的老僧侶了...
    ESC.WaitDLG(3)






    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS4581')) -- ESS=別這樣，那已經是%C2五年前的事%C4了...
    ESC.WaitDLG(3)





    ESC.Caption(1)
    Scene.Print_WS(1,9008,11*2,4*2,StringDB('ESS4582')) -- ESS=薇達，今天不曉得為什麼，我一直覺得頭昏沈...
    ESC.WaitDLG(1)





    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS4583')) -- ESS=這件礙手礙腳的衣服綁得我很不自在……我希...
    ESC.WaitDLG(1)




    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS4584')) -- ESS=夫君，%N今天可是有%C2貴賓%C4來，...
    ESC.WaitDLG(3)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS4585')) -- ESS=薇達，我最美的妻子，妳就告訴我一聲嘛！
    ESC.WaitDLG(1)




    Scene.Print_WS(1,9008,9*2,4*2,StringDB('ESS4586')) -- ESS=要不然，以阿拉之名起誓，我可要說我身體不...
    ESC.WaitDLG(1)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(3)


    ESC.ChangeDIR(3, 5) -- 薇達抱臂閉目
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,10*2,4*2,StringDB('ESS4587')) -- ESS=好啦好啦，不理你了，衣服在%C2這房間裏...
    ESC.WaitDLG(3)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS4588')) -- ESS=謝謝妳，薇達！%N妳真是全世界對我最好的...
    ESC.WaitDLG(1)


    ESC.RoleEnable(59969) -- 打開衣櫥


    Scene.QuestOff(289)
    Scene.QuestOn(290)

    GameFunc.FlagOn(442) -- 短對話
    GameFunc.FlagOff(10)
end




-- ──────────────────────────────────────【進入大廳時，提示任務】

function Scene.TALK4202()
    -- 通道左
    if GameFunc.MapID == 92 then goto T4202 end
    if GameFunc.GetFlag(141) then goto T4202A end
    GameFunc.FlagOn(141)


::T4202A:: -- 進入賽特巴格達宅的大廳

    Scene.ChangeMap(107, 32, 18, 2)
    if GameFunc.GetFlag(1062) then goto T4202B end -- 任務291號提示

    ESC.SceneBreak()

::T4202B::

    Scene.QuestOff(289)
    Scene.QuestOn(291)
    ESC.SceneBreak()

::T4202::
    Scene.ChangeMap(97, 35, 22, 2 ) -- 游泳池
end







function Scene.TALK4203()
    -- 通道右
    if GameFunc.MapID == 92 then goto T4203 end

    Scene.ChangeMap(97, 3, 22, 3)
    ESC.SceneBreak()
::T4203::
    Scene.ChangeMap(91, 29, 34, 4)
end

function Scene.TALK4204()
    -- 中庭左
    Scene.ChangeMap(106, 88, 21, 2)
end

function Scene.TALK4205()
    -- 中庭右
    Scene.ChangeMap(92, 10, 20, 3)
end




-- ──────────────────────────────────────【歸還卡瑪和安卡】


function Scene.TALK4206()
    -- 召喚出卡瑪



    if GameFunc.GetFlag(443) then goto T4206 end
    GameFunc.FlagOn(443)


    ESC.RMUNlock()
    ESC.RemoveParty(3, 0,'TALK3',3,0,6,0xD100)
    ESC.Delay(200)
    ESC.AddHeadSign(3, 1)
    ESC.Delay(500)
    ESC.DelHeadSign(3)



    ESC.RMLock()-- 開始劇情
    ESC.ChangeQQ(1, Const.STAND)


    GameFunc.FlagOn(12)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4589')) -- ESS=等一下，賽特夫君！
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    ESC.WaitDLG2(10001)
    ESC.DLGClose(10001)



    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 72, 21)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 5)




    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4590')) -- ESS=怎麼了？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4591')) -- ESS=守護精靈%C7卡瑪%C5──%N守護精靈...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeRoleMap(8, -1, 0, 67, 19, 8, 60, 0) -- 卡瑪和安卡出現
    ESC.ChangeRoleMap(11, -1, 0, 67, 24, 11, 60, 0)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.ChangeDIR(1, 6)

    ESC.AddHeadSign(1, 0)
    ESC.TILPA1(8, 9)
    ESC.TakeActData(8, -1, Const.STAND, 5)
    ESC.TILPA1(11, 9)
    ESC.TakeActData(11, -1, Const.STAND, 5)
    ESC.Unlock(8)
    ESC.Unlock(11)


    ESC.DelHeadSign(1)
    ESC.Delay(400)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4592')) -- ESS=卡瑪、安卡──%N剛才我聽到%C7石像%...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)




    Scene.MBOn(99, 2, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 1, 50, 460)
    Scene.AddHead(10008, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS4593')) -- ESS=小事一樁， 沒問題──────
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10011, 1)
    ESC.DelHead(10008, 1)


    ESC.TakeActData(11, -1, 60, 1)
    ESC.TakeActData(8, -1, 60, 1)
    ESC.TILPA1(11, 9)
    ESC.RoleDisable(11)
    ESC.TILPA1(8, 9)
    ESC.RoleDisable(8)

    Scene.AddMainParty(3)


    ESC.ChangeDIR(1, 5)
    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4594')) -- ESS=薇達，%N%C7卡瑪%C5和%C7安卡%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4595')) -- ESS=夫君，那是我們決定要結婚當時，您送給我的...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)


    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4596')) -- ESS=是啊……？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(200)


    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4597')) -- ESS=當時您說我一個女人家，經常在戰場衝鋒陷陣...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    Scene.MBOn(3, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4598')) -- ESS=您把自己這麼寶貴的%C7守護精靈%C5送...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4599')) -- ESS=聽石像說，這幾天會有人狙擊您，所以我剛才...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4600')) -- ESS=嗯，我有印象了……%N這是%C7五年前%...
    ESC.WaitDLG(1)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4601')) -- ESS=謝謝妳，薇達……%N妳這麼體貼和細心，我...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusicOff()



    GameFunc.FlagOn(1062) -- 進入大廳時，提示任務291號


    ESC.ChangeDIR(1, 6)
    ESC.AddParty(3)
    ESC.RMUNlock()
::T4206::
end






function Scene.TALK4207()
    -- 大廳出入口往室內

    Scene.ChangeMap(106, 10, 20, 6)
end




-- ──────────────────────────────────────【離開公館的阻擋點】

function Scene.TALK4208()
    -- 往室外
    if GameFunc.GetFlag(458) then Scene.TALK4212() return end
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(3, 5)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,9*2,3*2,StringDB('ESS4602')) -- ESS=夫君，您不必親自去請貴賓，請%C2莫雷將...
    ESC.WaitDLG(3)


    ESC.ChangeDIR(1, 4)
end


-- ──────────────────────────────────────【四個石像的支線對話】
function Scene.TALK4209()
    -- 石像們的對話
    if GameFunc.GetFlag(458) then goto T4209A end

    ESC.RemoveParty(3, 0,'TALK3',3,0,2,0xD100)
    ESC.TurnFace(3, 1)


    ESC.Caption(3)
    Scene.Print_WS(3,9008,10*2,4*2,StringDB('ESS4603')) -- ESS=賽特夫君，%N我們得快去%C2大廳%C4...
    ESC.WaitDLG(3)


    ESC.AddParty(3)
    ESC.SceneBreak()



::T4209A::

    ESC.Caption(20)
    Scene.Print_W(20,9007,7*2,3*2,StringDB('ESS4604')) -- ESS=主人，有體驗到諸神們的憤怒了嗎？
    ESC.WaitDLG(20)

end


-- ──────────────────────────────────────【與撒旦的聯手】
function Scene.TALK4212()
    local select
    -- 看見麥爾斯

    if GameFunc.GetFlag(458) then goto T4212 end
    GameFunc.FlagOn(458)
    GameFunc.FlagOn(10)

    GameFunc.FlagOff(1062) -- 不提示任務291號

    ESC.RemoveParty(3, 0,'TALK3',3,0,2,0xD100)
    ESC.TurnFace(3, 166)



    Scene.MBOn(3, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4605')) -- ESS=莫雷將軍，%N麻煩您去迎接貴賓們來大廳！...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 0)
    ESC.DelHead(10003, 0)



    ESC.ChangeQQ(166, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(1, Const.WALK)

    ESC.BatchMove2(3,
    3, 25, 15, -1, 0, 6,
    1, 19, 15, -1, 0, 5,
    166, 28, 35, -1, 0, 5)


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(400)



    ESC.Delay(400)
    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove2(1,    166, 23, 21, -1, 0, 4)
    ESC.Delay(200)


    ESC.Caption(166)
    Scene.Print_WS(166,9008,10*2,3*2,StringDB('ESS4606')) -- ESS=賽特大人，%C2法蘭克皇帝%C4、%C2...
    ESC.WaitDLG(166)



    ESC.MusicFadeMode(2, 10)
    ESC.StoryMusic(124, 54, 0x2000) -- 【劇情配樂】晴天霹靂→法蘭克騎士團


    ESC.ChangeQQ(166, Const.WALK)
    ESC.RoleEnable(2)
    ESC.RoleEnable(4)
    ESC.RoleEnable(14)
    ESC.RoleEnable(7)


    ESC.SetRoleSpeed(2, 0)
    ESC.SetRoleSpeed(166, 1)
    ESC.SetMoveHISpeed(166)


    ESC.BatchMove2(5,
    166, 12, 18, -1, 0, 5,
    2, 27, 22, -1, 0, 4,
    4, 23, 22, -1, 0, 4,
    14, 19, 23, -1, 0, 0,
    7, 16, 24, -1, 0, 7)




    ESC.ChangeDIR(3, 6) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4607')) -- ESS=哈哈哈，%N賽特，好久不見！%N站在%C...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.ChangeQQ(1, 0)
    ESC.TurnFace(1, 4)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4608')) -- ESS=麥爾斯……？%N你不是麥爾斯嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(4, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4609')) -- ESS=賽特吾友！%N你怎麼啦，一臉吃驚的樣子！...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4610')) -- ESS=而且瞧瞧你自己，這是什麼打扮？%N這不是...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 0)
    ESC.DelHead(10004, 0)



    ESC.TakeActData(1, -1, 32, 0)
    ESC.Delay(400)


    ESC.DLGNoPass()
    Scene.Print_W(2,9008,7*2,3*2,StringDB('ESS4611')) -- ESS=好久不見了，賽特，還記得人家嗎？
    ESC.WaitDLG(2)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 24, 18)
    ESC.ChangeQQ(1, 0)
    ESC.TurnFace(1, 2)


    GameFunc.FlagOff(4)


    ESC.DLGNoPass()
    Scene.Print_W(1,9008,8*2,2*2,StringDB('ESS4612')) -- ESS=莉蓮……？%N妳是%C2莉蓮%C4───...
    ESC.WaitDLG(1)


    ESC.DLGNoPass()
    Scene.Print_W(2,9008,8*2,3*2,StringDB('ESS4613')) -- ESS=不是不是，%N再仔細看人家的臉一點嘛！
    ESC.WaitDLG(2)


    ESC.SetRoleSpeed(1, 0)
    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 25, 19)
    ESC.ChangeQQ(1 , 0)
    ESC.TurnFace(1 , 2)
    ESC.TakeActData(1, 1501, 55, 0)
    ESC.TILPA1(1 , 2)
    ESC.TakeActData(1, 1, 0, 5)


    GameFunc.FlagOff(4) -- 關閉音效


    ESC.ChangeDIR(1, 5) -- 賽特訝異（面左）
    ESC.ChangeQQ(1, 62-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4614')) -- ESS=妮可───！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    GameFunc.FlagOn(4) -- 恢復音效


    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 24, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4615')) -- ESS=真差勁，%N現在才看出來呀？
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 24)



    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4616')) -- ESS=妳跟%C7莉蓮%C5長得怎麼這麼像？%N...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)


    ESC.TakeActData(1, -1, 32, 0)



    Scene.MBOn(2, 3, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10002, 18, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4617')) -- ESS=誰叫你以前都沒有好好關心人家，%N人家長...
    ESC.WaitDLG(1)



    ESC.ChangeHead(10002, 18, 10002, 24)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4618')) -- ESS=所以人家又回到撒旦大人的身邊，他現在是%...
    ESC.WaitDLG(1)
    ESC.MBOff(2, 0)
    ESC.DelHead(10002, 24)




    Scene.MBOn(1, 9, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4619')) -- ESS=法蘭克皇帝%C5？%N那以前我們法蘭克原...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ChangeDIR(4, 7)


    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4620')) -- ESS=賽特，你忘了嗎───%N三年前我和你聯手...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4621')) -- ESS=法蘭克國王也就罷了，那個首相%C7丕平%...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4622')) -- ESS=怎麼可能……？%N我…我處死了我最尊敬的...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4623')) -- ESS=賽特，權力就是這麼一回事，%N你不殺對方...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4624')) -- ESS=他的兒子%C7查理曼%C5繼續帶領殘餘部...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)




    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4625')) -- ESS=東…征……？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4626')) -- ESS=賽特，你忘了？%N這是我們共同的目標，就...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)

    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4627')) -- ESS=目前我已統一了%C7全歐洲%C5，而你也...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4628')) -- ESS=以我們%C7法蘭克帝國%C5的二十萬大軍...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(700)
    ESC.DelHeadSign(1)



    Scene.MBOn(14, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10014, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4629')) -- ESS=賽特閣下……%N目前我們那兒正在內戰，%...
    ESC.WaitDLG(1)


    ESC.AddHeadSign(1, 2)

    ESC.ChangeDIR(1, 2) -- 賽特抱臂閉目
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4630')) -- ESS=目前大唐根基業已搖搖欲墜，正可謂天賜予兩...
    ESC.WaitDLG(1)
    ESC.MBOff(14, 1)
    ESC.DelHead(10014, 1)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4631')) -- ESS=沒錯，賽特！%N這位%C7黃雷%C5大人...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4632')) -- ESS=燕帝%C5願協助我們一起夾擊%C7大唐%...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4633')) -- ESS=我…我覺得好像在……做夢一樣，%N這些…...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(4, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4634')) -- ESS=賽特，%N我聽莫雷將軍說你今天身有微恙，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)




    ESC.AddHeadSign(1, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 25, 24)

    ESC.TurnFace(2, 1)
    ESC.TurnFace(3, 1)
    ESC.TurnFace(4, 1)
    ESC.TurnFace(7, 1)
    ESC.TurnFace(14, 1)
    ESC.TurnFace(166, 1)



    ESC.BatchMove(1,    1, 29, 33)
    ESC.ChangeQQ(1, 0)


    ESC.TurnFace(910, 1)
    ESC.TurnFace(911, 1)


    ESC.StoryMusic(124, 135, 0x2000) -- 【劇情配樂】晴天霹靂→重生


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 16)
    ESC.FadeWait()


    ESC.PlayVedio('parade') -- 【動畫】閱兵



    GameFunc.FlagOff(4) -- 關閉音效


    ESC.ChangeDIR(1, 5) -- 賽特訝異
    ESC.ChangeQQ(1, 62-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)



    ESC.TurnFace(2, 1)
    ESC.TurnFace(3, 1)
    ESC.TurnFace(4, 1)
    ESC.TurnFace(7, 1)
    ESC.TurnFace(14, 1)
    ESC.TurnFace(166, 1)


    ESC.ChangeDIR(3, 5) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.RoleMove(1, 30, 35)

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)


    ESC.TakeActData(1, 1, 9, 4)
    ESC.SetRoleSpeed(1, 3)
    ESC.BatchMove(1,    1, 28, 33)

    ESC.FadeWait()



    ESC.ChangeDIR(1, 5) -- 賽特訝異
    ESC.ChangeQQ(1, 62-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 17, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4635')) -- ESS=這…這些軍隊────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 17)




    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4636')) -- ESS=真沒想到我最後會是以這樣的方式，前往%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    Scene.SAR_TurnFace( 2, 1) -- 設為會轉身
    Scene.SAR_TurnFace( 4, 1) -- 設為會轉身
    Scene.SAR_TurnFace( 7, 1) -- 設為會轉身
    Scene.SAR_TurnFace(14, 1) -- 設為會轉身
    Scene.SAR_TurnFace(166, 1) -- 設為會轉身


    GameFunc.FlagOn(4) -- 恢復音效


    Scene.QuestOff(291)
    Scene.QuestOn(292)

    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4637')) -- ESS=賽特，軍事行動刻不容緩，你居於萬人之上，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)
    goto T4212N


::T4212::
    ESC.TurnFace(4, 1)

    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4638')) -- ESS=賽特，軍事行動刻不容緩，你位居萬人之上，...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)

    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4212Y
    else
        goto T4212N
    end

::T4212N::

    if GameFunc.GetFlag(1063) then goto T4212N2 end -- 是否第一次回答


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4639')) -- ESS=不…還沒有，請再讓我調整一下情緒───
    ESC.WaitDLG(1)

    ESC.ChangeDIR(1, 3) -- 賽特起身
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 5)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(400)

    ESC.ChangeDIR(1, 3)
    ESC.ChangeQQ(1, 71-3)
    ESC.SeekACT(1, 6)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(200)


    ESC.Delay(300)
    ESC.TakeActData(1, 1, Const.STAND, 5)


    ESC.ChangeScript(4, 'TALK4212') -- 麥爾斯對話改為問是否要出發
    ESC.ChangeScript(166, 'TALK4223') -- 莫雷對話改為幫忙管理國內事務

    GameFunc.FlagOn(1063)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()



::T4212N2::
    ESC.TurnFace(1, 4)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4640')) -- ESS=不…等一等，請再讓我好好考慮一下───
    ESC.WaitDLG(1)
    ESC.SceneBreak()



::T4212Y::

    GameFunc.FlagOn(10)

    ESC.SetRoleSpeed(1, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 29-2, 33-2)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.ChangeDIR(1, 4)
    ESC.TurnFace(2, 1)
    ESC.TurnFace(4, 1)
    ESC.TurnFace(7, 1)
    ESC.TurnFace(14, 1)


    ESC.SceneMusic(8, 91, 91, 0x4000) -- 【地圖音樂】更換西域大地圖音樂
    ESC.SceneMusic(221, 81, 81, 0x4000) -- 【地圖音樂】更換石國音樂
    ESC.SceneMusic(279, 81, 81, 0x4000) -- 【地圖音樂】更換石國音樂
    ESC.SceneMusic(280, 81, 81, 0x4000) -- 【地圖音樂】更換石國音樂
    ESC.SceneMusic(281, 81, 81, 0x4000) -- 【地圖音樂】更換石國音樂


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4641')) -- ESS=好吧，%N我想清楚了……我決定東征──
    ESC.WaitDLG(1)



    Scene.Print_WS(1,9008,11*2,4*2,StringDB('ESS4642')) -- ESS=前往%C2唐國%C4是我多年的心願，我既...
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_SL(166,9008,100,150,8*2,4*2,StringDB('ESS4643')) -- ESS=埃米爾大人，您不在的期間，國內事務請安心...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4644')) -- ESS=那就拜託你了，莫雷將軍───
    ESC.WaitDLG(1)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(47, 47, 0x2000) -- 【劇情配樂】伊斯蘭帝國


    ESC.SetRoleSpeed(1, 2)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 29+1, 33+1)
    ESC.ChangeQQ(1, Const.STAND)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4645')) -- ESS=好，各位！%N我們出發吧──
    ESC.WaitDLG(1)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.ScreenHide()


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()


    ESC.AniPlay('Bd2Dh2',false, false) -- 賽特路線圖（巴格達→怛羅斯）
    ESC.AniUntilClose()

    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.Progress_Off()
    ESC.GotoMap(158, 53, 92, 1, 0, 7) -- 怛羅斯



    ESC.ChangeRoleMap( 10, -1, 0, 82, 82, 93, 0, 6) -- ACT93為慧彥的幽靈

    ESC.ChangeRoleMap( 2, -1, 0, 47, 86, 506, 0, 7) -- 主角們
    ESC.ChangeRoleMap( 4, -1, 0, 48, 90, 4, 0, 7)
    ESC.ChangeRoleMap( 3, -1, 0, 49, 93, 3, 0, 7)
    ESC.ChangeRoleMap(14, -1, 0, 49, 97, 14, 0, 7)
    ESC.ChangeRoleMap( 7, -1, 0, 49, 102, 7, 0, 7)


    ESC.RoleDisable(165) -- 奇怪的士兵們
    ESC.RoleDisable(200)
    ESC.RoleDisable(219)
    ESC.RoleDisable(203)
    ESC.RoleDisable(229)
    ESC.RoleDisable(228)
    ESC.RoleDisable(220)
    ESC.RoleDisable(221)
    ESC.RoleDisable(204)
    ESC.RoleDisable(230)
    ESC.RoleDisable(218)
    ESC.RoleDisable(232)

    ESC.RoleDisable(201)
    ESC.RoleDisable(104)
    ESC.RoleDisable(233)
    ESC.RoleDisable(131)
    ESC.RoleDisable(199)
    ESC.RoleDisable(181)
    ESC.RoleDisable(161)
    ESC.RoleDisable(158)

    ESC.RoleEnable(320) -- 黑衣大食軍
    ESC.RoleEnable(321)
    ESC.RoleEnable(323)
    ESC.RoleEnable(322)
    ESC.ChangeRoleMap(320, 158, 0, 47-4, 86+1, 411, 0, 3)
    ESC.ChangeRoleMap(321, 158, 0, 48-4, 90+1, 411, 0, 3)
    ESC.ChangeRoleMap(322, 158, 0, 49-4, 97+1, 411, 0, 7)
    ESC.ChangeRoleMap(323, 158, 0, 49-4, 102+1, 411, 0, 7)

    ESC.RoleEnable(592) -- 法蘭克軍
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.ChangeRoleMap(592, 158, 0, 47-7, 86+3, 411, 0, 3)
    ESC.ChangeRoleMap(593, 158, 0, 48-7, 90+3, 411, 0, 3)
    ESC.ChangeRoleMap(594, 158, 0, 49-7, 97+3, 411, 0, 7)
    ESC.ChangeRoleMap(595, 158, 0, 49-7, 102+3, 411, 0, 7)


    ESC.RoleEnable(588)
    ESC.RoleEnable(589)
    ESC.RoleEnable(590)
    ESC.RoleEnable(591)
    ESC.ChangeRoleMap(588, 158, 0, 47-10, 86+5, 409, 0, 3)
    ESC.ChangeRoleMap(589, 158, 0, 48-10, 90+5, 409, 0, 3)
    ESC.ChangeRoleMap(590, 158, 0, 49-10, 97+5, 409, 0, 7)
    ESC.ChangeRoleMap(591, 158, 0, 49-10, 102+5, 409, 0, 7)

    ESC.RoleEnable(584)
    ESC.RoleEnable(585)
    ESC.RoleEnable(586)
    ESC.RoleEnable(587)
    ESC.ChangeRoleMap(584, 158, 0, 47-13, 86+7, 409, 0, 3)
    ESC.ChangeRoleMap(585, 158, 0, 48-13, 90+7, 409, 0, 3)
    ESC.ChangeRoleMap(586, 158, 0, 49-13, 97+7, 409, 0, 7)
    ESC.ChangeRoleMap(587, 158, 0, 49-13, 102+7, 409, 0, 7)

    ESC.ScreenShow()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 30)
    ESC.FadeWait()





    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,''..StringDB('ESS4646')) -- ESS=怛羅斯……我又來到這裏了──
    ESC.WaitDLG(1)


    ESC.SetRoleSpeed(1, 2)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 60+1, 89+0)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 7)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4647')) -- ESS=慧彥師父，我失約了……%N我不但沒將您%...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)



    ESC.ChangeQQ(4, Const.WALK)
    ESC.BatchMove2(1,    4, 58+2, 86, -1, 0, 5)



    Scene.MBOn(4, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4648')) -- ESS=賽特吾友──！%N再過去就是唐國疆土，我...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4649')) -- ESS=大唐帝國當年威勢如日中天，也不是伊斯蘭的...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)

    ESC.RoleEnable(10) -- 慧彥
    Scene.SAR_Shadow(10, 0) -- 去陰影


    ESC.AddHeadSign(1, 1)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.TakeActData(1, 1, Const.STAND, 7)

    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    ESC.StoryMusic(124, 121, 0x2000) -- 【劇情配樂】晴天霹靂→拔劍



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4650')) -- ESS=等一等，那是────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.ChangeDIR(4, 5) -- 麥爾斯轉向
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetRoleSpeed(1, 0)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove(1,    1, 77, 86)
    ESC.TakeActData(1, 1, 0, 7)





    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4651')) -- ESS=慧彥師父────
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    ESC.AddHeadSign(4, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(4)



    Scene.SAR_ABSC(588, 0)
    Scene.SAR_ABSC(589, 0)
    Scene.SAR_ABSC(590, 0)
    Scene.SAR_ABSC(591, 0)
    ESC.ChangeQQ(4, Const.WALK)
    ESC.ChangeQQ(2, Const.WALK)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.ChangeQQ(7, Const.WALK)
    ESC.ChangeQQ(14, Const.WALK)
    ESC.ChangeQQ(320, Const.WALK) ESC.ChangeQQ(321, Const.WALK) ESC.ChangeQQ(322, Const.WALK) ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(588, Const.WALK) ESC.ChangeQQ(589, Const.WALK) ESC.ChangeQQ(590, Const.WALK) ESC.ChangeQQ(591, Const.WALK)
    ESC.SetRoleSpeed( 4, 0)
    ESC.SetRoleSpeed( 2, 0)
    ESC.SetRoleSpeed( 3, 0)
    ESC.SetRoleSpeed( 14, 0)
    ESC.SetRoleSpeed(320, 0)
    ESC.SetRoleSpeed(321, 0)
    ESC.SetRoleSpeed(322, 0)
    ESC.SetRoleSpeed(323, 0)
    ESC.SetRoleSpeed(588, 0)
    ESC.SetRoleSpeed(589, 0)
    ESC.SetRoleSpeed(590, 0)
    ESC.SetRoleSpeed(591, 0)
    ESC.SetMoveHISpeed(2)
    ESC.SetMoveHISpeed(7)
    ESC.BatchMove2(13,
    2, 71, 80, -1, 0, 3,
    4, 72, 84, -1, 0, 3,
    3, 73, 87, -1, 0, 7,
    14, 74, 91, -1, 0, 7,
    7, 75, 96, -1, 0, 7,
    320, 68, 79, -1, 0, 3,
    321, 69, 83, -1, 0, 3,
    322, 70, 90, -1, 0, 7,
    323, 71, 95, -1, 0, 7,
    588,63,82,-1,0,3,
    589,65,86,-1,0,3,
    590,65,93,-1,0,7,
    591,66,98,-1,0,7)




    ESC.AddHeadSign(320, 0)
    ESC.AddHeadSign(321, 0)
    ESC.AddHeadSign(322, 0)
    ESC.AddHeadSign(323, 0)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(3)
    ESC.DelHeadSign(320)
    ESC.DelHeadSign(321)
    ESC.DelHeadSign(322)
    ESC.DelHeadSign(323)



    ESC.TakeActData(4, 4, 64, 0) -- 麥爾斯拔劍
    ESC.Unlock(4)
    ESC.Delay(300)



    Scene.MBOn(4, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4652')) -- ESS=豈有此理────%N你…你這傢伙，五年前...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.Delay(200)
    MediaFunc.PlaySound(47)
    ESC.TakeActData(10, 93, 60-6, 6) -- 幽靈慧彥攻擊姿


    MediaFunc.PlaySound(350)
    ESC.Delay(100)
    MediaFunc.PlaySound(127)



    ESC.Delay(400)
    MediaFunc.PlaySound(239)
    ESC.ScreenShack(3, -1, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, -1, 0, 0, 0, -2, 0, 0, 0, -2, 0, 0, 0, -2, 0, 0, 0, -2, 0, 0, 0, -3, 0, 0, 0, -3, 0, 0, 0, -3, 0, 0, 0, -4, 0, 0, 0, -4, 0, 0, 0, 0xFF00)
    Scene.MBOn(1, 11, 1 , 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10+10000, 0, 560, 120)
    ESC.DLGClose(10000)


    ESC.DLGNoFrame()  ESC.DLGNoPass()  ESC.DLGHoldTime(7) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%S0'..StringDB('ESS4653')) -- ESS=吾乃大唐武僧慧彥，%N你們休想再跨近一步...
    ESC.WaitDLG2(10000)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    ESC.RoleMove(320 , 67 , 80) -- 眾人逐漸後退
    ESC.Delay(110)
    ESC.RoleMove(2 , 70 , 81)
    ESC.Delay(100)
    ESC.RoleMove(589 , 64, 87)
    ESC.Delay(130)

    ESC.MBOff(1, 1)
    ESC.DelHead(10+10000, 0)


    ESC.RoleMove(7, 74, 97)
    ESC.Delay(140)
    ESC.RoleMove(3, 72, 88)
    ESC.Delay(110)
    ESC.RoleMove(14, 73, 92)
    ESC.Delay(100)
    ESC.RoleMove(590, 64, 94)
    ESC.Delay(100)
    ESC.RoleMove(321 , 68 , 84)
    ESC.Delay(100)
    ESC.RoleMove(591, 65, 99)
    ESC.Delay(110)
    ESC.RoleMove(323 , 70 , 96)
    ESC.Delay(250)
    ESC.ScreenShackStop()



    ESC.Caption(228)
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(5)
    Scene.Print_WS(321,9008,7*2,3*2,StringDB('ESS4654')) -- ESS=這…這是…%N是那個……當年那個……
    ESC.WaitDLG2(321)



    ESC.RoleMove(322, 69, 91)
    ESC.Delay(100)
    ESC.RoleMove(591, 64, 100)
    ESC.WaitDLG(321)



    ESC.ChangeQQ(1, 8)
    ESC.RoleMove(590, 63, 95)
    ESC.BatchMove2(1,    1, 78, 85, -1, 0, 7)



    ESC.Caption(228)
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(5)
    Scene.Print_WS(320,9008,10*2,3*2,StringDB('ESS4655')) -- ESS=救命呀！%N是那個唐國%C2戰神%C4，...
    ESC.WaitDLG2(320)



    ESC.RoleMove(320, 66, 81)


    ESC.Caption(228)
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(10)
    Scene.Print_WS(322,9008,10*2,3*2,StringDB('ESS4656')) -- ESS=他一定有阿拉的加護！%N我們東征是違反阿...
    ESC.WaitDLG2(322)


    ESC.Caption(228)
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(15)
    Scene.Print_WS(321,9008,4*2,1*2,StringDB('ESS4657')) -- ESS=逃呀──
    ESC.WaitDLG2(321)



    ESC.RoleMove(320, 66, 81)
    ESC.RoleMove(322, 70-1, 90+1)
    ESC.RoleMove(591, 66-1, 98+1)
    ESC.RoleMove(589, 63, 88)


    ESC.ChangeQQ(320, Const.WALK) ESC.ChangeQQ(321, Const.WALK) ESC.ChangeQQ(322, Const.WALK) ESC.ChangeQQ(323, Const.WALK)
    ESC.ChangeQQ(588, Const.WALK) ESC.ChangeQQ(589, Const.WALK) ESC.ChangeQQ(590, Const.WALK) ESC.ChangeQQ(591, Const.WALK)

    ESC.SetRoleSpeed(320, 0)
    ESC.SetRoleSpeed(321, 0) ESC.SetMoveHISpeed(321)
    ESC.SetRoleSpeed(322, 0)
    ESC.SetRoleSpeed(323, 0) ESC.SetMoveHISpeed(323)
    ESC.SetRoleSpeed(588, 0)
    ESC.SetRoleSpeed(589, 0) ESC.SetMoveHISpeed(589)
    ESC.SetRoleSpeed(590, 0) ESC.SetMoveHISpeed(590)
    ESC.SetRoleSpeed(591, 0) ESC.SetMoveHISpeed(591)
    ESC.SetRoleSpeed(323, 0)

    ESC.BatchMove(8,
    320, 47-4, 86+1,
    321, 48-4, 90+1,
    322, 49-4, 97+1,
    323, 49-4, 102+1,
    588, 47-2, 86+2,
    589, 48-5, 90,
    590, 49-5, 97+2,
    591, 49-4, 102+1)

    ESC.RoleDisable(321)
    ESC.RoleDisable(322)


    ESC.RoleDisable(584)
    ESC.RoleDisable(585)
    ESC.RoleDisable(586)
    ESC.RoleDisable(587)
    ESC.RoleDisable(588)
    ESC.RoleDisable(589)
    ESC.RoleDisable(590)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)



    ESC.ChangeDIR(4, 5) -- 麥爾斯觀望面右
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(130)

    ESC.ChangeDIR(4, 6) -- 麥爾斯觀望面左
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(130)

    ESC.ChangeDIR(4, 5) -- 麥爾斯觀望面右
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(150)

    ESC.ChangeDIR(4, 6) -- 麥爾斯觀望面左
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(150)


    ESC.ChangeDIR(4, 5) -- 麥爾斯觀望面右
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(150)

    ESC.ChangeDIR(4, 6) -- 麥爾斯觀望面左
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(150)




    ESC.TakeActData(323, 409, Const.WALK, 7)
    ESC.SetRoleSpeed(323, 0)
    ESC.BatchMove2(1,    323, 67, 84, -1, 0, 3)



    ESC.Caption(228)
    Scene.Print_SL(323,9007,80,300,10*2,4*2,StringDB('ESS4658')) -- ESS=啟、啟稟陛下──%N伊斯蘭軍……他們聽說...
    ESC.WaitDLG(323)


    ESC.RoleLock(4)
    ESC.ChangeDIR(4, 6)
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(200)


    ESC.Caption(4)
    Scene.Print_WS(4,9007,5*2,1*2,StringDB('ESS1300')) -- ESS=什麼──？
    ESC.WaitDLG(4)



    ESC.TakeActData(591, 409, Const.WALK, 7)
    ESC.SetRoleSpeed(591, 0)
    ESC.BatchMove2(1,    591, 67-2, 85, -1, 0, 3)



    ESC.Caption(228)
    Scene.Print_SL(593,9007,80,300,12*2,4*2,StringDB('ESS4659')) -- ESS=啟稟陛下──%N伊斯蘭軍內四處傳說%C2...
    ESC.WaitDLG(593)



    ESC.Caption(4)
    Scene.Print_WS(4,9007,5*2,2*2,StringDB('ESS4660')) -- ESS=該死，搞什麼鬼──？
    ESC.WaitDLG(4)


    ESC.ChangeDIR(4, 5)
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(200)



    Scene.Print_WS(4,9007,8*2,4*2,StringDB('ESS4661')) -- ESS=賽特──%N你的%C2伊斯蘭軍%C4自亂...
    ESC.WaitDLG(4)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    ESC.TakeActData(595, 409, Const.WALK, 7)


    ESC.TakeActData(1, 1, 25-7, 7) -- 賽特跪下
    ESC.SetRoleSpeed(595, 0)
    ESC.BatchMove2(1,    595, 67, 85, -1, 0, 3)


    ESC.ChangeDIR(1, 5) -- 賽特沮喪
    ESC.ChangeQQ(1, 25-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)

    ESC.Caption(228)
    Scene.Print_SL(595,9007,80,300,8*2,4*2,StringDB('ESS4662')) -- ESS=陛下──%N我軍被逃竄的伊斯蘭軍衝散，陣...
    ESC.WaitDLG(595)


    ESC.ChangeDIR(4, 6)
    ESC.ChangeQQ(4, 26-6)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(200)



    ESC.Caption(4)
    Scene.Print_WS(4,9007,8*2,3*2,StringDB('ESS4663')) -- ESS=混帳──！%N你去把他們穩住，我馬上就到...
    ESC.WaitDLG(4)


    ESC.RoleMove(323, 66, 84)
    ESC.ChangeDIR(323, 3)
    ESC.Delay(250)


    ESC.ChangeQQ(323, Const.WALK)
    ESC.SetRoleSpeed(323, 0) ESC.SetMoveHISpeed(323)
    ESC.BatchMove(1,    323, 47, 86)
    ESC.RoleDisable(323)


    ESC.ChangeDIR(4, 5)
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(200)



    Scene.Print_WS(4,9007,8*2,3*2,StringDB('ESS4664')) -- ESS=喂，賽特──%N你到底有沒有聽見我在說話...
    ESC.WaitDLG(4)


    ESC.ChangeDIR(1, 5) -- 賽特沮喪
    ESC.ChangeQQ(1, 25-5)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(1)


    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(116, 116, 0x4000) -- 【劇情配樂】慧彥116



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 7, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4665')) -- ESS=慧彥師父，原來您仍活著……%N我失約了，...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 7)



    ESC.AddHeadSign(10, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(10)


    ESC.TakeActData(10, 93, Const.STAND, 6) -- 慧彥站立合十
    ESC.Delay(500)




    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4666')) -- ESS=阿彌陀佛……%N老衲五年前就化為灰燼了，...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4667')) -- ESS=你不是答應過老衲，%N要去老衲的國家，學...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4668')) -- ESS=來，回頭看一看！%N看一看你背後的這些，...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.Delay(800)
    ESC.TakeActData(1, 1501, 56, 0)
    ESC.TILPA1(1, 9)
    ESC.Delay(100)
    ESC.TakeActData(1, 1, 0, 6)
    ESC.ScreenLock()



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4669')) -- ESS=我要的…………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4670')) -- ESS=權力、榮耀、財富……%N為了這些，值得你...
    ESC.WaitDLG(1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4671')) -- ESS=來，%N回答我，回答這一個問題！
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.TakeActData(4, 4, 64, 0) -- 麥爾斯拔劍
    ESC.Unlock(4)
    ESC.Delay(300)



    Scene.MBOn(4, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4672')) -- ESS=賽特，別相信這傢伙！%N這傢伙是%C7鬼...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)




    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4673')) -- ESS=賽特，%N別管老衲是否為鬼魅……%N清醒...
    ESC.WaitDLG(1)



    ESC.TakeActData(1, 1, 35, 0) -- 賽特閉目


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4674')) -- ESS=我知道你內在有一顆善良之心，%N來，問問...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)




    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4675')) -- ESS=好像一場夢一樣……%N這五年來的…權勢和...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(4, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4676')) -- ESS=從小到大，我最快樂的時光，%N就是%C7...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4677')) -- ESS=……這些平安、友誼對我而言，才是無價的財...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(4, 5) -- 麥爾斯持劍在胸
    ESC.ChangeQQ(4, 31-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)



    Scene.MBOn(4, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4678')) -- ESS=賽特，你胡說八道些什麼？%N我%C7撒旦...
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)



    ESC.ChangeDIR(1, 2) -- 賽特抱臂
    ESC.ChangeQQ(1, 68)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 2, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4679')) -- ESS=原來如此，我懂了！%N我是%C7賽特%C...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 2)


    ESC.ChangeDIR(4, 5) -- 麥爾斯劍放下面右
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)


    ESC.AddHeadSign(4, 0)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4)
    ESC.DelHeadSign(3)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4680')) -- ESS=麥爾斯，我不東征了───%N我要從頭開始...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    GameFunc.FlagOff(4)
    ESC.ChangeDIR(4, 5) -- 麥爾斯揮劍
    ESC.ChangeQQ(4, 64-5)
    ESC.SeekACT(4, 6)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)




    Scene.MBOn(4, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4681')) -- ESS=你胡扯什麼？%N你要丟下你的軍隊嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(4, 1)
    ESC.DelHead(10004, 1)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4682')) -- ESS=麥爾斯！%N這五年來，我東征西討，給世界...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.AddHeadSign(4, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4)

    GameFunc.FlagOn(4)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4683')) -- ESS=阿彌陀佛……%N老衲果然沒有看走眼───...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)


    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusic(135, 135, 0x4000) -- 【劇情配樂】重生




    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4684')) -- ESS=等一下，賽特───%N我不准你這樣離開，...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.ChangeDIR(4, 5) -- 麥爾斯劍放下面右
    ESC.ChangeQQ(4, 27-5)
    ESC.SeekACT(4, 0)
    Scene.SAR_ACTCycle(4, 0)
    ESC.Delay(100)


    ESC.TakeActData(1, 1, Const.STAND, 6)
    ESC.Delay(200)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4685')) -- ESS=薇達………
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    ESC.ChangeDIR(3, 0) -- 薇達抱臂
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(50)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4686')) -- ESS=賽特，你每次都說走就走！%N%C7五年前...
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 0) -- 薇達側站
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4687')) -- ESS=哼，以阿拉之名起誓，%N這一次我就算使用...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(1, 0)
    ESC.Delay(500)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4688')) -- ESS=薇達，是我不對……%N妳對我真的很好，我...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4689')) -- ESS=薇達，%N但這次我必須走，等所有該做的事...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(3, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4690')) -- ESS=哼……走都走了，%N你真的還會再回來嗎…...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    ESC.AddHeadSign(3, 1)


    ESC.ChangeDIR(3, 0) -- 薇達閉目
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    ESC.Delay(600)
    ESC.DelHeadSign(3)



    ESC.TakeActData(1, 1, Const.WALK, 7)
    ESC.ChangeQQ(10, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(10, 2)
    ESC.BatchMove2(2,
    10, 98, 67, -1, 0, 7,
    1, 99, 68, -1, 0, 7)
    ESC.RoleHide(10)


    ESC.ChangeDIR(3, 7) -- 薇達優美站
    ESC.ChangeQQ(3, 8)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)



    Scene.MBOn(4, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10004, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(3,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4691')) -- ESS=可恨的傢伙───！


    Scene.MBOn(3, 1, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4692')) -- ESS=賽特夫君────
    ESC.WaitDLG(1)
    ESC.WaitDLG(3)


    ESC.MBOff(4, 1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10004, 1)
    ESC.DelHead(10003, 1)



    ESC.Unlock(4)
    ESC.TakeActData(4, 4, 27-3, 3)
    ESC.SetRoleSpeed(4, 1)
    ESC.BatchMove(1,    4, 77, 84+1)
    ESC.TakeActData(4, 4, 33-5, 5)
    MediaFunc.PlaySound(276)

    ESC.Unlock(4)
    ESC.Delay(2000)



    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 50)
    ESC.RoleShow(10)
    ESC.FadeWait()
    ESC.ScreenUnlock()


    Scene.BattleSupportOff(3) -- 薇達
    Scene.BattleSupportOn(10) -- 慧彥



    ESC.AddParty(10)
    ESC.GotoMap(8, 52, 31, 1, 0, 3) -- 中亞大地圖
    ESC.RoleDisable(2)
    ESC.RoleDisable(3)
    ESC.RoleDisable(4)
    ESC.RoleDisable(7)
    ESC.RoleDisable(14)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4693')) -- ESS=阿彌陀佛，%N真是難為你了，賽特！
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4694')) -- ESS=其實我一直留在這裏，是為要帶你去%C7天...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 9, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4695')) -- ESS=天山？%N我們不是要去唐國嗎？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 9)



    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4696')) -- ESS=去唐國途中一定會經過天山，%N天山再過去...
    ESC.WaitDLG(1)



    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4697')) -- ESS=天山山頂住著一位%C7仙人%C5，他會對...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    ESC.MusicFadeMode(2, 30)
    ESC.StoryMusicOff()  -- 【地圖音樂】雲和山的彼端


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4698')) -- ESS=天山%C5嗎……？%N好，那我們啟程吧！...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 1)


    ESC.RoleDisable(320)
    ESC.RoleDisable(591)
    ESC.RoleDisable(595)

    Scene.QuestOff(292)
    Scene.QuestOn(293)


    -- 設站在黃雷旁的機關獸
    ESC.ChangeRoleMap( 48, 283, 0, 102, 23, 48, 8, 0) -- 機關獸
    ESC.RoleEnable(48)


    GameFunc.FlagOff(10)
end

-- ──────────────────────────────────────【四位阿拉伯女奴】


function Scene.TALK4216()
    -- 906 侍女艾達
    ESC.Caption(906)
    Scene.Print_WS(906,9008,7*2,2*2,StringDB('ESS4699')) -- ESS=賽特大人，祝您%C2東征%C4順利！
    ESC.WaitDLG(906)
end


function Scene.TALK4217()
    -- 907  侍女莎琳娜
    ESC.Caption(907)
    Scene.Print_WS(907,9008,9*2,3*2,StringDB('ESS4700')) -- ESS=賽特大人，東征勝利後，要幫我帶%C2唐國...
    ESC.WaitDLG(907)
end

function Scene.TALK4218()
    -- 908  侍女瑪娜



    ESC.Caption(908)
    Scene.Print_WS(908,9008,9*2,3*2,StringDB('ESS4701')) -- ESS=賽特大人，東征勝利後，您要幫我帶%C2天...
    ESC.WaitDLG(908)
end


-- ──────────────────────────────────────【埃米爾的座上客】

function Scene.TALK4219()

    ESC.Caption(909)
    Scene.Print_WS(909,9008,9*2,3*2,StringDB('ESS4702')) -- ESS=埃米爾大人，您的戰功彪炳，在阿拉伯沒人比...
    ESC.WaitDLG(909)
end


function Scene.TALK4220()

    ESC.Caption(910)
    Scene.Print_WS(910,9008,9*2,3*2,StringDB('ESS4703')) -- ESS=埃米爾大人，您又有立下蓋世大功的機會了，...
    ESC.WaitDLG(910)


    Scene.Print_WS(910,9008,8*2,3*2,StringDB('ESS4704')) -- ESS=我們%C2伊斯蘭帝國%C4版圖又要擴大了...
    ESC.WaitDLG(910)
end


function Scene.TALK4221()
    if GameFunc.GetFlag(458) then goto T4221A end


    ESC.Caption(910)
    Scene.Print_WS(910,9008,9*2,3*2,StringDB('ESS4705')) -- ESS=埃米爾大人，%C2法蘭克皇帝%C4和大主...
    ESC.WaitDLG(910)
    ESC.SceneBreak()

::T4221A::


    ESC.Caption(911)
    Scene.Print_WS(911,9008,10*2,3*2,StringDB('ESS4706')) -- ESS=伊斯蘭帝國萬歲！%N消滅唐國，征服東方，...
    ESC.WaitDLG(911)
end






-- ──────────────────────────────────────【賽特找到衣服】

function Scene.TALK4222()

    ESC.ScreenLock()
    ESC.ScrollMapD(0, 6, 8, 8)
    ESC.ScrollMapWait()

    GameFunc.FlagOn(10)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(600)
    ESC.DelHeadSign(1)


    Scene.MoveHero(11, 16, 0)
    ESC.Delay(300)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4707')) -- ESS=啊，有了，%N以前我的衣服都在這兒！
    ESC.WaitDLG(1)


    ESC.ChangeDIR(3, 5) -- 薇達抱臂
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    MediaFunc.PlaySound(193)
    Scene.RoadFlag(StringDB('ESS4708'),20) -- ESS= 換回%C2舊衣服%C4



    ESC.TakeActData(1, 1, Const.STAND, 5)
    ESC.Delay(1400)

    Scene.MoveHero(11+2, 16+2, 5)



    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4709')) -- ESS=好了……%N我們出發了吧，薇達！
    ESC.WaitDLG(1)


    ESC.TakeActData(3, 3, Const.STAND, 4)


    ESC.Caption(3)
    Scene.Print_SL(3,9008,310,230,9*2,4*2,StringDB('ESS4710')) -- ESS=唉……%N您這算什麼樣子？%N簡直就是見...
    ESC.WaitDLG(3)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS4711')) -- ESS=別這麼說嘛──%N我可愛的妻子，薇達……...
    ESC.WaitDLG(1)



    Scene.Print_WS(1,9008,11*2,4*2,StringDB('ESS4712')) -- ESS=這套衣服讓我有種熟悉感，今天不曉得為什麼...
    ESC.WaitDLG(1)



    ESC.AddHeadSign(3, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(3)



    ESC.ChangeDIR(3, 5) -- 薇達抱臂
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 2)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)



    Scene.Print_SL(3,9008,310,230,9*2,4*2,StringDB('ESS4713')) -- ESS=您待會肯定會被%C2法蘭克皇帝%C4他們...
    ESC.WaitDLG(3)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    Scene.MoveHero(24, 24, 5)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4714')) -- ESS=別生我的氣嘛，薇達……我們走吧！
    ESC.WaitDLG(1)



    ESC.Delay(500)
    ESC.AddParty(3) -- 薇達加入


    ESC.RoleDisable(59969)
    Scene.QuestOff(290)
    Scene.QuestOn(289)
    GameFunc.FlagOff(10)
    GameFunc.FlagOff(7067) -- 賽特換回原來的衣服
    ESC.ScreenUnlock()
end



function Scene.TALK4223()

    ESC.Caption(166)
    Scene.Print_WS(166,9008,9*2,3*2,StringDB('ESS4715')) -- ESS=埃米爾大人，國內的事可以交給我，您儘管放...
    ESC.WaitDLG(166)

end


-- 第八章開始
-- ────────────────────────────────────【未來的巴格達】

function Scene.CHAP8_BEGIN()

    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)

    Scene.Heal() -- 恢復所有生命
    ESC.DungeonEsc_On()

    ESC.TownTrans_Off(StringDB('ESS2379')) -- ESS=被一股魔法封住，無法使用！


    ESC.RoleDisable(99)
    ESC.RoleDisable(98)
    ESC.RoleDisable(97)
    ESC.RoleDisable(30)
    ESC.Progress_Off()

    ESC.GotoMap(91, 11, 16, 1, 0, 3)


    ESC.FadeScreen(30, 30, 30, -30, -30, -30, 30)
    ESC.ScreenHide()
    ESC.FadeWait()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()



    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(114, 114, 0x2000) -- 【劇情配樂】巴格達城



    ESC.Delay(400)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(1,9009,240,170,2*14,6,'%C5%S2'..StringDB('ESS4716')) -- ESS=　　五年之後……%N%N（西元七五六年）...
    ESC.WaitDLG3(1)
    ESC.Delay(600)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.DLGClose(1)
    ESC.Delay(600)


    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()


    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(1,9009,180,170,20*2,4*2,'%C5%S2'..StringDB('ESS4717')) -- ESS=　　阿拉伯帝國第二首都%N%N巴格達城─...
    ESC.WaitDLG3(1)
    ESC.Delay(1000)


    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 45)
    ESC.FadeWait()
    ESC.DLGClose(1)


    ESC.ScreenShow()
    ESC.ChangeRoleMap( 3, -1, 0, 29, 35, 3, 8, 0) -- 薇達
    ESC.ChangeRoleMap(166, -1, 0, 29, 35, 504, 8, 0) -- 莫雷
    ESC.ChangeRoleMap( 6, -1, 0, 14, 22, 6, 55, 0) -- 姆斯比爾
    ESC.ChangeRoleMap( 13, -1, 0, 18, 18, 13, 0, 1) -- 藍魔神
    ESC.ChangeRoleMap(29995, -1, 0, 13, 24, 6, 76, 0) -- 姆斯比爾魔法陣



    ESC.RoleDisable(3)
    ESC.RoleDisable(166)
    ESC.RoleDisable(13)
    ESC.RoleDisable(6)
    ESC.RoleDisable(29995)

    ESC.RoleMove(1, 11, 21)
    ESC.TakeActData(1, 92, 60-5, 5)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(250)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼半開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(250)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(150)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼半開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(150)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼半開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)


    ESC.AddHeadSign(1, 0)


    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼半開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼半開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼閉
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.ChangeDIR(1, 5) -- 賽特睡醒眨眼開
    ESC.ChangeQQ(1, 60-5)
    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 5) -- 賽特半坐
    ESC.ChangeQQ(1, 61-5)
    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)




    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS4718')) -- ESS=原來是做夢……%N剛才夢到好多%C2以前...
    ESC.WaitDLG(1)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    ESC.ChangeDIR(1, 5) -- 賽特半蹲
    ESC.ChangeQQ(1, 61-5)
    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(300)



    ESC.TakeActData(1, 92, Const.STAND, 5)
    ESC.Delay(200)


    ESC.ChangeACT(1, 92)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 3)
    ESC.BatchMove(1,    1, 27, 17)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.Delay(200)



    Scene.Print_WS(1,9008,8*2,3*2,StringDB('ESS4719')) -- ESS=這是哪裏……？%N氣勢好宏偉的大城啊──...
    ESC.WaitDLG(1)

-- ──────────────────────────────────────【物換星移】

    ESC.TakeActData(1, 92, Const.STAND, 5)


    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4720')) -- ESS=妮可！%N妮可───
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 92, 0, 5)
    ESC.Delay(500)


    ESC.AddHeadSign(1, 1)
    ESC.Delay(350)
    ESC.DelHeadSign(1)


    ESC.TakeActData(1, 92, Const.STAND, 6)
    ESC.Delay(350)



    Scene.Print_WS(1,9008,5*2,2*2,StringDB('ESS4721')) -- ESS=卡瑪──%N安卡──
    ESC.WaitDLG(1)


    ESC.TakeActData(1, 92, Const.STAND, 5)
    ESC.Delay(200)
    ESC.TakeActData(1, 92, 0, 6)
    ESC.Delay(200)
    ESC.TakeActData(1, 92, Const.STAND, 5)
    ESC.Delay(300)
    ESC.TakeActData(1, 92, 0, 6)
    ESC.Delay(300)

    GameFunc.FlagOn(7067) -- 賽特穿中東衣服


    ESC.AddHeadSign(1, 1)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    Scene.Print_WS(1,9008,10*2,3*2,StringDB('ESS4722')) -- ESS=怎麼回事……%N三個人都不在瓷壺裏…上哪...
    ESC.WaitDLG(1)


    ESC.SetRoleSpeed(1, 2)
    ESC.ChangeACT(1, 92)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 20+1, 23-1)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeQQ(1, Const.STAND)



    ESC.StoryMusic(124, 0, 0x8000) -- 【劇情配樂】晴天霹靂


    ESC.PlayACT(0, 250, 210, 622, 5) -- Scene.PlayACT(0, 195, 235, 622, 5) -- 姆斯比爾閃光
    ESC.RoleEnable(6)
    ESC.RoleEnable(29995)
    ESC.TakeActData(6, 6, 0, 5)


    ESC.ChangeDIR(6, 5)
    ESC.ChangeQQ(6, 0)
    ESC.SeekACT(6, 0)
    Scene.SAR_ACTCycle(6, 0)


    ESC.ChangeDIR(1, 2)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1)


    ESC.Caption(6)
    Scene.Print_SL(6,9008,140,320,8*2,3*2,StringDB('ESS4723')) -- ESS=賽特主人！%N有什麼事要我們效勞嗎？
    ESC.WaitDLG(6)


    ESC.ChangeACT(1, 92)
    ESC.SetRoleSpeed(1, 0)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 22, 27)
    ESC.TakeActData(1, 92, Const.STAND, 5)
    ESC.Delay(50)



    ESC.ChangeDIR(1, 5)
    Scene.Print_WS(1,9008,7*2,3*2,'%S0'..StringDB('ESS4724')) -- ESS=糟了……%N我…我身上的武器呢───
    ESC.WaitDLG(1)

    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- ESC.PlayACT(0, 200, 170, 6011, 1) -- Scene.PlayACT(0, 270, 230, 6011, 1)
    ESC.TILPA2(0, 10)
    ESC.RoleEnable(13)
    ESC.TakeActData(13, 13, 8, 0)
    ESC.TILPA2(0, 26)



    ESC.TakeActData(1, 92, Const.STAND, 5)
    ESC.Delay(150)
    ESC.TakeActData(1, 92, Const.STAND, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(1)


    ESC.Caption(13)
    Scene.Print_SL(13,9008,340,40,7*2,3*2,StringDB('ESS4725')) -- ESS=主人！%N您有什麼事情要吩咐我們嗎？
    ESC.WaitDLG(13)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,10*2,3*2,StringDB('ESS4726')) -- ESS=藍魔神%C4……？%N妳怎麼也在這裏──...
    ESC.WaitDLG(1)


    ESC.Caption(13)
    Scene.Print_SL(13,9008,340,40,11*2,4*2,StringDB('ESS4727')) -- ESS=主人，您說什麼啊？%N是您把我釋放出來，...
    ESC.WaitDLG(13)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(1)


    Scene.Print_SL(13,9008,340,40,7*2,3*2,StringDB('ESS4728')) -- ESS=主人，%N您有什麼吩咐要我們去做嗎？
    ESC.WaitDLG(13)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(900)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,2*2,StringDB('ESS4729')) -- ESS=這…一時沒有，%N你們先退下吧──
    ESC.WaitDLG(1)



    Scene.Print_SL(6,9008,280,120,4*2,1*2,StringDB('ESS4730')) -- ESS=遵命──
    ESC.WaitDLG(6)



    Scene.PlayACT(0, 195, 235, 622, 5) -- 兩魔神消失
    ESC.PlayACT(0, -10, 30, 6011, 1, 13) -- ESC.PlayACT(0, 200, 170, 6011, 1) -- Scene.PlayACT(0, 270, 230, 6011, 1)
    ESC.TILPA2(0, 3)
    ESC.TakeActData(6 , 6, 31, 0)
    ESC.TakeActData(13 , 13, 31, 0)
    ESC.TILPA1(6, 5)
    ESC.RoleDisable(6)
    ESC.TILPA1(13, 5)
    ESC.RoleDisable(13)
    ESC.RoleDisable(29995)
    ESC.Delay(1400)



    ESC.ChangeACT(1, 92)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(1, 3)
    ESC.BatchMove(1,    1, 20, 20)
    ESC.TakeActData(1, 92, Const.STAND, 0)
    ESC.Delay(400)



    ESC.Caption(1)
    Scene.Print_WS(1,9008,8*2,2*2,StringDB('ESS4731')) -- ESS=這、這到底是怎麼一回事──
    ESC.WaitDLG(1)


    ESC.StoryMusic(72, 72, 0x2000) -- 【劇情配樂】伊斯蘭宮

    ESC.RoleEnable(166) -- 莫雷出現
    ESC.BatchMove2(1,    166, 30, 28, -1, Const.STAND,4)

    ESC.Caption(166)
    Scene.Print_WS(166,9008,11*2,3*2,StringDB('ESS4732')) -- ESS=埃米爾大人，%C2法蘭克皇帝%C4和%C...
    ESC.WaitDLG(166)


    ESC.AddHeadSign(1, 0)
    ESC.Delay(400)
    ESC.DelHeadSign(1)



    ESC.ChangeDIR(1, 5)
    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4733')) -- ESS=……咦，你不是那個%C2莫雷%C4嗎？
    ESC.WaitDLG(1)



    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4734')) -- ESS=剛才你稱呼我什麼──
    ESC.WaitDLG(1)


    ESC.Caption(166)
    Scene.Print_WS(166,9008,10*2,3*2,StringDB('ESS4735')) -- ESS=賽特大人，您是%C2巴格達%C4的%C2...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,6*2,3*2,StringDB('ESS4736')) -- ESS=我……？%N巴格達的……埃米爾？
    ESC.WaitDLG(1)


    Scene.Print_WS(166,9008,12*2,4*2,StringDB('ESS4737')) -- ESS=是呀！%N那是目前我們%C2伊斯蘭帝國%...
    ESC.WaitDLG(166)


    Scene.Print_WS(166,9008,12*2,4*2,StringDB('ESS4738')) -- ESS=您看，窗外這麼宏偉的%C2巴格達城%C4...
    ESC.WaitDLG(166)


    ESC.ChangeDIR(1, 0)
    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4739')) -- ESS=……是嗎？%N這些建築是我蓋出來的？
    ESC.WaitDLG(1)


    ESC.RoleEnable(3) -- 薇達出現
    ESC.BatchMove2(1,    3, 25, 31, 3, Const.STAND,7)


    ESC.Caption(3)
    Scene.Print_SL(3,9008,86,320,10*2,4*2,'%C2'..StringDB('ESS4740')) -- ESS=莫雷將軍%C4，%N實在是不好意思……%...
    ESC.WaitDLG(3)


    ESC.ChangeDIR(1, 5)
    Scene.Print_WS(1,9008,5*2,1*2,StringDB('ESS154')) -- ESS=薇達──？
    ESC.WaitDLG(1)



    ESC.TurnFace(166, 3)
    Scene.Print_SL(3,9008,70,320,12*2,4*2,StringDB('ESS4741')) -- ESS=夫君他每次夢到%C2過去的事%C4，醒來...
    ESC.WaitDLG(3)



    ESC.Caption(166)
    Scene.Print_WS(166,9008,12*2,4*2,StringDB('ESS4742')) -- ESS=別這麼說，薇達夫人，%N說實在的，賽特大...
    ESC.WaitDLG(166)



    Scene.Print_WS(166,9008,13*2,4*2,StringDB('ESS4743')) -- ESS=結婚之後，你倆不但感情融洽，而且夫妻一同...
    ESC.WaitDLG(166)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4744')) -- ESS=……我和%C2薇達%C4結婚了？
    ESC.WaitDLG(1)


    ESC.Caption(3)
    Scene.Print_SL(3,9008,100,320,9*2,4*2,''..StringDB('ESS4745')) -- ESS=莫雷將軍，%N麻煩您先幫我招呼一下客人，...
    ESC.WaitDLG(3)



    ESC.Caption(166)
    Scene.Print_WS(166,9008,8*2,2*2,StringDB('ESS4746')) -- ESS=是的，薇達夫人！我這就去───
    ESC.WaitDLG(166)


    ESC.ChangeQQ(166, Const.WALK)
    ESC.BatchMove(1,    166, 29, 35)
    ESC.RoleDisable(166)


    ESC.SetRoleSpeed(3, 2)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove2(1,    3, 24-2, 23-1, 3, Const.STAND,4)



    ESC.Caption(3)
    Scene.Print_SL(3,9008,100,320,9*2,3*2,StringDB('ESS4747')) -- ESS=賽特夫君，%N您今天怎麼啦……失憶得特別...
    ESC.WaitDLG(3)



    Scene.Print_SL(3,9008,100,320,9*2,4*2,StringDB('ESS4748')) -- ESS=來，放鬆心情些……%N看著我的臉仔細慢慢...
    ESC.WaitDLG(3)



    ESC.AddHeadSign(1, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(1)


    ESC.Caption(1)
    Scene.Print_WS(1,9008,7*2,3*2,StringDB('ESS4749')) -- ESS=……你是薇達，%N是我……最摯愛之妻子…...
    ESC.WaitDLG(1)



    Scene.Print_WS(1,9008,11*2,4*2,StringDB('ESS4750')) -- ESS=啊，對了…想起來了！%N我是埃米爾．賽特...
    ESC.WaitDLG(1)


    ESC.SetRoleSpeed(3, 3)
    ESC.ChangeQQ(3, Const.WALK)
    ESC.BatchMove2(1,    3, 19, 21, 3, Const.STAND,7)


    ESC.Caption(3)
    Scene.Print_SL(3,9008,70,320,7*2,3*2,StringDB('ESS4751')) -- ESS=太好了，夫君！您終於都想起來了？
    ESC.WaitDLG(3)


    ESC.ChangeDIR(3, 5) -- 薇達側站
    ESC.ChangeQQ(3, 66-5)
    ESC.SeekACT(3, 1)
    Scene.SAR_ACTCycle(3, 0)
    ESC.Delay(100)


    Scene.Print_SL(3,9008,70,320,11*2,4*2,StringDB('ESS4752')) -- ESS=來，您%C2五年前的最大心願%C4就快要...
    ESC.WaitDLG(3)


    ESC.AddParty(3) -- 薇達加入
    ItemFunc.AddItem(63, 1) -- 姆斯比爾成為物品
    ItemFunc.AddItem(64, 1) -- 藍魔神成為物品


    Scene.BattleSupportOn(3) -- 薇達 -- 薇達加入
    GameFunc.FlagOn(1061) -- 和薇達講過話了
    GameFunc.FlagOff(10)


    Scene.QuestOff(288)
    Scene.QuestOn(289)

end

-- 石國商人
function Scene.TALK4401()
    ESC.TurnFace(Const.TOWN, 1)
    Scene.M_PrintW_C(4401, 6, 3, StringDB('ESS4753')) -- ESS=來！來！來！各式各樣的貨應有盡有。
    -- 交易選單
    ESC.OpenStore(627, 628, 626, 639, 698, 697, 644, 649, 657, 0)
    ESC.FitSize()
    Scene.AutoPrint_C(4401, StringDB('ESS4754')) -- ESS=多謝！多謝！
    ESC.ChangeDIR(4401, 1)
end

function Scene.TALK4402()
    ESC.TurnFace(Const.TOWN, 1)
    Scene.M_PrintW_C(4402, 9, 2, StringDB('ESS4755')) -- ESS=我家的店童叟無欺，客倌請安心選購。
    -- 交易選單
    ESC.OpenStore(554, 555, 568, 569, 979, 995, 1031, 883, 0)
    ESC.FitSize()
    Scene.AutoPrint_C(4402, StringDB('ESS4756')) -- ESS=謝謝！請再來喔。
    ESC.ChangeDIR(Const.TOWN, 1)
end

function Scene.TALK4403()
    ESC.FitSize()
    Scene.AutoPrint_C(4403, StringDB('ESS2649')) -- ESS=您好！歡迎光臨！
    ESC.Print(4403,9005,StringDB('ESS4757')..'%N'..StringDB('SESS2')) -- ESS=住宿一夜是300金，您要住嗎？%N%B（...
    ESC.WaitDLG(4403)
    local select = ESC.GetBTNSelect()
    if select == 2 then
        Scene.AutoPrint_C(4403, StringDB('ESS2645')) -- ESS=謝謝光臨！
        return
    end

    if Scene.AUTO_VCMONEY(300,4403,9005) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(281 , 39, 20, 1, 0, 1)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -300 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 15)
    ESC.FadeWait()
end

function Scene.TALK4404()
    if ESC.GetRoleToPosDistance(40, 23, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 823, '%T823.')
end

function Scene.TALK4405()
    if ESC.GetRoleToPosDistance(117, 22, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 797, '%T797.')
end

function Scene.TALK4406()
    if ESC.GetRoleToPosDistance(111, 43, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4758')) return end --  檢查主角是否在旁邊 ESS=距離太遠了。
    if Scene.CheckQQ(4406, 8) then Scene.WORD_ON_HEAD(Const.TOWN, 5, 30, -60, '%K'..StringDB('ESS3896')) return end -- ESS=寶箱是空的！
    Scene.M_PrintW_C(4406, 12, 4, StringDB('ESS4759')..'%N'..StringDB('SESS2')) -- ESS=善人們，請問你們有沒有%T658.？如果...

    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4406B
    end

::T4406A::
    if Function.GetItemCount(658)>0 then
        goto T4406A1
    end
    goto T4406B1

::T4406A1::
    Scene.Print_W(4406,9005,9*2,1*2,StringDB('ESS4760')) -- ESS=太好了，多謝大俠。
    ESC.WaitDLG(4406)
    Scene.GetItem(150)
    ItemFunc.AddItem(658, -1)
    ESC.ChangeQQ(4406, Const.WALK)
    ESC.SceneBreak()


::T4406B::
    ESC.Caption(4406)
    Scene.Print_W(4406,9005,8*2,2*2,StringDB('ESS4761')) -- ESS=嗚──，我何時才能重見天日呢？
    ESC.WaitDLG(4406)
    ESC.SceneBreak()

::T4406B1::
    Scene.Print_W(4406,9005,8*2,2*2,StringDB('ESS4762')) -- ESS=我需要破元仙露，麻煩你了。
    ESC.WaitDLG(4406)
end

-- 怛羅斯   寶物均採距離限制
function Scene.TALK4407()
    Scene.SearchFlower(647)
end

function Scene.TALK4408()
    if ESC.GetRoleToPosDistance(114, 33, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(630)
end

function Scene.TALK4409()
    if ESC.GetRoleToPosDistance(103, 26, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(670)
end

function Scene.TALK4410()
    if ESC.GetRoleToPosDistance(16, 13, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4410, 768, '%T768.' ) -- 空白符咒
    ESC.SceneBreak()
end

function Scene.TALK4411()
    if ESC.GetRoleToPosDistance(16, 61, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4758')) return end --  檢查主角是否在旁邊 ESS=距離太遠了。
    Scene.SearchFlower(723)
end

function Scene.TALK4412()
    if ESC.GetRoleToPosDistance(68, 12, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(693)
end

function Scene.TALK4413()
    if ESC.GetRoleToPosDistance(98, 13, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(630)
end

function Scene.TALK4414()
    if ESC.GetRoleToPosDistance(60, 65, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(636)
end

function Scene.TALK4415()
    if ESC.GetRoleToPosDistance(108, 20, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(630)
end

function Scene.TALK4416()
    if ESC.GetRoleToPosDistance(86, 56, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(621)
end

function Scene.TALK4417()
    if ESC.GetRoleToPosDistance(87, 45, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(723)
end

function Scene.TALK4418()
    if ESC.GetRoleToPosDistance(62, 12, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS4763')) return end --  檢查主角是否在旁邊 ESS=距離太遠，摘不到花草！
    Scene.SearchFlower(636)
end
-- 東都道觀的寶箱
function Scene.TALK4419()
    if ESC.GetRoleToPosDistance(36, 62, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 796, '%T796.')
end

function Scene.TALK4420()
    if ESC.GetRoleToPosDistance(122, 70, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 1013, '%T1013.')
end

function Scene.TALK4421()
    Scene.SearchFlower(676)
end

function Scene.TALK4422()
    Scene.SearchFlower(685)
end

function Scene.TALK4423()
    if ESC.GetRoleToPosDistance(55, 18, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 941, '%T941.')
end

function Scene.TALK4424()
    if ESC.GetRoleToPosDistance(55, 31, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 628, '%T628.')
end

function Scene.TALK4425()
    if ESC.GetRoleToPosDistance(102, 42, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 881, '%T881.')
end

function Scene.TALK4426()
    Scene.OpenChest(Const.TOWN, 621, '%T621.')
end

function Scene.TALK4427()
    if ESC.GetRoleToPosDistance(44, 62, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 545, '%T545.')
end

function Scene.TALK4428()
    if ESC.GetRoleToPosDistance(53, 16, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(Const.TOWN, 785, '%T785.')
end

function Scene.TALK4429()
    if ESC.GetRoleToPosDistance(90, 27, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4429, 795, '%T795.')
end

function Scene.TALK4430()
    if ESC.GetRoleToPosDistance(104, 71, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4430, 645, '%T645.')
end
-- 長安西市商人
-- 武器老闆
function Scene.TALK4431()
    local select
    ESC.Caption(4431)
    Scene.Print_W(4431,9005,10*2,2*2,StringDB('ESS4764')) -- ESS=這位英雄，%N挑一把稱手的兵器吧!!
    ESC.WaitDLG(4431)
    if GameFunc.GetFlag(3549) then goto T4431A end
    if not Function.CheckEquip(578) and Function.GetItemCount(578) == 0 then goto T4431A end
    Scene.Print_W(4431,9005,10*2,5*2,StringDB('ESS4765')) -- ESS=咦？我注意到英雄的身上有把尚未開封的中國...
    ESC.WaitDLG(4431)
    if not Function.CheckEquip(578) then
        goto T4431B
    end
    Scene.Print_W(4431,9005,7*2,2*2,StringDB('ESS3903')) -- ESS=可是請先將它卸下裝備。
    ESC.WaitDLG(4431)
    ESC.SceneBreak()
::T4431B::
    Scene.Print_W(4431,9005,10*2,5*2,StringDB('ESS4766')) -- ESS=不過開封的過程非常費事，極耗精力，所以得...
    ESC.WaitDLG(4431)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4431Y
    else
        goto T4431N
    end
::T4431A::
    ESC.Caption(4431)
    Scene.Print_W(4431,9005,9*2,2*2,StringDB('ESS4767')) -- ESS=請您看看我這兒現成的有沒有您需要的？
    ESC.WaitDLG(4431)

    ESC.OpenStore(509, 511, 525, 529, 548, 550, 555, 557, 863, 866, 885, 1008, 1037, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4431, StringDB('ESS4768')) -- ESS=真謝謝您啦!!
    ESC.SceneBreak()
::T4431Y::
    if Scene.AUTO_VCMONEY(2000,4431,9005) then return end
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -2000
    ItemFunc.AddItem(578 , -1)
    ItemFunc.AddItem(514 , 1)
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0%K'..StringDB('ESS4769')) -- ESS=得到%C8魚腸劍
    ESC.Caption(4431)
    Scene.Print_W(4431,9005,10*2,2*2,StringDB('ESS4770')) -- ESS=請您再看看我這兒現成的有沒有您需要的？
    ESC.WaitDLG(4431)
    ESC.OpenStore(509, 511, 525, 529, 548, 550, 555, 557, 863, 866, 885, 1008, 1037, 0)
    ESC.FitSize()
    Scene.AutoPrint_C(4431, StringDB('ESS4768')) -- ESS=真謝謝您啦!!
    GameFunc.FlagOn(3549)
    ESC.SceneBreak()
::T4431N::
    ESC.Caption(4431)
    Scene.Print_W(4431,9005,9*2,4*2,StringDB('ESS4771')) -- ESS=好吧！那就算了，不過您還是可以看看我這兒...
    ESC.WaitDLG(4431)

    ESC.OpenStore(509, 511, 525, 529, 548, 550, 555, 557, 863, 866, 885, 1008, 1037, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4431, StringDB('ESS4768')) -- ESS=真謝謝您啦!!
    GameFunc.FlagOn(3549)
end
----------- 旅店老闆--------------------------
function Scene.TALK4432()
    ESC.FitSize()
    Scene.AutoPrint_C(4432, StringDB('ESS4772')) -- ESS=客官，您好！
    ESC.Print(4432,9005,StringDB('ESS4773')..'%N'..StringDB('SESS2')) -- ESS=投宿一夜是350金，您要投宿嗎？%N%B...
    ESC.WaitDLG(4432)
    local select = ESC.GetBTNSelect()
    if select == 2 then
        Scene.AutoPrint_C(4432, StringDB('ESS4774')) -- ESS=記得要再來我們悅來客棧呀！
        return
    end

    if Scene.AUTO_VCMONEY(350,4432,9005) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(122 , 73, 41, 1, 0, 1)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -350 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ChangeDIR(4432, 1)
end
----------- 雜貨老闆--------------------------
function Scene.TALK4433()
    Scene.AutoPrint_C(4433, StringDB('ESS4775')) -- ESS=這位官人，我這鋪子貨品齊全，您就慢慢看吧...

    ESC.OpenStore(696, 697, 569, 570, 1059, 979, 980, 991, 1001, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4433, StringDB('ESS4776')) -- ESS=有空記得再光顧吆!!
end
----------- 藥店老闆--------------------------
function Scene.TALK4434()
    Scene.AutoPrint_C(4434, StringDB('ESS4777')) -- ESS=我們長生藥房可是老店，您要甚麼藥材，儘管...

    ESC.OpenStore(628, 631, 650, 651, 644, 648, 647, 649, 653, 655, 659, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4434, StringDB('ESS4778')) -- ESS=有需要甚麼藥材再來喔。
end
-- 天山寶箱
function Scene.TALK4435()
    Scene.SearchFlower(630) -- 630嘉果
end

function Scene.TALK4436()
    Scene.OpenChest(4436, 768, '%T768.' ) -- 768空白符紙
end

function Scene.TALK4437()
    Scene.OpenChest(4437, 698, '%T698.' ) -- 698諸方神石
end

function Scene.TALK4438()
    Scene.SearchFlower(1028) -- 隱1028鬼雲
end

function Scene.TALK4439()
    Scene.OpenChest(4439, 628, '%T628.' ) -- 628金創藥
end

function Scene.TALK4440()
    Scene.OpenChest(4440, 950, '%T950.' ) -- 950暗殺寶錄
end

function Scene.TALK4441()
    Scene.SearchFlower(544) -- 544太皇刀--藍牙
end

function Scene.TALK4442()
    Scene.OpenChest(4442, 651, '%T651.' ) -- 651溶石藥劑
end

function Scene.TALK4443()
    Scene.OpenChest(4443, 657, '%T657.' ) -- 657聖言石
end

function Scene.TALK4444()
    Scene.SearchFlower(708) -- 708羅漢袈裟
end

function Scene.TALK4445()
    if ESC.GetRoleToPosDistance(46, 43, 1) > 8 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4445, 775, '%T775.' ) -- 775魔晶礦 D
end

function Scene.TALK4446()
    Scene.OpenChest(4446, 817, '%T817.' ) -- 817金塊
end

function Scene.TALK4447()
    Scene.OpenChest(4447, 776, '%T776.' ) -- 776機關設計圖1
end

function Scene.TALK4448()
    Scene.SearchFlower(643) -- 643天山雪蓮
end

function Scene.TALK4449()
    if ESC.GetRoleToPosDistance(72, 22, 1) > 8 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4449, 645, '%T645.' ) -- 645輪迴盤
end

function Scene.TALK4450()
    if ESC.GetRoleToPosDistance(79, 57, 1) > 8 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4450, 568, '%T568.' ) -- 568翔羽葉
end

function Scene.TALK4451()
    Scene.SearchFlower(646) -- 646仙蓮子
end

function Scene.TALK4452()
    if ESC.GetRoleToPosDistance(57, 60, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS3897')) return end --  檢查主角是否在旁邊 ESS=距離太遠，無法開啟寶箱！
    Scene.OpenChest(4452, 510, '%T510.' ) -- 510崙凰劍
end
-- 洛陽商人
function Scene.TALK4453()
    ESC.FitSize()
    Scene.AutoPrint_C(4453, StringDB('ESS4772')) -- ESS=客官，您好！
    ESC.Print(4453,9005,StringDB('ESS4779')..'%N'..StringDB('SESS2')) -- ESS=投宿一夜是400金，您要投宿嗎？%N%B...
    ESC.WaitDLG(4453)
    local select = ESC.GetBTNSelect()
    if select == 2 then
        Scene.AutoPrint_C(4453, StringDB('ESS4780')) -- ESS=記得要再來我們上御客棧呀！
        return
    end


::T4453B::
    if Scene.AUTO_VCMONEY(400,4453,9005) then return end
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(134 , 63, 36, 1, 0, 1)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -400 -- ●賽特扣除銀幣
    Scene.FullHeal()    -- ●賽特補血
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end
-- 雜貨舖
function Scene.TALK4454()
    Scene.AutoPrint_C(4454, StringDB('ESS4781')) -- ESS=這位公子，我們鋪子應有盡有，您慢慢選吧!...

    ESC.OpenStore(696, 697, 572, 574, 1048, 980, 992, 1001, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4454, StringDB('ESS4782')) -- ESS=記得再來吆!!
end
-- 藥材店
function Scene.TALK4455()
    if GameFunc.GetFlag(528) then goto T4455A end
    Scene.AutoPrint_C(4455, StringDB('ESS4783')) -- ESS=我們回春堂藥材齊全，您要抓甚麼藥，儘管挑...

    ESC.OpenStore(631, 633, 639, 650, 651, 644, 648, 647, 653, 655, 659, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4455, StringDB('ESS4784')) -- ESS=有欠缺甚麼藥材，要再來喔。
    ESC.SceneBreak()

::T4455A::
    Scene.AutoPrint_C(4455, StringDB('ESS4785')) -- ESS=耶！客倌你來的正好，本堂今天剛進了%N一...

    ESC.OpenStore(631, 633, 634, 635, 639, 640, 650, 661, 662, 651, 648, 653, 655, 659, 658, 0)

    ESC.FitSize()
    Scene.AutoPrint_C(4455, StringDB('ESS4784')) -- ESS=有欠缺甚麼藥材，要再來喔。
end

function Scene.TALK4456()
    Scene.SearchFlower(628) -- 628金創藥
end

function Scene.TALK4457()
    Scene.SearchFlower(679) -- 679飛翔魔油
end

function Scene.TALK4458()
    Scene.SearchFlower(704) -- 704風行符
end

function Scene.TALK4459()
    Scene.SearchFlower(641) -- 641仙爐灰
end

function Scene.TALK4460()
    Scene.SearchFlower(769) -- 769靈界指標
end

function Scene.TALK4461()
    Scene.OpenChest(4461, 819, '%T819.' ) -- 819歌星唱片
end

function Scene.TALK4462()
    Scene.OpenChest(Const.TOWN, 644, '%T644.' ) -- 644還魂丹
end

function Scene.TALK4463()
    Scene.OpenChest(4463, 671, '%T671.' ) -- 671豐饒之角
end

function Scene.TALK4464()
    Scene.OpenChest(4464, 628, '%T628.' ) -- 628金創藥
end

function Scene.TALK4465()
    Scene.OpenChest(4465, 623, '%T623.' ) -- 623聖石榴
end

function Scene.TALK4466()
    Scene.OpenChest(4466, 814, '%T814.' ) -- 814炭粉
end

function Scene.TALK4467()
    Scene.SearchFlower(940) -- 940姜公膽
end

function Scene.TALK4468()
    Scene.OpenChest(4468, 628, '%T628.' ) -- 628金創藥
end

function Scene.TALK4469()
    Scene.OpenChest(4469, 859, '%T859.' ) -- 859啻浪奇甲
end

function Scene.TALK4470()
    Scene.OpenChest(4470, 816, '%T816.' ) -- 816竹筒
end

function Scene.TALK4471()
    Scene.OpenChest(4471, 721, '%T721.' ) -- 721海檸果
end

function Scene.TALK4472()
    Scene.SearchFlower(943) -- 943乾坤袋
end

function Scene.TALK4473()
    Scene.OpenChest(4473, 696, '%T696.' ) -- 696土地神符
end

function Scene.TALK4474()
    Scene.SearchFlower(778) -- 778機關設計圖3
end

function Scene.TALK4475()
    Scene.SearchFlower(711) -- 711白皙葫蘆
end

function Scene.TALK4476()
    Scene.SearchFlower(650) -- 650柴胡乾葛草
end

function Scene.TALK4477()
    Scene.SearchFlower(661) -- 661七葉蓮標
end

function Scene.TALK4478()
    Scene.OpenChest(4478, 812, '%T812.' ) -- 812硝石
end

function Scene.TALK4479()
    Scene.SearchFlower(786) -- 786食譜--五
end

function Scene.TALK4480()
    Scene.OpenChest(4480, 813, '%T813.' ) -- 813硫磺
end

function Scene.TALK4481()
    Scene.SearchFlower(939) -- 939星君眼
end

function Scene.TALK4482()
    Scene.SearchFlower(821) -- 821俱樂部會員卡
end

function Scene.TALK4483()
    Scene.SearchFlower(540) -- 540鬼眼法刀
end

function Scene.TALK4484()
    Scene.SearchFlower(670) -- 670香伯葉
end

function Scene.TALK4485()
    Scene.SearchFlower(781) -- 781機關設計圖6
end

function Scene.TALK4486()
    Scene.OpenChest(4486, 930, '%T930.' ) -- 930靈虛扇
end

function Scene.TALK4487()
    Scene.OpenChest(4487, 831, '%T831.')
end

function Scene.TALK4488()
    Scene.OpenChest(4488, 546, '%T546.')
end

function Scene.TALK4489()
    Scene.OpenChest(4489, 516, '%T516.')
end

function Scene.TALK4490()
    Scene.OpenChest(4490, 531, '%T531.')
end

function Scene.TALK4491()
    Scene.OpenChest(4491, 576, '%T576.')
end

function Scene.TALK4492()
    Scene.OpenChest(4492, 886, '%T886.')
end

function Scene.TALK4493()
    Scene.OpenChest(4493, 887, '%T887.')
end

function Scene.TALK4494()
    Scene.OpenChest(4494, 898, '%T898.')
end

function Scene.TALK4495()
    Scene.OpenChest(4495, 1053, '%T1053.')
end

function Scene.TALK4496()
    Scene.OpenChest(4496, 768, '%T768.')
end

function Scene.TALK4497()
    Scene.OpenChest(4497, 541, '%T541.')
end

function Scene.TALK4498()
    Scene.OpenChest(4498, 869, '%T869.')
end

function Scene.TALK4499()
    Scene.SearchFlower(905)
end

function Scene.TALK4500()
    Scene.SearchFlower(822)
end

function Scene.TALK4501()
    Scene.OpenChest(4501, 952, '%T952.')
end

function Scene.TALK4502()
    Scene.OpenChest(4502, 1030, '%T1030.')
end

function Scene.TALK4503()
    Scene.SearchFlower(652)
end

function Scene.TALK4504()
    Scene.SearchFlower(1015)
end

function Scene.TALK4505()
    Scene.SearchFlower(982)
end

function Scene.TALK4506()
    Scene.OpenChest(4506, 919, '%T919.')
end

function Scene.TALK4507()
    Scene.SearchFlower(915)
end

function Scene.TALK4508()
    Scene.OpenChest(4508, 1039, '%T1039.')
end

function Scene.TALK4509()
    Scene.OpenChest(4509, 1017, '%T1017.')
end

function Scene.TALK4510()
    Scene.SearchFlower(515)
end

function Scene.TALK4511()
    Scene.OpenChest(4511, 562, '%T562.')
end

function Scene.TALK4512()
    Scene.OpenChest(4512, 871, '%T871.')
end

function Scene.TALK4513()
    if Scene.CheckQQ(4513, 8) then goto T4513 end
    Scene.M_PrintW_C(4513, 15, 4, StringDB('ESS4786')) -- ESS=賽特你聽著，吾乃天界之神，今知你有難特地...

    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4513B
    elseif select == 3 then
        goto T4513C
    end

    ESC.ChangeQQ(4513, 8)
    Scene.M_PrintW_C(4513, 8, 2, StringDB('ESS4787')) -- ESS=希望你的抉擇是對的，祝你順利！
    Scene.GetItem(518, '%T518.')
    ESC.SceneBreak()

::T4513B::
    ESC.ChangeQQ(4513, 8)
    Scene.M_PrintW_C(4513, 8, 2, StringDB('ESS4787')) -- ESS=希望你的抉擇是對的，祝你順利！
    Scene.GetItem(519, '%T519.')
    ESC.SceneBreak()

::T4513C::
    ESC.ChangeQQ(4513, 8)
    Scene.M_PrintW_C(4513, 8, 2, StringDB('ESS4787')) -- ESS=希望你的抉擇是對的，祝你順利！
    Scene.GetItem(520, '%T520.')
    ESC.SceneBreak()

::T4513::
end

function Scene.TALK4514()
    Scene.OpenChest(4514, 768, '%T768.')
end

function Scene.TALK4515()
    Scene.OpenChest(4515, 879, '%T879.')
end

function Scene.TALK4516()
    Scene.SearchFlower(910)
end

function Scene.TALK4517()
    Scene.SearchFlower(1018)
end

function Scene.TALK4518()
    Scene.SearchFlower(825)
end

function Scene.TALK4001()
    -- 怛羅斯大地圖左方沙漠

    ESC.ChangeQQ(1, Const.STAND)
    Scene.Print_WS(1,9008,7*2,2*2,StringDB('ESS4788')) -- ESS=水跟食物都不夠再往回走……
    ESC.WaitDLG(1)

    Scene.MoveHero(7, 31, 3)
end



function Scene.TALK4002()
    if GameFunc.GetFlag(453) then goto T4002 end
    -- 第一次進天山
    GameFunc.FlagOn(453)
    GameFunc.FlagOn(448)
    ESC.ChangeRoleMap( 2, 305, 0, 56, 20, 2, 0, 1)
    ESC.ChangeRoleMap( 3, 307, 0, 33, 17, 3, 0, 6)
    ESC.ChangeRoleMap( 14, 283, 0, 96, 24, 14, 0, 6)
    ESC.ChangeRoleMap( 7, 286, 0, 54, 22, 7, 0, 6)
    ESC.RoleEnable(3)
    ESC.RoleEnable(2)
    ESC.RoleEnable(14)
    ESC.RoleEnable(7)
    ESC.ChangeScript(2, 'TALK4098')
    ESC.ChangeScript(3, 'TALK4099')
    ESC.ChangeScript(7, 'TALK4097')
    ESC.ChangeScript(14, 'TALK4096')
::T4002::
    Scene.ChangeMap(282, 2, 27, 3)
end





-- ──────────────────────────────────────【遠恩的故鄉】

function Scene.TALK4003()
    Scene.EnterCity_NPC(221, 4, 25, 7)

    if GameFunc.GetFlag(447) then goto T4003 end
    GameFunc.FlagOn(447)
    if GameFunc.GetFlag(462) then goto T4003 end  -- 天山事件已結束


    ESC.RemoveParty(10, 0,'TALK10',93,0,3,0xD000) -- 幻影慧彥
    ESC.ChangeDIR(10, 7)

    Scene.MoveHero(12, 22, 7)

    ESC.Delay(450)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(250)
    ESC.ChangeDIR(1, 7)



    Scene.MBOn(1, 8, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 1, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4789')) -- ESS=沒想到走到%C7遠恩%C5的故鄉%C7石...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 1)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4790')) -- ESS=賽特啊，%N%C7幻影%C5有時候比%C...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)


    ESC.ChangeDIR(1, 6)


    Scene.MBOn(1, 8, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4791')) -- ESS=慧彥師父，四年前我以%C7埃米爾%C5的...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4792')) -- ESS=所以今天我來到這裏，突然想起很多以前我們...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)


    Scene.MBOn(10, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4793')) -- ESS=遠恩施主也成故人了嗎？%N阿彌陀佛，白雲...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 1)




    ESC.AddParty(10)
::T4003::
end



-- ──────────────────────────────────────【進入怛羅斯峽谷】


function Scene.TALK4004()
    -- 怛羅斯右方→怛羅斯
    Scene.EnterCity_NPC(158, 163, 47, 6)
    if not GameFunc.GetFlag(446) then goto T4004A end
    GameFunc.FlagOff(12)
::T4004A::
end


function Scene.TALK4005()
    -- 怛羅斯左方->怛羅斯
    if not GameFunc.GetFlag(446) then goto T4005D end
    GameFunc.FlagOff(12)
::T4005D::

    if Function.GetItemCount(402) == 0 then -- 判斷身上有無駱駝
        goto T4005C
    end
    ESC.ChangeRoleMap(805, 158, 0, 33, 110, 402, Const.STAND , 3)
    ESC.ChangeRoleMap(806, 158, 0, 34, 109, 402, Const.STAND , 3)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    Scene.SAR_Shadow(805, 1)
    Scene.SAR_Shadow(806, 1)
    goto T4005B
::T4005C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T4005B::



    if GameFunc.GetFlag(436) then goto T4005 end -- 判斷是不是第一次到怛羅斯
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(436) -- 是否有放過擋路的小兵



    ESC.ChangeRoleMap(327, 158 , 0 , 32, 75, 416, 0 , 6)
    ESC.ChangeScript(327, 'TALK4036')
    ESC.RoleEnable(327)

    ESC.ChangeRoleMap(104, 158 , 0 , 50, 99, 416, 0 , 6)
    ESC.RoleEnable(104)
    Scene.SAR_Shadow(104, 1)
    Scene.EnterCity_NPC(158, 38, 110, 7)



    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK, 7, 0xD100)
    ESC.RemoveParty(24, 0 , 'TALK24', 24, Const.WALK, 7, 0xD100)
    ESC.RemoveParty(15, 0 , 'TALK15', 15, Const.WALK, 7, 0xD100)
    ESC.ChangeQQ(1, Const.WALK)

    ESC.BatchMove2(4,
    10, 44, 109, -1, 0, 7,
    24, 41, 107, -1, 0, 7,
    1, 41, 110, -1, 0, 7,
    15, 38, 109, -1, 0, 7)



    ESC.AddHeadSign(104, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(104)



    ESC.Caption(228)
    Scene.Print_WS(104,9005,6*2,2*2,StringDB('ESS4794')) -- ESS=站住！%N來者何人──
    ESC.WaitDLG(104)



    ESC.Caption(24)
    Scene.Print_WS(24,9005,11*2,3*2,StringDB('ESS4795')) -- ESS=我是高將軍的手下段秀實，這幾位是和我一起...
    ESC.WaitDLG(24)



    ESC.Caption(228)
    Scene.Print_WS(104,9005,11*2,4*2,StringDB('ESS4796')) -- ESS=原來是%C2段大人%C4啊……%N將軍有...
    ESC.WaitDLG(104)



    ESC.ChangeQQ(104, Const.WALK)
    ESC.BatchMove(1,    104, 50+11, 99-11)
    ESC.RoleDisable(104)



    ESC.AddHeadSign(15, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(15)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4797')) -- ESS=奇怪，這裏還是%C7阿拉伯%C5勢力範圍...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)


    ESC.ChangeDIR(10, 6)


    Scene.MBOn(10, 11, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4798')) -- ESS=唐軍的行軍速度，看來比預期中的更快……老...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4799')) -- ESS=哼，他們都行軍到這樣的地方來了，哪可能聽...
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.TurnFace(1, 15)


    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4800')) -- ESS=遠恩王子，就讓慧彥師父先試試看，%N成不...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4801')) -- ESS=對了，還有……%N待會遇到唐國人，千萬記...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(15, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10015, 1, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS1103')) -- ESS=哼……
    ESC.WaitDLG(1)
    ESC.MBOff(15, 1)
    ESC.DelHead(10015, 1)



    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 41+5, 110-5, -1, 0, 7)
    ESC.AddParty(24)

    ESC.AddHeadSign(10, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(10)

    ESC.ChangeDIR(24, 6)
    ESC.Delay(50)
    ESC.ChangeDIR(10, 6)
    ESC.Delay(400)

    ESC.AddParty(10)
    ESC.AddParty(15)


    GameFunc.FlagOff(10)

    Scene.QuestOff(284)
    Scene.QuestOn(285)

    ESC.SceneBreak()



::T4005::
    Scene.EnterCity_NPC(158, 38, 108, 7)
end



function Scene.TALK4046()
    -- 火燄山
    -- Scene.ChangeMap(64, 81, 183, 0)
end


function Scene.TALK4047()
    -- 美索不達米亞山區
    if Function.GetItemCount(402) == 0 then    -- 判斷有無駱駝
        goto T4047C
    end
    ESC.ChangeRoleMap(805, 61, 0, 86, 185, 402, Const.STAND , 2)
    ESC.ChangeRoleMap(806, 61, 0, 85, 184, 402, Const.STAND , 2)
    ESC.RoleEnable(805) -- 設駱駝出現
    ESC.RoleEnable(806)
    goto T4047B
::T4047C::
    ESC.RoleDisable(805) -- 把駱駝去掉
    ESC.RoleDisable(806)
::T4047B::
    Scene.ChangeMap(61, 81, 183, 0)
end


function Scene.TALK4048()
    -- 山洞出口
     --  是否在火燄山
    if GameFunc.MapID == 64 then goto T4048 end
    Scene.ChangeMap(6, 30, 10, 1)
    ESC.SceneBreak()
::T4048::
    Scene.ChangeMap(8, 23, 52, 1)
end






-- ──────────────────────────────────────【軒轅劍僮】

function Scene.TALK4049()
    local select
    -- 軒轅劍童


    Scene.SAR_TurnFace(35, 1) -- 設為會轉身

    if GameFunc.GetFlag(468) then

        goto T4049D
    end
    if GameFunc.GetFlag(463) then

        goto T4049C
    end
    if GameFunc.GetFlag(462) then
        goto T4049B
    end
    if GameFunc.GetFlag(459) then goto T4049A end -- 是否為第一次跟劍童說話

    GameFunc.FlagOn(459)
    GameFunc.FlagOn(10)



    ESC.ChangeQQ(1, 8)
    ESC.BatchMove(1,    1, 32, 43)
    ESC.ChangeQQ(1, 0)
    ESC.TurnFace(1, 35)
    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 23, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4802')) -- ESS=小朋友，%N你有聽說這附近住著%C7仙人...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 23)


    -- 軒轅劍僮環顧四方
    ESC.ChangeDIR(35, 3)
    ESC.Delay(350)
    ESC.ChangeDIR(35, 2)
    ESC.Delay(300)

    ESC.ChangeDIR(35, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(35, 2)
    ESC.Delay(350)



    Scene.MBOn(35, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10035, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4803')) -- ESS=小朋友……？%N這附近沒看到什麼小朋友啊...
    ESC.WaitDLG(1)
    ESC.MBOff(35, 0)
    ESC.DelHead(10035, 0)


    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4804')) -- ESS=小弟弟，我是在問你啊！%N你不是小朋友嗎...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 19)



    Scene.MBOn(35, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10035, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4805')) -- ESS=沒禮貌的傢伙──%N什麼小朋友，我可是大...
    ESC.WaitDLG(1)
    ESC.MBOff(35, 0)
    ESC.DelHead(10035, 0)



    Scene.MBOn(1, 9, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 19, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4806')) -- ESS=是是，好長的名字───%N那麼請問「大名...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 1)
    ESC.DelHead(10001, 19)



::T4049A::


    Scene.MBOn(35, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10035, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4807')) -- ESS=咳、咳……%N仙人已經在%C7石窟裏面%...
    ESC.WaitDLG(1)
    ESC.MBOff(35, 0)
    ESC.DelHead(10035, 0)



    ESC.TakeActData(35 , -1 , 62 , 0)


    GameFunc.FlagOff(10)
    ESC.SceneBreak()


-- ──────────────────────────────────────【軒轅劍僮的嘲笑】


::T4049B::
    ESC.TurnFace(35, 1)

    ESC.Caption(35)
    Scene.Print_WS(35,9005,10*2,3*2,StringDB('ESS4808')) -- ESS=你們真是遜斃了，竟然被人家玩弄了%C2五...
    ESC.WaitDLG(35)

    ESC.SceneBreak()



-- ──────────────────────────────────────【向劍僮賣封印之劍】

::T4049C::
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4809')) -- ESS=賽特，%N我想跟你一起去唐。
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS4810')) -- ESS=喔，要一起去嗎？
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4811'),1) -- ESS=但是……%N我還不能離開。
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4812'),3) -- ESS=我在這鎮壓一個上古的魔神，所以不能離開太...
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4813'),3) -- ESS=不過我有一個辦法。只要能找到代替我的寶物...
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4814'),2) -- ESS=像你身上的封印之劍就可以。
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS4815')) -- ESS=封印之劍我多的是，你要多少我都可以給你。...
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4816'),1) -- ESS=是嗎～？
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4817'),2) -- ESS=你有%C2十七把%C5封印之劍的話，我就可以離開這裏了。

    GameFunc.FlagOn(468)
::T4049D::
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4817')) -- ESS=你有%C2十七把%C5封印之劍的話，我就可以離開這裏了。
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS4818'),1) -- ESS=十七把封印之劍？%N%N 1﹒ %B夠　...
    select = ESC.GetBTNSelect()
    if select == 1 then
        if Function.GetItemCount(793) >= 17 then -- （若足夠）
            goto T4049E
        end
    end

    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS4819'),2) -- ESS=……對不起，身上不夠。
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4820')) -- ESS=唉……%N白高興了一場！
    ESC.SceneBreak()


-- ──────────────────────────────────────【東方魔王蚩尤】


::T4049E::
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS4821'),2) -- ESS=喔！你都拿去吧。
    ItemFunc.AddItem(793, -17) -- 扣封印之劍
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4822')) -- ESS=哈哈！有這麼多，那蚩尤也動彈不得了。
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS4823')) -- ESS=蚩尤？
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4824')) -- ESS=就是我看守的魔神。快！幫我把劍放在石室裏...
    --  （畫面轉到軒轅劍石室的壁畫前）
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(35, 240, 000, 15, 19, 35, 0, 5)
    ESC.GotoMap(240 , 19, 24, 1, 0, 0)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4825')) -- ESS=壁畫中的就是蚩尤。
    Scene.MoveHero(21-2, 14, 0)
    ESC.TurnFace(35, 1)
    Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS4826')) -- ESS=只要放劍就好了嗎？
    MediaFunc.PlaySound(313)
    Scene.AddHead(35+10000, 1, 50, 460)
    Scene.MBOn(2 , 8, 0 , 140-10 , 390-30, 32*11+30, 6*11+45)
    ESC.DLGClose(10001)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(5) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,'%C5'..StringDB('ESS4827')) -- ESS=不！不要碰到畫！
    ESC.ScreenShack(2, 4, 4, -4, -4, 4, -4, -4, 4, 0xFF00)
    ESC.WaitDLG2(10001)
    ESC.DLGClose(10001)
    ESC.DelHead(35+10000, 1)
    ESC.MBOff(2 , 0)
    ESC.MBWait()
    ESC.ScreenShackStop()
    GameFunc.FlagOn(43)
    -- 戰鬥
    ESC.StartBattle('BS176')
    ESC.RoleEnable(7015)
    ESC.Delay(600)
    ESC.TakeActData(1, -1, 0, 6)
    Scene.MAIN_TALKS_2(35, 8, 1, StringDB('ESS4828'),1) -- ESS=呼！好險。
    Scene.MAIN_TALKS_2(35, 8, 1, StringDB('ESS4829'),2) -- ESS=真是的，也不把給我話聽完，來，把劍給我。...
    ESC.ChangeQQ(35, Const.WALK)
    ESC.BatchMove2(1,    35, 16, 14, -1, 0, 7)
    ESC.ChangeDIR(1, 0)
    ESC.Delay(300)
    ESC.PlayACT(0, -175, -220, 6091, 1, 1) -- Scene.PlayACT(0, 150, 20, 6091, 1)
    ESC.TILPA2(0, 25)
    ESC.TurnFace(35, 1)
    ESC.TurnFace(1, 35)
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4830')) -- ESS=好，這樣一來，我就可以跟你出去玩了。
    Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS4831')) -- ESS=要跟著我？
    Scene.MAIN_TALKS_3(35, 8, 1, StringDB('ESS4832')) -- ESS=嗯，待在這裏太久了，真的很無聊哩。
    ESC.PlayACT(0, 0, 0, 6017, 1, 35) -- Scene.PlayACT(0, 270, 240, 6017, 1)
    ESC.TILPA2(0, 25)
    ESC.RoleDisable(35)
    ESC.TILPA2(0, 48)
    GameFunc.FlagOff(10)
    -- 劍童放入物品
    Scene.SearchFlower(35)
    -- ItemFunc.AddItem(35, 1) -- 加入劍童到物品
end



-- ──────────────────────────────────────【軒轅劍仙】

function Scene.TALK4050()
    -- 劍仙


    GameFunc.FlagOn(10)

    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 23, 21, -1, 0, 4)
    ESC.ChangeQQ(1, 0)


    Scene.MBOn(10, 11, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10010, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4833')) -- ESS=到了，賽特……%N這就是老衲所說的%C7...
    ESC.WaitDLG(1)
    ESC.MBOff(10, 0)
    ESC.DelHead(10010, 0)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 22, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4834')) -- ESS=慧彥師父，我完全沒見到任何人，只見到一把...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 22)




    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(96, 96, 0x2000) -- 【劇情配樂】長安琴聲


    MediaFunc.PlaySound(249)
    ESC.PlayACT(0, -144, -170, 6064, 1, 919) -- Scene.PlayACT(0, 170, 90, 6064, 1)
    ESC.TILPA2(0, 2)
    ESC.TILPA2(0, 45)
    ESC.RoleDisable(27)
    ESC.TakeActData(919, 27, Const.STAND, 1) -- 劍變成劍仙

    ESC.AddHeadSign(1, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(1)



    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4835')) -- ESS=怎麼回事？%N
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)

    ESC.ChangeDIR(919, 5)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4836')) -- ESS=毋需訝異，老身是%C7軒轅劍仙%C5，乃...
    ESC.WaitDLG(1)


    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4837')) -- ESS=小朋友，你惹上一個%C7大麻煩%C5，%...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)



    ESC.StoryMusic(124, 54, 0x2000) -- 【劇情配樂】晴天霹靂→麥爾斯



    ESC.ChangeDIR(919, 1)
    ESC.AddHeadSign(919, 0)
    ESC.Delay(700)
    ESC.DelHeadSign(919)

    ESC.Delay(300)

    ESC.AddHeadSign(919, 1)
    ESC.Delay(1000)
    ESC.DelHeadSign(919)

    ESC.Delay(300)



    Scene.MBOn(27, 11, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4838')) -- ESS=好傢伙……%N第一個麻煩還沒解決，第二個...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 1)




    ESC.ChangeQQ(919, 8)
    ESC.BatchMovePenetrate(919)
    ESC.BatchMove2(1,    919, 19, 27, -1, 0, 0)

    ESC.ChangeQQ(919, 0)
    ESC.ChangeDIR( 1, 6)
    ESC.ChangeDIR(10, 6)
    ESC.ChangeDIR(919, 1)




    Scene.MBOn(27, 11, 0, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10027, 0, 50, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4839')) -- ESS=來吧，小朋友，%N請跟老身一起到外頭一下...
    ESC.WaitDLG(1)
    ESC.MBOff(27, 1)
    ESC.DelHead(10027, 0)



    Scene.WORD_ON_HEAD(1, 10, 20, -75, '%C2'..StringDB('ESS1847')) -- ESS=？


    ESC.TakeActData(919, -1, 60, 1)
    ESC.RoleDisable(919)
    ESC.ChangeScript(919, '') -- 石室裏的軒轅劍
    ESC.RoleMove(35, 42, 42) -- 劍仙走出去

    GameFunc.FlagOn(461) -- 與軒轅劍仙對話過之後

    ESC.RoleMove(35, 46, 33) -- 軒轅劍僮
    ESC.ChangeQQ(35, Const.STAND)
    ESC.ChangeDIR(35, 6)

    ESC.ChangeRoleMap(16, 194, 0, 36, 36, 4, 0, 5) -- 麥爾斯（蜃樓王）
    ESC.ChangeRoleMap( 2, 194, 0, 34, 40, 2, 56, 1) -- 妮可哭
    ESC.ChangeRoleMap( 3, 194, 0, 36, 42, 3, 0, 7) -- 薇達
    ESC.ChangeRoleMap(27, 194, 0, 44, 32, 27, 0, 6) -- 軒轅劍仙

    ESC.RoleEnable(2)
    ESC.RoleEnable(3)
    ESC.RoleEnable(27)
    ESC.RoleEnable(16)


    ESC.ChangeACT(3, 3) -- 薇達側身
    ESC.ChangeDIR(3, 0)
    ESC.ChangeQQ(3, 66)
    ESC.SeekACT(3, 3)
    Scene.SAR_ACTCycle(3, 0)


    ESC.ChangeACT(16, 4) -- 麥爾斯持劍說
    ESC.ChangeQQ(16, 27-5)
    ESC.ChangeDIR(16, 5)
    ESC.SeekACT(16, 0)
    Scene.SAR_ACTCycle(16, 0)

    ESC.ChangeScript(27, '') -- 將對話暫時清掉
    ESC.ChangeScript(35, '')

    GameFunc.FlagOff(10)
end
    -- 這一段是我改掉,我覺得分兩段比較好(TMH)
--------------------------------- SCENE_EAST ------------------------------
-- 進洛陽之後的煉妖壺對話
function Scene.TALK2301()
    Scene.MAIN_TALKS_1(2, 3, 0, StringDB('ESS4840')) -- ESS=原來中國的妓院是這麼的豪華！
end

function Scene.TALK2302()
    -- 卡瑪 安卡
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4841')) -- ESS=哼！妓院那種鬼地方，我一刻也不想待。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4842')) -- ESS=人類的發情交易所……這可真有趣，喵～
end

function Scene.TALK2303()
    if GameFunc.GetFlag(580) then goto T2303A end
    GameFunc.FlagOn(580)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4843')) -- ESS=無論是我生前還是死後，都覺得妓院是很不可...
    ESC.SceneBreak()
::T2303A::
    GameFunc.FlagOff(580)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4844')) -- ESS=以金錢交易，來跟陌生人抱在一起，……真是...
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS4845')) -- ESS=你對妓院的見解真是獨特。
end
-- 西市殺人案   李靖的對話
function Scene.TALK2304()
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4846')) -- ESS=你知道黑壇教嗎？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4847')) -- ESS=我沒聽過黑壇教的事，我猜測可能是最近中國...
end
-- 廢墟事件後
function Scene.TALK2305()
    if GameFunc.GetFlag(581) then goto T2305 end
    GameFunc.FlagOn(581)
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4848')) -- ESS=那個康那里士也來了，那撒旦也在中國了。
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4849')) -- ESS=看來是這樣。
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4850')) -- ESS=他該不會想抓我回地獄？我們該怎麼辦？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4851')) -- ESS=這一點妳大可放心，撒旦絕不會只為了妳一個...
    Scene.MAIN_TALKS_1(2, 3, 20, StringDB('ESS4852')) -- ESS=哦？也對……那要是他順便來抓我回地獄怎麼...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4853')) -- ESS=妳想跟他去嗎？
    Scene.MAIN_TALKS_1(2, 3, 28, StringDB('ESS4854')) -- ESS=不！
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4855')) -- ESS=那我會幫妳的。
    Scene.MAIN_TALKS_1(2, 3, 14, StringDB('ESS4856')) -- ESS=嗯！
    ESC.SceneBreak()
::T2305::
    Scene.MAIN_TALKS_1(2, 3, 28, StringDB('ESS4857')) -- ESS=那個中國女人！搔首弄姿的，竟然還到處出風...
end

function Scene.TALK2306()
    if GameFunc.GetFlag(582) then goto T2306 end

    GameFunc.FlagOn(582)
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4858')) -- ESS=曼陀羅圖我在天竺時常看到，但從來沒看過這...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4859')) -- ESS=喵～有什麼關係，咱們也來改一個新的！
    ESC.SceneBreak()
::T2306::
    GameFunc.FlagOff(582)
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4860')) -- ESS=長安的女人真好命呀，沒有封建制度的階級歧...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4861')) -- ESS=也不像伊斯蘭國家，連個臉都不能露。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4862')) -- ESS=更好命的是，可以單獨逛街而不用擔心受侵害...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4863')) -- ESS=喵～，看來妳真的應該生在這裏。

end

function Scene.TALK2307()
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4864')) -- ESS=賽特，那個曼陀羅陣你還有印象嗎？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4865')) -- ESS=這……我不知道。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4866')) -- ESS=看來不只單純只是藝術品……。
end
-------王家爆炸案後
function Scene.TALK2308()
    -- 妮可
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4867')) -- ESS=這個討厭的笨女生雖然很煩人，不過看她現在...
end

function Scene.TALK2309()
    -- 李靖
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4868')) -- ESS=人生無常，禍福難料。王大善人有此因果，一般人連其因都很難察覺。
end

function Scene.TALK2310()
    -- 卡瑪安卡
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4869')) -- ESS=好厲害！喵～！黃雷那種會爆炸的東西！
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4870')) -- ESS=是啊，用在戰爭上，會死更多人。
    Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS4871')) -- ESS=……他一定會用在戰爭上，我會阻止他。
end

-- 到達驪山前
function Scene.TALK2311()
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4867')) -- ESS=這個討厭的笨女生雖然很煩人，不過看她現在...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS4872')) -- ESS=嗯...
    Scene.MAIN_TALKS_1(2, 3, 12, StringDB('ESS4873')) -- ESS=賽特，你會不會娶她？
    Scene.MAIN_TALKS_2(1, 9, 23, '......')
end

function Scene.TALK2312()
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4874')) -- ESS=可惜黃雷那個人，不把聰明才智用在正途上。...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4875')) -- ESS=他說應該廢除人文思想，怎麼會這麼偏激？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4876')) -- ESS=那是他否定了他認知範圍外的東西，一般也有...
end

function Scene.TALK2313()
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4877')) -- ESS=以前我們看過的人，很少像賽特那樣老是拒絕...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4878')) -- ESS=可是那種照單全收的更加討厭！
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4879')) -- ESS=不管如何，那賽特算是無情無義的人是吧？喵...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4880')) -- ESS=這倒不是……我欣賞賽特是為長遠打算，要是...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4881')) -- ESS=喵～，人類真是囉唆。
end
-- 與雨丹子第一次對戰後
function Scene.TALK2314()
    -- 妮可
    if not Scene.GetSceneFlag("Renew2016_camp_1") then
        Scene.MAIN_TALKS_1(2, 3, 24, StringDB('ESS4882')) -- ESS=哈哈哈！那個三流魔術師，居然用假煉妖壺唬...
        Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4883')) -- ESS=那已經很厲害了，能吸入靈體的法寶，真的也...
    else
        Scene.MAIN_TALKS_1(2, 3,  0, StringDB('ESS7292')) -- ESS=賽特你當將軍後，就可以把那些看不起的的人教訓一下了。
        Scene.MAIN_TALKS_2(1, 9,  3, StringDB('ESS7293')) -- ESS=看不起我？我還真不在意呢。
        Scene.MAIN_TALKS_1(2, 3, 12, StringDB('ESS7294')) -- ESS=可是你變成偉大的人了啊，偉大的人就是專門教訓別人的人。
        Scene.MAIN_TALKS_2(1, 9,  9, StringDB('ESS7295')) -- ESS=不不不，當上將軍跟我是偉大的人沒有關係。
        Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS7296')) -- ESS=咦？我一直覺得賽特是偉大的人呢。
        Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS7297')) -- ESS=有嗎？話說我根本沒做過什麼偉大的事吧。
        Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS7298')) -- ESS=咦……？
        Scene.MAIN_TALKS_2(1, 9, 29, StringDB('ESS7299')) -- ESS=對吧？妳說說看，我做了什麼偉大的事？
        Scene.MAIN_TALKS_1(2, 3,  2, StringDB('ESS7300')) -- ESS=對！撒旦喜歡你！！
        Scene.MAIN_TALKS_2(1, 9, 27, StringDB('ESS7301')) -- ESS=……(我前世到底造了什麼孽？)
    end
end

function Scene.TALK2315()
    -- 李靖
    if Scene.GetSceneFlag("Renew2016_camp_1") then
        if Scene.GetSceneFlag("flagTalk2315") then
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7281')) -- ESS=賽特，又當了將軍，這是背負著大量生命的職位。
            Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7282')) -- ESS=是，我非常明白，兵法說的：兵者，國之大事，死生之地，存亡之道，不可不察也。
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7283')) -- ESS=是的，就是慎重、慎重，慎重。
            Scene.SetSceneFlag("flagTalk2315",false)
        else
            Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7284')) -- ESS=對於戰爭的學問，我有看到關於墨家主張的兼愛非攻，非攻我是能理解，但是兼愛就很難懂。
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7285')) -- ESS=兼愛的意思是你要把陌生人當成你的親人來愛。
            Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS7286')) -- ESS=對啊，這我真的做不到。
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7287')) -- ESS=是的，沒有人做得到，因為違反人的天性，所以墨家門徒已經不存在了。
            Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS7288')) -- ESS=真可惜，墨家的學說我也很感興趣的。
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7289')) -- ESS=墨家其他學問是很不錯，只是兼愛有太大的問題。比方說，父母愛所有的小孩，小孩愛所有的父母的世界……
            Scene.MAIN_TALKS_4(1, 9, 30, StringDB('ESS7290')) -- ESS=那還真詭異……。這樣過活真的很不像人。
            Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS7291')) -- ESS=也許墨子沒有真正感受到愛過。
            Scene.SetSceneFlag("flagTalk2315",true)
        end

        return

    end
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4884')) -- ESS=皇帝來驪山，只為了送行安祿山而已，這種排...
end

function Scene.TALK2316()

    -- 卡瑪安卡
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)

    if Scene.GetSceneFlag("flagTalk2316") and Scene.GetSceneFlag("Renew2016_camp_1") then
        Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS7275')) -- ESS=喵～賽特你似乎有當將軍的習慣。
        Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS7276')) -- ESS=對呀，真奇怪呢，到處都當將軍。
        Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS7277')) -- ESS=說得好像是我有毛病似的……
        Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS7278')) -- ESS=喵～要不是我們認識你，聽到你的事蹟，恐怕還以為你愛好處處掀起腥風血雨。
        Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS7279')) -- ESS=還以為你渴望名留青史，成為某種英雄偉人。
        Scene.MAIN_TALKS_4(1, 9, 46, StringDB('ESS7280')) -- ESS=不管別人怎麼說，我只是想多學點，有機會當然不能放過。
        Scene.SetSceneFlag("flagTalk2316",false)
        return
    end

    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4885')) -- ESS=說起煉妖壺，這還真是非常奇怪的寶物。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4886')) -- ESS=喵～我們非常感興趣。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4887')) -- ESS=這個壺是哪兒流到你手上的？是誰做的？煉妖...
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS4888')) -- ESS=是很有趣，但是我查到又如何？
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4889')) -- ESS=還好撒旦不知道你有這寶物，不然他又起什麼...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4890')) -- ESS=喵～，撒旦真的不知道嗎？
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4891')) -- ESS=這個嘛……
    Scene.SetSceneFlag("flagTalk2316",true)
end
---------
function Scene.TALK2317()

    local flag=Scene.GetSceneFlag("flagTalk2317")
    if not flag then
        flag=1
    end

    if flag==1 then
        Scene.MAIN_TALKS_1(2, 3, 14, StringDB('ESS4892')) -- ESS=我看皇帝不是那麼壞的人嘛！他對你很好啊，...
        Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4893')) -- ESS=這……撒旦對妳不也很好？人卻說撒旦很壞。...
        Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4894')) -- ESS=怎麼扯到撒旦去了……
        Scene.SetSceneFlag("flagTalk2317",2)
    elseif flag==2 then
        Scene.MAIN_TALKS_1(2, 3, 14, StringDB('ESS4895')) -- ESS=那個安祿山看來不像會害天下大亂的人吧？
        Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4896')) -- ESS=這樣才可怕，外表和內心是完全另外一回事。...
        Scene.SetSceneFlag("flagTalk2317",3)
    else
        Scene.MAIN_TALKS_1(2, 3, 14, StringDB('ESS4897')) -- ESS=那個楊貴妃長得可真美，難怪皇帝那麼迷她。...
        Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4898')) -- ESS=可是人民說，皇帝不管政事，是那個楊貴妃害...
        Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS4899')) -- ESS=我看不是吧！是那個皇帝自己不管事的，怎麼...
        Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4900')) -- ESS=身為貴妃，給她吃用的都是人民血汗，她卻沒...
        Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4901')) -- ESS=道理都是你說的！
        Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS4902')) -- ESS=哈哈，道理是本來就在那裏，然後被人發現。...
        Scene.SetSceneFlag("flagTalk2317",1)
    end

end

function Scene.TALK2318()
    if GameFunc.GetFlag(586) then goto T2318 end
    GameFunc.FlagOn(586)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4903')) -- ESS=那個叫做李白的詩人，你知道嗎？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4904')) -- ESS=以前聽說過。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4905')) -- ESS=很多人在討論他的為人，也有很多人惡評他。...
    Scene.MAIN_TALKS_2(1, 9, 35, '..............')
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4906')) -- ESS=其實李白一直想當官，後來皇帝給他一個書記...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4907')) -- ESS=這是爭權奪利了。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4908')) -- ESS=你也這麼想？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4909')) -- ESS=要爭權，不都得耍一些黑暗手段。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4910')) -- ESS=大部分的人就是這樣誤解的。如果有能力的人...
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4911')) -- ESS=…是這樣也沒錯。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4912')) -- ESS=再說清楚，好人不去爭取當官，那當官的不都...
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS4913')) -- ESS=我明白了。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4914')) -- ESS=李白是個非常有勇氣的好人，可惜這種人很少...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4915')) -- ESS=現在當官的人就多是壞人了？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4916')) -- ESS=嗯……
    ESC.SceneBreak()
::T2318::
    GameFunc.FlagOff(586)
    Scene.MAIN_TALKS_1(17, 9, 0, StringDB('ESS4917')) -- ESS=唉，看到了現在的皇帝，我也看到了未來……...
end

function Scene.TALK2319()
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4918')) -- ESS=那個林明好像也是個好男人。
    Scene.MAIN_TALKS_1(11, 9, 0, StringDB('ESS4919')) -- ESS=果然好男人世界到處都有。
end
-- 東都道觀
function Scene.TALK2320()
    -- 妮可
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4920')) -- ESS=這座塔有點邪門，大概可以說……東方的妖術...
end

function Scene.TALK2321()
    -- 卡瑪安卡
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4921')) -- ESS=喵～那隻獅子怎麼跟過來了？
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4922')) -- ESS=安卡怕獅子嗎？
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4923')) -- ESS=才不會！%N獅子有什麼好怕的。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4924')) -- ESS=那你們可以做好朋友啊。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4925')) -- ESS=那種捲毛太花俏了，喵～
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4926')) -- ESS=安卡以一隻貓來說，也很花俏啊。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS3636')) -- ESS=喵～
end

function Scene.TALK2322()
    -- 李靖
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4927')) -- ESS=這座塔用了不少機關陷阱，你要多小心。
    -- Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4928')) -- ESS=嗯，這有點像黃雷做的呢。
    -- Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4929')) -- ESS=可能是吧。
end
    -- 東都事件後
function Scene.TALK2323()
    if GameFunc.GetFlag(588) then goto T2323 end
    GameFunc.FlagOn(588)
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4930')) -- ESS=一想到那噁心的雨丹子也在煉妖壺，就很不愉...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4931')) -- ESS=有什麼關係，他關在下層，妳又看不到他。
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4932')) -- ESS=就是不愉快嘛。
    ESC.SceneBreak()
::T2323::
    GameFunc.FlagOff(588)
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4933')) -- ESS=如果喜歡中國女人，把她也關進來不就好了嗎...
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS4934')) -- ESS=別開這種玩笑。
end

function Scene.TALK2324()
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4935')) -- ESS=把安祿山謀反的證據找出來，也不知道皇帝會...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4936')) -- ESS=是啊，有些人即使事實擺在眼前，也不會相信...
end

function Scene.TALK2325()
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4937')) -- ESS=那小女孩還真是多災多難。%N喵～
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4938')) -- ESS=看情形，她是沒有人可以依靠。%N賽特，你...
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS4939')) -- ESS=以後再說。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4940')) -- ESS=想混過去!!%N喵？
end
----------- 安宅
function Scene.TALK2326()
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4941')) -- ESS=安祿山的房子可真詭異，明明是歐洲城堡，卻...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4942')) -- ESS=是黃雷設計的，希望沒有動什麼手腳才好
end

function Scene.TALK2327()
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4943')) -- ESS=我想安祿山宅裏面不會有什麼機關，要是安祿...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4944')) -- ESS=那對侵入者不是很方便？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4945')) -- ESS=也不會，安祿山人手多呀。
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4946')) -- ESS=說的也是。
end

function Scene.TALK2328()
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4947')) -- ESS=貓活得久，怪東西也見得多，尤其是跟賽特旅...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4948')) -- ESS=很有趣不是嗎？
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4949')) -- ESS=是呀，但是好像賽特沒什麼感覺。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4950')) -- ESS=是這樣嗎？賽特。
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS4951')) -- ESS=那倒不是，你們一直講話，我很少插嘴而已。...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4952')) -- ESS=以後插嘴請別客氣，喵～不過請注意，我不喜...
    Scene.MAIN_TALKS_4(1, 9, 30, StringDB('ESS4953')) -- ESS=是，是。
end
-- 石化後
function Scene.TALK2329()
    if GameFunc.GetFlag(7090) then goto T2329A end
    if GameFunc.GetFlag(589) then goto T2329 end
    GameFunc.FlagOn(589)
    Scene.MAIN_TALKS_1(2, 3, 20, StringDB('ESS4954')) -- ESS=可憐的安祿山，賽特要來欺負你了。
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4955')) -- ESS=安祿山不在長安。
    Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS4956')) -- ESS=是嗎？那他好險逃過一劫。
    ESC.SceneBreak()
::T2329A::
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4957')) -- ESS=賽特，對不起....
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS4958')) -- ESS=沒關係，反正我已摧毀撒旦利用我的肉體了。...
    Scene.MAIN_TALKS_1(2, 3, 30, StringDB('ESS4959')) -- ESS=真的！？
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS4960')) -- ESS=倒是妳真的要因我而跟撒旦作對？
    Scene.MAIN_TALKS_1(2, 3, 14, StringDB('ESS4961')) -- ESS=嗯.....

    ESC.SceneBreak()
::T2329::
    GameFunc.FlagOff(589)
    Scene.MAIN_TALKS_1(2, 3, 16, StringDB('ESS4962')) -- ESS=賽特，我們什麼時候回歐洲？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4963')) -- ESS=再看看情況，還不知道撒旦在打什麼鬼主意。...
end

function Scene.TALK2330()
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4964')) -- ESS=看來安祿山招兵買馬已經準備好了。
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS4965')) -- ESS=該來的總是會來，卻沒想到這麼快？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4966')) -- ESS=要是皇帝還不及早準備，一但安祿山起兵就來...
end

function Scene.TALK2331()
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 3)
    ESC.ChangeDIR(97, 5)
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4967')) -- ESS=賽特，如果中國開始戰亂，你打算要怎麼辦？...
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS4968')) -- ESS=這……我也只能回去了。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4969')) -- ESS=你不跟著打嗎？喵～
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS4970')) -- ESS=這已經不是我的工作了。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4971')) -- ESS=嗯，要你幫他們打戰，只是浪費時間而已。
end
-- 復活後
function Scene.TALK2332()
    -- 李靖
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4972')) -- ESS=自從你死了之後，%N大唐天地變色，民不聊...
end
-- 找回卡瑪安卡
function Scene.TALK2333()
    Scene.MoveHero(56, 53, 4)
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4973')) -- ESS=你死的時候，我看那些你的活朋友都好難過。...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4974')) -- ESS=喵～不對呦，沒有活的妮可也在難過呢。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4975')) -- ESS=嗯，妮可不願一直等下去，就一個人跑出去尋...
end
-- 再見康那理士
function Scene.TALK2334()
    -- KAMA AND ANKH
    if GameFunc.GetFlag(7090) then goto T2334A end
    if GameFunc.GetFlag(590) then goto T2334 end
    GameFunc.FlagOn(590)
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4976')) -- ESS=很奇怪喔，喵～
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4977')) -- ESS=康那里士怎麼會有那種態度？
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4978')) -- ESS=他又有什麼陰謀，喵？
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4979')) -- ESS=看也不像呀。
    ESC.SceneBreak()
::T2334::
    GameFunc.FlagOff(590)
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4980')) -- ESS=妮可這幾年來都不知道跑那兒去了。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4981')) -- ESS=天下那麼大，我們也不要去浪費力氣找，喵～...
    ESC.SceneBreak()
::T2334A::
    Scene.MoveHero(56, 53, 4)
    ESC.ChangeDIR(98, 5)
    ESC.ChangeDIR(97, 5)
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS4982')) -- ESS=這場戰爭不知道會贏還是會敗，真抱歉拖你們...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4983')) -- ESS=賽特，一起旅行這麼久了，又何必如此說呢？...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4984')) -- ESS=對啊，對啊，我還想讓撒旦嚐嚐我的貓爪神功...
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS4985')) -- ESS=哈哈哈...
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS4986')) -- ESS=賽特，妮可是因為一直找不到你的靈魂，太擔...
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS4987')) -- ESS=嗯，我知道...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS4988')) -- ESS=反正舊的不去，新的不來，你有了新的肉體，...
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS4989')) -- ESS=哈哈哈，你說的也對。
end

function Scene.TALK2335()
    if GameFunc.GetFlag(7090) then goto T2335A end
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4990')) -- ESS=事情好像不太尋常……
    ESC.SceneBreak()
::T2335A::
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS4991')) -- ESS=這將是對撒旦的最後一戰了，不阻止他，人間...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS4961')) -- ESS=嗯.....
end

-- ──────────────────────────────────────【離開地獄血腥迷宮】

function Scene.TALK1021()
    if GameFunc.GetFlag(7055) then goto T1021D end -- 有遠恩等其他人
    if not GameFunc.GetFlag(388) then goto T1021A end -- 第一次離開
    if Scene.CheckParty(3) then goto T1021B end  -- 有薇達等人在的時後
    if Scene.CheckParty(10) then goto T1021C end  -- 有慧彥在的時後
    Scene.MoveHero(23, 25, 1)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.SceneBreak()



::T1021A::

    ESC.ChangeRoleMap(772, 216, 405, 24, 13 , -1 , Const.WALK, 5) -- 搬動路人
    ESC.ChangeRoleMap(773, 215, 000, 77, 17 , -1 , Const.STAND, 3)
    ESC.RoleDisable(790)

    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 6 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(4,
    1, 23, 26, -1, 0, 7,
    3, 25, 26, -1, 0, 4,
    4, 23, 25, -1, 0, 5,
    9, 25, 25, -1, 0, 6)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.RoleHide(9)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)

    -- 清真寺的屍體
    ESC.ChangeRoleMap(199, 222, 0, 41, 29, 412, 68, 0)
    ESC.ChangeRoleMap(223, 222, 0, 50, 23, 411, 32, 1)
    ESC.ChangeRoleMap(231, 222, 0, 43, 24, 411, 32, 0)
    ESC.ChangeRoleMap(251, 222, 0, 38, 32, 411, 32, 2)
    ESC.ChangeRoleMap(252, 222, 0, 32, 36, 411, 32, 3)
    ESC.ChangeRoleMap(200, 222, 0, 20, 25, 411, 32, 2)
    ESC.ChangeRoleMap(219, 222, 0, 34, 36, 411, 32, 1)
    ESC.ChangeRoleMap(220, 222, 0, 33, 15, 412, 68, 0)
    ESC.ChangeRoleMap(221, 222, 0, 23, 38, 412, 68, 0)
    ESC.ChangeRoleMap(222, 222, 0, 14, 28, 412, 68, 0)
    ESC.ChangeRoleMap(579, 222, 0, 30, 36, 412, 68, 0)
    ESC.ChangeRoleMap(321, 222, 0, 38, 34, 411, 32, 2)
    ESC.ChangeRoleMap(320, 222, 0, 26, 21, 412, 68, 0)
    ESC.ChangeRoleMap(578, 222, 0, 28, 26, 411, 32, 3)


    ESC.ChangeRoleMap(327, 197, 0, 18, 26, 411, 32, 1) -- 皇宮的屍體
    ESC.ChangeRoleMap(328, 197, 0, 25, 29, 411, 32, 3)
    ESC.ChangeRoleMap(329, 197, 0, 23, 14, 411, 32, 0)
    ESC.ChangeRoleMap(330, 197, 0, 29, 18, 411, 32, 2)
    ESC.ChangeRoleMap(218, 197, 0, 26, 10, 411, 32, 3)
    ESC.RoleEnable(327)
    ESC.RoleEnable(328)
    ESC.RoleEnable(329)
    ESC.RoleEnable(330)
    ESC.RoleEnable(218)

    ESC.ChangeScript(223, '')
    ESC.ChangeScript(231, '')
    ESC.ChangeScript(251, '')
    ESC.ChangeScript(252, '')
    ESC.ChangeScript(199, '')
    ESC.ChangeScript(200, '')
    ESC.ChangeScript(320, '')
    ESC.ChangeScript(219, '')
    ESC.ChangeScript(220, '')
    ESC.ChangeScript(222, '')
    ESC.ChangeScript(221, '')
    ESC.ChangeScript(321, '')
    ESC.ChangeScript(578, '')
    ESC.ChangeScript(579, '')

    ESC.ChangeScript(327, '')
    ESC.ChangeScript(328, '')
    ESC.ChangeScript(329, '')
    ESC.ChangeScript(330, '')
    ESC.ChangeScript(218, '')

    ESC.RoleDisable(230)
    ESC.RoleDisable(232)
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.STAND , 6 , 0xD100)
    ESC.RoleMove(3, 32, 21)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.STAND , 6 , 0xD100)
    ESC.RoleMove(9, 36, 21)

    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(3)
    ESC.RoleShow(4)
    ESC.RoleShow(9)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4992')) -- ESS=─────這又是哪裏？
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)



    Scene.MBOn(9, 1, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10009, 0, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS4993')) -- ESS=哇，我們得救了────%N這裏是%C7大...
    ESC.WaitDLG(1)
    ESC.MBOff(9, 0)
    ESC.DelHead(10009, 0)


    ESC.ChangeDIR(3, 5)


    Scene.MBOn(3, 1, 0, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10003, 1, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4994')) -- ESS=連神聖的%C7清真寺%C5內也到處屍體…...
    ESC.WaitDLG(1)
    ESC.MBOff(3, 1)
    ESC.DelHead(10003, 1)



    Scene.MBOn(1, 9, 1, 140-10, 10, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 0, 560, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,16*2,4*2,'%S0%C5'..StringDB('ESS4995')) -- ESS=我們先離開這裏，%N去看看外頭究竟怎麼了...
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 0)




    ESC.AddParty(3)
    ESC.AddParty(9)


    Scene.MoveHero(31, 24, 6 ) -- 離開一點點，免得又立刻跳回地獄


    Scene.QuestOff(269)
    Scene.QuestOn(270)

    GameFunc.FlagOn(388) -- 初次離開地域


    ESC.SceneMusic(215, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂
    ESC.SceneMusic(216, 47, 47, 0x4000) -- 【地圖音樂】更換地圖音樂


    ESC.SceneBreak()


::T1021B::
    if not Scene.CheckParty(10) then goto T1021E end -- 肯迪不在時
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK , 6 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(4,
    1, 23, 26, -1, 0, 7,
    3, 25, 26, -1, 0, 4,
    4, 23, 25, -1, 0, 5,
    9, 25, 25, -1, 0, 6)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.RoleHide(9)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(3)
    ESC.RoleShow(4)
    ESC.RoleShow(9)
    ESC.SceneBreak()

::T1021C::
    ESC.RemoveParty(10, 0 , 'TALK10', 10, Const.WALK , 6 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 23, 26, -1, 0, 7,
    10, 25, 26, -1, 0, 4)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(10)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.AddParty(10)
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(10)
    ESC.SceneBreak()

::T1021D::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 24, 25, -1, 0, 1)
    ESC.Clump()
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305-16, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.SceneBreak()
::T1021E::
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK , 6 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK , 6 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(3,
    1, 23, 26, -1, 0, 7,
    3, 25, 26, -1, 0, 4,
    4, 23, 25, -1, 0, 5)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847)  -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.Progress_Off()
    ESC.GotoMap(222, 34, 21, 1, 0, 6)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(3)
    ESC.RoleShow(4)
end

function Scene.TALK1027()
    if GameFunc.GetFlag(7055) then goto T1027C end -- 有遠恩等其他人
    if Scene.CheckParty(3) then goto T1027A end
    if Scene.CheckParty(10) then goto T1027B end
    Scene.MoveHero(34, 20, 1)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(276, 23, 25, 1, 0, 1)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847) -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.SceneBreak()
::T1027A::
    if not Scene.CheckParty(9) then goto T1027D end
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK, 2 , 0xD100)
    ESC.RemoveParty(9 , 0 , 'TALK9' , 9, Const.WALK, 2 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(4,
    3, 33, 20, -1, 0, 5,
    9, 33, 21, -1, 0, 7,
    4, 35, 21, -1, 0, 4,
    1, 35, 20, -1, 0, 6)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300-16, 260, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.RoleHide(9)
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.AddParty(9)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(276, 23, 25, 1, 0, 1)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847) -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(9)
    ESC.RoleShow(4)
    ESC.RoleShow(3)
    ESC.SceneBreak()
::T1027B::
    ESC.RemoveParty(10, 0 , 'TALK10' , 10, Const.WALK, 0 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 34, 20, -1, 0, 1,
    10, 34, 21, -1, 0, 0)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(10)
    ESC.AddParty(10)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(276, 23, 25, 1, 0, 1)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847) -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(10)
    ESC.SceneBreak()
::T1027C::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 34, 20, -1, 0, 1)
    ESC.Clump()
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300, 260, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(276, 23, 25, 1, 0, 1)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847) -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.SceneBreak()
::T1027D::
    ESC.RemoveParty(3 , 0 , 'TALK3' , 3, Const.WALK, 2 , 0xD100)
    ESC.RemoveParty(4 , 0 , 'TALK4' , 4, Const.WALK, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(3,
    3, 33, 20, -1, 0, 5,
    4, 35, 21, -1, 0, 4,
    1, 35, 20, -1, 0, 6)
    ESC.Delay(400)
    ESC.PlayACT(0, -16, 8, 7501, 1, 846) -- Scene.PlayACT(0, 300-16, 260, 7501, 1)
    ESC.TILPA2(0, 15)
    ESC.RoleHide(1)
    ESC.RoleHide(3)
    ESC.RoleHide(4)
    ESC.AddParty(3)
    ESC.AddParty(4)
    ESC.FadeScreen( 0, 0 , 0, 30 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(276, 23, 25, 1, 0, 1)
    ESC.PlayACT(0, -16, -24, 7501, 1, 847) -- Scene.PlayACT(0, 305, 270, 7501, 1)
    ESC.FadeScreen(30, 0 , 0, 0 , 0 , 0 , 10)
    ESC.FadeWait()
    ESC.TILPA2(0, 15)
    ESC.RoleShow(1)
    ESC.RoleShow(4)
    ESC.RoleShow(3)
end


-----------------------------------------------------------------------------
function Scene.TALK1059()
    if GameFunc.GetFlag(4045) then goto T1059A end -- 祖旺拍賣得標
    if GameFunc.GetFlag(4044) then goto T1059 end -- 站到拍賣台上後
    Scene.MoveHero(50, 21, 4)
    ESC.Delay(200)
    ESC.ChangeDIR(1059, 5)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS4996')) -- ESS=請發發慈悲！%N別讓人發現我藏身在這裏！...
    ESC.WaitDLG(1059)
    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS4997')) -- ESS=妳為何要躲起來？難道有誰想要對妳不利嗎？...
    ESC.WaitDLG(1)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS4998')) -- ESS=我本是%C2南方%C4小國的公主，不幸被...
    ESC.WaitDLG(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS4999')) -- ESS=我沿路偷偷留下暗號，希望我%C2未婚夫%...
    ESC.WaitDLG(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS5000')) -- ESS=昨天我趁著守衛不注意逃了出來，可是城中警...
    ESC.WaitDLG(1059)
    ESC.ChangeRoleMap(321 , 216 , 0 , 30, 23, -1 , 8 , 1)
    ESC.BatchMove2(1,    321, 45, 23, -1, 0, 7)
    ESC.ChangeDIR(1059, 6)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 6)
    ESC.Caption(321)
    Scene.Print_W (321 ,9008,8*2,3*2,StringDB('ESS5001')) -- ESS=被我找到了吧！%N看妳還能逃到哪裏去？
    ESC.WaitDLG(321)
    Scene.Print_W (321 ,9008,8*2,3*2,StringDB('ESS5002')) -- ESS=奴市快要開始進行拍賣了，妳就認命跟我回去...
    ESC.WaitDLG(321)
    ESC.ChangeDIR(1059, 5)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS5003')) -- ESS=萬能的阿拉真主！請救救我～
    ESC.WaitDLG(1059)
    ESC.Caption(321)
    Scene.Print_W (321 ,9008,8*2,3*2,StringDB('ESS5004')) -- ESS=還不快走！%N再拖拖拉拉的妳就有吃不完的...
    ESC.WaitDLG(321)
    ESC.ChangeQQ(1059, 8)
    ESC.BatchMove(1,    1059, 42, 22)
    ESC.ChangeQQ(321, 8)
    ESC.BatchMove(2,
    1059, 29, 15,
    321, 29, 16)
    ESC.RoleEnable(1061)
    ESC.RoleEnable(1062)
    ESC.RoleEnable(1063)
    ESC.ChangeRoleMap(1059, 215, 0, 54, 28, -1, 0, 5) -- 辜露
    ESC.ChangeRoleMap( 321, 215, 0, 57, 35, -1, 0, 3) -- 士兵
    ESC.ChangeRoleMap( 771, 215, 0, 68, 36, -1, 0, 0) -- 安薩里拉齊
    ESC.ChangeRoleMap( 788, 215, 0, 67, 38, -1, 0, 0) -- 商人貝克
    ESC.ChangeRoleMap( 772, 215, 0, 65, 39, -1, 0, 0) -- 提布克
    ESC.ChangeRoleMap( 773, 215, 0, 61, 40, -1, 0, 0) -- 馬斯迪歐
    ESC.ChangeRoleMap( 787, 215, 0, 64, 40, -1, 0, 0) -- 商人羅伯特
    ESC.ChangeRoleMap( 774, 215, 0, 58, 39, -1, 0, 0) -- 古桑伊
    ESC.ChangeRoleMap( 791, 215, 0, 57, 38, -1, 0, 0) -- 旅行商人迪克
    GameFunc.FlagOn(4044) -- 與辜露對話過
    GameFunc.FlagOn(4049) -- 圍觀路人對話
    Scene.QuestOn(5)
    ESC.SceneBreak()

::T1059::
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS2145')) -- ESS=請看在阿拉的份上救救我！
    ESC.WaitDLG(1059)
    ESC.SceneBreak()
::T1059A::
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008,8*2,3*2,StringDB('ESS5005')) -- ESS=多謝您的幫助！%N我才能與祖旺王子再團聚...
    ESC.WaitDLG(1059)
    Scene.TALK1065()
end

-----------------------------------------------------------------------------
-- 祖旺王子
function Scene.TALK1060()
    local select
    Scene.MoveHero(86, 19, 3)
    if GameFunc.GetFlag(4042) then goto T1060B end
    if GameFunc.GetFlag(4041) then goto T1060A end
::T1060::
    ESC.Caption(1060)
    Scene.Print_W (1060 ,9008,8*2,4*2,StringDB('ESS5006')) -- ESS=我心愛的姑娘為什麼不回來我這裏？是因敵人...
    ESC.WaitDLG(1060)
    Scene.Print_W (1060 ,9008,8*2,3*2,StringDB('ESS5007')) -- ESS=我生病了%C4，大家都來看我，看望的人中...
    ESC.WaitDLG(1060)
    Scene.Print_W (1060 ,9008,8*2,3*2,StringDB('ESS5008')) -- ESS=任何恫嚇威脅都不能使我與妳分離。
    ESC.WaitDLG(1060)
    Scene.Print_W (1060 ,9008,8*2,4*2,StringDB('ESS5009')) -- ESS=我想念妳，我孤獨寂寞，我的心在期盼，而妳...
    ESC.WaitDLG(1060)
    GameFunc.FlagOn(4041)
    ESC.SceneBreak()
::T1060A::
    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS5010')) -- ESS=你的身體十分的虛弱，看來恐怕病得不輕。
    ESC.WaitDLG(1)
    ESC.Caption(1060)
    Scene.Print_W (1060 ,9008,9*2,3*2,StringDB('ESS5011')) -- ESS=我愛人的國家與鄰國戰爭吃了敗仗，她被當成...
    ESC.WaitDLG(1060)
    Scene.Print_W (1060 ,9008,9*2,3*2,StringDB('ESS5012')) -- ESS=我不眠不休地隨後追趕，可恨不爭氣的我居然...
    ESC.WaitDLG(1060)
    Scene.Print_W (1060 ,9008,9*2,3*2,StringDB('ESS5013')) -- ESS=乞願阿拉賜還我原本強健的身軀，讓我能儘早...
    ESC.WaitDLG(1060)
    ESC.Caption2(1)
    Scene.Print_W(1,9008,8*2,3*2,StringDB('ESS5014')) -- ESS=若能讓他喝下一瓶%C2回復劑%C4，對他...
    ESC.WaitDLG(1)
    Scene.QuestOn(4)
    GameFunc.FlagOn(4042)
    ESC.SceneBreak()
::T1060B::
    if Function.GetItemCount(625) == 0 then -- 若沒回復劑跳到下一行指定的地方
        goto T1060
    end
    ESC.DLGHoldTime(-1)
    ESC.Center_X()
    Scene.Print_SLF(0,9009,320,140,11*2,2*2,StringDB('ESS5015')..'%N'..StringDB('SESS2')) -- ESS=要拿回復劑給祖旺喝嗎？%N　　%B Ｙ ...
    ESC.WaitDLG(0)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T1060
    end
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12*2,1*2,StringDB('ESS5016')) -- ESS=祖旺喝下回復劑後精神恢復
    ESC.WaitDLG(0)
    ItemFunc.AddItem(625, -1)
    ESC.Delay(250)
    ESC.ChangeQQ(1060, 0)
    ESC.ChangeDIR(1060, 6)
    ESC.Delay(200)
    ESC.Caption(1060)
    Scene.Print_W (1060 ,9008 ,8*2,3*2,StringDB('ESS5017')) -- ESS=我現在沒什麼值錢的東西，只能聊表謝意！
    ESC.WaitDLG(1060)
    Scene.GetItem(772, '%T772.')
    ESC.WaitDLG(0)
    Scene.Print_W (1060 ,9008 ,8*2,3*2,StringDB('ESS5018')) -- ESS=大恩日後圖報！我得趕快去找回我的愛人！再...
    ESC.WaitDLG(1060)
    ESC.ChangeQQ(1060, 16)
    ESC.BatchMove(1,    1060, 77, 37)
    ESC.RoleDisable(1060)
    GameFunc.FlagOn(4043) -- 醫好祖旺
    Scene.QuestOff(4)
end
-----------------------------------------------------------------------------
function Scene.TALK1061()
    Scene.QuestOff(5)
    Scene.ScrollMapD(44 , 22 , 4 , 4)
    ESC.ScrollMapWait()
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5019')) -- ESS=台下肅敬！%N拍賣會馬上開始！
    ESC.WaitDLG(1061)
    ESC.ChangeQQ(1062, 8)
    ESC.BatchMove2(1,    1062, 63, 32, -1, 0, 6)
    ESC.ChangeQQ(1062, 0)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5020')) -- ESS=第一位是來自波斯的慕依美，底價自５０枚銀...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 1)
    ESC.TakeActData(1062 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(1062 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(1062 , -1 , 52 , 3)
    Scene.WORD_ON_HEAD(771, 10, 20, -60, StringDB('ESS5021')) -- ESS=喔～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, StringDB('ESS5021')) -- ESS=喔～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, StringDB('ESS5021')) -- ESS=喔～～
    ESC.TakeActData(1062 , -1 , 52 , 2)
    ESC.Delay(2200)
    Scene.WORD_ON_HEAD(771, 20, 20, -60, '%K'..StringDB('ESS5022')) -- ESS=５５枚銀幣！
    ESC.Delay(500)
    ESC.TakeActData(1062 , -1 , 52 , 3)
    Scene.WORD_ON_HEAD(773, 20, 20, -60, '%K'..StringDB('ESS5023')) -- ESS=６０枚銀幣！
    ESC.Delay(500)
    ESC.TakeActData(1062 , -1 , 52 , 2)
    Scene.WORD_ON_HEAD(791, 40, 20, -60, '%K'..StringDB('ESS5024')) -- ESS=７０枚銀幣！
    ESC.ChangeDIR(1061, 6)
    ESC.Delay(800)
    ESC.ChangeDIR(1061, 5)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5025')) -- ESS=還有沒有比７０枚銀幣更高的？
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 6)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 1)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeQQ(1062, 0)
    ESC.ChangeDIR(1062, 7)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5026')) -- ESS=慕依美！%N以後這位先生就是妳的主人了！...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1062, 6)
    ESC.ChangeQQ(1062, 8)
    ESC.BatchMove(1,    1062, 56, 38)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeQQ(1062, 0)
    ESC.ChangeDIR(1062, 7)
    -------------------拍賣第二個女奴
    ESC.ChangeQQ(1063, 8)
    ESC.BatchMove(1,    1063, 63, 32)
    ESC.ChangeQQ(1063, 0)
    ESC.ChangeDIR( 787, 0)
    ESC.ChangeDIR( 788, 0)
    ESC.ChangeDIR( 772, 0)
    ESC.ChangeDIR( 771, 0)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5027')) -- ESS=第二位來自埃及的柏絲苔妮，底價自８０枚銀...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 1)
    ESC.TakeActData(1063 , -1 , 52 , 3)
    ESC.Delay(300)
    ESC.TakeActData(1063 , -1 , 0 , 3)
    ESC.Delay(600)
    ESC.TakeActData(1063 , -1 , 52 , 3)
    Scene.WORD_ON_HEAD(788, 10, 20, -60, StringDB('ESS5028')) -- ESS=正點～
    Scene.WORD_ON_HEAD(772, 10, 20, -60, StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, StringDB('ESS5030')) -- ESS=辣耶～
    Scene.WORD_ON_HEAD(774, 10, 20, -60, StringDB('ESS5021')) -- ESS=喔～～
    ESC.TakeActData(1063 , -1 , 52 , 2)
    ESC.Delay(2200)
    Scene.WORD_ON_HEAD(788, 20, 20, -60, '%K'..StringDB('ESS5031')) -- ESS=９０枚銀幣！
    ESC.Delay(500)
    ESC.TakeActData(1063 , -1 , 52 , 3)
    Scene.WORD_ON_HEAD(772, 20, 20, -60, '%K'..StringDB('ESS5032')) -- ESS=１３０枚銀幣！
    ESC.Delay(500)
    ESC.TakeActData(1063 , -1 , 52 , 2)
    Scene.WORD_ON_HEAD(774, 40, 20, -60, '%K'..StringDB('ESS5033')) -- ESS=１４５枚銀幣！
    ESC.Delay(500)
    ESC.TakeActData(1063 , -1 , 52 , 3)
    Scene.WORD_ON_HEAD(787, 40, 20, -60, '%K'..StringDB('ESS5034')) -- ESS=１６０枚銀幣！
    ESC.ChangeDIR(1061, 6)
    ESC.Delay(800)
    ESC.ChangeDIR(1061, 5)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5035')) -- ESS=還有沒有比１６０枚銀幣更高的？
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 6)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 1)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeQQ(1063, 0)
    ESC.ChangeDIR(1063, 7)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5036')) -- ESS=柏絲苔妮！%N以後這位先生就是妳的主人了...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1063, 6)
    ESC.ChangeQQ(1063, 8)
    ESC.BatchMove(1,    1063, 62, 41)
    ESC.ChangeDIR( 791, 5)
    ESC.ChangeDIR( 774, 5)
    ESC.ChangeQQ(1063, 0)
    ESC.ChangeDIR(1063, 4)
    ESC.Delay(750)
    ESC.ChangeDIR( 791, 0)
    ESC.Delay(300)
    -------------------拍賣第三個女奴辜露
    ESC.ChangeDIR(1061, 2)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5037')) -- ESS=妳還杵在那裏做什麼？還不趕快站到台前來！...
    ESC.WaitDLG(1061)
    ESC.Delay(200)
    ESC.ChangeDIR(1059, 6)
    ESC.Delay(400)
    ESC.ChangeQQ(1059, 8)
    ESC.BatchMove(1,    1059, 57, 28)
    ESC.Delay(400)
    ESC.BatchMove(1,    1059, 59, 29)
    ESC.Delay(400)
    ESC.BatchMove(1,    1059, 61, 30)
    ESC.Delay(400)
    ESC.BatchMove(1,    1059, 63, 32)
    ESC.ChangeQQ(1059, 0)
    ESC.ChangeDIR(1059, 4)
    ESC.Delay(200)
    ESC.ChangeDIR(1059, 7)
    ESC.Delay(700)
    ESC.ChangeDIR(1059, 4)
    ESC.ChangeDIR(1061, 6)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,10*2,3*2,StringDB('ESS5038')) -- ESS=最後一位是戰俘%C2辜露公主%C4！底價...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 1)
    ESC.ChangeDIR(1059, 5)
    ESC.Delay(700)
    ESC.ChangeDIR(1059, 6)
    ESC.ChangeDIR(321, 7)
    ESC.Delay(1200)
    ESC.ChangeDIR( 774, 0)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, '%K'..StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(771, 10, 20, -60, StringDB('ESS5040')) -- ESS=媽媽咪呀！！
    Scene.WORD_ON_HEAD(788, 10, 20, -60, StringDB('ESS5041')) -- ESS=我的天啊！
    Scene.WORD_ON_HEAD(772, 10, 20, -60, '%K'..StringDB('ESS5042')) -- ESS=仙女～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, '%K'..StringDB('ESS5021')) -- ESS=喔～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, StringDB('ESS5043')) -- ESS=好漂亮～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, '%K'..StringDB('ESS5044')) -- ESS=嘩～～
    ESC.Delay(2000)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, '%K'..StringDB('ESS5045')) -- ESS=３５０枚銀幣！
    ESC.Delay(900)
    Scene.WORD_ON_HEAD(771, 10, 20, -60, '%K'..StringDB('ESS5046')) -- ESS=４２０枚銀幣！
    ESC.Delay(500)
    Scene.WORD_ON_HEAD(788, 10, 20, -60, '%K'..StringDB('ESS5047')) -- ESS=５００枚銀幣！
    ESC.Delay(600)
    Scene.WORD_ON_HEAD(772, 10, 20, -60, '%K'..StringDB('ESS5048')) -- ESS=５７０枚銀幣！
    ESC.Delay(500)
    Scene.WORD_ON_HEAD(773, 10, 20, -60, '%K'..StringDB('ESS5049')) -- ESS=７９５枚銀幣！
    ESC.Delay(450)
    Scene.WORD_ON_HEAD(787, 10, 20, -60, '%K'..StringDB('ESS5050')) -- ESS=９１０枚銀幣！
    ESC.Delay(250)
    Scene.WORD_ON_HEAD(791, 10, 20, -60, '%K'..StringDB('ESS5051')) -- ESS=１２５０枚銀幣！
    ESC.ChangeRoleMap(785 , 215 , 0 , 42, 41, -1 , 8 , 1)
    ESC.SetMoveHISpeed(785)
    ESC.BatchMove(1,    785, 54, 41)
    ESC.ChangeQQ( 785, 0)
    ESC.ChangeDIR( 785, 7)
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,3*2,'%K'..StringDB('ESS5052')) -- ESS=我出價…%N%C2５０００枚%C4銀幣！...
    ESC.WaitDLG(785)
    ESC.Delay(450)
    ESC.ChangeDIR( 321, 6)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 6)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 6)
    ESC.ChangeDIR( 774, 6)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeDIR(1062, 6)
    ESC.ChangeDIR(1063, 6)
    ESC.TurnFace( 1, 785)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(771, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(788, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(772, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    Scene.WORD_ON_HEAD(774, 10, 20, -60, StringDB('ESS5039')) -- ESS=哇～～
    ESC.Delay(1200)
    ESC.ChangeDIR(1059, 5)
    ESC.ChangeDIR( 321, 7)
    ESC.ChangeDIR( 771, 0)
    ESC.ChangeDIR( 788, 0)
    ESC.ChangeDIR( 772, 0)
    ESC.ChangeDIR( 773, 0)
    ESC.ChangeDIR( 787, 0)
    ESC.ChangeDIR( 791, 0)
    ESC.ChangeDIR( 774, 0)
    ESC.ChangeDIR(1062, 7)
    ESC.ChangeDIR(1063, 4)
    ESC.TurnFace( 1, 1061)
    ESC.Delay(800)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5053')) -- ESS=還有誰出價能夠比%C2５０００%C4枚銀...
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1061, 5)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 1)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 6)
    if GameFunc.GetFlag(4043) then goto T1061 end
    ESC.ChangeQQ(1059, 0)
    ESC.ChangeDIR(1059, 7)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5054')) -- ESS=辜露！%N以後這位夫人就是妳的主人了！
    ESC.WaitDLG(1061)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008 ,8*2,3*2,StringDB('ESS5055')) -- ESS=嗚～～我的王子！你在哪裏？
    ESC.WaitDLG(1059)
    ESC.ChangeDIR(1059, 6)
    ESC.ChangeQQ(1059, 8)
    ESC.BatchMove(1,    1059, 56, 41)
    ESC.ChangeQQ(785, 8)
    ESC.TurnFace( 1, 785)
    ESC.SetMoveHISpeed(785)
    ESC.BatchMove(2,
    785, 41, 41,
    1059, 41, 41)
    ESC.TurnFace( 1, 785)
    ESC.ChangeRoleMap(785 , 230 , 0 , 8, 20, -1 , 0 , 7)
    ESC.RoleEnable(1064)
    ESC.RoleDisable(1059)
    Scene.QuestOn(6)
    GameFunc.FlagOn(4046) -- 辜露被列拉買走
::T1061A::
    ESC.Caption(1061)
    ESC.TurnFace( 1, 1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5056')) -- ESS=拍賣會到此結束！大家解散吧！
    ESC.WaitDLG(1061)
    ESC.ChangeQQ(1061, 8)
    ESC.SetMoveHISpeed(1061)
    ESC.BatchMove(1,    1061, 64, 36)
    ESC.TurnFace( 1, 1061)
    ESC.ChangeDIR(321, 5)
    ESC.ChangeQQ( 771, 8)
    ESC.ChangeQQ( 788, 8)
    ESC.ChangeQQ( 772, 8)
    ESC.ChangeQQ( 773, 8)
    ESC.ChangeQQ( 791, 8)
    ESC.ChangeQQ( 774, 8)
    ESC.ChangeQQ( 787, 8)
    ESC.ChangeQQ(1062, 8)
    ESC.ChangeQQ(1063, 8)
    ESC.ChangePath(771, 371)
    ESC.ChangePath(772, 374)
    ESC.ChangePath(774, 372)
    ESC.ChangePath(787, 387)
    ESC.ChangePath(788, 388)
    ESC.BatchMove(5,
    1061, 84, 36,
    791, 41, 38,
    1062, 41, 38,
    773, 84, 40,
    1063, 84, 41)
    ESC.TurnFace( 1, 1061)
    ESC.RoleDisable(1061)
    ESC.RoleDisable(1062)
    ESC.RoleDisable(1063)
    ESC.Unlock(773)
    ESC.Unlock(791)
    ESC.ChangePath(773, 373)
    ESC.ChangePath(791, 399)
    GameFunc.FlagOff(4049)
    -- ESC.ScrollMapToRole(GUID , X每次點數 , Y每次點數)
    ESC.ScrollMapToRole(1 , 4 , 4)
    ESC.ScrollMapWait()
    ESC.SceneBreak()

::T1061::
    GameFunc.FlagOn(4045) -- 祖旺王子來救
    ESC.ChangeRoleMap(1065 , 215 , 0 , 41, 37, -1, 8 , 5)
    ESC.RoleEnable(1065)
    ESC.BatchMove(1,    1065, 46, 37)
    ESC.ChangeQQ(1065, 0)
    ESC.ChangeDIR(1065, 5)
    ESC.ChangeDIR( 321, 6)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 6)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 6)
    ESC.ChangeDIR( 774, 6)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeDIR(1062, 4)
    ESC.ChangeDIR(1063, 4)
    ESC.TurnFace( 1, 1065)
    ESC.ChangeDIR( 785, 4)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,'%K'..StringDB('ESS5057')) -- ESS=我出價%C2１００００%C4枚銀幣。
    ESC.WaitDLG(1065)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(771, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(788, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(772, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    Scene.WORD_ON_HEAD(774, 10, 20, -60, StringDB('ESS5044')) -- ESS=嘩～～
    ESC.Delay(400)
    ESC.ChangeDIR( 321, 5)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 0)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 0)
    ESC.ChangeDIR( 774, 0)
    ESC.ChangeDIR(1062, 7)
    ESC.ChangeDIR(1063, 4)
    ESC.ChangeDIR( 785, 7)
    ESC.ChangeDIR(1059, 6)
    ESC.TurnFace( 1, 1059)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008 ,8*2,3*2,StringDB('ESS5058')) -- ESS=祖旺～我的王子！你終於來了！
    ESC.WaitDLG(1059)
    ESC.ChangeQQ(1065, 8)
    ESC.BatchMove(1,    1065, 59, 37)
    ESC.ChangeQQ(1065, 0)
    ESC.ChangeDIR(1065, 0)
    ESC.ChangeDIR( 321, 7)
    ESC.ChangeDIR( 771, 0)
    ESC.ChangeDIR( 788, 0)
    ESC.ChangeDIR( 772, 0)
    ESC.ChangeDIR( 773, 0)
    ESC.ChangeDIR( 787, 0)
    ESC.ChangeDIR( 791, 0)
    ESC.ChangeDIR( 774, 0)
    ESC.ChangeDIR(1062, 7)
    ESC.ChangeDIR(1063, 4)
    ESC.TurnFace( 1, 1061)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5059')) -- ESS=還有沒有比這個價錢更高的？
    ESC.WaitDLG(1061)
    ESC.ChangeDIR( 321, 6)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 6)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 6)
    ESC.ChangeDIR( 774, 6)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeDIR(1062, 6)
    ESC.ChangeDIR(1063, 6)
    ESC.TurnFace( 1, 785)
    ESC.Caption(785)
    Scene.Print_W (785 ,9008 ,8*2,3*2,'%K'..StringDB('ESS5060')) -- ESS=可惡！%N我出價%C2１５０００%C4枚...
    ESC.WaitDLG(785)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(771, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(788, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(772, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    Scene.WORD_ON_HEAD(774, 10, 20, -60, '%K'..StringDB('ESS5029')) -- ESS=哦～～
    ESC.Delay(600)
    ESC.ChangeDIR(1065, 1)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2,3*2,'%K'..StringDB('ESS5061')) -- ESS=我出價%C2３００００%C4枚銀幣，外加...
    ESC.WaitDLG(1065)
    ESC.ChangeDIR(1065, 5)
    ESC.ChangeDIR( 321, 7)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 0)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 0)
    ESC.ChangeDIR( 774, 0)
    ESC.ChangeDIR(1062, 7)
    ESC.ChangeDIR(1063, 4)
    ESC.TurnFace( 1, 1065)
    Scene.WORD_ON_HEAD(321, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(771, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(788, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(772, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(773, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(787, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(791, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    Scene.WORD_ON_HEAD(774, 10, 20, -60, '%K'..StringDB('ESS5062')) -- ESS=天啊～～
    ESC.Delay(800)
    ESC.ChangeDIR(1061, 6)
    ESC.Delay(800)
    ESC.ChangeDIR(1061, 5)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5063')) -- ESS=呵呵呵～%N還有沒有比這個價錢更高的？
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1065, 6)
    ESC.ChangeDIR( 321, 6)
    ESC.ChangeDIR( 771, 6)
    ESC.ChangeDIR( 788, 6)
    ESC.ChangeDIR( 772, 6)
    ESC.ChangeDIR( 773, 6)
    ESC.ChangeDIR( 787, 6)
    ESC.ChangeDIR( 791, 6)
    ESC.ChangeDIR( 774, 6)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeDIR(1062, 6)
    ESC.ChangeDIR(1063, 6)
    ESC.TurnFace( 1, 785)
    ESC.Delay(500)
    ESC.ChangeDIR(1061, 1)
    ESC.ChangeDIR( 785, 5)
    ESC.Delay(800)
    ESC.ChangeDIR( 785, 7)
    Scene.WORD_ON_HEAD(785, 10, 20, -60, StringDB('ESS5064')) -- ESS=哼！！
    ESC.Delay(800)
    ESC.ChangeQQ(785, 8)
    ESC.SetMoveHISpeed(785)
    ESC.BatchMove(1,    785, 41, 41)
    ESC.ChangeRoleMap(785 , 230 , 0 , 8, 20, -1 , 0 , 7)
    ESC.ChangeDIR(1065, 7)
    ESC.ChangeDIR(1059, 7)
    ESC.ChangeDIR( 321, 7)
    ESC.ChangeDIR( 771, 0)
    ESC.ChangeDIR( 788, 0)
    ESC.ChangeDIR( 772, 0)
    ESC.ChangeDIR( 773, 0)
    ESC.ChangeDIR( 787, 0)
    ESC.ChangeDIR( 791, 0)
    ESC.ChangeDIR( 774, 0)
    ESC.ChangeDIR(1061, 6)
    ESC.ChangeDIR(1062, 7)
    ESC.ChangeDIR(1063, 4)
    ESC.TurnFace( 1, 1061)
    ESC.Delay(800)
    ESC.Caption(1061)
    Scene.Print_W (1061 ,9008 ,8*2,3*2,StringDB('ESS5065')) -- ESS=辜露！%N以後這位先生就是妳的主人了！
    ESC.WaitDLG(1061)
    ESC.ChangeDIR(1059, 6)
    ESC.ChangeQQ(1059, 8)
    ESC.BatchMove(1,    1059, 62, 34)
    ESC.ChangeQQ(1059, 0)
    ESC.TurnFace( 1, 1059)
    ESC.Caption(1059)
    Scene.Print_W (1059 ,9008 ,8*2,2*2,StringDB('ESS1997')) -- ESS=祖旺王子！
    ESC.WaitDLG(1059)
    ESC.ChangeQQ(1065, 8)
    ESC.BatchMove(1,    1065, 61, 35)
    ESC.Caption(1065)
    Scene.Print_W (1065 ,9008 ,8*2,2*2,StringDB('ESS5066')) -- ESS=辜露公主！
    ESC.WaitDLG(1065)
    ESC.ChangeQQ(1065, 0)
    GameFunc.FlagOff(4049)
    goto T1061A
end
-----------------------------------------------------------------------------
function Scene.TALK1057()
    if GameFunc.GetFlag(4022) then goto T1057C end
    if GameFunc.GetFlag(4021) then goto T1057B end
    if GameFunc.GetFlag(4020) then goto T1057A end
    Scene.M_Print_EA(1, StringDB('ESS5067')) -- ESS=波爾！%N別再叫了！
    Scene.M_Print_EA(1, StringDB('ESS5068')) -- ESS=可惡！%N牠不聽我的話。
    ESC.SceneBreak()
::T1057A:: -- 波爾坐下
    Scene.M_Print_EA(1, StringDB('ESS5069')) -- ESS=好極了！%N乖乖別動啊。
    ESC.SceneBreak()
::T1057B:: -- 波爾又叫了
    Scene.M_Print_EA(1, StringDB('ESS5070')) -- ESS=真拿你沒辦法。
    ESC.SceneBreak()
::T1057C:: -- 波爾被冰凍後
    Scene.M_Print_EA(1, StringDB('ESS5071')) -- ESS=波爾被冰凍不要緊嗎？
    Scene.M_Print_EA(1, StringDB('ESS5072')) -- ESS=算了！%N把奧斯曼帶出去比較重要。
end

-----------------------------------------------------------------------------
-- 煉妖壺中的奧斯曼
function Scene.TALK1058()
    if GameFunc.GetFlag(4022) then goto T1058C end
    if GameFunc.GetFlag(4020) then goto T1058B end
    ESC.TakeActData(1058, 411, 54, 0)
    ESC.Caption(778)
    ESC.Print(1058,9008,StringDB('ESS5073')) -- ESS=快趕牠走～%N我天不怕地不怕，就是怕狗！...
    ESC.WaitDLG(1058)
    ESC.TakeActData(1058, 411, 8, 6)
    ESC.ChangePath(1058, 403)
    GameFunc.FlagOn(4018)
    ESC.SceneBreak()
::T1058B::
    ESC.TurnFace(1, 1058)
    Scene.M_Print_EA(1, StringDB('ESS5074')) -- ESS=奧斯曼我們可以走了。
    ESC.Delay(100)
    ESC.TurnFace(1058, 1)
    ESC.Delay(250)
    ESC.TurnFace(1058, 1057)
    ESC.Delay(500)
    ESC.ChangeQQ(1058, 8)
    ESC.BatchMove(1,    1058, 89, 59)
    ESC.TakeActData(1057, 30, 76, 0)
    ESC.Delay(1200)
    ESC.TakeActData(1057, 30, 0, 3)
    ESC.TakeActData(1058, 411, 54, 0)
    ESC.Delay(200)
    ESC.TakeActData(1058, 411, 64, 3)
    ESC.BatchMove(1,    1058, 93, 59)
    ESC.Caption(778)
    ESC.Print(1058,9008,StringDB('ESS5075')) -- ESS=嗚～%N我不敢！
    ESC.WaitDLG(1058)
    ESC.TakeActData(1058, 411, 8, 6)
    GameFunc.FlagOff(4020)
    GameFunc.FlagOn(4021)
    ESC.SceneBreak()
::T1058C::
    Scene.MoveHero(27, 59, 4)
    ESC.Caption(778)
    ESC.Print(1058,9008,StringDB('ESS5076')) -- ESS=你真是欺人太甚！欺負我的閨女，還讓魔女戲...
    ESC.WaitDLG(1058)
    ESC.TakeActData(1058, 411, 64, 0)
    ESC.Delay(200)
    ESC.Caption(778)
    ESC.Print(1058,9008,StringDB('ESS5077')) -- ESS=來來來！有膽子就跟我明刀明槍的打一場！
    ESC.WaitDLG(1058)
    Scene.M_Print_EA(1, StringDB('ESS5078')) -- ESS=時間緊迫，我也不跟你囉唆了。
    ESC.TakeActData(1, 1, 29, 1)
    ESC.TILPA2(0, 8) -- 當此動畫播到第八張時往下執行
    Scene.M_Print_EA(1, StringDB('ESS5079')) -- ESS=沒長腦子的莽夫！既然你想動手，那就來吧！...
    Scene.RemoveMainParty(2) -- 妮可不戰鬥
    Scene.BattleSupportOff(3) -- 薇達 -- 薇達不戰鬥
    ESC.StartBattle('BS165')
    ESC.TakeActData(1058, 411, 0, 5)
    Scene.AddMainParty(2)
    if GameFunc.GetFlag(115) then goto T1058D end
    Scene.BattleSupportOn(3) -- 薇達
::T1058D::
    Scene.M_Print_EA(1, StringDB('ESS5080')) -- ESS=我不想再跟你磨蹭了，要命的快離開這裏！
    ESC.TakeActData(1, 1, 0, 5)
    ESC.ChangeQQ(1058, 16)
    ESC.SetMoveHISpeed(1058)
    ESC.BatchMove(1,    1058, 39, 67)
    Scene.PlayACT(0, 500 , 350 , 6502 , 1) -- 全畫面的長,寬,ACT號碼,QQ一般要被八整除這裏不用,
    ESC.TILPA2(0, 6) -- 當此動畫播到第六張時往下執行
    MediaFunc.PlaySound(310)
    ESC.RoleDisable(1058)
    ESC.TownTrans_On()
    ESC.DungeonEsc_On()
    GameFunc.FlagOn(4024) -- 打贏奧斯曼
    GameFunc.FlagOn(4027) -- 打贏奧斯曼
    Scene.QuestOff(7)
    Scene.SAR_ROL(778, 0)
end
-----------------------------------------------------------------------------
-- 奧斯曼
function Scene.TALK778()
    -- 戰士奧斯曼
    if GameFunc.GetFlag(4026) then goto T778D end
    if GameFunc.GetFlag(4024) then goto T778C end -- 救出奧斯曼
    if GameFunc.GetFlag(4025) then goto T778B end
    if GameFunc.GetFlag(4017) then goto T778A end
    Scene.M_PrintW_EA(778, 8, 4, StringDB('ESS5081')) -- ESS=在伊斯蘭世界，學者很受一般人的尊崇，地位...
    Scene.M_PrintNN_EA(778, StringDB('ESS5082')) -- ESS=先知穆罕默德鼓勵人們求知，即便得到中國去...
    Scene.M_PrintNON_EA(778, 8, 4, StringDB('ESS5083')) -- ESS=希望我的女兒葉塔以後能嫁給學者，這將是我...
    Scene.M_PrintNON_EA(778, 8, 4, StringDB('ESS5084')) -- ESS=最好是像占星大師%C2肯迪%C4這樣有智...
    ESC.SceneBreak()
::T778A::
    Scene.GetItem(678, StringDB('ESS5085')) -- ESS=奧斯曼懷裏的%T678.
    ESC.WaitDLG(0)
    Scene.SAR_ROL(778, 0)
    GameFunc.FlagOn(4025)
    ESC.SceneBreak()
::T778B::
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5086')) -- ESS=若不及早讓他的靈魂回歸肉體，恐怕會有生命...
    ESC.WaitDLG(1)
    ESC.SceneBreak()

::T778C::
    Scene.SAR_TurnFace(778, 1) -- 奧斯曼恢復可轉頭
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5087')) -- ESS=我真的不是存心冒犯，希望事情能到此為止！...
    ESC.WaitDLG(1)
    Scene.M_Print_EA(778, StringDB('ESS5088')) -- ESS=別再說了！%N遇到你算我們父女倒楣。
    Scene.M_Print_EA(778, StringDB('ESS5089')) -- ESS=滾滾滾！%N我不想再見到你。
    ESC.ChangeQQ(778, 8)
    ESC.BatchMove(1,    778, 28, 22)
    ESC.TurnFace(778, 1)
    GameFunc.FlagOff(4024)
    GameFunc.FlagOn(4026)
    ESC.SceneBreak()

::T778D::
    Scene.M_Print_EA(778, StringDB('ESS5090')) -- ESS=掃把星！%N你惹的麻煩還不夠嗎？
end


--------------------------------------------------------------------------------------------
function Scene.TALK790()

    -- 葉塔 欲嫁學者的女子，奧斯曼的女兒
    if GameFunc.GetFlag(4027) then goto T790G end
    if GameFunc.GetFlag(4022) then goto T790F end
    if GameFunc.GetFlag(4018) then goto T790E end
    if GameFunc.GetFlag(4017) then goto T790D end
    if GameFunc.GetFlag(4015) then goto T790C end -- 計時中   且在阿里家
    if GameFunc.GetFlag(115) then goto T790B end  -- 如果薇達沒帶隊   直接跳到第三次對話
    if GameFunc.GetFlag(4014) then goto T790B end -- 薇達帶隊與葉塔第三次對話
    if GameFunc.GetFlag(4013) then goto T790A end -- 薇達帶隊與葉塔第二次對話
    Scene.M_Print_EA(790, StringDB('ESS5091')) -- ESS=請把妳朋友帶離這裏，我要為我未來的夫婿保...
    GameFunc.FlagOn(4013)
    ESC.SceneBreak()
::T790A::
    Scene.M_Print_EA(790, StringDB('ESS5092')) -- ESS=帶妳朋友離開，他在這裏對我的清白有礙。
    GameFunc.FlagOn(4014)
    ESC.SceneBreak()
::T790B::
    Scene.M_Print_EA(790, StringDB('ESS5093')) -- ESS=陌生男子闖進未嫁少女的房間，會破壞她的名...
    GameFunc.FlagOn(76) -- 隱藏倒數計時
    ESC.TimeLimit(0, 5, 'TALK2408')
    GameFunc.FlagOn(4015)
    ESC.SceneBreak()
::T790C::
    Scene.M_Print_EA(790, StringDB('ESS5094')) -- ESS=萬能的阿拉請憐憫我！！
    ESC.SceneBreak()
::T790D::
    Scene.M_Print_EA(790, StringDB('ESS5095')) -- ESS=嗚～%N我爸爸被那個魔女害死了！！
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5096')) -- ESS=妳放心，我會將他救回來的！！
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T790E::   -- 進煉妖壺聽奧斯慢說怕狗
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5097')) -- ESS=葉塔！%N妳爸爸很怕狗嗎？
    ESC.WaitDLG(1)
    Scene.M_Print_EA(790, StringDB('ESS5098')) -- ESS=怕極了！他甚至只要聽到%C2狗%C4這個...
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5099')) -- ESS=這就麻煩了。
    ESC.WaitDLG(1)
    ESC.SceneBreak()

::T790F::   -- 進煉妖壺聽奧斯慢說怕狗
    Scene.M_Print_EA(790, StringDB('ESS5100')) -- ESS=快把我爸爸救出來啊！
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5101')) -- ESS=別著急！%N至少狗已經咬不到他了。
    ESC.WaitDLG(1)
    ESC.SceneBreak()

::T790G::   -- 奧斯曼逃出煉妖壺
    ESC.Caption(790)
    ESC.Print(790,9008,StringDB('ESS5102')) -- ESS=你這輕薄的男子！%N我實在不應該再跟你講...
    ESC.WaitDLG(1)
end

function Scene.TALK2408()
 -- 時間到若還在地圖上，葉塔會把賽特趕走
    Scene.QuestOn(7)
    GameFunc.FlagOff(17) -- 時間到要將倒數關掉
    GameFunc.FlagOff(76) -- 不隱藏倒數計時
    if GameFunc.MapID ~= 229 then goto T1055A end --  時間到不在地圖上就跳T1055A
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(790, 1) -- 時間到葉塔會把賽特趕走
    ESC.TurnFace(1, 790)
    ESC.ChangeQQ(1, 0)
    Scene.M_Print_EA(790, StringDB('ESS5103')) -- ESS=快離開這裏無禮的人，讓你多看一眼都會被玷...
    Scene.M_PrintNN_EA(790, StringDB('ESS5104')) -- ESS=你再不走，%N我就只能以死來向阿拉謝罪了...
    if GameFunc.GetFlag(115) then goto T1055B end
    ESC.ChangeQQ( 1, Const.WALK)
    ESC.ChangeQQ( 3, Const.WALK)
    ESC.BatchMove2(2,
    3, 30, 15, -1, 0, 4,
    1, 27, 15, -1, 0, 4)
    ESC.Caption(3)
    ESC.Print(1,9008,StringDB('ESS5105')) -- ESS=葉塔妳冷靜點，我們馬上離開…
    ESC.WaitDLG(1)
    ESC.ChangeQQ(790, Const.WALK)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 22, 16)
    ESC.ChangeQQ(790, Const.STAND)
    ESC.ChangeDIR(790, 5)
    ESC.ChangeDIR( 3, 1) -- 賽特看門口
    ESC.Delay(200)
    ESC.ChangeDIR( 1, 1) -- 薇達看門口
    Scene.M_Print_EA(790, StringDB('ESS5106')) -- ESS=爸爸快來啊！%N有陌生男人闖進來了。
    ESC.ChangeRoleMap(778 , 229 , 0 , 34, 23, 411 , 8 , 4)
    ESC.BatchMove(1,    778, 32, 22)
    ESC.ChangeQQ(778, Const.STAND)
    ESC.TurnFace(778, 3) -- 奧斯曼看賽特
    ESC.TurnFace( 1, 778) -- 薇達看奧斯曼
    ESC.Delay(200)
    ESC.TurnFace( 3, 778) -- 賽特看奧斯曼
    Scene.M_Print_EA(778, StringDB('ESS5107')) -- ESS=好小子！%N你是什麼時候溜進來的？
    Scene.M_PrintNN_EA(778, StringDB('ESS5108')) -- ESS=敢欺負我家閨女，%N老子非剁了你的雙手不...
    ESC.Caption(3)
    ESC.Print(1,9008,StringDB('ESS5109')) -- ESS=奧斯曼你別衝動…
    ESC.WaitDLG(1)
    ESC.AddHeadSign(3, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(3)
    ESC.ChangeDIR( 3, 2) -- 賽特朝左看(妮可將出現的位置)
    ESC.ChangeRoleMap(2, -1, 0, 30, 15, 2, 60, 0) -- 妮可出現
    ESC.RoleEnable(2)
    ESC.SetRoleSpeed(2, 0)
    ESC.BatchMove(1,    2, 26, 13)
    ESC.ChangeDIR( 1, 4) -- 薇達轉頭看妮可
    ESC.BatchMove(1,    2, 21, 15)
    ESC.Unlock(2)
    ESC.TakeActData(2, -1, 68, 0)
    ESC.TILPA1(2, 2)
    ESC.ChangeDIR( 1, 2) -- 薇達面向妮可
    ESC.TakeActData(2, -1, Const.STAND, 5)
    Scene.M_Print_EA(778, StringDB('ESS5110')) -- ESS=我的天！%N魔…魔女………
    ESC.TurnFace(790, 2) -- 葉塔吃驚倒退
    ESC.Delay(400)
    ESC.ChangeDIR(790, 5)
    ESC.ChangeQQ(790, 16)
    ESC.ChangeSpeed(790, 0)
    ESC.BatchMove(1,    790, 23, 17)
    ESC.Delay(200)
    ESC.ChangeQQ(790, Const.WALK)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 30, 22)
    ESC.ChangeQQ(790, Const.STAND)
    ESC.TurnFace(790, 2) -- 葉塔看妮可
    Scene.M_Print_EA(2, StringDB('ESS5111')) -- ESS=想剁賽特的手，妮可先劈了你！
    ESC.TurnFace( 2, 3) -- 妮可看賽特
    ESC.Caption(1)
    ESC.Print(3,9008,StringDB('ESS5112')) -- ESS=妮可！%N都叫妳別出來嚇人了……
    ESC.WaitDLG(3)
    ESC.TurnFace( 2, 778) -- 妮可看奧斯曼
    Scene.M_Print_EA(2, StringDB('ESS5113')) -- ESS=哼！誰叫他想對你不利。
    ESC.TurnFace(790, 3) -- 葉塔看賽特
    ESC.TurnFace(3, 778) -- 賽特看奧斯曼
    ESC.Caption(1)
    Scene.Print_W(3,9008,8*2,4*2,StringDB('ESS5114')) -- ESS=有妮可在場，若真要動手，你家的擺設恐怕會...
    ESC.WaitDLG(3)
    ESC.TurnFace( 1, 778) -- 薇達看奧斯曼
    Scene.M_Print_EA(778, StringDB('ESS5115')) -- ESS=哇！%N得了便宜還賣乖，你真是太囂張了！...
    ESC.ChangeQQ( 1, Const.WALK)
    ESC.BatchMove(1,    1, 32, 20)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace( 1, 790) -- 薇達面對奧斯曼
    ESC.Delay(200)
    ESC.Caption(3)
    ESC.Print(1,9008,StringDB('ESS5116')) -- ESS=別把事情鬧大，算了吧奧斯曼！
    ESC.WaitDLG(1)
    ESC.TurnFace(2, 3) -- 妮可看賽特
    ESC.TurnFace(3, 2) -- 賽特看妮可
    ESC.TurnFace(1, 2) -- 薇達看妮可
    Scene.M_Print_EA(2, StringDB('ESS5117')) -- ESS=賽特！%N你不用怕他家被我毀了……
    ESC.TurnFace( 2, 778) -- 妮可看奧斯曼
    Scene.M_PrintNN_EA(2, StringDB('ESS5118')) -- ESS=跟我到壺中世界，我要好好教訓你！
    ESC.Caption(1)
    ESC.Print(3,9008,StringDB('ESS5119')) -- ESS=妮可不行！！
    ESC.WaitDLG(3)
    ESC.TurnFace(3, 778) -- 賽特看奧斯曼
    ESC.TakeActData(2 , -1 , 55 , 0) -- 妮可舉手施法將奧斯曼的靈魂吸入煉妖壺
    ESC.Delay(200)
    ESC.Unlock(2)
    ESC.PlayACT(0, -10 , 0 , 6502 , 0, 778) -- 全畫面的長,寬,ACT號碼,QQ一般要被八整除這裏不用,
    ESC.TILPA2(0, 6) -- 當此動畫播到第六張時往下執行
    ESC.AddHeadSign(778, 2) -- 奧斯曼靈魂被吸走
    ESC.ChangeDIR(1, 1) -- 薇達看奧斯曼
    ESC.Delay(300)
    ESC.ChangeDIR(1, 4) -- 薇達看妮可
    ESC.ChangeDIR(790, 5) -- 葉塔被嚇到
    ESC.Delay(200)
    Scene.SAR_TurnFace(778, 0) -- 奧斯曼不轉頭
    ESC.TakeActData(790 , -1 , 16 , 4)
    ESC.ChangeSpeed(790, 0)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 29, 21)
    ESC.TurnFace(790, 778) -- 葉塔看奧斯曼
    ESC.AddHeadSign(790, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(790)
    ESC.ChangeQQ(790, 0)
    ESC.TurnFace(3, 2) -- 賽特看妮可
    ESC.TakeActData(2, -1, 69, 0) -- 妮可回去煉妖壺
    ESC.TILPA1(2, 16)
    ESC.SetRoleSpeed(2, 0)
    ESC.ChangeQQ(2, 60)
    ESC.BatchMove(1,    2, 30, 15)
    ESC.RoleDisable(2)
    ESC.TakeActData(2, -1, Const.STAND, 0)
    ESC.ChangeDIR(790, 7) -- 葉塔看薇達
    ESC.ChangeDIR(1, 0) -- 薇達面對賽特說
    ESC.Caption(3)
    ESC.Print(1,9008,StringDB('ESS5120')) -- ESS=這個女人實在太過份了！
    ESC.WaitDLG(1)
    ESC.TurnFace(790, 778) -- 葉塔看奧斯曼
    ESC.ChangeDIR(3, 1) -- 賽特看薇達
    ESC.Caption(1)
    ESC.Print(3,9008,StringDB('ESS5121')) -- ESS=我必須進煉妖壺救人，否則奧斯曼會被妮可害...
    ESC.WaitDLG(3)
    ESC.ChangeDIR(1, 6) -- 薇達面對左邊
    ESC.AddParty(3) -- 賽特恢復到隊伍中
    ESC.RoleDisable(99)
    ESC.RoleDisable(30)
    ESC.RoleEnable(1055)
    ESC.RoleEnable(1056)
    ESC.RoleEnable(1057)
    ESC.RoleEnable(1058)
    GameFunc.FlagOn(4017) -- 控制改變葉塔與奧斯曼的對話
    ESC.TownTrans_Off(StringDB('ESS5122')) -- ESS=時間緊迫，必須趕緊進煉妖壺救奧斯曼。
    ESC.DungeonEsc_Off(StringDB('ESS5122')) -- ESS=時間緊迫，必須趕緊進煉妖壺救奧斯曼。
    Scene.SAR_ROL(778, 1)
    ESC.SceneBreak()
::T1055A::  -- 時間到之前離開沒事
    ESC.SceneBreak()

::T1055B::  -- 若是薇達離開後才來
    ESC.ChangeQQ( 1, Const.WALK)
    ESC.BatchMove(1,    1, 27, 15)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeDIR(1, 4) -- 賽特看葉塔
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5123')) -- ESS=對不起！%N我並無意冒犯…
    ESC.WaitDLG(1)
    ESC.ChangeQQ(790, Const.WALK)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 22, 16)
    ESC.ChangeQQ(790, Const.STAND)
    ESC.ChangeDIR(790, 5) -- 葉塔看門口
    ESC.ChangeDIR( 1, 2)
    Scene.M_Print_EA(790, StringDB('ESS5106')) -- ESS=爸爸快來啊！%N有陌生男人闖進來了。
    ESC.RoleEnable(778)
    ESC.ChangeRoleMap(778 , 229 , 0 , 34, 23, 411 , 8 , 4)
    ESC.BatchMove(1,    778, 32, 22)
    ESC.ChangeQQ(778, Const.STAND)
    ESC.TurnFace(778, 1) -- 奧斯曼看賽特
    ESC.TurnFace( 1, 778) -- 賽特看奧斯曼
    Scene.M_Print_EA(778, StringDB('ESS5107')) -- ESS=好小子！%N你是什麼時候溜進來的？
    Scene.M_PrintNN_EA(778, StringDB('ESS5108')) -- ESS=敢欺負我家閨女，%N老子非剁了你的雙手不...
    ESC.AddHeadSign(1, 0)
    ESC.Delay(350)
    ESC.DelHeadSign(1)
    ESC.Delay(100)
    ESC.ChangeDIR( 1, 2) -- 賽特面向妮可
    Scene.Nicole_On(21, 15, 5)
    Scene.M_Print_EA(778, StringDB('ESS5110')) -- ESS=我的天！%N魔…魔女………
    ESC.TurnFace(790, 2) -- 葉塔吃驚倒退
    ESC.Delay(450)
    ESC.ChangeDIR(790 , 5)
    ESC.ChangeQQ(790, 16)
    ESC.ChangeSpeed(790, 0)
    ESC.BatchMove(1,    790, 23, 17)
    ESC.Delay(200)
    ESC.ChangeQQ(790, Const.WALK)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 30, 22)
    ESC.ChangeQQ(790, Const.STAND)
    ESC.TurnFace(790, 2) -- 葉塔看妮可
    Scene.M_Print_EA(2, StringDB('ESS5111')) -- ESS=想剁賽特的手，妮可先劈了你！
    ESC.TurnFace( 2, 1) -- 妮可看賽特
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5112')) -- ESS=妮可！%N都叫妳別出來嚇人了……
    ESC.WaitDLG(1)
    ESC.TurnFace( 2, 778) -- 妮可看奧斯曼
    Scene.M_Print_EA(2, StringDB('ESS5113')) -- ESS=哼！誰叫他想對你不利。
    ESC.TurnFace(790, 1) -- 葉塔看賽特
    ESC.TurnFace(1, 778) -- 賽特看奧斯曼
    ESC.Caption(1)
    Scene.Print_W(1,9008,8*2,4*2,StringDB('ESS5124')) -- ESS=有妮可在場，若真要動手，你家的擺設恐怕會...
    ESC.WaitDLG(1)
    Scene.M_Print_EA(778, StringDB('ESS5115')) -- ESS=哇！%N得了便宜還賣乖，你真是太囂張了！...
    ESC.TurnFace(2, 1) -- 妮可看賽特
    ESC.TurnFace(1, 2) -- 賽特看妮可
    Scene.M_Print_EA(2, StringDB('ESS5125')) -- ESS=賽特！%N你不用怕他家會被我毀了……
    ESC.TurnFace( 2, 778) -- 妮可看奧斯曼
    Scene.M_PrintNN_EA(2, StringDB('ESS5118')) -- ESS=跟我到壺中世界，我要好好教訓你！
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5119')) -- ESS=妮可不行！！
    ESC.WaitDLG(1)
    ESC.TurnFace(1, 778) -- 賽特看奧斯曼
    ESC.TakeActData(2 , -1 , 55 , 0) -- 妮可舉手施法將奧斯曼的靈魂吸入煉妖壺
    ESC.Delay(200)
    ESC.Unlock(2)
    ESC.PlayACT(0, -8, -4, 6502, 0, 778) -- Scene.PlayACT(0, 510 , 340 , 6502 , 0) -- 全畫面的長,寬,ACT號碼,QQ一般要被八整除這裏不用,
    ESC.TILPA2(0, 6) -- 當此動畫播到第六張時往下執行
    Scene.SAR_TurnFace(778, 0) -- 奧斯曼不轉頭
    ESC.AddHeadSign(778, 2) -- 奧斯曼靈魂被吸走
    ESC.TurnFace(790, 778) -- 葉塔被嚇到
    ESC.Delay(200)
    ESC.TakeActData(790 , -1 , 16 , 4)
    ESC.ChangeSpeed(790, 0)
    ESC.SetMoveHISpeed(790)
    ESC.BatchMove(1,    790, 29, 21)
    ESC.AddHeadSign(790, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(790)
    ESC.ChangeQQ(790, 0)
    ESC.TurnFace(1, 2) -- 賽特看妮可
    Scene.Nicole_Off()
    ESC.ChangeDIR(1, 1) -- 賽特說
    ESC.Caption(1)
    ESC.Print(1,9008,StringDB('ESS5121')) -- ESS=我必須進煉妖壺救人，否則奧斯曼會被妮可害...
    ESC.WaitDLG(1)
    ESC.RoleDisable(99)
    ESC.RoleDisable(30)
    ESC.RoleEnable(1055)
    ESC.RoleEnable(1056)
    ESC.RoleEnable(1057)
    ESC.RoleEnable(1058)
    GameFunc.FlagOn(4017) -- 控制改變葉塔與奧斯曼的對話
    ESC.TownTrans_Off(StringDB('ESS5122')) -- ESS=時間緊迫，必須趕緊進煉妖壺救奧斯曼。
    ESC.DungeonEsc_Off(StringDB('ESS5122')) -- ESS=時間緊迫，必須趕緊進煉妖壺救奧斯曼。
    Scene.SAR_ROL(778, 1)
end
-- 洛陽
function Scene.TALK2601()
    Scene.SearchFlower(728) -- 728菟絲魔子
end

function Scene.TALK2602()
    Scene.SearchFlower(719) -- 719博落迴之跟
end

function Scene.TALK2603()
    Scene.OpenChest(2603, 938, '%T938.' ) -- 938鼠槌
end

function Scene.TALK2604()
    Scene.SearchFlower(794) -- 794紅酒
end

function Scene.TALK2605()
    Scene.SearchFlower(783) -- 783食譜2
end

function Scene.TALK2606()
    Scene.SearchFlower(713) -- 713三教霞光鏡
end

function Scene.TALK2607()
    Scene.SearchFlower(995) -- 995神草結
end

function Scene.TALK2608()
    Scene.SearchFlower(661) -- 661七葉蓮
end

function Scene.TALK2609()
    Scene.SearchFlower(662) -- 662河車丸
end

function Scene.TALK2610()
    Scene.SearchFlower(782) -- 782食譜1
end

function Scene.TALK2611()
    Scene.SearchFlower(953) -- 953庖丁菜刀
end

function Scene.TALK2612()
    Scene.SearchFlower(784) -- 784食譜3
end








-- 長安西市
function Scene.TALK2621()
    Scene.SearchFlower(726) -- 726延胡索之花
end

function Scene.TALK2622()
    Scene.SearchFlower(976) -- 976珍珠戒指
end

function Scene.TALK2623()
    Scene.SearchFlower(710) -- 710炎陽靈珠
end

function Scene.TALK2624()
    Scene.OpenChest(2624, 698, '%T698.' ) -- 698諸方神石
end

function Scene.TALK2625()
    Scene.OpenChest(2625, 777, '%T777.' ) -- 777機關設計圖2
end

function Scene.TALK2626()
    Scene.SearchFlower(818) -- 818魚酥
end

function Scene.TALK2627()
    Scene.SearchFlower(820) -- 820增肥劑
end

function Scene.TALK2628()
    Scene.SearchFlower(729) -- 729神秘果
end

function Scene.TALK2629()
    Scene.SearchFlower(828) -- 828水果
end

function Scene.TALK2630()
    Scene.SearchFlower(701) -- 701天仙酒
end

function Scene.TALK2631()
    Scene.SearchFlower(769) -- 769靈界指標
end

function Scene.TALK2632()
    Scene.SearchFlower(722) -- 722山蛇莓
end

function Scene.TALK2633()
    Scene.OpenChest(2633, 688, '%T688.' ) -- 688蜂王露
end

function Scene.TALK2634()
    Scene.SearchFlower(672) -- 672神奇麵包
end


------長安衛兵  朱雀門
function Scene.TALK4601()
    Scene.AutoPrint_C(1021, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end

function Scene.TALK4602()
    Scene.AutoPrint_C(1022, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end

function Scene.TALK4603()
    Scene.AutoPrint_C(1023, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end

function Scene.TALK4604()
    Scene.AutoPrint_C(1024, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end

function Scene.TALK4605()
    Scene.AutoPrint_C(1025, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end

function Scene.TALK4606()
    Scene.AutoPrint_C(1026, StringDB('ESS5126')) -- ESS=這邊是皇門禁地，閒雜人士請離開。
end
------- 金光門
function Scene.TALK4607()
    if GameFunc.GetFlag(489) then goto T4607_3 end
    GameFunc.FlagOn(489)
    ESC.Caption(Const.TOWN)
    ESC.FitSize()
    ESC.Print(Const.TOWN,9005,StringDB('ESS5127')) -- ESS=你是外國人嗎？從哪來的？
    ESC.WaitDLG(Const.TOWN)
    ESC.Caption(1)
    ESC.Print(1,9005,StringDB('ESS5128')) -- ESS=我是從西方來的，特地來見識唐國。
    ESC.WaitDLG(1)
    ESC.Caption(Const.TOWN)
    ESC.Print(Const.TOWN,9005,StringDB('ESS5129')) -- ESS=你唐語說的不錯。進出這個長安城門是不用盤...
    ESC.WaitDLG(Const.TOWN)
    ESC.SceneBreak()
::T4607_3::
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS5130')) -- ESS=基本上進出長安城門不用盤查，進出皇城才要...
end

-------- 怡春院  老鴇
function Scene.TALK4608()
    local select
    if GameFunc.GetFlag(493) then goto T4608B end
    if GameFunc.GetFlag(492) then goto T4608A end
::T4608F::
    ESC.Caption(4608)
    Scene.Print_W(4608,9005,20,10,StringDB('ESS5131')) -- ESS=公子!!要不要找姑娘陪您一宿呀，只要５０...
    ESC.WaitDLG(4608)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4608C
    else
        goto T4608D
    end

::T4608A::
    GameFunc.FlagOn(493)
    Scene.AutoPrint_C(1, StringDB('ESS5132')) -- ESS=大娘，妳認識一位叫黑血狗黃八的人嗎？
    ESC.Caption(4608)
    Scene.Print_W(4608,9005,16,4,StringDB('ESS5133')) -- ESS=那個王八蛋跑了，到%C2長安%C4避風頭...
    ESC.WaitDLG(4608)
    Scene.Print_W(4608,9005,12,4,StringDB('ESS5134')) -- ESS=有人在%C2長安西市%C4看到過他。
    ESC.WaitDLG(4608)
    -- 啟動西市事
    ESC.RoleEnable(4611)
    ESC.RoleEnable(4612)
    ESC.RoleEnable(4613)
    ESC.RoleEnable(4614)
    ESC.RoleEnable(4615)
    ESC.RoleEnable(322)
    ESC.ChangeRoleMap(322 , 172 , 0 , 53 , 26 , 535 , 32, 1)
    ESC.ChangeScript(322, '')
    ESC.TakeActData(4615, 528, 0, 2)
    ESC.TakeActData(4614, 583, 0, 4)
    ESC.TakeActData(4611, 590, 0, 3)
    ESC.ChangeDIR(4612, 0)
    ESC.ChangeRoleMap(250 , 172 , 0 , 51 , 25 , 417 , 8, 3)
    ESC.ChangeRoleMap(251 , 172 , 0 , 57 , 25 , 417 , 16, 2)
    ESC.ChangeScript(250, 'TALK6721')
    ESC.ChangeScript(251, 'TALK6721')
    Scene.SAR_TurnFace(250, 0)
    Scene.SAR_TurnFace(251, 0)
    Scene.SAR_Shadow(250, 1)
    Scene.SAR_Shadow(251, 1)
    ESC.RoleEnable(250)
    ESC.RoleEnable(251)
    Scene.QuestOff(100)
    Scene.QuestOn(101)
    goto T4608F

::T4608B::
    Scene.AutoPrint_C(4608, StringDB('ESS5135')) -- ESS=黃八哪王八蛋跑到長安西市去逍遙了。
    goto T4608F
::T4608C::
    if GameFunc.PlayerGolds < 500 then
        goto T4608E
    end
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5136')) -- ESS=好吧！
    Scene.MBOn(99, 11, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10008, 1, 560, 120)
    Scene.AddHead(10002, 41, 50, 120)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS5137')) -- ESS=賽特！！
    ESC.WaitDLG(1)
    ESC.MBOff(99, 1)
    ESC.DelHead(10008, 1)
    ESC.DelHead(10002, 41)

    Scene.MBOn(1, 9, 1, 140-10, 390-30, 32*11+30, 6*11+45)
    Scene.AddHead(10001, 16, 560, 460)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,390-20,32,8,'%S0%C5'..StringDB('ESS5138')) -- ESS=說笑而已，別當真！
    ESC.WaitDLG(1)
    ESC.MBOff(1, 0)
    ESC.DelHead(10001, 16)
    Scene.AutoPrint_C(4608, StringDB('ESS5139')) -- ESS=公子，妳到底要不要找姑娘，一直在哪邊自言...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5140')) -- ESS=我再考慮一下好了。
    ESC.SceneBreak()

::T4608D::
    Scene.AutoPrint_C(1, StringDB('ESS5141')) -- ESS=不用了，謝謝您的好意。
    ESC.SceneBreak()
::T4608E::
    Scene.AutoPrint_C(4608, StringDB('ESS5142')) -- ESS=你這窮酸，身上銀子不夠，還想學那些貴公子...
end
-- ----怡春院    龜公
function Scene.TALK4609()
    if GameFunc.GetFlag(493) then goto T4609B end --   知道黃八的下落後
    if GameFunc.GetFlag(492) then goto T4609C end
    if GameFunc.GetFlag(486) then goto T4609A end --  與悟緣一起到洛陽
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS5143')) -- ESS=我們的姑娘能歌善舞，身材臉蛋更是一流，包...
    ESC.SceneBreak()
::T4609A::
    GameFunc.FlagOn(492)
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS5144')) -- ESS=客官，您看來是生面孔，要幫您介紹個姑娘樂...
    Scene.AutoPrint_C(1, StringDB('ESS5145')) -- ESS=聽說黑血狗黃八常到你們這，他在這嗎？
    ESC.Caption(4609)
    Scene.Print_W(4609,9005,12,4,StringDB('ESS5146')) -- ESS=黃八？？%N那個王八蛋。
    ESC.WaitDLG(4609)
    Scene.Print_W(4609,9005,18,8,StringDB('ESS5147')) -- ESS=我們這的姑娘怎麼伺候他，他都不滿意。又仗...
    ESC.WaitDLG(4609)
    Scene.Print_W(4609,9005,10,8,StringDB('ESS5148')) -- ESS=你要問黃八去那裏，媽媽桑可能知道。
    ESC.WaitDLG(4609)
    ESC.SceneBreak()
::T4609B::
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS5149')) -- ESS=我們這的姑娘不但身材臉蛋好，床上的功夫更...
    ESC.SceneBreak()
::T4609C::
    Scene.AutoPrint_C(4609, StringDB('ESS5150')) -- ESS=我看呀，黃八的下落只有媽媽桑知道。
end

function Scene.TALK4610()
    if Function.GetItemCount(807)>0 then
        goto T4610
    end
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5151')) -- ESS=這幅畫所畫的，應該是天山的景色。
    ESC.SceneBreak()
::T4610::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 41, 9, 1, 0, 7)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.Center_X()
    Scene.Print_SLF(0,9009,300,140,12,2,'%S0%K'..StringDB('ESS5152')) -- ESS=使用天山通行符
    ESC.Clump()
    ESC.ChangeRoleMap(94, -1, 0, 42, 4, 6502, 0, 0)
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 6)
    ESC.RoleHide(1)
    ESC.TILPA1(94, 20)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.RoleDisable(94)
    ESC.GotoMap(194, 132, 42, 1, 0, 2)
    ESC.ChangeRoleMap(94, 194, 0, 133, 37, 6502, 0, 0)
    ESC.RoleEnable(94)
    ESC.RoleHide(1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.TILPA1(94, 14)
    ESC.RoleShow(1)
    ESC.TILPA1(94, 20)
    ESC.RoleDisable(94)
    if GameFunc.GetFlag(7074) then goto T4610A end
    GameFunc.FlagOn(7074)
    ESC.ChangeDIR(1, 6)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5153')) -- ESS=原來在畫上用天山符，一下子就可以到天山了...
::T4610A::
end

function Scene.TALK4611()
    Scene.AutoPrint_C(4611, StringDB('ESS5154')) -- ESS=現在橫行不法的人越來越多了。
end

function Scene.TALK4612()
    if GameFunc.GetFlag(499) then goto T4612 end
    GameFunc.FlagOn(499)
    Scene.AutoPrint_C(4612, StringDB('ESS5155')) -- ESS=唉，我老了，眼看朝政日益敗亂，卻不知該怎...
    ESC.SceneBreak()
::T4612::
    GameFunc.FlagOff(499)
    Scene.AutoPrint_C(4612, StringDB('ESS5156')) -- ESS=老朽真不希望皇上會像埋在西南方的漢武帝劉...
    Scene.Print_W(4612,9005,22,8,StringDB('ESS5157')) -- ESS=茂陵柏森森　劉徹葬於斯有幸得良將　功勳震...
    ESC.WaitDLG(4612)
end

function Scene.TALK4613()
    if GameFunc.GetFlag(498) then goto T4613 end
    GameFunc.FlagOn(498)
    Scene.M_PrintW_C(4613, 8, 4, StringDB('ESS5158')) -- ESS=長安舊址是指漢代的長安城，在西南方，現在...
    ESC.SceneBreak()
::T4613::
    GameFunc.FlagOff(498)
    Scene.M_PrintW_C(4613, 5, 4, StringDB('ESS5159')) -- ESS=皇上現在寵貴妃的情況，倒讓我想起一首詩。...
    Scene.Print_W(4613,9005,28,6,StringDB('ESS5160')) -- ESS=北方有佳人　絕世而獨立%N一顧傾人城　再...
    -- 漢代 李延年  佳人歌
    ESC.WaitDLG(4613)
end

function Scene.TALK4614()
    Scene.M_PrintW_C(4614, 9, 3, StringDB('ESS5161')) -- ESS=這一次回來，長安變了許多了。是變熱鬧了，...
end

function Scene.TALK4615()
    Scene.AutoPrint_C(4615, StringDB('ESS5162')) -- ESS=像黑壇教這種人橫行不法也就算了，連皇親國...
    Scene.AutoPrint_C(4615, StringDB('ESS5163')) -- ESS=特別是貴妃的親族，違法亂紀，皇上還袒護他...
end

function Scene.TALK4620()
    -- 王小弟
    Scene.AutoPrint_C(4620, StringDB('ESS5164')) -- ESS=爹跟娘又在準備捐錢了，這一次，好像要捐給...
end

function Scene.TALK4622()
    GameFunc.FlagOn(527)
    GameFunc.FlagOff(17)
    ESC.TownTrans_On()
end

function Scene.TALK4621()
    local rnd
    if GameFunc.GetFlag(539) then goto T4622_9 end
    if GameFunc.GetFlag(528) then goto T4622_8 end
    if GameFunc.GetFlag(527) then goto T4622_7 end
    if GameFunc.GetFlag(526) then goto T4622_6 end
    if not GameFunc.GetFlag(523) then goto T4622 end
    if not GameFunc.GetFlag(519) then goto T4622A end
    if Function.GetItemCount(812) == 0
        or Function.GetItemCount(813) == 0
        or Function.GetItemCount(814) == 0
        or Function.GetItemCount(816) == 0
    then
        Scene.AutoPrint_C(4622, StringDB('ESS5165')) -- ESS=找到%C2%T812.%C4、%C2%T...
        return
    end

    GameFunc.FlagOn(526)
    ItemFunc.AddItem(812, -1)
    ItemFunc.AddItem(813, -1)
    ItemFunc.AddItem(814, -1)
    ItemFunc.AddItem(816, -1)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5166')) -- ESS=我找齊了東西。
    Scene.AutoPrint_C(4622, StringDB('ESS5167')) -- ESS=作%T815.要花點時間，你過一陣子再來...
    ESC.TownTrans_Off(StringDB('ESS5168')) -- ESS=請老古作炸藥中，不應遠離長安。
    ESC.TimeLimit(3, 0, 'TALK4622')
    ESC.SceneBreak()

::T4622A::
    GameFunc.FlagOn(519)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5169')) -- ESS=請問你知道%T815.怎麼做嗎？
    ESC.FitSize()
    Scene.AutoPrint_C(4622, StringDB('ESS5170')) -- ESS=知道啊。
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5171')) -- ESS=我想請你幫我做%C2%T815.。
    Scene.AutoPrint_C(4622, StringDB('ESS5172')) -- ESS=作%C2%T815.%C4需要%C2%T...
    Scene.Print_W(4622,9005,12,4,StringDB('ESS5173')) -- ESS=找到那些，再來找我吧。
    Scene.QuestOff(104)
    Scene.QuestOn(105)
    ESC.SceneBreak()
::T4622::
    rnd = math.random(1,4)
    if rnd==1 then
        Scene.M_PrintW_C(4622, 5, 4, StringDB('ESS5174')) -- ESS=我呀..是這老闆娘的親戚，叫我老古就好了...
        Scene.M_PrintW_C(1, 5, 3, StringDB('ESS5175')) -- ESS=老古，%N那你的名字是甚麼。
        Scene.M_PrintW_C(4622, 7, 3, StringDB('ESS5176')) -- ESS=我的本名叫古維然，認識我的人，都叫我老古...
    elseif rnd==2 then
        Scene.M_PrintW_C(4622, 7, 4, StringDB('ESS5177')) -- ESS=我老古只會作些簡單的機械，比起少府監黃雷...
        Scene.Print_W(4622,9005,12,8,StringDB('ESS5178')) -- ESS=不過黃大人那種看輕四書五經的想法，真是要...
        ESC.WaitDLG(4622)
    elseif rnd==3 then
        Scene.M_PrintW_C(4622, 7, 4, StringDB('ESS5179')) -- ESS=只懂得作精巧的機械，不懂作人的道理，只怕...
        Scene.Print_W(4622,9005,14,8,StringDB('ESS5180')) -- ESS=反過來說，只知作學問，不知民間疾苦，也沒...
        ESC.WaitDLG(4622)
    else
        Scene.AutoPrint_C(4622, StringDB('ESS5165')) -- ESS=找到%C2%T812.%C4、%C2%T...
    end
    ESC.SceneBreak()

::T4622_6::
    Scene.AutoPrint_C(4622, ''..StringDB('ESS5181')) -- ESS=%T815.還沒製好，過一陣子再來吧。
    ESC.SceneBreak()
::T4622_7::
    GameFunc.FlagOn(528)
    ESC.FitSize()
    Scene.AutoPrint_C(4622, ''..StringDB('ESS5182')) -- ESS=%T815.已製好，拿去吧。
    Scene.GetItem(815, '%T815.')
    ESC.WaitDLG(0)
    Scene.AutoPrint_C(4622, StringDB('ESS5183')) -- ESS=點然引線後，要離開%T815.遠點，不然...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5184')) -- ESS=老古，真是謝謝你啦。
    ESC.FitSize()
    Scene.AutoPrint_C(4622, StringDB('ESS5185')) -- ESS=不用客氣。
    Scene.QuestOff(105)
    Scene.QuestOn(106)
::T4622_8::
    Scene.AutoPrint_C(4622, StringDB('ESS5186')) -- ESS=我除了會製造東西外，也兼製造一些稀奇的武...
    Scene.AutoPrint_C(4622, StringDB('ESS5187')) -- ESS=如果有機會，可以參觀一下我造的武器。
    ESC.SceneBreak()
::T4622_9::
    Scene.AutoPrint_C(4622, StringDB('ESS5188')) -- ESS=歡迎參觀買賣我造的武器裝甲。
    ESC.OpenStore(571, 862, 870, 880, 882, 900, 904, 916, 920, 981, 985, 992, 993, 1009, 1010, 1025, 1029, 1035, 1036, 1051, 0)
end

function Scene.TALK4624() -- 安家婢女
    if GameFunc.GetFlag(543) then goto T4624 end
    GameFunc.FlagOn(543)
    ESC.AddHeadSign(4624, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(4624)
    ESC.FitSize()
    Scene.AutoPrint_C(4624, StringDB('ESS5189')) -- ESS=你們是誰。
    Scene.AutoPrint_C(1, StringDB('ESS5190')) -- ESS=我是榮義郡主的朋友，郡主呢？
    Scene.AutoPrint_C(4624, StringDB('ESS5191')) -- ESS=郡主...郡主已經死了。
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5192')) -- ESS=怎麼會....
    Scene.AutoPrint_C(4624, StringDB('ESS5193')) -- ESS=是皇上要郡主自盡的。
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5194')) -- ESS=這.......
    Scene.AutoPrint_C(4624, StringDB('ESS5195')) -- ESS=當初皇上將郡主賜婚安慶緒時，岐王爺與王妃...
    Scene.AutoPrint_C(1, StringDB('ESS5196')) -- ESS=不是郡主自願嫁給安慶緒的？
    ESC.FitSize()
    Scene.AutoPrint_C(4624, StringDB('ESS5197')) -- ESS=是皇上強迫的。
::T4624::
    Scene.AutoPrint_C(4624, StringDB('ESS5198')) -- ESS=郡主，你死的好冤枉....
end
-- OK
function Scene.TALK4625()
    if GameFunc.GetFlag(494) then goto T4625 end
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5199')) -- ESS=在長安當差比到各方鎮好多，不用遠離妻小。...
    ESC.SceneBreak()
::T4625::
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5200')) -- ESS=我得緊守城門，不然亂兵來了，老婆小孩怎麼...
end
-- OK
function Scene.TALK4626()
    if GameFunc.GetFlag(494) then goto T4626 end
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5201')) -- ESS=長安的小兵是沒甚麼地位，倒是吃穿不愁。
    ESC.SceneBreak()
::T4626::
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5202')) -- ESS=皇上雖然跑了，但是我還是要在這保衛家園。...
end
-- OK
function Scene.TALK4627()
    if GameFunc.GetFlag(494) then goto T4627 end
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5203')) -- ESS=這些年一些官，都不是甚麼好東西，經常三更...
    ESC.SceneBreak()
::T4627::
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5204')) -- ESS=那些官兒把大唐弄成一團糟，卻都溜了，唉....
end
-- OK
function Scene.TALK4628()
    if GameFunc.GetFlag(494) then goto T4628 end
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5205')) -- ESS=在這邊守門一輩子，甚麼時後可以出頭天。
    ESC.SceneBreak()
::T4628::
    Scene.AutoPrint_C(Const.TOWN, StringDB('ESS5206')) -- ESS=這下有機會出頭天了.......。
end
-- OK
function Scene.TALK4629()
    Scene.M_PrintW_C(Const.TOWN, 7, 4, StringDB('ESS5207')) -- ESS=在這當差，比到邊郡好，聽說南紹的戰爭死了...
    if GameFunc.GetFlag(494) then goto T4629 end
    ESC.SceneBreak()
::T4629::
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5208')) -- ESS=潼關那血流城河，我看長安也快了........
end
-- OK
function Scene.TALK4630()
    if GameFunc.GetFlag(494) then goto T4630 end
    Scene.M_PrintW_C(Const.TOWN, 4, 4, StringDB('ESS5209')) -- ESS=守城門可遠眺青山綠水，倒也不錯。
    ESC.SceneBreak()
::T4630::
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5210')) -- ESS=現在遠看的是烽煙，雖然緊張，倒別有一番滋...
end
-- OK
function Scene.TALK4631()
    if GameFunc.GetFlag(494) then goto T4631 end
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5211')) -- ESS=節度使都是一些常勝將軍，我真想跟著他們立...
    ESC.SceneBreak()
::T4631::
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5212')) -- ESS=真想不到，封常清、高仙芝、哥舒翰這幾位常...
end
-- OK
function Scene.TALK4632()
    if GameFunc.GetFlag(494) then goto T4632 end
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5213')) -- ESS=守金光門倒還不錯，守皇宮門可就常受那些大...
    ESC.SceneBreak()
::T4632::
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5214')) -- ESS=那些官兒真沒用，都跑掉了，他們常自誇文能...
end
-- OK
function Scene.TALK4633()
    if GameFunc.GetFlag(494) then goto T4633 end
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5215')) -- ESS=男兒應該在戰場舞刀弄劍，在這邊沒有施展的...
    ESC.SceneBreak()
::T4633::
    Scene.AutoPrint_C(Const.TOWN, 6, 3, StringDB('ESS5216')) -- ESS=要是叛軍敢來，我要讓他們嘗嘗我厲害。
end
-- OK
function Scene.TALK4634()
    if GameFunc.GetFlag(494) then goto T4634 end
    Scene.M_PrintW_C(Const.TOWN, 7, 4, StringDB('ESS5217')) -- ESS=比起方鎮兵離鄉背景，我能跟家人在一起，真...
    ESC.SceneBreak()
::T4634::
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5218')) -- ESS=一家人都在長安，我一定要死守，不讓盜賊攻...
end
------OK
function Scene.TALK4635()
    if GameFunc.GetFlag(494) then goto T4635 end
    Scene.M_PrintW_C(Const.TOWN, 4, 4, StringDB('ESS5219')) -- ESS=當官只知吃喝玩樂，要他們作甚麼。
    ESC.SceneBreak()
::T4635::
    Scene.M_PrintW_C(Const.TOWN, 6, 3, StringDB('ESS5220')) -- ESS=現在天災人禍不斷，那些大官跑那去了。
end
------OK
function Scene.TALK4636()
    if GameFunc.GetFlag(494) then goto T4636 end
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5221')) -- ESS=唉....那些高官安坐廟堂，卻不問生民疾...
    ESC.SceneBreak()
::T4636::
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5222')) -- ESS=現在就擔心叛軍一旦到京師，該怎麼辦呢。
end
-- OK
function Scene.TALK4637()
    if GameFunc.GetFlag(494) then goto T4637 end
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5223')) -- ESS=楊家班的屋子蓋太高了，平安烽煙都被擋住看...
    ESC.SceneBreak()
::T4637::
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5224')) -- ESS=皇上還說要御駕親征，結果偷偷摸摸的溜了。...
end
-- OK
function Scene.TALK4638()
    if GameFunc.GetFlag(494) then goto T4638 end
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5225')) -- ESS=秦時明月漢時關，萬里長征人未還，但使龍城...
    ESC.SceneBreak()
::T4638::
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5226')) -- ESS=萬古綱常擔上肩，脊粱鐵硬對皇天，人生芳穢...
end
-- OK
function Scene.TALK4639()
    if GameFunc.GetFlag(494) then goto T4639 end
    Scene.M_PrintW_C(Const.TOWN, 5, 4, StringDB('ESS5227')) -- ESS=雖然衛兵收入不多，但還能讓妻兒老母溫飽。...
    ESC.SceneBreak()
::T4639::
    Scene.M_PrintW_C(Const.TOWN, 5, 3, StringDB('ESS5228')) -- ESS=我的家就在長安，還能去那呢。
end
-- OK
function Scene.TALK4640()
    if GameFunc.GetFlag(494) then goto T4640 end
    Scene.M_PrintW_C(Const.TOWN, 4, 4, StringDB('ESS5229')) -- ESS=皇上常到驪山別宮，不是個好現象。
    ESC.SceneBreak()
::T4640::
    Scene.M_PrintW_C(Const.TOWN, 6, 4, StringDB('ESS5230')) -- ESS=現在別說是別宮，連長安皇宮，只怕也會被叛...
end
-- OK
function Scene.TALK4641()
    if GameFunc.GetFlag(494) then goto T4641 end
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5231')) -- ESS=人都說貴妃敗壞朝綱，貞順皇后不也敗壞朝綱...
    ESC.SceneBreak()
::T4641::
    Scene.M_PrintW_C(Const.TOWN, 8, 4, StringDB('ESS5232')) -- ESS=大唐盛衰自有時，將士不應怨貴妃，太真若仍...
end

function Scene.TALK4642()
    if GameFunc.GetFlag(494) then goto T4642 end
    Scene.M_PrintW_C(Const.TOWN, 7, 3, StringDB('ESS5233')) -- ESS=長安四周都倚高山，是一個易守難攻的好地方...
    ESC.SceneBreak()
::T4642::
    Scene.M_PrintW_C(Const.TOWN, 7, 4, StringDB('ESS5234')) -- ESS=潼關被攻破了，現在對叛軍來說，攻下長安簡...
end
-----
----- 劇情4848,神祕商人會判斷, 4006,4008,4027,4045,4502,4043,4042,4050,4051,4052,4053 等開關
----- 開關471, 賽特念完書後,白家僕人會改變對白
----- 劇情4830, 有兩種選擇給玩家,一是小道消息,一是神祕禮物,由獻金多少決定,只能一次
----- 開關501, 殺人案發生後,長安部份路人會改變對白
----- 開關511, 王思月被擄走後,洛陽部份路人會改變對白
----- 開關511, 4802,4803,4804,4808,4817,4823,4824 消失
----- 驪山事件後, 4851,4852,4857,4867 消失
----- 洛陽市集4837在武器攤老闆4834出現後即改變對白
----- 開關494, 安史之亂時,原洛陽所有劇情消失, 4891,4892,4893,4894,4895 出現在洛陽
----- 開關494, 安史之亂時,原長安劇情保留4847,其餘消失, 4896,4897,4898,4899,4900 出現在長安
----- 開關494, 劇情4847會改變對白
----- 劇情4834, 可用綠痕、藍牙、閻天、紅葉四把太皇刀結合而成四極皇霸刀
----- 劇情4836, 可用《神津珍譜》食譜五卷換取味仙認可證
----- 劇情4821, 可用機關設計圖製作機關獸—蟹精魔機；用魔晶礦交換防具泥蚣袍
----- 劇情4856, 可用機關設計圖製作機關獸—蟹精魔機；用魔晶礦交換古劍莫邪
-----

-- 洛陽城
function Scene.TALK4801()
    ESC.Caption(4801)
    ESC.Print_S(4801,9005,StringDB('ESS5235')) -- ESS=且聽小女子為公子奏曲一首。
    ESC.WaitDLG(4801)
end

function Scene.TALK4802()
    if GameFunc.GetFlag(3504) then goto T4802A end
    ESC.Caption(4802)
    Scene.Print_W(4802,9005,8*2,5*2,StringDB('ESS5236')) -- ESS=走馬西來欲到天，辭家見月兩回圓。今夜不知...
    ESC.WaitDLG(4802)
    ESC.Caption(4803)
    Scene.Print_W(4803,9005,6*2,4*2,StringDB('ESS5237')) -- ESS=好詩、好詩！%N怎地大爺卻悶悶不樂呢？
    ESC.WaitDLG(4803)
    ESC.Caption(4802)
    Scene.Print_W(4802,9005,8*2,3*2,StringDB('ESS5238')) -- ESS=唉！我原本任安西節度使高仙芝將軍麾下掌書...
    ESC.WaitDLG(4802)
    Scene.Print_W(4802,9005,8*2,3*2,StringDB('ESS5239')) -- ESS=調任京城十六衛軍右金吾正三品大將軍。
    ESC.WaitDLG(4802)
    Scene.Print_W(4802,9005,8*2,3*2,StringDB('ESS5240')) -- ESS=我以為此次也能長%N住京城，有機會還%N...
    ESC.WaitDLG(4802)
    Scene.Print_W(4802,9005,8*2,4*2,StringDB('ESS5241')) -- ESS=前些日子卻又接到調升，將隨封常清將軍出任...
    ESC.WaitDLG(4802)
    Scene.Print_W(4802,9005,12*2,3*2,StringDB('ESS5242')) -- ESS=．．．往來鞍馬風塵間，%N卻不得一刻清閒...
    ESC.WaitDLG(4802)
    ESC.Caption(4803)
    Scene.Print_W(4803,9005,7*2,3*2,StringDB('ESS5243')) -- ESS=岑大爺，%N既然是升官，就應該高興啊！%...
    ESC.WaitDLG(4803)
    GameFunc.FlagOn(3504)
    ESC.SceneBreak()
::T4802A::
    ESC.WaitDLG(4802)
    Scene.Print_W(4802,9005,12*2,3*2,StringDB('ESS5242')) -- ESS=．．．往來鞍馬風塵間，%N卻不得一刻清閒...
    ESC.WaitDLG(4802)
end

function Scene.TALK4803()
    ESC.Caption(4803)
    Scene.Print_W(4803,9005,10*2,3*2,StringDB('ESS5244')) -- ESS=爺再多念幾首詩嘛！%N我好喜歡聽您念詩呦...
    ESC.WaitDLG(4803)
end

function Scene.TALK4804()
    ESC.Caption(4804)
    Scene.Print_W(4804,9005,8*2,3*2,StringDB('ESS5245')) -- ESS=來來來，讓我再為大爺斟杯酒。
    ESC.WaitDLG(4804)
    Scene.Print_W(4804,9005,10*2,3*2,StringDB('ESS5246')) -- ESS=喝了這杯酒，忘了一切不愉快的事情吧！
    ESC.WaitDLG(4804)
end

function Scene.TALK4805()
    ESC.Caption(4805)
    Scene.Print_W(4805,9005,9*2,5*2,StringDB('ESS5247')) -- ESS=你這小娃兒，年紀輕輕就學咱來窯子裏晃悠，...
    ESC.WaitDLG(4805)
    Scene.Print_W(4805,9005,8*2,3*2,StringDB('ESS5248')) -- ESS=滾一邊去，%N別擋著大爺喝酒。
    ESC.WaitDLG(4805)
end

function Scene.TALK4806()
    ESC.Caption(4806)
    Scene.Print_W(4806,9005,7*2,4*2,StringDB('ESS5249')) -- ESS=大爺，來嘛！再多喝幾杯呀！今兒個不醉不歸...
    ESC.WaitDLG(4806)
end

function Scene.TALK4807()
    ESC.Caption(4807)
    Scene.Print_W(4807,9005,7*2,3*2,StringDB('ESS5250')) -- ESS=瞧公子的一身裝扮，敢情是打外地來的？
    ESC.WaitDLG(4807)
    Scene.Print_W(4807,9005,7*2,3*2,StringDB('ESS5251')) -- ESS=如果沒有熟識的姑娘，奴家可為公子介紹幾個...
    ESC.WaitDLG(4807)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,3*2,StringDB('ESS5252')) -- ESS=不用、不用，我是到這兒來找人的，不用麻煩...
    ESC.WaitDLG(1)
end

function Scene.TALK4808()
    if GameFunc.GetFlag(3572) then goto T4808B end
    if GameFunc.GetFlag(3505) then goto T4808A end
    ESC.Caption(4808)
    Scene.Print_W(4808,9005,11*2,3*2,StringDB('ESS5253')) -- ESS=唉！當今的聖上自開元末年以來，貪圖享樂，...
    ESC.WaitDLG(4808)
    Scene.Print_W(4808,9005,11*2,4*2,StringDB('ESS5254')) -- ESS=且用人不當，小人如李林甫、楊國忠不說，竟...
    ESC.WaitDLG(4808)
    Scene.Print_W(4808,9005,11*2,3*2,StringDB('ESS5255')) -- ESS=兵權之重，前無古人，野心之大，路人皆知，...
    ESC.WaitDLG(4808)
    Scene.Print_W(4808,9005,11*2,4*2,StringDB('ESS5256')) -- ESS=如果安祿山真的造反，洛陽首當其衝，這教咱...
    ESC.WaitDLG(4808)
    GameFunc.FlagOn(3505)
    ESC.SceneBreak()
::T4808A::
    ESC.Caption(4809)
    Scene.Print_W(4809,9005,9*2,4*2,StringDB('ESS5257')) -- ESS=這位爺兒，不要說這麼嚴肅的事情嘛！來到這...
    ESC.WaitDLG(4809)
    ESC.Caption(4808)
    Scene.Print_W(4808,9005,7*2,4*2,StringDB('ESS5258')) -- ESS=哼！我南霽雲是頂天立地的男子漢，不應當再...
    ESC.WaitDLG(4808)
    Scene.Print_W(4808,9005,7*2,5*2,StringDB('ESS5259')) -- ESS=趕明兒個，我就投效到任睢陽太守的許遠大人...
    ESC.WaitDLG(4808)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,2*2,'%C3'..StringDB('ESS5260')) -- ESS=（果然是真性情的熱血男子，令人佩服。）
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3572)
    ESC.SceneBreak()
::T4808B::
    ESC.WaitDLG(4808)
    Scene.Print_W(4808,9005,7*2,3*2,StringDB('ESS5261')) -- ESS=投效軍旅，為國捐軀，才是男兒本色。
    ESC.WaitDLG(4808)
end

function Scene.TALK4809()
    if GameFunc.GetFlag(511) then goto T4809A end
    ESC.Caption(4809)
    Scene.Print_W(4809,9005,8*2,4*2,StringDB('ESS5262')) -- ESS=我說這位爺兒真是胸懷大志，女人家就是對這...
    ESC.WaitDLG(4809)
    ESC.SceneBreak()
::T4809A::
    ESC.Caption(4809)
    Scene.Print_W(4809,9005,9*2,3*2,StringDB('ESS5263')) -- ESS=我真是想念那位南大爺啊！不知現在他怎麼樣...
    ESC.WaitDLG(4809)
end

function Scene.TALK4810()
    if GameFunc.GetFlag(511) then goto T4810A end
    ESC.Caption(4810)
    Scene.Print_W(4810,9005,8*2,5*2,StringDB('ESS5264')) -- ESS=為何我叫的姑娘，遲遲都還沒來呢？這難道就...
    ESC.WaitDLG(4810)
    ESC.SceneBreak()
::T4810A::
    ESC.Caption(4810)
    Scene.Print_W(4810,9005,10*2,5*2,StringDB('ESS5265')) -- ESS=唉．．．男兒應當志在四方，可惜當今朝中昏...
    ESC.WaitDLG(4810)
end

function Scene.TALK4811()
    if GameFunc.GetFlag(511) then goto T4811A end
    ESC.Caption(4811)
    Scene.Print_W(4811,9005,7*2,2*2,StringDB('ESS5266')) -- ESS=奶奶個熊！
    ESC.WaitDLG(4811)
    Scene.Print_W(4811,9005,9*2,4*2,StringDB('ESS5267')) -- ESS=老子今天沒見著我的親親寶貝若冰，心情非常...
    ESC.WaitDLG(4811)
    ESC.SceneBreak()
::T4811A::
    ESC.WaitDLG(4811)
    Scene.Print_W(4811,9005,9*2,2*2,StringDB('ESS5268')) -- ESS=若冰小寶貝啊！妳到底去了哪裏呀？！
    ESC.WaitDLG(4811)
end

function Scene.TALK4812()
    ESC.ChangeQQ(1, Const.STAND)
    if GameFunc.GetFlag(511) then goto T4812A end
    ESC.Caption(4812)
    Scene.Print_W(4812,9005,13*2,4*2,StringDB('ESS5269')) -- ESS=六十八、六十九、七十．．．%N喂～～不要...
    ESC.WaitDLG(4812)
    ESC.SceneBreak()
::T4812A::
    ESC.Caption(4812)
    Scene.Print_W(4812,9005,10*2,5*2,StringDB('ESS5270')) -- ESS=一百七十八、一百七十九．．．%N我不是說...
    ESC.WaitDLG(4812)
end

function Scene.TALK4813()
    if GameFunc.GetFlag(511) then goto T4813B end
    if GameFunc.GetFlag(3548) then goto T4813A end
    ESC.Caption(4813)
    ESC.DLGHoldTime(30)
    ESC.DLGNoCloseKey()
    Scene.Print_W(4813,9005,10*2,5*2,StringDB('ESS5271')) -- ESS=這位小兄弟，要不買點肉啊？告訴你喔！我豬...
    ESC.WaitDLG(4813)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5272')) -- ESS=呃．．．．
    ESC.WaitDLG(1)
    ESC.Caption(4813)
    ESC.DLGHoldTime(20)
    ESC.DLGNoCloseKey()
    Scene.Print_W(4813,9005,10*2,4*2,StringDB('ESS5273')) -- ESS=我們這兒還有豬耳朵、豬舌頭、豬腸、牛腱、...
    ESC.WaitDLG(4813)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5274')) -- ESS=對不起！我不是要買你的肉。
    ESC.WaitDLG(1)
    ESC.Caption(4813)
    Scene.Print_W(4813,9005,9*2,4*2,StringDB('ESS5275')) -- ESS=．．．那你在這兒瞎攪和，害我浪費那麼多口...
    ESC.WaitDLG(4813)
    ESC.Caption(1)
    Scene.Print_W(1,9005,11*2,2*2,StringDB('ESS5276')) -- ESS=呃．．．．%N%C3（這兒人脾氣還真大！...
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3548)
    ESC.SceneBreak()
::T4813A::
    ESC.Caption(4813)
    Scene.Print_W(4813,9005,6*2,2*2,StringDB('ESS5277')) -- ESS=滾滾滾！別擋著我做生意！
    ESC.WaitDLG(4813)
    ESC.SceneBreak()
::T4813B::
    ESC.Caption(4813)
    Scene.Print_W(4813,9005,10*2,3*2,StringDB('ESS5278')) -- ESS=怎麼又是你？我的小祖宗，拜託你別再來鬧我...
    ESC.WaitDLG(4813)
end

function Scene.TALK4814()
    ESC.Caption(4814)
    Scene.Print_W(4814,9005,10*2,4*2,StringDB('ESS5279')) -- ESS=剛從江南新到的胭脂水粉喔！來自正宗杭州邀...
    ESC.WaitDLG(4814)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,2*2,StringDB('ESS5280')) -- ESS=不知道妮可喜不喜歡這種東西。
    ESC.WaitDLG(1)
end

function Scene.TALK4815()
    if GameFunc.GetFlag(511) then goto T4815A end
    ESC.ChangeQQ(4815, Const.STAND)
    ESC.Caption(4815)
    Scene.Print_W(4815,9005,9*2,3*2,StringDB('ESS5281')) -- ESS=大哥哥，你有沒有看到臭阿偉躲在哪裏？我怎...
    ESC.WaitDLG(4815)
    ESC.ChangeQQ(4815, Const.RUN)
    ESC.SceneBreak()
::T4815A::
    ESC.ChangeQQ(4815, Const.STAND)
    ESC.Caption(4815)
    Scene.Print_W(4815,9005,10*2,3*2,StringDB('ESS5282')) -- ESS=哎呦！臭阿偉到底是躲到哪去了，這次又輪到...
    ESC.WaitDLG(4815)
    ESC.ChangeQQ(4815, Const.RUN)
end

function Scene.TALK4816()
    if GameFunc.GetFlag(511) then goto T4816A end
    ESC.Caption(4816)
    Scene.Print_W(4816,9005,10*2,3*2,StringDB('ESS5283')) -- ESS=噓～大哥哥，你不可以告訴小強說我在這喔！...
    ESC.WaitDLG(4816)
    ESC.SceneBreak()
::T4816A::
    ESC.Caption(4816)
    Scene.Print_W(4816,9005,7*2,3*2,StringDB('ESS5284')) -- ESS=哈哈哈！每次都是笨小強做鬼，他真的好笨喔...
    ESC.WaitDLG(4816)
end



function Scene.TALK4817()
    ESC.Caption(4817)
    Scene.Print_W(4817,9005,10*2,4*2,StringDB('ESS5285')) -- ESS=奇怪咧，這麵攤老龍是死到哪去啦？！怎麼那...
    ESC.WaitDLG(4817)
end

function Scene.TALK4818()
    if GameFunc.GetFlag(3509) then goto T4818A end
    ESC.ChangeQQ(4818, Const.STAND)
    ESC.Caption(4818)
    Scene.Print_W(4818,9005,9*2,4*2,StringDB('ESS5286')) -- ESS=格老子地！幹啥！老子又不認識你，別有事沒...
    ESC.WaitDLG(4818)
    GameFunc.FlagOn(3509)
    ESC.ChangeQQ(4818, Const.WALK)
    ESC.SceneBreak()
::T4818A::
    ESC.ChangeQQ(1, Const.STAND)
    ESC.ChangeQQ(4818, Const.STAND)
    ESC.Caption(4818)
    Scene.Print_W(4818,9005,10*2,5*2,StringDB('ESS5287')) -- ESS=搞啥子東西！老子不是已經警告過你了嗎？！...
    ESC.WaitDLG(4818)
    GameFunc.FlagOff(3509)
    ESC.ChangeQQ(4818, Const.WALK)
end


function Scene.TALK4820()
    local select
    if GameFunc.GetFlag(3500) then goto T4820A end
    if GameFunc.GetFlag(3503) then goto T4820B end
    ESC.Caption(4820)
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(4820,9005,10*2,2*2,StringDB('ESS5288')) -- ESS=您好，在下%C8諸葛玄平%C4，鑽研相術...
    ESC.WaitDLG(4820)
    ESC.AddHeadSign(4820 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4820)
    Scene.Print_W(4820,9005,9*2,4*2,StringDB('ESS5289')) -- ESS=咦？！少俠的面相好特別啊！可否讓李某替您...
    ESC.WaitDLG(4820)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4820Y
    else
        goto T4820N
    end
::T4820Y::
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,11*2,5*2,StringDB('ESS5290')) -- ESS=多謝！那就先來論面吧！嗯．．．少俠看來不...
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,1*2,StringDB('ESS5291')) -- ESS=我是一個混血兒沒錯。
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,10*2,4*2,StringDB('ESS5292')) -- ESS=嗯．．．瞧少俠眉若山林秀且長，威權智識輔...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,10*2,5*2,StringDB('ESS5293')) -- ESS=眼睛．．．竟然是兩種不同的顏色．．．珠白...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,10*2,4*2,StringDB('ESS5294')) -- ESS=鼻樑如刀背，準頭無肉疊，應無緣於兄弟，見...
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,3*2,StringDB('ESS5295')) -- ESS=不錯，我生下來就是一個無父無母無兄無弟的...
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,8*2,2*2,StringDB('ESS5296')) -- ESS=對不住，在下只是實話實說。
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,2*2,StringDB('ESS5297')) -- ESS=無妨，請繼續。
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,9*2,4*2,StringDB('ESS5298')) -- ESS=好．．．少俠耳厚高過目，貼腦有垂珠，紅潤...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,10*2,3*2,StringDB('ESS5299')) -- ESS=明唇且齊，角仰不垂，聰明好學．．．呃．．...
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5300')) -- ESS=可是什麼呢？
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,8*2,3*2,StringDB('ESS5301')) -- ESS=可是睛光盛、眉有旋、鼻肉弱、耳無廓、唇嫌...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,9*2,4*2,StringDB('ESS5302')) -- ESS=又有多殺、好鬥、刑傷、夭亡以及凶災之意，...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,10*2,3*2,StringDB('ESS5303')) -- ESS=還有少俠印堂黃、紫、燥、暗、膩、慘、赤、...
    ESC.WaitDLG(4820)
    Scene.Print_W(4820,9005,11*2,5*2,StringDB('ESS5304')) -- ESS=各都有吉、貴、損、厄、凶、刑、險、危、傷...
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,1*2,StringDB('ESS5305')) -- ESS=．．．．．．
    ESC.WaitDLG(1)
    Scene.Print_W(4820,9005,8*2,2*2,StringDB('ESS5306')) -- ESS=不過．．．%N少俠今年貴庚？
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5307')) -- ESS=呃．．．大概是二十三、四歲吧？！
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,10*2,5*2,StringDB('ESS5308')) -- ESS=嗯．．．二十三四邊城地，少俠今年流年運行...
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,3*2,StringDB('ESS5309')) -- ESS=多謝你的金玉良言，此去即使再多困難，我也...
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,8*2,2*2,StringDB('ESS5310')) -- ESS=那麼就請少俠多多保重囉！
    ESC.WaitDLG(4820)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,3*2,'%C3'..StringDB('ESS5311')) -- ESS=（這門叫做看相的學問真是有趣，從別人的外...
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3500)
    ESC.SceneBreak()
::T4820N::
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,3*2,StringDB('ESS5312')) -- ESS=不好意思，我還有事要忙，有時間再說吧！
    ESC.WaitDLG(1)
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,8*2,5*2,StringDB('ESS5313')) -- ESS=啊！．．．這真是太可惜了，閣下一身奇相異...
    ESC.WaitDLG(4820)
    GameFunc.FlagOn(3503)
    ESC.SceneBreak()
::T4820A::
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,8*2,2*2,StringDB('ESS5314')) -- ESS=少俠請多多保重。
    ESC.WaitDLG(4820)
    ESC.SceneBreak()
::T4820B::
    ESC.Caption(4820)
    Scene.Print_W(4820,9005,9*2,4*2,StringDB('ESS5315')) -- ESS=少俠的面相實在是太特別了，請讓李某替您看...
    ESC.WaitDLG(4820)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4820Y
    else
        goto T4820N
    end
end

function Scene.TALK4821()
    local select
    if GameFunc.GetFlag(3556) and GameFunc.GetFlag(3557) then -- 已有泥蚣袍與蟹精魔機
        ESC.Caption(4821)
        Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5316')) -- ESS=哈哈哈！實在是太高興了，我收集齊了機關設...
        ESC.WaitDLG(4821)
        GameFunc.FlagOn(3568)
        ESC.SceneBreak()
    end

    if GameFunc.GetFlag(3567) then goto T4821I end  -- 全部都在長安蘭律閣換過
    if GameFunc.GetFlag(3565) then goto T4821H end -- 已在長安蘭律閣換過一樣物品
    if GameFunc.GetFlag(3559) then goto T4821F end -- 已製作完成機關獸
    if GameFunc.GetFlag(3558) then goto T4821E end -- 尚未製作完成機關獸
    if GameFunc.GetFlag(3556) then goto T4821C end -- 已有機關獸跳魔晶礦
    if GameFunc.GetFlag(3557) then goto T4821D end -- 已有泥蚣袍跳機關設計圖
    if GameFunc.GetFlag(3555) then goto T4821A end -- 第一次對話過後
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,11*2,5*2,StringDB('ESS5317')) -- ESS=歡迎光臨%C2松韻居%C4，咱們上至三代...
    ESC.WaitDLG(4821)
    Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5318')) -- ESS=對了，如果您身上有什麼機關設計圖，我們也...
    ESC.WaitDLG(4821)
    Scene.Print_W(4821,9005,10*2,4*2,StringDB('ESS5319')) -- ESS=或者我有在收集一些奇特的礦物，也請拿來給...
    ESC.WaitDLG(4821)
    Scene.Print_W(4821,9005,10*2,4*2,StringDB('ESS5320')) -- ESS=附帶一點，千萬不要拿給長安%C2蘭律閣%...
    ESC.WaitDLG(4821)
    GameFunc.FlagOn(3555)
    ESC.SceneBreak()
::T4821A::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,5*2,StringDB('ESS5321')) -- ESS=客官您好，您有收集齊任何一樣嗎？%N%B...
    ESC.WaitDLG(4821)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4821G
    elseif select == 2 then
        goto T4821M
    elseif select == 3 then
        goto T4821N
    else
        return
    end
::T4821G::
    if Function.GetItemCount(776) == 0
        or Function.GetItemCount(777) == 0
        or Function.GetItemCount(778) == 0
        or Function.GetItemCount(779) == 0
        or Function.GetItemCount(780) == 0
        or Function.GetItemCount(781) == 0
    then
        goto T4821B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,4*2,StringDB('ESS5322')) -- ESS=是的，老闆，我收集齊了機關設計圖共六幅，...
    ESC.WaitDLG(1)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5323')) -- ESS=好的、好的，沒問題，不過要花點時間，請您...
    ESC.WaitDLG(4821)
    ItemFunc.AddItem(776 , -1)
    ItemFunc.AddItem(777 , -1)
    ItemFunc.AddItem(778 , -1)
    ItemFunc.AddItem(779 , -1)
    ItemFunc.AddItem(780 , -1)
    ItemFunc.AddItem(781 , -1)
    ESC.TownTrans_Off(StringDB('ESS5324')) -- ESS=機關獸製作中，不應遠離洛陽。
    GameFunc.FlagOn(76)
    ESC.TimeLimit(0, 40, 'TALK4838')
    GameFunc.FlagOn(3558)
    GameFunc.FlagOn(3566)
    ESC.SceneBreak()
::T4821M::
    if Function.GetItemCount(772) == 0
        or Function.GetItemCount(773) == 0
        or Function.GetItemCount(774) == 0
        or Function.GetItemCount(775) == 0
    then
        goto T4821B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,4*2,StringDB('ESS5325')) -- ESS=是的，老闆，我收集齊了魔晶礦共四塊，不知...
    ESC.WaitDLG(1)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5326')) -- ESS=太好了，我這有一件人家抵押在我這兒，不知...
    ESC.WaitDLG(4821)
    Scene.Print_W(4821,9005,9*2,2*2,StringDB('ESS5327')) -- ESS=你願意交換嗎？%N%B 好 .╱%B 不...
    ESC.WaitDLG(4821)
    select = ESC.GetBTNSelect()
    if select ~= 1 then
        goto T4821K
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,1*2,StringDB('ESS5328')) -- ESS=我願意交換，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5329')) -- ESS=這真是太好了，這件就是神秘袍子—%C2泥...
    ESC.WaitDLG(4821)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5330')) -- ESS=多謝老闆。
    ESC.WaitDLG(1)
    ItemFunc.AddItem(772 , -1)
    ItemFunc.AddItem(773 , -1)
    ItemFunc.AddItem(774 , -1)
    ItemFunc.AddItem(775 , -1)
    Scene.GetItem(868, StringDB('ESS5331')) -- ESS=泥蚣袍
    GameFunc.FlagOn(3557)
    GameFunc.FlagOn(3566)
    ESC.SceneBreak()
::T4821K::
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5332')) -- ESS=我再考慮看看好了，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,9*2,3*2,StringDB('ESS5333')) -- ESS=哎呀！那真是太可惜了，我是真的很有誠意跟...
    ESC.WaitDLG(4821)
    ESC.SceneBreak()
::T4821N::
    ESC.Caption(1)
    Scene.Print_W(1,9005,12*2,1*2,StringDB('ESS5334')) -- ESS=我還沒收集齊全，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,11*2,1*2,StringDB('ESS5335')) -- ESS=哎呀！那真是可惜了。
    ESC.WaitDLG(4821)
    ESC.SceneBreak()
::T4821B::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,3*2,StringDB('ESS5336')) -- ESS=你騙人，你身上並沒有我要的東西，請不要把...
    ESC.WaitDLG(4821)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,1*2,StringDB('ESS5337')) -- ESS=對不起，老闆。
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4821C::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,11*2,2*2,StringDB('ESS5338')) -- ESS=你也收集齊%C2魔晶礦%C4了嗎？%N%...
    ESC.WaitDLG(4821)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4821M
    elseif select == 2 then
        goto T4821N
    else
        return
    end
::T4821D::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,9*2,3*2,StringDB('ESS5339')) -- ESS=你也收集齊%C2機關設計圖%C4了嗎？%...
    ESC.WaitDLG(4821)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4821G
    elseif select == 2 then
        goto T4821N
    else
        return
    end
::T4821E::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,8*2,2*2,StringDB('ESS5340')) -- ESS=沒那麼快啦！你怎麼這麼猴急！
    ESC.WaitDLG(4821)
    ESC.SceneBreak()
::T4821F::
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,9*2,3*2,StringDB('ESS5341')) -- ESS=已經做好了，您看，這就是機關獸—%C2羯...
    ESC.WaitDLG(4821)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,1*2,StringDB('ESS5342')) -- ESS=謝謝你，老闆。
    ESC.WaitDLG(1)
    Scene.GetItem(49, StringDB('ESS5343')) -- ESS=羯忍幻機
    ACH.SetAchievement("ACH_18_5")
    GameFunc.FlagOn(3556)
    GameFunc.FlagOff(3559)
    ESC.SceneBreak()
::T4821H::
    GameFunc.FlagOff(3565)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,5*2,StringDB('ESS5344')) -- ESS=嗯！看樣子，你已經在長安的白老頭那兒交換...
    ESC.WaitDLG(4821)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4821G
    elseif select == 2 then
        goto T4821M
    elseif select == 3 then
        goto T4821N
    else
        return
    end
::T4821I::
    ESC.AddHeadSign(4821 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4821)
    ESC.Caption(4821)
    Scene.Print_W(4821,9005,10*2,5*2,StringDB('ESS5345')) -- ESS=．．．嗚嗚嗚～還是被白老頭搶先一步，先收...
    ESC.WaitDLG(4821)
end

function Scene.TALK4822()
    if GameFunc.GetFlag(511) then goto T4822A end
    ESC.Caption(4822)
    Scene.Print_W(4822,9005,10*2,3*2,StringDB('ESS5346')) -- ESS=嗯．．．這款花瓶雕工精美，技法成熟，肯定...
    ESC.WaitDLG(4822)
    ESC.SceneBreak()
::T4822A::
    ESC.Caption(4822)
    Scene.Print_W(4822,9005,8*2,3*2,StringDB('ESS5347')) -- ESS=嗯～我比較過了京師的%C2蘭律閣%C4與...
    ESC.WaitDLG(4822)
end

function Scene.TALK4823()
    if GameFunc.GetFlag(3501) then goto T4823A end
    if not GameFunc.GetFlag(3502) then Scene.TALK4824() end
    ESC.SceneBreak()
::T4823A::
    ESC.Caption(4823)
    Scene.Print_W(4823,9005,9*2,2*2,StringDB('ESS5348')) -- ESS=這些東西可會讓我看起來很有面子？
    ESC.WaitDLG(4823)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,10*2,1*2,StringDB('ESS5349')) -- ESS=當然會囉！王員外。
    ESC.WaitDLG(4824)
end

function Scene.TALK4824()
    if GameFunc.GetFlag(3501) then Scene.TALK4823() return end
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,10*2,3*2,StringDB('ESS5350')) -- ESS=王員外，您瞧瞧這可是本朝二任文武大聖太宗...
    ESC.WaitDLG(4824)
    ESC.Caption(4823)
    Scene.Print_W(4823,9005,9*2,5*2,StringDB('ESS5351')) -- ESS=太宗皇帝．．．兩千五百兩．．．這到底珍不...
    ESC.WaitDLG(4823)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,10*2,5*2,StringDB('ESS5352')) -- ESS=貴．．．有！您看這是前朝煬帝楊廣所有的高...
    ESC.WaitDLG(4824)
    ESC.Caption(4823)
    Scene.Print_W(4823,9005,9*2,4*2,StringDB('ESS5353')) -- ESS=嗯．．．煬帝楊廣有聽過，比較有貴重的感覺...
    ESC.WaitDLG(4823)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,11*2,3*2,StringDB('ESS5354')) -- ESS=還要更貴？！好，那就拿出咱們松韻居的壓箱...
    ESC.WaitDLG(4824)
    ESC.Caption(4823)
    Scene.Print_W(4823,9005,9*2,4*2,StringDB('ESS5355')) -- ESS=曹操．．．這個很有名，應該很符合我的身分...
    ESC.WaitDLG(4823)
    ESC.AddHeadSign(4824 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4824)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,7*2,1*2,StringDB('ESS5356')) -- ESS=全都包起來？！
    ESC.WaitDLG(4824)
    ESC.Caption(4823)
    Scene.Print_W(4823,9005,8*2,4*2,StringDB('ESS5357')) -- ESS=當然是全都包起來啦！我王大員外買東西什麼...
    ESC.WaitDLG(4823)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,9*2,2*2,StringDB('ESS5358')) -- ESS=是是是，全包起來，多謝王員外。
    ESC.WaitDLG(4824)
    ESC.Caption(4824)
    Scene.Print_W(4824,9005,9*2,3*2,'%C3'..StringDB('ESS5359')) -- ESS=（可惡！多麼貴重的古董，竟然被他拿來當豬...
    ESC.WaitDLG(4824)
    GameFunc.FlagOn(3501)
end

function Scene.TALK4825()
    if GameFunc.GetFlag(3506) then Scene.TALK4826() ESC.SceneBreak() end
    if GameFunc.GetFlag(3508) then
        ESC.Caption(4826)
        Scene.Print_W(4826,9005,10*2,2*2,StringDB('ESS5360')) -- ESS=不過不管如何，我倆一定要對皇上效忠。
        ESC.WaitDLG(4826)
        ESC.Caption(4825)
        Scene.Print_W(4825,9005,10*2,4*2,StringDB('ESS5361')) -- ESS=是的，就讓我倆留在洛陽，安祿山如果反叛，...
        ESC.WaitDLG(4825)
        return
    end
    ESC.Caption(4825)
    Scene.Print_W(4825,9005,10*2,5*2,StringDB('ESS5362')) -- ESS=自左僕射兼右相的李林甫死後，楊國忠竟從原...
    ESC.WaitDLG(4825)
    ESC.Caption(4826)
    Scene.Print_W(4826,9005,10*2,5*2,StringDB('ESS5363')) -- ESS=是啊！他人輕狂浮躁，沒有威嚴，且只能逞口...
    ESC.WaitDLG(4826)
    Scene.Print_W(4826,9005,10*2,3*2,StringDB('ESS5364')) -- ESS=李林甫當相十九年天下已成亂局，由他接手，...
    ESC.WaitDLG(4826)
    ESC.Caption(4825)
    Scene.Print_W(4825,9005,9*2,4*2,StringDB('ESS5365')) -- ESS=唉．．．只希望他與安祿山不合，能稍微牽制...
    ESC.WaitDLG(4825)
    GameFunc.FlagOn(3506)
    GameFunc.FlagOn(3507)
    ESC.SceneBreak()
end

function Scene.TALK4826()
    if not GameFunc.GetFlag(3507) then Scene.TALK4825() return end
    if GameFunc.GetFlag(3508) then
        ESC.Caption(4826)
        Scene.Print_W(4826,9005,10*2,2*2,StringDB('ESS5360')) -- ESS=不過不管如何，我倆一定要對皇上效忠。
        ESC.WaitDLG(4826)
        ESC.Caption(4825)
        Scene.Print_W(4825,9005,10*2,4*2,StringDB('ESS5361')) -- ESS=是的，就讓我倆留在洛陽，安祿山如果反叛，...
        ESC.WaitDLG(4825)
        return
    end
    ESC.Caption(4826)
    Scene.Print_W(4826,9005,10*2,3*2,StringDB('ESS5366')) -- ESS=原本任禮部侍郎的達悉珣，也因為將楊國忠的...
    ESC.WaitDLG(4826)
    ESC.Caption(4825)
    Scene.Print_W(4825,9005,10*2,4*2,StringDB('ESS5367')) -- ESS=所謂國之將亡、妖孽叢生。如果皇帝身邊盡是...
    ESC.WaitDLG(4825)
    GameFunc.FlagOn(3508)
end

function Scene.TALK4827()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4827,9007,StringDB('ESS5368')) -- ESS=汪！汪！
    MediaFunc.PlaySound(355)
end

function Scene.TALK4828()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4828,9007,StringDB('ESS5369')) -- ESS=汪！汪！汪！
    MediaFunc.PlaySound(3)
end

function Scene.TALK4829()
    if GameFunc.GetFlag(511) then goto T4829A end
    ESC.Caption(4829)
    Scene.Print_W(4829,9005,10*2,2*2,StringDB('ESS5370')) -- ESS=來喔！小兄弟，要不要來一碗豆花呀？！
    ESC.WaitDLG(4829)
    ESC.AddHeadSign(1 , 1)
    ESC.Delay(200)
    ESC.DelHeadSign(1)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,3*2,'%C3'..StringDB('ESS5371')) -- ESS=（豆花？！豆子會開花嗎？這是什麼東西啊？...
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4829A::
    ESC.Caption(4829)
    Scene.Print_W(4829,9005,10*2,2*2,StringDB('ESS5370')) -- ESS=來喔！小兄弟，要不要來一碗豆花呀？！
    ESC.WaitDLG(4829)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,3*2,'%C3'..StringDB('ESS5372')) -- ESS=（我有問過悟緣豆花到底是什麼東西，才知道...
    ESC.WaitDLG(1)
end

function Scene.TALK4830()
    local select
    if GameFunc.GetFlag(3545) then goto T4830C end
    ESC.Caption(4830)
    Scene.Print_W(4830,9005,9*2,4*2,StringDB('ESS5373')) -- ESS=好心的大爺啊！可憐可憐我吧！我已經好幾天...
    ESC.WaitDLG(4830)
    ESC.Caption(1)
    Scene.Print_W(1,9005,13*2,2*2,'%C3'..StringDB('ESS5374')) -- ESS=（嗯～要不要給他點錢呢？）%N%C4%B...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4830N
    end

    Scene.Print_W(1,9005,11*2,2*2,'%C3'..StringDB('ESS5375')) -- ESS=（那要給他多少錢呢？）%C4%B　三百金...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4830A
    else
        goto T4830B
    end
::T4830N::
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,1*2,StringDB('ESS5305')) -- ESS=．．．．．．
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4830A::
    if Scene.AUTO_VCMONEY(300,4830,9005) then return end
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -300
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,1*2,StringDB('ESS5376')) -- ESS=這是給你的。
    ESC.WaitDLG(1)
    ESC.Caption(4830)
    Scene.Print_W(4830,9005,10*2,4*2,StringDB('ESS5377')) -- ESS=真是太感謝您了啊！這樣吧！大爺，我告訴你...
    ESC.WaitDLG(4830)
    GameFunc.FlagOn(3545)
    ESC.SceneBreak()
::T4830B::
    if Scene.AUTO_VCMONEY(600,4830,9005) then return end
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -600
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,1*2,StringDB('ESS5376')) -- ESS=這是給你的。
    ESC.WaitDLG(1)
    ESC.AddHeadSign(4830 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4830)
    ESC.Caption(4830)
    Scene.Print_W(4830,9005,10*2,2*2,StringDB('ESS5378')) -- ESS=哇！這麼多錢，您一定是天上來的活菩薩，
    ESC.WaitDLG(4830)
    Scene.Print_W(4830,9005,10*2,5*2,StringDB('ESS5379')) -- ESS=我這兒有一個特別的東西，是一個老和尚給我...
    ESC.WaitDLG(4830)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5380')) -- ESS=謝謝你啦！
    ESC.WaitDLG(1)
    Scene.GetItem(687, StringDB('ESS5381')) -- ESS=三葉雪桑果
    GameFunc.FlagOn(3545)
    ESC.SceneBreak()
::T4830C::
    ESC.Caption(4830)
    Scene.Print_W(4830,9005,9*2,2*2,StringDB('ESS5382')) -- ESS=實在太感謝您了，您真是我的再生父母。
    ESC.WaitDLG(4830)
end

function Scene.TALK4831()
    if GameFunc.GetFlag(511) then goto T4831B end
    if GameFunc.GetFlag(3539) then goto T4831A end
    ESC.Caption(4831)
    Scene.Print_W(4831,9005,10*2,5*2,StringDB('ESS5383')) -- ESS=我原本是太原府少尹四品官，卻因一句抱怨的...
    ESC.WaitDLG(4831)
    GameFunc.FlagOn(3539)
    ESC.SceneBreak()
::T4831A::
    ESC.Caption(4831)
    Scene.Print_W(4831,9005,10*2,4*2,StringDB('ESS5384')) -- ESS=那只是個七品官的差，我實在是氣不過，就辭...
    ESC.WaitDLG(4831)
    ESC.SceneBreak()
::T4831B::
    ESC.Caption(4831)
    Scene.Print_W(4831,9005,10*2,3*2,StringDB('ESS5385')) -- ESS=唉！現在才知道，原來這個時代不做官，生活...
    ESC.WaitDLG(4831)
end

function Scene.TALK4832()
    if GameFunc.GetFlag(511) then goto T4832B end
    if GameFunc.GetFlag(3538) then goto T4832A end
    ESC.Caption(4832)
    Scene.Print_W(4832,9005,9*2,4*2,'%C8'..StringDB('ESS5386')) -- ESS=安危在出令，存亡繫所在。%C4老皇帝任用...
    ESC.WaitDLG(4832)
    GameFunc.FlagOn(3538)
    ESC.SceneBreak()
::T4832A::
    ESC.Caption(4832)
    Scene.Print_W(4832,9005,10*2,5*2,StringDB('ESS5387')) -- ESS=可惜自李林甫當權後，完全變了樣，到了現在...
    ESC.WaitDLG(4832)
    ESC.SceneBreak()
::T4832B::
    if GameFunc.GetFlag(3544) then goto T4832C end
    ESC.Caption(4832)
    Scene.Print_W(4832,9005,8*2,4*2,StringDB('ESS5388')) -- ESS=憶昔開元全盛日，小邑猶藏萬家寶，稻米流脂...
    ESC.WaitDLG(4832)
    GameFunc.FlagOn(3544)
    ESC.SceneBreak()
::T4832C::
    ESC.Caption(4832)
    Scene.Print_W(4832,9005,8*2,4*2,StringDB('ESS5389')) -- ESS=這是本朝大詩人杜甫的詩，說得正是開元盛世...
    ESC.WaitDLG(4832)
    GameFunc.FlagOff(3544)
end

function Scene.TALK4833()
    if GameFunc.GetFlag(511) then goto T4833A end
    ESC.Caption(4833)
    Scene.Print_W(4833,9005,9*2,4*2,StringDB('ESS5390')) -- ESS=嗟！選錯房間了，早知道就選東廂房，西廂這...
    ESC.WaitDLG(4833)
    ESC.SceneBreak()
::T4833A::
    ESC.Caption(4833)
    Scene.Print_W(4833,9005,10*2,3*2,StringDB('ESS5391')) -- ESS=聽說黑壇教的人最近日益猖狂，在兩京一帶非...
    ESC.WaitDLG(4833)
end

function Scene.TALK4834()
    local select
    if GameFunc.GetFlag(3569) then goto T4834E end  -- 已經交給後對話
    if GameFunc.GetFlag(3570) then goto T4834F end -- 原本沒有太皇刀
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,10*2,3*2,StringDB('ESS5392')) -- ESS=您好，我是初到這兒的武器販子，有什麼需要...
    ESC.WaitDLG(4834)
    if Function.GetItemCount(543)>0 then
        goto T4834A
    end
    if Function.GetItemCount(544)>0 then
        goto T4834A
    end
    if Function.GetItemCount(545)>0 then
        goto T4834A
    end
    if Function.GetItemCount(546)>0 then
        goto T4834A
    end

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,2*2,StringDB('ESS5393')) -- ESS=多謝惠顧，有空再來啊！
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,10*2,5*2,StringDB('ESS5394')) -- ESS=對了，我瞧你的一身打扮，想必是一個俠客，...
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,9*2,4*2,StringDB('ESS5395')) -- ESS=順帶提點你些，聽說四把太皇刀的其中一把在...
    ESC.WaitDLG(4834)
    GameFunc.FlagOn(3570)
    ESC.SceneBreak()
::T4834A::
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,10*2,3*2,StringDB('ESS5396')) -- ESS=咦？！我感覺你們身上帶的刀有一股霸氣，難...
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,9*2,4*2,StringDB('ESS5397')) -- ESS=我有聽說四把太皇刀的其中一把在%C2天山...
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,11*2,5*2,StringDB('ESS5398')) -- ESS=如果你們擁有這四把太皇刀，我願意無條件為...
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,10*2,2*2,StringDB('ESS5399')) -- ESS=你有四把太皇刀嗎？%N%B　有 .╱%B...
    ESC.WaitDLG(4834)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4834Y
    else
        goto T4834N
    end

::T4834Y::
    if Function.GetItemCount(543) == 0
        or Function.GetItemCount(544) == 0
        or Function.GetItemCount(545) == 0
        or Function.GetItemCount(546) == 0
    then
        goto T4834B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,2*2,StringDB('ESS5400')) -- ESS=我們正是擁有這四把太皇刀。
    ESC.WaitDLG(1)
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,9*2,4*2,StringDB('ESS5401')) -- ESS=真的嗎？！請問你願意讓我將它們結合成%C...
    ESC.WaitDLG(4834)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4834N
    end
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,10*2,5*2,StringDB('ESS5402')) -- ESS=太好了，今兒個晚上正巧是月圓之夜，就請你...
    ESC.WaitDLG(4834)
    ItemFunc.AddItem(543 , -1)
    ItemFunc.AddItem(544 , -1)
    ItemFunc.AddItem(545 , -1)
    ItemFunc.AddItem(546 , -1)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0 , 0 , 0 , -30 , -30 , -30 , 25)
    ESC.FadeWait()
    ESC.ScreenHide()
    ESC.FadeClear()
    ESC.DLGNoFrame()  ESC.DLGNoPass() ESC.DLGHoldTime(10) ESC.DLGNoCloseKey() ESC.FitSize()
    Scene.Print_SL ( 1,9009,160,200,2*14,2,'%C5%S1'..StringDB('ESS5403')) -- ESS=過了一天．．．．
    ESC.WaitDLG(1)
    ESC.FadeScreen(-30 , -30 , -30 , 0 , 0 , 0 , 45)
    ESC.ScreenShow()
    ESC.FadeWait()
    ESC.FadeClear()
    GameFunc.FlagOff(10)
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,9*2,3*2,StringDB('ESS5404')) -- ESS=呼～已經完成了，請接過這把刀中之霸%C2...
    ESC.WaitDLG(4834)
    ESC.Caption(1)
    Scene.Print_W(1,9005,11*2,1*2,StringDB('ESS5405')) -- ESS=謝謝啦！老闆。
    ESC.WaitDLG(1)
    Scene.GetItem(553, StringDB('ESS5406')) -- ESS=四極皇霸刀
    GameFunc.FlagOn(3569)
    ACH.SetAchievement("ACH_18_1")
    ESC.WaitDLG(0)
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,8*2,3*2,StringDB('ESS5407')) -- ESS=那你要不要看看我這兒現成的有什麼需要的嗎...
    ESC.WaitDLG(4834)

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 536, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,1*2,StringDB('ESS5408')) -- ESS=多謝惠顧啊！
    ESC.WaitDLG(4834)
    ESC.SceneBreak()
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,9*2,2*2,StringDB('ESS5409')) -- ESS=沒有那麼快啦！請有點耐心，好嗎？
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,11*2,1*2,StringDB('ESS5410')) -- ESS=那你有什麼需要的嗎？
    ESC.WaitDLG(4834)

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,1*2,StringDB('ESS5408')) -- ESS=多謝惠顧啊！
    ESC.WaitDLG(4834)
    ESC.SceneBreak()
::T4834N::
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,11*2,1*2,StringDB('ESS5411')) -- ESS=啊！那真是太可惜了。
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,11*2,1*2,StringDB('ESS5412')) -- ESS=你還有什麼需要的嗎？
    ESC.WaitDLG(4834)

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,2*2,StringDB('ESS5393')) -- ESS=多謝惠顧，有空再來啊！
    ESC.WaitDLG(4834)
    GameFunc.FlagOn(3570)
    ESC.SceneBreak()
::T4834B::
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,10*2,2*2,StringDB('ESS5413')) -- ESS=可惡！你竟然欺騙我，害我抱那麼大的希望。...
    ESC.WaitDLG(4834)
    ESC.Caption(1)
    Scene.Print_W(1,9005,7*2,1*2,StringDB('ESS5414')) -- ESS=真是對不起。
    ESC.WaitDLG(1)
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,11*2,1*2,StringDB('ESS5415')) -- ESS=那你還要不要買東西？
    ESC.WaitDLG(4834)

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,1*2,StringDB('ESS5416')) -- ESS=謝謝啦！
    ESC.WaitDLG(4834)
    ESC.SceneBreak()
::T4834E::
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,11*2,1*2,StringDB('ESS5412')) -- ESS=你還有什麼需要的嗎？
    ESC.WaitDLG(4834)

    ESC.OpenStore(505, 513, 534, 535, 542, 547, 558, 560, 572, 571, 536, 0)

    ESC.Caption(4834)
    Scene.Print_W(4834,9005,7*2,2*2,StringDB('ESS5393')) -- ESS=多謝惠顧，有空再來啊！
    ESC.WaitDLG(4834)
    ESC.SceneBreak()
::T4834F::
    ESC.Caption(4834)
    Scene.Print_W(4834,9005,11*2,5*2,StringDB('ESS5398')) -- ESS=如果你們擁有這四把太皇刀，我願意無條件為...
    ESC.WaitDLG(4834)
    Scene.Print_W(4834,9005,9*2,3*2,StringDB('ESS5417')) -- ESS=難道你擁有了四把太皇刀了嗎？！%N%B　...
    ESC.WaitDLG(4834)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4834Y
    else
        goto T4834N
    end

end

function Scene.TALK4835()
    if GameFunc.GetFlag(494) then goto T4835A end
    ESC.Caption(4835)
    Scene.Print_W(4835,9005,9*2,5*2,StringDB('ESS5418')) -- ESS=來喔！今兒個剛到的大白菜、包心菜、蘿蔔、...
    ESC.WaitDLG(4835)
    ESC.SceneBreak()
::T4835A::
    ESC.Caption(4835)
    Scene.Print_W(4835,9005,10*2,4*2,StringDB('ESS5419')) -- ESS=別提了，那死胡狗進城後，搞得天翻地覆，要...
    ESC.WaitDLG(4835)
end

function Scene.TALK4836()
    local select
    if GameFunc.GetFlag(494) then goto T4836D end
    if GameFunc.GetFlag(3554) then goto T4836C end
    if GameFunc.GetFlag(3553) then goto T4836A end
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,9*2,3*2,StringDB('ESS5420')) -- ESS=小夥子要不要來碗熱呼的麵呀？口味可是很地...
    ESC.WaitDLG(4836)
    Scene.Print_W(4836,9005,8*2,4*2,StringDB('ESS5421')) -- ESS=偷偷告訴你，我正在尋找世上失傳已久的絕世...
    ESC.WaitDLG(4836)
    GameFunc.FlagOn(3553)
    ESC.SceneBreak()
::T4836A::
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,10*2,3*2,StringDB('ESS5422')) -- ESS=小夥子，難道你收集齊%C2《神津珍譜》%...
    ESC.WaitDLG(4836)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4836N
    end

    if Function.GetItemCount(782) == 0
        or Function.GetItemCount(783) == 0
        or Function.GetItemCount(784) == 0
        or Function.GetItemCount(785) == 0
        or Function.GetItemCount(786) == 0
    then
        goto T4836B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5423')) -- ESS=是的，老伯，我已經收集齊五卷食譜了。
    ESC.WaitDLG(1)
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,10*2,3*2,StringDB('ESS5424')) -- ESS=嗯～不錯、不錯！我就照約定給你一樣很特別...
    ESC.WaitDLG(4836)
    ItemFunc.AddItem(782 , -1)
    ItemFunc.AddItem(783 , -1)
    ItemFunc.AddItem(784 , -1)
    ItemFunc.AddItem(785 , -1)
    ItemFunc.AddItem(786 , -1)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5425')) -- ESS=多謝老伯。
    ESC.WaitDLG(1)
    Scene.GetItem(832, StringDB('ESS5426')) -- ESS=味仙認可證
    GameFunc.FlagOn(3554)
    ESC.SceneBreak()
::T4836N::
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5427')) -- ESS=對不起，我沒有收集齊這五卷食譜。
    ESC.WaitDLG(1)
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,7*2,2*2,StringDB('ESS5428')) -- ESS=沒有呀！那真是太可惜了。
    ESC.WaitDLG(4836)
    ESC.SceneBreak()
::T4836B::
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,10*2,3*2,StringDB('ESS5429')) -- ESS=小夥子，我發現你身上並沒有那五卷%C2《...
    ESC.WaitDLG(4836)
    ESC.Caption(1)
    Scene.Print_W(1,9005,5*2,1*2,StringDB('ESS5430')) -- ESS=對不起！
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4836C::
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,10*2,4*2,StringDB('ESS5431')) -- ESS=真是太感謝你了，讓我能在有生之年得到這五...
    ESC.WaitDLG(4836)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,3*2,StringDB('ESS5432')) -- ESS=不客氣，反正對我來說，並無用處，不如給真...
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4836D::
    ESC.Caption(4836)
    Scene.Print_W(4836,9005,10*2,5*2,StringDB('ESS5433')) -- ESS=雖然被安祿山佔領了洛陽稱帝，可是生活還是...
    ESC.WaitDLG(4836)
end


function Scene.TALK4837()
    if GameFunc.GetFlag(511) then goto T4837B end
    if GameFunc.GetFlag(3546) then goto T4837A end
    ESC.Caption(4837)
    Scene.Print_W(4837,9005,10*2,3*2,StringDB('ESS5434')) -- ESS=聽說坐擁三鎮節度使的胡人安祿山，最近正大...
    ESC.WaitDLG(4837)
    Scene.Print_W(4837,9005,10*2,5*2,StringDB('ESS5435')) -- ESS=也不管河南府根本不是他的地盤，就將這兒的...
    ESC.WaitDLG(4837)
    GameFunc.FlagOn(3546)
    ESC.SceneBreak()
::T4837A::
    ESC.Caption(4837)
    Scene.Print_W(4837,9005,9*2,3*2,StringDB('ESS5436')) -- ESS=咦？你是誰，我又不認識你，幹嘛跟你說那麼...
    ESC.WaitDLG(4837)
    ESC.SceneBreak()
::T4837B::
    if GameFunc.GetFlag(3547) then goto T4837C end
    ESC.Caption(4837)
    Scene.Print_W(4837,9005,10*2,2*2,StringDB('ESS5437')) -- ESS=這是剛到河南府的武器商人。
    ESC.WaitDLG(4837)
    Scene.Print_W(4837,9005,10*2,5*2,StringDB('ESS5438')) -- ESS=嘿嘿！看著吧！搞不好安祿山很快就派人來收...
    ESC.WaitDLG(4837)
    GameFunc.FlagOn(3547)
    ESC.SceneBreak()
::T4837C::
    ESC.Caption(4837)
    Scene.Print_W(4837,9005,9*2,3*2,StringDB('ESS5439')) -- ESS=拜託喔！我又不認識你，不要再纏著我說話，...
    ESC.WaitDLG(4837)
end

function Scene.TALK4838()
    -- 與劇情4821相關之開關
    GameFunc.FlagOff(3558)
    GameFunc.FlagOn(3559)
    GameFunc.FlagOff(17)
    ESC.TimeLimitStop()
    ESC.TownTrans_On()
end

function Scene.TALK4839()
    -- 與劇情4856相關之開關
    GameFunc.FlagOff(3563)
    GameFunc.FlagOn(3564)
    GameFunc.FlagOff(17)
    ESC.TimeLimitStop()
    ESC.TownTrans_On()
end


-- 長安西市
function Scene.TALK4841()
    if GameFunc.GetFlag(501) then goto T4841A end
    ESC.Caption(4841)
    Scene.Print_W(4841,9005,9*2,4*2,StringDB('ESS5440')) -- ESS=哎呦～今兒個太陽真大，晒死人了，幸好這兒...
    ESC.WaitDLG(4841)
    ESC.SceneBreak()
::T4841A::
    ESC.Caption(4841)
    Scene.Print_W(4841,9005,8*2,4*2,StringDB('ESS5441')) -- ESS=哎呦～真．．．真嚇人，我從小到大都沒看過...
    ESC.WaitDLG(4841)
end

function Scene.TALK4842()
    ESC.RoleLock(4842)
    ESC.RoleLock(4843)
    ESC.RoleLock(4844)
    ESC.ChangeQQ(4842, Const.STAND)
    ESC.ChangeQQ(4843, Const.STAND)
    ESC.ChangeQQ(4844, Const.STAND)
    if not GameFunc.GetFlag(3529) then Scene.TALK4843() ESC.SceneBreak() end
    if not GameFunc.GetFlag(3530) then Scene.TALK4844() ESC.SceneBreak() end
    ESC.Caption(4842)
    Scene.Print_W(4842,9005,10*2,4*2,'%C3'..StringDB('ESS5442')) -- ESS=（真不知道是哪裏來的渾小子，穿那怪異的衣...
    ESC.WaitDLG(4842)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,4*2,'%C3'..StringDB('ESS5443')) -- ESS=（咦？！原來每一個國家都會有這種人存在，...
    ESC.WaitDLG(1)
    ESC.ChangeQQ(4842, Const.WALK)
    ESC.ChangeQQ(4843, Const.WALK)
    ESC.ChangeQQ(4844, Const.WALK)
    ESC.Unlock(4842)
    ESC.Unlock(4843)
    ESC.Unlock(4844)
    GameFunc.FlagOff(3529)
    GameFunc.FlagOff(3530)
end

function Scene.TALK4843()
    ESC.RoleLock(4842)
    ESC.RoleLock(4843)
    ESC.RoleLock(4844)
    ESC.ChangeQQ(4842, Const.STAND)
    ESC.ChangeQQ(4843, Const.STAND)
    ESC.ChangeQQ(4844, Const.STAND)
    if GameFunc.GetFlag(3531) then Scene.TALK4844() ESC.SceneBreak() end
    ESC.Caption(4843)
    Scene.Print_W(4843,9005,8*2,4*2,StringDB('ESS5444')) -- ESS=大膽！哪裏來的無知小輩，不知道這一位正是...
    ESC.WaitDLG(4843)
    ESC.ChangeQQ(4842, Const.WALK)
    ESC.ChangeQQ(4843, Const.WALK)
    ESC.ChangeQQ(4844, Const.WALK)
    ESC.Unlock(4842)
    ESC.Unlock(4843)
    ESC.Unlock(4844)
    GameFunc.FlagOn(3529)
    GameFunc.FlagOn(3531)
    GameFunc.FlagOff(3532)
end

function Scene.TALK4844()
    ESC.RoleLock(4842)
    ESC.RoleLock(4843)
    ESC.RoleLock(4844)
    ESC.ChangeQQ(4842, Const.STAND)
    ESC.ChangeQQ(4843, Const.STAND)
    ESC.ChangeQQ(4844, Const.STAND)
    if GameFunc.GetFlag(3532) then Scene.TALK4843() ESC.SceneBreak() end
    ESC.Caption(4844)
    Scene.Print_W(4844,9005,9*2,4*2,StringDB('ESS5445')) -- ESS=放肆！不知好歹的傢伙，也不秤秤自己的斤兩...
    ESC.WaitDLG(4844)
    ESC.ChangeQQ(4842, Const.WALK)
    ESC.ChangeQQ(4843, Const.WALK)
    ESC.ChangeQQ(4844, Const.WALK)
    ESC.Unlock(4842)
    ESC.Unlock(4843)
    ESC.Unlock(4844)
    GameFunc.FlagOn(3530)
    GameFunc.FlagOn(3532)
    GameFunc.FlagOff(3531)
end

function Scene.TALK4845()
    ESC.Caption(4845)
    Scene.Print_W(4845,9005,9*2,5*2,StringDB('ESS5446')) -- ESS=我要當矮嚕山，我常聽我爹爹說，他一個人當...
    ESC.WaitDLG(4845)
end

function Scene.TALK4846()
    ESC.Caption(4846)
    Scene.Print_W(4846,9005,8*2,4*2,StringDB('ESS5447')) -- ESS=生男兒不要歡喜，生女兒不要心悲，你今天且...
    ESC.WaitDLG(4846)
    Scene.Print_W(4846,9005,8*2,4*2,StringDB('ESS5448')) -- ESS=所以說我也要當楊鬼妃，而且我娘說鬼妃想吃...
    ESC.WaitDLG(4846)
end

function Scene.TALK4847()
    if GameFunc.GetFlag(494) then goto T4847C end
    if GameFunc.GetFlag(3533) then goto T4847A end
    if GameFunc.GetFlag(3534) then goto T4847B end
    ESC.Caption(4847)
    Scene.Print_W(4847,9005,14*2,7*2,StringDB('ESS5449')) -- ESS=巴比倫大城傾倒了！傾倒了！成了魔鬼的住處...
    ESC.WaitDLG(4847)
    GameFunc.FlagOn(3533)
    ESC.SceneBreak()
::T4847A::
    ESC.Caption(4847)
    Scene.Print_W(4847,9005,9*2,5*2,StringDB('ESS5450')) -- ESS=偉大的主啊！請原諒這個國家無知的人民啊！...
    ESC.WaitDLG(4847)
    Scene.Print_W(4847,9005,9*2,3*2,StringDB('ESS5451')) -- ESS=請主耶和華不要離棄他們，施展您的力量解救...
    ESC.WaitDLG(4847)
    GameFunc.FlagOff(3533)
    GameFunc.FlagOn(3534)
    ESC.SceneBreak()
::T4847B::
    ESC.Caption(4847)
    Scene.Print_W(4847,9005,7*2,1*2,StringDB('ESS5452')) -- ESS=信主得永生。
    ESC.WaitDLG(4847)
    GameFunc.FlagOff(3534)
    ESC.SceneBreak()
::T4847C::
    if GameFunc.GetFlag(3543) then goto T4847D end
    ESC.Caption(4847)
    Scene.Print_W(4847,9005,10*2,3*2,StringDB('ESS5453')) -- ESS=你們看，不信主的罪人就會落得這種下場，這...
    ESC.WaitDLG(4847)
    GameFunc.FlagOn(3543)
    ESC.SceneBreak()
::T4847D::
    ESC.Caption(4847)
    Scene.Print_W(4847,9005,7*2,1*2,StringDB('ESS5452')) -- ESS=信主得永生。
    ESC.WaitDLG(4847)
    GameFunc.FlagOff(3543)
end

function Scene.TALK4848()
    ESC.ChangeQQ(4848, Const.STAND)
    if GameFunc.GetFlag(3537) then goto T4848B end
    if GameFunc.GetFlag(3551) then goto T4848C end
    ESC.Caption(4848)
    Scene.Print_W(4848,9005,9*2,4*2,StringDB('ESS5454')) -- ESS=我是一個喜愛冒險的旅行商人，到過世界上無...
    ESC.WaitDLG(4848)
    if GameFunc.GetFlag(4006) and GameFunc.GetFlag(4008) and GameFunc.GetFlag(4027) and
        GameFunc.GetFlag(4042) and GameFunc.GetFlag(4043) and GameFunc.GetFlag(4045) and
        GameFunc.GetFlag(4050) and GameFunc.GetFlag(4051) and GameFunc.GetFlag(4052) and
        GameFunc.GetFlag(4053) and GameFunc.GetFlag(4502) then
        goto T4848A
    end

    Scene.Print_W(4848,9005,10*2,4*2,StringDB('ESS5455')) -- ESS=我覺得我們倆似乎緣份不夠，請原諒我無法帶...
    ESC.WaitDLG(4848)
    GameFunc.FlagOn(3551)
    ESC.ChangeQQ(4848, Const.WALK)
    ESC.SceneBreak()
::T4848A::
    -- ACH.SetAchievement("ACH_8_4")
    ESC.ChangeQQ(4848, Const.STAND)
    Scene.Print_W(4848,9005,10*2,5*2,StringDB('ESS5456')) -- ESS=看我們倆那麼有緣份，好像冥冥之中有什麼安...
    ESC.WaitDLG(4848)
    ESC.OpenStore(669, 670, 671, 672, 673, 674, 675, 676, 677, 678, 679, 681, 683, 684, 685, 686, 687, 688, 689, 691, 692, 693, 0)
    ESC.Caption(4848)
    Scene.Print_W(4848,9005,10*2,1*2,StringDB('ESS5457')) -- ESS=好了，有機會再見吧！
    ESC.WaitDLG(4848)
    GameFunc.FlagOn(3537)
    ESC.ChangeQQ(4848, Const.WALK)
    ESC.SceneBreak()
::T4848B::
    ESC.ChangeQQ(4848, Const.STAND)
    ESC.Caption(4848)
    Scene.Print_W(4848,9005,6*2,1*2,StringDB('ESS5458')) -- ESS=後會有期。
    ESC.WaitDLG(4848)
    ESC.ChangeQQ(4848, Const.WALK)
    ESC.SceneBreak()
::T4848C::
    ESC.ChangeQQ(4848, Const.STAND)
    ESC.Caption(4848)
    Scene.Print_W(4848,9005,8*2,3*2,StringDB('ESS5459')) -- ESS=你沒有達到我的要求，請原諒我無法給你任何...
    ESC.WaitDLG(4848)
    ESC.ChangeQQ(4848, Const.WALK)
end

function Scene.TALK4849()
    ESC.RoleLock(4849)
    ESC.RoleLock(4850)
    ESC.ChangeQQ(4849, Const.STAND)
    ESC.ChangeQQ(4850, Const.STAND)
    if GameFunc.GetFlag(501) then goto T4849B end
    if GameFunc.GetFlag(3526) then
        ESC.ChangeQQ(4849, Const.STAND)
        ESC.ChangeQQ(4850, Const.STAND)
        ESC.Caption(Const.TOWN)
        Scene.Print_W(Const.TOWN,9005,9*2,4*2,StringDB('ESS5460')) -- ESS=夠了！我們正在執行公務，如果你再糾纏不清...
        ESC.WaitDLG(Const.TOWN)
        ESC.Unlock(4849)
        ESC.Unlock(4850)
        ESC.ChangeQQ(4849, Const.WALK)
        ESC.ChangeQQ(4850, Const.WALK)
        return
    end
    ESC.Caption(4849)
    Scene.Print_W(4849,9005,10*2,3*2,StringDB('ESS5461')) -- ESS=我們是左金吾衛軍的士兵，負責京師的巡警安...
    ESC.WaitDLG(4849)
    ESC.Unlock(4849)
    ESC.Unlock(4850)
    ESC.ChangeQQ(4849, Const.WALK)
    ESC.ChangeQQ(4850, Const.WALK)
    GameFunc.FlagOn(3526)
    ESC.SceneBreak()

::T4849B::
    ESC.ChangeQQ(4849, Const.STAND)
    ESC.ChangeQQ(4850, Const.STAND)
    ESC.Caption(4849)
    Scene.Print_W(4849,9005,10*2,5*2,StringDB('ESS5462')) -- ESS=可惡！最不想要發生的還是讓它發生了，都是...
    ESC.WaitDLG(4849)
    ESC.Unlock(4849)
    ESC.Unlock(4850)
    ESC.ChangeQQ(4849, Const.WALK)
    ESC.ChangeQQ(4850, Const.WALK)
end

function Scene.TALK4850()
    ESC.RoleLock(4849)
    ESC.RoleLock(4850)
    ESC.ChangeQQ(4849, Const.STAND)
    ESC.ChangeQQ(4850, Const.STAND)
    if GameFunc.GetFlag(501) then goto T4850A end
    if GameFunc.GetFlag(3528) then
        ESC.ChangeQQ(4849, Const.STAND)
        ESC.ChangeQQ(4850, Const.STAND)
        ESC.Caption(Const.TOWN)
        Scene.Print_W(Const.TOWN,9005,9*2,4*2,StringDB('ESS5460')) -- ESS=夠了！我們正在執行公務，如果你再糾纏不清...
        ESC.WaitDLG(Const.TOWN)
        ESC.Unlock(4849)
        ESC.Unlock(4850)
        ESC.ChangeQQ(4849, Const.WALK)
        ESC.ChangeQQ(4850, Const.WALK)
        return
    end
    ESC.Caption(4850)
    Scene.Print_W(4850,9005,10*2,4*2,StringDB('ESS5463')) -- ESS=最近黑壇教教徒猖狂，到處惹事，我們更得注...
    ESC.WaitDLG(4850)
    ESC.Unlock(4849)
    ESC.Unlock(4850)
    ESC.ChangeQQ(4849, Const.WALK)
    ESC.ChangeQQ(4850, Const.WALK)
    GameFunc.FlagOn(3528)
    ESC.SceneBreak()
::T4850A::
    ESC.ChangeQQ(4849, Const.STAND)
    ESC.ChangeQQ(4850, Const.STAND)
    ESC.Caption(4850)
    Scene.Print_W(4850,9005,10*2,3*2,StringDB('ESS5464')) -- ESS=這該死的黑壇教，如果教我碰上了，一定要他...
    ESC.WaitDLG(4850)
    ESC.Unlock(4849)
    ESC.Unlock(4850)
    ESC.ChangeQQ(4849, Const.WALK)
    ESC.ChangeQQ(4850, Const.WALK)
end

function Scene.TALK4851()
    if GameFunc.GetFlag(3510) then Scene.TALK4852() ESC.SceneBreak() end
    if GameFunc.GetFlag(3512) then
        ESC.Caption(4852)
        Scene.Print_W(4852,9005,9*2,4*2,'%C3'..StringDB('ESS5465')) -- ESS=（哼！不知好歹的傢伙，給你臉你又不要臉，...
        ESC.WaitDLG(4852)
        ESC.Caption(4851)
        Scene.Print_W(4851,9005,10*2,3*2,'%C3'..StringDB('ESS5466')) -- ESS=（唉！朝中盡是這些只會逢迎拍馬的狗東西，...
        ESC.WaitDLG(4851)
        return
    end
    ESC.Caption(4852)
    Scene.Print_W(4852,9005,10*2,5*2,StringDB('ESS5467')) -- ESS=張兄，好不容易考得進士，這個時候只要備份...
    ESC.WaitDLG(4852)
    ESC.Caption(4851)
    ESC.DLGHoldTime(5)
    ESC.DLGNoCloseKey()
    Scene.Print_W(4851,9005,3*2,1*2,StringDB('ESS5468')) -- ESS=哼！
    ESC.WaitDLG(4851)
    Scene.Print_W(4851,9005,11*2,2*2,StringDB('ESS5469')) -- ESS=你們現在依靠楊國忠，以為好像依靠著泰山一...
    ESC.WaitDLG(4851)
    Scene.Print_W(4851,9005,11*2,4*2,StringDB('ESS5470')) -- ESS=可是就我看來，你們依靠的只是一座冰山，一...
    ESC.WaitDLG(4851)
    ESC.AddHeadSign(4852 , 0)
    ESC.Delay(200)
    ESC.DelHeadSign(4852)
    GameFunc.FlagOn(3510)
    GameFunc.FlagOn(3511)
    ESC.SceneBreak()

end

function Scene.TALK4852()
    if not GameFunc.GetFlag(3511) then Scene.TALK4851() ESC.SceneBreak() end
    if GameFunc.GetFlag(3512) then
        ESC.Caption(4852)
        Scene.Print_W(4852,9005,9*2,4*2,'%C3'..StringDB('ESS5465')) -- ESS=（哼！不知好歹的傢伙，給你臉你又不要臉，...
        ESC.WaitDLG(4852)
        ESC.Caption(4851)
        Scene.Print_W(4851,9005,10*2,3*2,'%C3'..StringDB('ESS5466')) -- ESS=（唉！朝中盡是這些只會逢迎拍馬的狗東西，...
        ESC.WaitDLG(4851)
    end
    ESC.Caption(4852)
    Scene.Print_W(4852,9005,7*2,4*2,StringDB('ESS5471')) -- ESS=咦？！張兄，這是千載難逢的好機會，為何不...
    ESC.WaitDLG(4852)
    ESC.Caption(4851)
    Scene.Print_W(4851,9005,10*2,5*2,StringDB('ESS5472')) -- ESS=不用多說了！早知當今朝中竟是如此情況，我...
    ESC.WaitDLG(4851)
    GameFunc.FlagOn(3512)
end

function Scene.TALK4853()
    if GameFunc.GetFlag(3525) then goto T4853A end
    ESC.Caption(4853)
    Scene.Print_W(4853,9005,9*2,4*2,StringDB('ESS5473')) -- ESS=你好，在下%C2杜子美%C4，來到京師已...
    ESC.WaitDLG(4853)
    GameFunc.FlagOn(3525)
    ESC.SceneBreak()
::T4853A::
    ESC.Caption(4853)
    Scene.Print_W(4853,9005,10*2,3*2,StringDB('ESS5474')) -- ESS=現下正流行%C2投詩%C4求官的方式，可...
    ESC.WaitDLG(4853)
    GameFunc.FlagOff(3525)
end

function Scene.TALK4854()
    ESC.Caption(4854)
    Scene.Print_W(4854,9005,10*2,1*2,StringDB('ESS5475')) -- ESS=鼾～呼～鼾～呼．．．
    ESC.WaitDLG(4854)
end

function Scene.TALK4855()
    if GameFunc.GetFlag(501) then goto T4855B end
    if GameFunc.GetFlag(3524) then goto T4855A end
    ESC.Caption(4855)
    Scene.Print_W(4855,9005,10*2,5*2,StringDB('ESS5476')) -- ESS=聽說楊國忠在沒當上宰相前，就已身兼十餘個...
    ESC.WaitDLG(4855)
    GameFunc.FlagOn(3524)
    ESC.SceneBreak()
::T4855A::
    ESC.Caption(4855)
    Scene.Print_W(4855,9005,10*2,5*2,StringDB('ESS5477')) -- ESS=就因為這樣，他利用自己的權力，壓榨人民，...
    ESC.WaitDLG(4855)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,5*2,'%C3'..StringDB('ESS5478')) -- ESS=（我倒是認為任何國家都不會人才枯竭，當朝...
    ESC.WaitDLG(1)
    Scene.Print_W(1,9005,10*2,4*2,'%C3'..StringDB('ESS5479')) -- ESS=（這樣反而會使人才大量倒戈至反抗陣營，如...
    ESC.WaitDLG(1)
    GameFunc.FlagOff(3524)
    ESC.SceneBreak()
::T4855B::
    ESC.Caption(4855)
    Scene.Print_W(4855,9005,9*2,4*2,StringDB('ESS5480')) -- ESS=唉～～朝中有奸臣當道，社會上又有邪教在作...
    ESC.WaitDLG(4855)
end

function Scene.TALK4856()
    local select
    if GameFunc.GetFlag(3561) and GameFunc.GetFlag(3562) then  -- 已有莫邪與蟹精魔機
        goto T4856Z
    end
    if GameFunc.GetFlag(3568) then goto T4856I end -- 全部都在洛陽松韻居換過
    if GameFunc.GetFlag(3566) then goto T4856H end -- 已在洛陽松韻居換過一樣物品
    if GameFunc.GetFlag(3564) then goto T4856F end -- 製作完成機關獸
    if GameFunc.GetFlag(3563) then goto T4856E end -- 尚未製作完成機關獸
    if GameFunc.GetFlag(3561) then goto T4856C end -- 已有機關獸跳魔晶礦
    if GameFunc.GetFlag(3562) then goto T4856D end -- 已有莫邪跳機關設計圖
    if GameFunc.GetFlag(3560) then goto T4856A end -- 第一次對話過後
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5481')) -- ESS=客倌您好，我們%C2蘭律閣%C4可是數十...
    ESC.WaitDLG(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5482')) -- ESS=對了，如果您身上有什麼機關設計圖，我們也...
    ESC.WaitDLG(4856)
    Scene.Print_W(4856,9005,10*2,4*2,StringDB('ESS5483')) -- ESS=或者我在收集一些奇特的礦物，也請拿來給我...
    ESC.WaitDLG(4856)
    Scene.Print_W(4856,9005,10*2,4*2,StringDB('ESS5484')) -- ESS=附帶一點，千萬不要拿給洛陽%C2松韻居%...
    ESC.WaitDLG(4856)
    GameFunc.FlagOn(3560)
    ESC.SceneBreak()
::T4856A::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,5*2,StringDB('ESS5321')) -- ESS=客官您好，您有收集齊任何一樣嗎？%N%B...
    ESC.WaitDLG(4856)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4856G
    elseif select == 2 then
        goto T4856M
    elseif select == 3 then
        goto T4856N
    else
        return
    end

::T4856G::
    if Function.GetItemCount(776) == 0
        or Function.GetItemCount(777) == 0
        or Function.GetItemCount(778) == 0
        or Function.GetItemCount(779) == 0
        or Function.GetItemCount(780) == 0
        or Function.GetItemCount(781) == 0
    then
        goto T4856B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,4*2,StringDB('ESS5322')) -- ESS=是的，老闆，我收集齊了機關設計圖共六幅，...
    ESC.WaitDLG(1)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5323')) -- ESS=好的、好的，沒問題，不過要花點時間，請您...
    ESC.WaitDLG(4856)
    ItemFunc.AddItem(776 , -1)
    ItemFunc.AddItem(777 , -1)
    ItemFunc.AddItem(778 , -1)
    ItemFunc.AddItem(779 , -1)
    ItemFunc.AddItem(780 , -1)
    ItemFunc.AddItem(781 , -1)
    ESC.TownTrans_Off(StringDB('ESS5485')) -- ESS=機關獸製作中，不應遠離長安。
    GameFunc.FlagOn(76)
    ESC.TimeLimit(0, 40, 'TALK4839')
    GameFunc.FlagOn(3563)
    GameFunc.FlagOn(3565)
    ESC.SceneBreak()
::T4856M::
    if Function.GetItemCount(772) == 0
        or Function.GetItemCount(773) == 0
        or Function.GetItemCount(774) == 0
        or Function.GetItemCount(775) == 0
    then
        goto T4856B
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,4*2,StringDB('ESS5325')) -- ESS=是的，老闆，我收集齊了魔晶礦共四塊，不知...
    ESC.WaitDLG(1)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,4*2,StringDB('ESS5486')) -- ESS=太棒了，我這有一把春秋鑄劍名匠歐冶子的高...
    ESC.WaitDLG(4856)
    Scene.Print_W(4856,9005,9*2,2*2,StringDB('ESS5327')) -- ESS=你願意交換嗎？%N%B 好 .╱%B 不...
    ESC.WaitDLG(4856)
    select = ESC.GetBTNSelect()
    if select == 2 then
        goto T4856K
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,1*2,StringDB('ESS5328')) -- ESS=我願意交換，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5487')) -- ESS=這真是太好了，這把就是古劍%C2莫邪%C...
    ESC.WaitDLG(4856)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5330')) -- ESS=多謝老闆。
    ESC.WaitDLG(1)
    ItemFunc.AddItem(772 , -1)
    ItemFunc.AddItem(773 , -1)
    ItemFunc.AddItem(774 , -1)
    ItemFunc.AddItem(775 , -1)
    Scene.GetItem(517, StringDB('ESS5488')) -- ESS=莫邪
    GameFunc.FlagOn(3562)
    GameFunc.FlagOn(3565)
    ESC.SceneBreak()
::T4856K::
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5332')) -- ESS=我再考慮看看好了，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,9*2,3*2,StringDB('ESS5333')) -- ESS=哎呀！那真是太可惜了，我是真的很有誠意跟...
    ESC.WaitDLG(4856)
    ESC.SceneBreak()
::T4856N::
    ESC.Caption(1)
    Scene.Print_W(1,9005,12*2,1*2,StringDB('ESS5334')) -- ESS=我還沒收集齊全，老闆。
    ESC.WaitDLG(1)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,11*2,1*2,StringDB('ESS5335')) -- ESS=哎呀！那真是可惜了。
    ESC.WaitDLG(4856)
    ESC.SceneBreak()
::T4856B::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5336')) -- ESS=你騙人，你身上並沒有我要的東西，請不要把...
    ESC.WaitDLG(4856)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,1*2,StringDB('ESS5337')) -- ESS=對不起，老闆。
    ESC.WaitDLG(1)
    ESC.SceneBreak()
::T4856C::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,11*2,2*2,StringDB('ESS5489')) -- ESS=你也收集齊魔晶礦了嗎？%N%B 是 .／...
    ESC.WaitDLG(4856)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4856M
    elseif select == 2 then
        goto T4856N
    else
        return
    end

::T4856D::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,9*2,3*2,StringDB('ESS5490')) -- ESS=你也收集齊機關設計圖了嗎？%N%B 是 ...
    ESC.WaitDLG(4856)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T4856G
    elseif select == 1 then
        goto T4856N
    else
        return
    end

::T4856E::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,8*2,2*2,StringDB('ESS5340')) -- ESS=沒那麼快啦！你怎麼這麼猴急！
    ESC.WaitDLG(4856)
    ESC.SceneBreak()
::T4856F::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,9*2,3*2,StringDB('ESS5491')) -- ESS=已經做好了，您看，這就是機關獸—%C2蟹...
    ESC.WaitDLG(4856)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,1*2,StringDB('ESS5342')) -- ESS=謝謝你，老闆。
    ESC.WaitDLG(1)
    Scene.GetItem(47, StringDB('ESS5492')) -- ESS=蟹精魔機
    ACH.SetAchievement("ACH_18_4")
    GameFunc.FlagOn(3561)
    GameFunc.FlagOff(3564)
    ESC.SceneBreak()
::T4856H::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,4*2,StringDB('ESS5493')) -- ESS=嗯！可惡～看樣子，你已經有在洛陽常老鬼那...
    ESC.WaitDLG(4856)
    ESC.SceneBreak()
::T4856I::
    ESC.AddHeadSign(4856 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(4856)
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,5*2,StringDB('ESS5494')) -- ESS=．．．嗚嗚嗚～還是被常老鬼搶先一步，先收...
    ESC.WaitDLG(4856)
    ESC.SceneBreak()
::T4856Z::
    ESC.Caption(4856)
    Scene.Print_W(4856,9005,10*2,3*2,StringDB('ESS5495')) -- ESS=哈哈哈！實在是太高興了，我收集齊了機關設...
    ESC.WaitDLG(4856)
    GameFunc.FlagOn(3567)
end

function Scene.TALK4857()
    ESC.Caption(4857)
    Scene.Print_W(4857,9005,10*2,4*2,StringDB('ESS5496')) -- ESS=哼！這裏的東西連洛陽城的%C2松韻居%C...
    ESC.WaitDLG(4857)
end

function Scene.TALK4858()
    if GameFunc.GetFlag(501) then goto T4858B end
    if GameFunc.GetFlag(3520) then goto T4858A end
    ESC.Caption(4858)
    Scene.Print_W(4858,9005,10*2,4*2,StringDB('ESS5497')) -- ESS=我聽說隴右節度使%C2哥舒翰%C4、范陽...
    ESC.WaitDLG(4858)
    Scene.Print_W(4858,9005,10*2,4*2,StringDB('ESS5498')) -- ESS=之前皇上命內侍%C2高力士%C4在城東擺...
    ESC.WaitDLG(4858)
    GameFunc.FlagOn(3520)
    ESC.SceneBreak()
::T4858A::
    ESC.Caption(4858)
    Scene.Print_W(4858,9005,9*2,3*2,StringDB('ESS5499')) -- ESS=雖然同是番人，哥舒翰可比安祿山效忠皇上。...
    ESC.WaitDLG(4858)
    GameFunc.FlagOff(3520)
    ESC.SceneBreak()
::T4858B::
    ESC.Caption(4858)
    Scene.Print_W(4858,9005,10*2,4*2,StringDB('ESS5500')) -- ESS=這黑壇教也太膽大妄為了，竟然敢在天子腳下...
    ESC.WaitDLG(4858)
end

function Scene.TALK4859()
    if GameFunc.GetFlag(501) then goto T4859B end
    if GameFunc.GetFlag(3519) then goto T4859A end
    ESC.Caption(4859)
    Scene.Print_W(4859,9005,10*2,5*2,StringDB('ESS5501')) -- ESS=皇上為安祿山在長安城內親仁坊興建的新宅，...
    ESC.WaitDLG(4859)
    Scene.Print_W(4859,9005,10*2,4*2,StringDB('ESS5502')) -- ESS=且全都用金銀來裝飾，堂皇富麗之極，就連皇...
    ESC.WaitDLG(4859)
    GameFunc.FlagOn(3519)
    ESC.SceneBreak()
::T4859A::
    ESC.Caption(4859)
    Scene.Print_W(4859,9005,9*2,5*2,StringDB('ESS5503')) -- ESS=只要安祿山到京師，皇上便會派人陪同遊山玩...
    ESC.WaitDLG(4859)
    Scene.Print_W(4859,9005,9*2,4*2,StringDB('ESS5504')) -- ESS=而皇上每吃到一種可口的東西，也立刻派人快...
    ESC.WaitDLG(4859)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,3*2,'%C3'..StringDB('ESS5505')) -- ESS=（安祿山好像也是這個國家的名人，希望有機...
    ESC.WaitDLG(1)
    GameFunc.FlagOff(3519)
    ESC.SceneBreak()
::T4859B::
    ESC.Caption(4859)
    Scene.Print_W(4859,9005,10*2,5*2,StringDB('ESS5506')) -- ESS=這門口死的人我認識，他是住在西市邊的秦老...
    ESC.WaitDLG(4859)
end

function Scene.TALK4860()
    if GameFunc.GetFlag(501) then goto T4860B end
    if GameFunc.GetFlag(3518) then goto T4860A end
    ESC.Caption(4860)
    Scene.Print_W(4860,9005,10*2,4*2,StringDB('ESS5507')) -- ESS=知內侍省事%C2高力士%C4，深受皇上寵...
    ESC.WaitDLG(4860)
    Scene.Print_W(4860,9005,10*2,3*2,StringDB('ESS5508')) -- ESS=太子%C2李亨%C4都要叫他作大哥，親王...
    ESC.WaitDLG(4860)
    Scene.Print_W(4860,9005,10*2,3*2,StringDB('ESS5509')) -- ESS=李林甫與安祿山，也都是靠他的推薦，才能有...
    ESC.WaitDLG(4860)
    GameFunc.FlagOn(3518)
    ESC.SceneBreak()
::T4860A::
    ESC.Caption(4860)
    Scene.Print_W(4860,9005,9*2,4*2,StringDB('ESS5510')) -- ESS=高力士的富貴雖已達頂峰，但他性情溫和謹慎...
    ESC.WaitDLG(4860)
    GameFunc.FlagOff(3518)
    ESC.SceneBreak()
::T4860B::
    ESC.Caption(4860)
    Scene.Print_W(4860,9005,10*2,5*2,StringDB('ESS5511')) -- ESS=我聽說黑壇教的人都是一些經大赦放出來的，...
    ESC.WaitDLG(4860)
end

function Scene.TALK4861()
    if GameFunc.GetFlag(501) then goto T4861B end
    if GameFunc.GetFlag(3513) then Scene.TALK4862() ESC.SceneBreak() end
    if GameFunc.GetFlag(3515) then goto T4861A end
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,10*2,3*2,StringDB('ESS5512')) -- ESS=唉．．．京兆府乃中央朝廷之所在，宦官、禁...
    ESC.WaitDLG(4861)
    ESC.AddHeadSign(4862 , 0)
    ESC.Delay(200)
    ESC.DelHeadSign(4862)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,8*2,3*2,StringDB('ESS5513')) -- ESS=大人！千萬不可因為跟楊右相是熟識就直呼其...
    ESC.WaitDLG(4862)
    Scene.Print_W(4862,9005,8*2,5*2,StringDB('ESS5514')) -- ESS=這裏的耳目眾多，小心被敵視您的小人聽見，...
    ESC.WaitDLG(4862)
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,9*2,4*2,StringDB('ESS5515')) -- ESS=我哪裏還管的了那麼多，永成，趕快幫我想想...
    ESC.WaitDLG(4861)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,7*2,2*2,StringDB('ESS5516')) -- ESS=這個嘛．．．讓下官想想。
    ESC.WaitDLG(4862)
    GameFunc.FlagOn(3513)
    GameFunc.FlagOn(3514)
    ESC.SceneBreak()
::T4861A::
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,9*2,3*2,StringDB('ESS5517')) -- ESS=太好了！永成，我如果再往上升調，絕對少不...
    ESC.WaitDLG(4861)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,8*2,2*2,StringDB('ESS5518')) -- ESS=多謝大人的栽培，下官沒齒難忘。
    ESC.WaitDLG(4862)
    ESC.SceneBreak()
::T4861B::
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,10*2,4*2,StringDB('ESS5519')) -- ESS=糟了！文成，這黑壇教鬧事鬧到京師裏來了，...
    ESC.WaitDLG(4861)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,10*2,4*2,StringDB('ESS5520')) -- ESS=大人不必擔這個心，這事件牽扯的層級甚廣，...
    ESC.WaitDLG(4862)
end

function Scene.TALK4862()
    if GameFunc.GetFlag(501) then
        ESC.Caption(4861)
        Scene.Print_W(4861,9005,10*2,4*2,StringDB('ESS5519')) -- ESS=糟了！文成，這黑壇教鬧事鬧到京師裏來了，...
        ESC.WaitDLG(4861)
        ESC.Caption(4862)
        Scene.Print_W(4862,9005,10*2,4*2,StringDB('ESS5520')) -- ESS=大人不必擔這個心，這事件牽扯的層級甚廣，...
        ESC.WaitDLG(4862)
        return
    end
    if not GameFunc.GetFlag(3514) then Scene.TALK4861() ESC.SceneBreak() end
    if GameFunc.GetFlag(3515) then
        ESC.Caption(4861)
        Scene.Print_W(4861,9005,9*2,3*2,StringDB('ESS5517')) -- ESS=太好了！永成，我如果再往上升調，絕對少不...
        ESC.WaitDLG(4861)
        ESC.Caption(4862)
        Scene.Print_W(4862,9005,8*2,2*2,StringDB('ESS5518')) -- ESS=多謝大人的栽培，下官沒齒難忘。
        ESC.WaitDLG(4862)
        return
    end
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,8*2,3*2,StringDB('ESS5521')) -- ESS=到底怎麼樣啊？！永成，有沒有想到什麼方法...
    ESC.WaitDLG(4861)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,10*2,4*2,StringDB('ESS5522')) -- ESS=依下官之見，大人不如發動京師候補官員給相...
    ESC.WaitDLG(4862)
    ESC.Caption(4861)
    Scene.Print_W(4861,9005,10*2,3*2,StringDB('ESS5523')) -- ESS=嗯．．．好！這個辦法甚好，就依你，回去趕...
    ESC.WaitDLG(4861)
    ESC.Caption(4862)
    Scene.Print_W(4862,9005,8*2,2*2,StringDB('ESS5524')) -- ESS=是，這件事就交給下官去辦。
    ESC.WaitDLG(4862)
    GameFunc.FlagOn(3515)
end

function Scene.TALK4863()
    if GameFunc.GetFlag(3552) then goto T4863A end
    ESC.Caption(4863)
    Scene.Print_W(4863,9005,9*2,4*2,StringDB('ESS5525')) -- ESS=吾乃京城千牛衛的士兵，借調來當京兆府尹的...
    ESC.WaitDLG(4863)
    GameFunc.FlagOn(3552)
    ESC.SceneBreak()
::T4863A::
    ESC.Caption(4863)
    Scene.Print_W(4863,9005,9*2,5*2,StringDB('ESS5526')) -- ESS=尤其近來聽說，有黑壇教的人進京來了，我更...
    ESC.WaitDLG(4863)
    GameFunc.FlagOff(3552)
end


function Scene.TALK4864()
    ESC.Caption(4864)
    Scene.Print_W(4864,9005,10*2,4*2,StringDB('ESS5527')) -- ESS=唉～～我的老婆跟人跑了，這都要怪我平時不...
    ESC.WaitDLG(4864)
end

function Scene.TALK4865()
    if GameFunc.GetFlag(3573) then
        ESC.Caption(4865)
        Scene.Print_W(4865,9005,10*2,5*2,StringDB('ESS5528')) -- ESS=嗯～聽說黑壇教眾也都是被大赦過好幾次的不...
        ESC.WaitDLG(4865)
        ESC.Caption(4866)
        Scene.Print_W(4866,9005,9*2,5*2,StringDB('ESS5529')) -- ESS=那%C2雨丹子%C4更厲害，據說他不用傳...
        ESC.WaitDLG(4866)
        return
    end
    if GameFunc.GetFlag(501) then goto T4865B end
    if GameFunc.GetFlag(3517) then Scene.TALK4866() ESC.SceneBreak() end
    if GameFunc.GetFlag(3571) then goto T4865A end
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,9*2,5*2,StringDB('ESS5530')) -- ESS=李兄你看，隔壁桌坐的似乎是京兆府尹%C2...
    ESC.WaitDLG(4865)
    ESC.Caption(4866)
    Scene.Print_W(4866,9005,9*2,4*2,StringDB('ESS5531')) -- ESS=沒錯，他正是鮮于仲通，想當年他是巴蜀新政...
    ESC.WaitDLG(4866)
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,8*2,2*2,StringDB('ESS5532')) -- ESS=原來如此，原來有這一層關係啊！
    ESC.WaitDLG(4865)
    GameFunc.FlagOn(3571)
    ESC.SceneBreak()
::T4865A::
    ESC.Caption(4866)
    Scene.Print_W(4866,9005,9*2,4*2,StringDB('ESS5533')) -- ESS=還不只呢！鮮于仲通任劍南道巡察署支使時，...
    ESC.WaitDLG(4866)
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,10*2,4*2,StringDB('ESS5534')) -- ESS=．．．從最早的金吾衛兵曹參軍一直到現在的...
    ESC.WaitDLG(4865)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,4*2,'%C3'..StringDB('ESS5535')) -- ESS=（怎麼到處都聽得到楊國忠這個人的名字？而...
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3516)
    GameFunc.FlagOn(3517)
    ESC.SceneBreak()
::T4865B::
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,9*2,4*2,StringDB('ESS5536')) -- ESS=這黑壇教惡名昭彰，聽說教主是個叫%C2雨...
    ESC.WaitDLG(4865)
    ESC.Caption(4866)
    Scene.Print_W(4866,9005,10*2,3*2,StringDB('ESS5537')) -- ESS=正是，他十幾歲就經常姦殺民女，被打入大牢...
    ESC.WaitDLG(4866)
    GameFunc.FlagOn(3573)
end

function Scene.TALK4866()
    if GameFunc.GetFlag(3573) then goto T4866A end
    if GameFunc.GetFlag(501) then
        ESC.Caption(4865)
        Scene.Print_W(4865,9005,9*2,4*2,StringDB('ESS5536')) -- ESS=這黑壇教惡名昭彰，聽說教主是個叫%C2雨...
        ESC.WaitDLG(4865)
        ESC.Caption(4866)
        Scene.Print_W(4866,9005,10*2,3*2,StringDB('ESS5537')) -- ESS=正是，他十幾歲就經常姦殺民女，被打入大牢...
        ESC.WaitDLG(4866)
        GameFunc.FlagOn(3573)
        return
    end
    if not GameFunc.GetFlag(3516) then Scene.TALK4865() ESC.SceneBreak() end
    ESC.Caption(4866)
    Scene.Print_W(4866,9005,9*2,3*2,StringDB('ESS5538')) -- ESS=怎麼？難道三郎也想要巴結巴結他，討個一官...
    ESC.WaitDLG(4866)
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,10*2,3*2,StringDB('ESS5539')) -- ESS=咦？！李兄也太小看我了吧！像這樣的奴才狗...
    ESC.WaitDLG(4865)
    ESC.SceneBreak()
::T4866A::
    ESC.Caption(4865)
    Scene.Print_W(4865,9005,10*2,5*2,StringDB('ESS5528')) -- ESS=嗯～聽說黑壇教眾也都是被大赦過好幾次的不...
    ESC.WaitDLG(4865)
    ESC.Caption(4866)
    Scene.Print_W(4866,9005,9*2,5*2,StringDB('ESS5529')) -- ESS=那%C2雨丹子%C4更厲害，據說他不用傳...
    ESC.WaitDLG(4866)
end


function Scene.TALK4867()
    ESC.Caption(4867)
    Scene.Print_W(4867,9005,9*2,3*2,StringDB('ESS5540')) -- ESS=大夫啊！我頭痛、鼻塞、肩酸、手顫、氣悶、...
    ESC.WaitDLG(4867)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,4*2,StringDB('ESS5541')) -- ESS=對不起，我不知道大夫是什麼東西，我想我應...
    ESC.WaitDLG(1)
    ESC.Caption(4867)
    Scene.Print_W(4867,9005,10*2,3*2,StringDB('ESS5542')) -- ESS=什麼？！你不是大夫，那幹嘛跟我說話，走開...
    ESC.WaitDLG(4867)
end

function Scene.TALK4868()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4868,9007,StringDB('ESS5369')) -- ESS=汪！汪！汪！
    MediaFunc.PlaySound(3)
end

function Scene.TALK4869()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4869,9007,StringDB('ESS5368')) -- ESS=汪！汪！
    MediaFunc.PlaySound(355)
end

function Scene.TALK4870()
    ESC.ChangeQQ(4870, Const.STAND)
    if GameFunc.GetFlag(501) then goto T4870B ESC.SceneBreak() end
    if GameFunc.GetFlag(3535) then goto T4870A end
    ESC.Caption(4870)
    Scene.Print_W(4870,9005,10*2,4*2,StringDB('ESS5543')) -- ESS=在天寶四年，老皇帝封%C2楊玉環%C4為...
    ESC.WaitDLG(4870)
    GameFunc.FlagOn(3535)
    ESC.ChangeQQ(4870, Const.WALK)
    ESC.SceneBreak()
::T4870A::
    ESC.Caption(4870)
    Scene.Print_W(4870,9005,9*2,3*2,StringDB('ESS5544')) -- ESS=唉．．．人的際遇就是有那麼大的差別，這都...
    ESC.WaitDLG(4870)
    ESC.ChangeQQ(4870, Const.WALK)
    ESC.SceneBreak()
::T4870B::
    ESC.Caption(4870)
    Scene.Print_W(4870,9005,10*2,4*2,StringDB('ESS5545')) -- ESS=黑壇教犯事兒，已經是常有的事兒了，但是敢...
    ESC.WaitDLG(4870)
    ESC.ChangeQQ(4870, Const.WALK)
end

function Scene.TALK4871()
    if GameFunc.GetFlag(494) then goto T4871B end
    if GameFunc.GetFlag(501) then goto T4871A end
    ESC.Caption(4871)
    Scene.Print_W(4871,9005,9*2,4*2,StringDB('ESS5546')) -- ESS=客官您好，真是對不住，小店現在客滿，沒有...
    ESC.WaitDLG(4871)
    ESC.SceneBreak()
::T4871A::
    ESC.Caption(4871)
    Scene.Print_W(4871,9005,10*2,4*2,StringDB('ESS5547')) -- ESS=傷腦筋，這殺人案發生在我小店門口，叫客人...
    ESC.WaitDLG(4871)
    ESC.SceneBreak()
::T4871B::
    ESC.Caption(4871)
    Scene.Print_W(4871,9005,10*2,5*2,StringDB('ESS5548')) -- ESS=天哪！安祿山一叛亂，大軍直逼長安，嚇得老...
    ESC.WaitDLG(4871)
end

function Scene.TALK4881()
    ESC.ChangeQQ(4881, Const.STAND)
    if GameFunc.GetFlag(501) then goto T4881B end
    if GameFunc.GetFlag(3521) then goto T4881A end
    ESC.Caption(4881)
    Scene.Print_W(4881,9005,10*2,5*2,StringDB('ESS5549')) -- ESS=中國的國勢，此時已達巔峰，不光是疆域領土...
    ESC.WaitDLG(4881)
    GameFunc.FlagOn(3521)
    ESC.ChangeQQ(4881, Const.WALK)
    ESC.SceneBreak()
::T4881A::
    ESC.Caption(4881)
    Scene.Print_W(4881,9005,10*2,4*2,StringDB('ESS5550')) -- ESS=你看看從首都長安城西面安遠門向西行，走到...
    ESC.WaitDLG(4881)
    Scene.Print_W(4881,9005,10*2,5*2,StringDB('ESS5551')) -- ESS=村莊房屋，前後相連，桑樹麻田滿遍野，可說...
    ESC.WaitDLG(4881)
    GameFunc.FlagOff(3521)
    ESC.ChangeQQ(4881, Const.WALK)
    ESC.SceneBreak()
::T4881B::
    ESC.Caption(4881)
    Scene.Print_W(4881,9005,10*2,5*2,StringDB('ESS5552')) -- ESS=雖說中國富強至極，但是隱藏的社會問題也不...
    ESC.WaitDLG(4881)
    ESC.ChangeQQ(4881, Const.WALK)
end

function Scene.TALK4882()
    if GameFunc.GetFlag(3522) then goto T4882A end
    ESC.Caption(4882)
    Scene.Print_W(4882,9005,10*2,3*2,StringDB('ESS5553')) -- ESS=哇～～真是百聞不如一見，中國不愧是擁有三...
    ESC.WaitDLG(4882)
    GameFunc.FlagOn(3522)
    ESC.SceneBreak()
::T4882A::
    ESC.Caption(4882)
    Scene.Print_W(4882,9005,9*2,3*2,StringDB('ESS5554')) -- ESS=我家世世代代正是工匠出身，如果能夠在中國...
    ESC.WaitDLG(4882)
    GameFunc.FlagOff(3522)
end

function Scene.TALK4883()
    ESC.ChangeQQ(4883, Const.STAND)
    if GameFunc.GetFlag(3527) then goto T4883A end
    ESC.Caption(4883)
    Scene.Print_W(4883,9005,9*2,3*2,StringDB('ESS5555')) -- ESS=．．．你怎麼長得怪怪的？和我們好像有點不...
    ESC.WaitDLG(4883)
    ESC.Caption(1)
    Scene.Print_W(1,9005,5*2,1*2,StringDB('ESS5556')) -- ESS=呃．．．
    ESC.WaitDLG(1)
    ESC.Caption(4883)
    Scene.Print_W(4883,9005,9*2,3*2,StringDB('ESS5557')) -- ESS=兩個眼睛的顏色也不一樣耶！好怪喔！咦呃～...
    ESC.WaitDLG(4883)
    ESC.ChangeQQ(4883, Const.WALK)
    GameFunc.FlagOn(3527)
    ESC.SceneBreak()
::T4883A::
    ESC.Caption(4883)
    Scene.Print_W(4883,9005,9*2,2*2,StringDB('ESS5558')) -- ESS=走開！走開！這種怪病不要傳染給我。
    ESC.WaitDLG(4883)
    ESC.ChangeQQ(4883, Const.WALK)
end

function Scene.TALK4884()
    ESC.ChangeQQ(4884, Const.STAND)
    if GameFunc.GetFlag(501) then goto T4884B end
    if GameFunc.GetFlag(3523) then goto T4884A end
    ESC.Caption(4884)
    Scene.Print_W(4884,9005,10*2,3*2,StringDB('ESS5559')) -- ESS=聽說這個高仙芝啊，性情殘暴、負心貪婪，在...
    ESC.WaitDLG(4884)
    GameFunc.FlagOn(3523)
    ESC.ChangeQQ(4884, Const.WALK)
    ESC.SceneBreak()
::T4884A::
    ESC.Caption(4884)
    Scene.Print_W(4884,9005,9*2,3*2,StringDB('ESS5560')) -- ESS=當今宰相楊國忠，本名叫做%C2楊釗%C4...
    ESC.WaitDLG(4884)
    GameFunc.FlagOff(3523)
    ESC.ChangeQQ(4884, Const.WALK)
    ESC.SceneBreak()
::T4884B::
    ESC.Caption(4884)
    Scene.Print_W(4884,9005,10*2,4*2,StringDB('ESS5561')) -- ESS=大夥兒現在所說的黑壇教，教主是一個叫%C...
    ESC.WaitDLG(4884)
    ESC.ChangeQQ(4884, Const.WALK)
end

function Scene.TALK4885()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4885,9007,StringDB('ESS5369')) -- ESS=汪！汪！汪！
    MediaFunc.PlaySound(3)
end

function Scene.TALK4886()
    ESC.Caption(4886)
    Scene.Print_W(4886,9005,8*2,1*2,StringDB('ESS5562')) -- ESS=．．．．．．．
    ESC.WaitDLG(4886)
end

function Scene.TALK4887()
    if GameFunc.GetFlag(471) then goto T4887B end
    if GameFunc.GetFlag(3550) then goto T4887A end
    ESC.Caption(4887)
    Scene.Print_W(4887,9005,9*2,3*2,StringDB('ESS5563')) -- ESS=您好，這兒是今朝大學士白連儀白大人的家，...
    ESC.WaitDLG(4887)
    ESC.Caption(1)
    Scene.Print_W(1,9005,10*2,4*2,StringDB('ESS5564')) -- ESS=不好意思，我想請問一下，為什麼正在那邊澆...
    ESC.WaitDLG(1)
    ESC.Caption(4887)
    Scene.Print_W(4887,9005,10*2,5*2,StringDB('ESS5565')) -- ESS=喔～真是對不住，您誤會了，白福他因為天生...
    ESC.WaitDLG(4887)
    ESC.Caption(1)
    Scene.Print_W(1,9005,6*2,1*2,StringDB('ESS5566')) -- ESS=原來如此。
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3550)
    ESC.SceneBreak()
::T4887A::
    ESC.Caption(4887)
    Scene.Print_W(4887,9005,11*2,1*2,StringDB('ESS5567')) -- ESS=請您自己走進去就行了。
    ESC.WaitDLG(4887)
    ESC.SceneBreak()
::T4887B::
    ESC.Caption(4887)
    Scene.Print_W(4887,9005,10*2,5*2,StringDB('ESS5568')) -- ESS=賽特少爺您好，有什麼需要的，請盡管吩咐小...
    ESC.WaitDLG(4887)
end

function Scene.TALK4888()
    if GameFunc.GetFlag(471) then goto T4888B end
    if GameFunc.GetFlag(3536) then goto T4888A end
    ESC.Caption(4888)
    Scene.Print_W(4888,9005,8*2,1*2,StringDB('ESS5562')) -- ESS=．．．．．．．
    ESC.WaitDLG(4888)
    ESC.Caption(1)
    Scene.Print_W(1,9005,9*2,2*2,StringDB('ESS5569')) -- ESS=怎麼？！難道又是個什麼啞巴不成！
    ESC.WaitDLG(1)
    ESC.AddHeadSign(4888 , 0)
    ESC.Delay(200)
    ESC.DelHeadSign(4888)
    ESC.Caption(4888)
    Scene.Print_W(4888,9005,9*2,4*2,StringDB('ESS5570')) -- ESS=．．．咦？原來你會說我們國家的話啊！嚇我...
    ESC.WaitDLG(4888)
    ESC.Caption(1)
    Scene.Print_W(1,9005,8*2,4*2,StringDB('ESS5571')) -- ESS=我只會說一點點，謝謝你！%N%C3（這裏...
    ESC.WaitDLG(1)
    GameFunc.FlagOn(3536)
    ESC.SceneBreak()
::T4888A::
    ESC.Caption(4888)
    Scene.Print_W(4888,9005,9*2,2*2,StringDB('ESS5567')) -- ESS=請您自己走進去就行了。
    ESC.WaitDLG(4888)
    ESC.SceneBreak()
::T4888B::
    ESC.Caption(4888)
    Scene.Print_W(4888,9005,9*2,4*2,StringDB('ESS5572')) -- ESS=我實在是很少見到有那麼好學的番邦人，希望...
    ESC.WaitDLG(4888)
end

function Scene.TALK4889()
    ESC.Caption(4889)
    Scene.Print_W(4889,9005,9*2,4*2,StringDB('ESS5573')) -- ESS=說起我們家老爺，我在王府裏做了快四十年，...
    ESC.WaitDLG(4889)
end

function Scene.TALK4890()
    ESC.Caption(4890)
    Scene.Print_W(4890,9005,10*2,4*2,StringDB('ESS5574')) -- ESS=這位公子你好，如果是要找我們家老爺的話，...
    ESC.WaitDLG(4890)
end

function Scene.TALK4891()
    ESC.Caption(4891)
    Scene.Print_W(4891,9005,10*2,5*2,StringDB('ESS5575')) -- ESS=唉．．．我本來就已經是一個無家可歸的人，...
    ESC.WaitDLG(4891)
end

function Scene.TALK4892()
    ESC.ChangeQQ(4892, Const.STAND)
    ESC.Caption(4892)
    Scene.Print_W(4892,9005,10*2,5*2,StringDB('ESS5576')) -- ESS=安祿山的叛軍進城後，大肆燒殺擄掠，搶劫金...
    ESC.WaitDLG(4892)
    ESC.ChangeQQ(4892, Const.WALK)
end

function Scene.TALK4893()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4893,9007,StringDB('ESS5369')) -- ESS=汪！汪！汪！
    MediaFunc.PlaySound(3)
end

function Scene.TALK4894()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4894,9007,StringDB('ESS5368')) -- ESS=汪！汪！
    MediaFunc.PlaySound(355)
end

function Scene.TALK4895()
    if GameFunc.GetFlag(3540) then goto T4895A end
    ESC.Caption(4895)
    Scene.Print_W(4895,9005,10*2,4*2,StringDB('ESS5577')) -- ESS=去年年底，安祿山的叛軍逼近洛陽，封常清將...
    ESC.WaitDLG(4895)
    Scene.Print_W(4895,9005,10*2,5*2,StringDB('ESS5578')) -- ESS=退到%C8宣仁門%C4後再戰又大敗，只好...
    ESC.WaitDLG(4895)
    GameFunc.FlagOn(3540)
    ESC.SceneBreak()
::T4895A::
    ESC.Caption(4895)
    Scene.Print_W(4895,9005,10*2,5*2,StringDB('ESS5579')) -- ESS=結果安祿山竟在洛陽登基稱帝，朝廷的軍隊到...
    ESC.WaitDLG(4895)
    GameFunc.FlagOff(3540)
end

function Scene.TALK4896()
    ESC.ChangeQQ(4896, Const.STAND)
    if GameFunc.GetFlag(3541) then goto T4896A end
    ESC.Caption(4896)
    Scene.Print_W(4896,9005,10*2,4*2,StringDB('ESS5580')) -- ESS=哼！要不是楊國忠在皇上面前讒言，逼迫哥舒...
    ESC.WaitDLG(4896)
    GameFunc.FlagOn(3541)
    ESC.ChangeQQ(4896, Const.WALK)
    ESC.SceneBreak()
::T4896A::
    ESC.Caption(4896)
    Scene.Print_W(4896,9005,10*2,5*2,StringDB('ESS5581')) -- ESS=如今老皇帝竟帶著一些親近的王公大臣、貴妃...
    ESC.WaitDLG(4896)
    GameFunc.FlagOff(3541)
    ESC.ChangeQQ(4896, Const.WALK)
end

function Scene.TALK4897()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4897,9007,StringDB('ESS5368')) -- ESS=汪！汪！
    MediaFunc.PlaySound(355)
end

function Scene.TALK4898()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    ESC.OnHead(-11 , -20)
    ESC.Print_S(4898,9007,StringDB('ESS5369')) -- ESS=汪！汪！汪！
    MediaFunc.PlaySound(3)
end

function Scene.TALK4899()
    ESC.ChangeQQ(4899, Const.STAND)
    ESC.Caption(4899)
    Scene.Print_W(4899,9005,9*2,4*2,StringDB('ESS5582')) -- ESS=聽說叛賊安祿山已在洛陽登基稱帝，國號燕，...
    ESC.WaitDLG(4899)
    ESC.ChangeQQ(4899, Const.WALK)
end

function Scene.TALK4900()
    if GameFunc.GetFlag(3542) then goto T4900A end
    ESC.Caption(4900)
    Scene.Print_W(4900,9005,9*2,4*2,StringDB('ESS5583')) -- ESS=現在的長安城內，亂的跟什麼似的，皇帝逃跑...
    ESC.WaitDLG(4900)
    GameFunc.FlagOn(3542)
    ESC.SceneBreak()
::T4900A::
    ESC.Caption(4900)
    Scene.Print_W(4900,9005,10*2,3*2,StringDB('ESS5584')) -- ESS=唉～太平日子過太久了，所以人民根本就沒經...
    ESC.WaitDLG(4900)
    GameFunc.FlagOff(3542)
end

function Scene.TALK6001()
    -------------
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS5585')) -- ESS=沒了解到王者之道前，我不能往回走。
    ESC.ChangeDIR(1, 3)
end

function Scene.TALK6002()
    -- 金光門
    if not GameFunc.GetFlag(7069) then Scene.T6032A() ESC.SceneBreak() end
    if not GameFunc.GetFlag(7069) then Scene.TALK6032() ESC.SceneBreak() end
    Scene.ChangeMap(7, 34, 56, 3)
end

function Scene.TALK6003()
    -- 延秋門
    if not GameFunc.GetFlag(7069) then Scene.T6032A() ESC.SceneBreak() end
    if not GameFunc.GetFlag(7069) then Scene.TALK6032() ESC.SceneBreak() end
    Scene.ChangeMap(7, 128, 75, 2)
end

function Scene.TALK6004()
    -- 南方
    Scene.ChangeMap(9, 42, 39, 1)
end

function Scene.TALK6005()
    -- 東門
    Scene.ChangeMap(9, 47, 34, 3)
end

function Scene.TALK6016()
    Scene.ChangeMap(9, 42, 39, 1)
end

function Scene.TALK6017()
    ----- 出長安城
    Scene.ChangeMap(9, 37, 34, 2)
end

function Scene.TALK6019()
    -- 進長安城
    Scene.ChangeMap(105, 4, 43, 7)
end

function Scene.TALK6020()
    -- 朱雀門
    Scene.ChangeMap(7, 81, 56, 1)
end

function Scene.TALK6022()
    -- 往明德門
    Scene.ChangeMap(104, 106, 7, 6)
end

function Scene.TALK6023()
    -- 往城內
    Scene.ChangeMap(7, 81, 101, 0)
end

function Scene.TALK6024()
    -- 大明殿前
    if GameFunc.GetFlag(506) then goto T6024 end
    if not GameFunc.GetFlag(505) then goto T6024 end
    GameFunc.FlagOn(506)
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.ChangeRoleMap(31 , 105, 0 , 26 , 36 , -1 , 0 , 3)
    ESC.RoleEnable(31)


    ESC.GotoMap(105, 4, 43, 1, Const.WALK, 7)

    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(39, 1)
    ESC.RemoveParty(39 , 0 , '' , 39, Const.WALK, 2 , 0xD100)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 20)
    Scene.BatchWlak({ {1, 23, 39,-1,7},{39, 20, 40,-1,7} })
    ESC.FadeWait()
    ESC.FitSize()
    Scene.AutoPrint_C(31, StringDB('ESS5586')) -- ESS=今天怎麼這麼冷清？
    Scene.M_PrintW_C(1025, 9, 4, StringDB('ESS5587')) -- ESS=白大人，皇上在驪山辦安祿山東行的送別會。...
    ESC.FitSize()
    Scene.AutoPrint_C(31, StringDB('ESS5588')) -- ESS=送別會？
    Scene.AutoPrint_C(1025, StringDB('ESS5589')) -- ESS=安大人要到范陽上任節度使。
    ESC.FitSize()
    Scene.AutoPrint_C(31, StringDB('ESS5590')) -- ESS=啊……真快啊。
    ESC.TurnFace(31, 1)
    Scene.MAIN_TALKS_1(31, 8, 0, StringDB('ESS5591')) -- ESS=咱們也到驪山去吧。%N驪山就在%C2長安...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5592')) -- ESS=東南方……，%N好，我知道了。
    Scene.MAIN_TALKS_1(31, 8, 0, StringDB('ESS7681')) -- ESS=但是……王姑娘也要一起來嗎？
    Scene.MAIN_TALKS_3(39, 8, 7, StringDB('ESS7682')) -- ESS=一個人待著會傷心難過，我想跟著賽特大哥。
    Scene.MAIN_TALKS_1(31, 8, 0, StringDB('ESS7683')) -- ESS=嗯，好吧，但是頂多只能跟到驪山山下，之後就要等我們了。
    Scene.MAIN_TALKS_3(39, 8, 5, StringDB('ESS7684')) -- ESS=驪山風景很美，沒問題的。
    ESC.AddParty(31)
    ESC.AddParty(39)
    Scene.QuestOff(110)
    Scene.QuestOn(111)
    GameFunc.FlagOff(10)
    -- 煉妖壺對話
    Scene.SAR_TurnFace(99, 0)
    ESC.ChangePath(30, 0)
    ESC.RoleMove(99, 109, 52)
    ESC.TakeActData(99, -1, 68, 2)
    ESC.RoleMove(30, 106, 52)
    ESC.TakeActData(30, -1, Const.STAND, 5)
    ESC.Unlock(99)
    ESC.Unlock(30)
    ESC.SceneBreak()
::T6024::
    Scene.ChangeMap(105, 4, 43, 7)
    Scene.RoadFlag(StringDB('ESS5593')) -- ESS=皇城－朱雀門
end

function Scene.TALK6025()
    if Scene.CheckQuest(308) then
        Scene.Quest308()
        return
    end
    -- 白家
    Scene.ChangeMap(100, 33, 75, 7)
    if GameFunc.GetFlag(532) then goto T6025 end
    if GameFunc.GetFlag(531) then goto T6025A end
    if GameFunc.GetFlag(470) then goto T6025 end
    GameFunc.FlagOn(470)
    -- 劇情,介紹白家
    Scene.Lee_On(39, 70, 6)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5594')) -- ESS=這裏就是老白的家。
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS5595')) -- ESS=老白？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5596')) -- ESS=就是白連儀，老白是我叫他的暱稱。%N他是...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS5597')) -- ESS=當官的家不都有守衛？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5598')) -- ESS=直接進去吧，我說過這兒治安很好。
    Scene.Lee_Off()
    ESC.SceneBreak()
::T6025::
    Scene.RoadFlag(StringDB('ESS5599')) -- ESS=白連儀家
    ESC.SceneBreak()
::T6025A::
    GameFunc.FlagOn(532)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 35, 70, -1, 0, 4)
    ESC.ChangeDIR(40, 5)
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5600')) -- ESS=賽特師叔！%N王姑娘沒事吧？
    Scene.MAIN_TALKS_2(39, 11, 1, StringDB('ESS5601')) -- ESS=我很好，沒事！謝謝。
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5602')) -- ESS=事情解決了，黑壇教失去了頭目，應該很難東...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5603')) -- ESS=那太師父呢？
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5604')) -- ESS=他聽說有安祿山謀反的證據，去安祿山的住處...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5605')) -- ESS=原來如此！既然王姑娘沒事，那我的任務也算...
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove2(1,    40, 29, 72, -1, 0, 3)
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5606')) -- ESS=對了，賽特師叔！屋子裏有客人找你。
    ESC.ChangeDIR(1, 2)
    Scene.MAIN_TALKS_1(1, 9, 22, StringDB('ESS5607')) -- ESS=客人？……
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove(1,    40, 29, 77)
    ESC.RoleDisable(40)
    ESC.ChangeRoleMap( 31, 163, 0, 35, 23, 31, 0, 5)
    ESC.ChangeRoleMap( 36, 163, 0, 41, 23, 36, 0, 6)
    ESC.RoleEnable(31)
    ESC.RoleEnable(36)
end

function Scene.TALK6026()
    -- 王家
    if GameFunc.GetFlag(503) then goto T6026B end
    if not GameFunc.GetFlag(517) then goto T6026 end
    if GameFunc.GetFlag(7072) then goto T6026 end -- 設定只執行一次
    GameFunc.FlagOn(7072)
    GameFunc.FlagOn(10)
    ESC.ChangeRoleMap(34, 309, 0, 37, 35, -1, 0, 7) -- 慧榮
    ESC.RoleEnable(34)
    Scene.ChangeMap(309, 17, 27, 5)
    ESC.RemoveParty(39 , 0 , '' , 39, 8, 5 , 0xD100)
    Scene.BattleSupportOff(40) -- 悟緣
    ESC.SetRoleSpeed(39, 1)
    ESC.BatchMove2(1,    39, 23, 29, -1, 0, 4)
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS5608')) -- ESS=這就是寒舍，請隨我來。
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 5 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(39, 1)
    ESC.SetRoleSpeed(40, 2)
    ESC.BatchMove2(3,
    1, 29, 32, -1, 0, 5,
    39, 31, 35, -1, 0, 3,
    40, 32, 29, -1, 0, 5)

    Scene.MAIN_TALKS_2(39, 11, 15, StringDB('ESS5609')) -- ESS=這不是慧榮師父嗎？
    ESC.TurnFace(34, 39)
    ESC.Delay(200)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5610')) -- ESS=原來是王施主的千金，好久不見！
    ESC.TurnFace(34, 40)
    ESC.Delay(150)
    Scene.WORD_ON_HEAD(34, 3, 20, -75, '%C5'..StringDB('ESS1847')) -- ESS=？
    ESC.WaitDLG(34)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.BatchMove2(1,    34, 35, 32, -1, 0, 4)
    ESC.TurnFace(1, 34)
    ESC.TurnFace(39, 34)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5611')) -- ESS=疑，這不是悟緣嗎？%N怎麼一臉痴呆相？
    Scene.MAIN_TALKS_2(39, 11, 13, StringDB('ESS5612')) -- ESS=他被壞人嚇壞了。
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5613')) -- ESS=他不是這麼沒出息的人呀，到底發生什麼事了...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5614')) -- ESS=我…我……
    Scene.MAIN_TALKS_2(39, 11, 13, StringDB('ESS5615')) -- ESS=他看到那個外國傳教士可怕極了，用人屍做佛...
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5616')) -- ESS=人屍佛像！？
    ESC.ChangeQQ(34, Const.WALK)
    ESC.BatchMove2(1,    34, 34, 31, -1, 0, 4)
    ESC.Delay(150)
    ESC.TurnFace(1, 34)
    ESC.Delay(200)
    Scene.WORD_ON_HEAD(34, 5, 30, -65, StringDB('ESS5617')) -- ESS=喝！
    Scene.PlayACT(0, 380, 200, 6042, 1)
    ESC.TILPA2(0, 110)
    ESC.Delay(500)
    -- 悟緣(驚訝)：
    ESC.ChangeDIR(40, 6)
    ESC.Delay(200)
    ESC.FitSize()
    Scene.M_PrintS_C(40, StringDB('ESS5618')) -- ESS=這是哪裏！？
    ESC.ChangeDIR(40, 5)
    ESC.Delay(200)
    ESC.ChangeDIR(40, 6)
    ESC.Delay(200)
    ESC.ChangeDIR(40, 5)
    ESC.Delay(200)
    ESC.ChangeDIR(40, 6)
    ESC.Delay(200)
    ESC.WaitDLG(40)
    ESC.ChangeDIR(40, 5)
    ESC.Delay(200)
    ESC.AddHeadSign(40, 0)
    ESC.Delay(250)
    ESC.DelHeadSign(40)
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5619')) -- ESS=太師父！您怎麼在這。
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5620')) -- ESS=生死別人間，骨肉散塵煙，%N比丘拜土石，...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5621')) -- ESS=.....太師父，我不太懂你的意思。
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5622')) -- ESS=生命不只是限於在皮肉上存在，使用完的肉身...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5623')) -- ESS=太師父說的是……
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5624')) -- ESS=話說回來，到底發生了什麼事？
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5625')) -- ESS=弟子不才，說來話長。
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 43, 32, -1, 0, 6)
    Scene.MAIN_TALKS_1(39, 11, 0, StringDB('ESS5626')) -- ESS=先請進吧，我們坐下慢慢談。
    ESC.TurnFace(34, 39)
    Scene.MAIN_TALKS_2(34, 11, 1, StringDB('ESS5627')) -- ESS=也好，我正有事要去拜見王施主。
    ESC.ChangeQQ(40, Const.WALK)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(3,
    40, 54, 23, -1, 0, 7,
    34, 56, 23, -1, 0, 7,
    39, 54, 23, -1, 0, 1)
    ESC.RoleDisable(40)
    ESC.RoleDisable(34)
    ESC.TakeActData(1, -1, 26, 0)
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS5628')) -- ESS=基督教，伊斯蘭教都有不要崇拜偶像的教誨，...
    Scene.Lee_On(36, 34, 4)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5629')) -- ESS=賽特，這就是中國不斷有人對經文有所質疑，...
    ESC.TakeActData(1, -1, 0, 5)
    Scene.MAIN_TALKS_1(1, 9, 20, StringDB('ESS5630')) -- ESS=嗯....
    ESC.Delay(500)
    Scene.MAIN_TALKS_1(39, 11,15, StringDB('ESS5631')) -- ESS=賽特大哥，快點進屋子來呀。
    ESC.RoleDisable(39)
    Scene.Lee_Off()
    ESC.ChangeDIR(1, 3)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6026B::
    Scene.ChangeMap(310, 17, 27, 5)
    Scene.RoadFlag(StringDB('ESS5632')) -- ESS=　王家廢墟
    ESC.SceneBreak()
::T6026::
    Scene.ChangeMap(309, 17, 27, 5)
    Scene.RoadFlag(StringDB('ESS5633')) -- ESS= 王大善人家
end

function Scene.TALK6027()
    -- 安宅
    if Scene.CheckQuest(307) then
        Scene.Quest307()
        return
    end
    if Scene.CheckQuest(309) then
        Scene.Quest309()
        return
    end
    if not GameFunc.GetFlag(509) then goto T6027 end
    if GameFunc.GetFlag(510) then goto T6027 end
    --[[
    ESC.MusicFadeMode(1, 45)
    ESC.StoryMusic(54, 54, 0x4000)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(284, 28, 50, 1, 0, 7)
    ESC.RemoveParty(36 , 0 , '' , 36, 0, 7 , 0xD100)
    ESC.RoleMove(36, 31, 50)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(510)
    Scene.ScrollMapD(23, 0, 4, 4)
    ESC.ScrollMapWait()
    ESC.Delay(450)
    Scene.MAIN_TALKS_4(1, 8, 34, StringDB('ESS5634')) -- ESS=哇！%N這不是……歐洲建築？%N居然混合...
    Scene.MAIN_TALKS_2(36, 8, 1, StringDB('ESS5635')) -- ESS=黃雷去過西域，或許因此設計成這樣。
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.AddParty(36)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
    --]]
::T6027::
    if not Scene.GetSceneFlag("Renew2016_session4") and not GameFunc.GetFlag(537) then
        return
    end

    Scene.ChangeMap(284, 28, 50, 7)
    -- 夜
    -- Scene.ChangeMap(285, 28, 50, 7)
end

function Scene.TALK6028()
    -- 西市左
    Scene.ChangeMap(173, 3, 32, 3)
    Scene.RoadFlag(StringDB('ESS5636')) -- ESS=　西　市
end

function Scene.TALK6029()
    -- 西市右
    Scene.ChangeMap(172, 106, 34, 2)
    Scene.RoadFlag(StringDB('ESS5636')) -- ESS=　西　市
end

-- 中國大地圖點
function Scene.TALK6032()
    -- 長安
    if GameFunc.GetFlag(7069) then
        Scene.EnterCity_NPC(104, 5, 88, 7)
        Scene.RoadFlag(StringDB('ESS5637')) -- ESS= 長安明德門
        return
    end
    Scene.T6032A()
end

function Scene.T6032A()
    GameFunc.FlagOn(7069)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.StoryMusic(106, 94, 0x2000)
    ESC.Delay(1000)
    ESC.Progress_Off()
    ESC.GotoMap(104 , 76, 22, 1 , 0 , 7)
    ESC.PlayVedio('ch') -- 【動畫】閱兵
    -- 換幕...第九章 ,金光門
    ESC.ScreenLock()
    ESC.RoleMove(1, 5, 88)
    ESC.ChangeRoleMap(2, -1, 0, 5, 82, 2, 0, 7)
    ESC.RoleEnable(2)
    ESC.Unlock(2)
    ESC.ChangeRoleMap(17, -1, 0, 13, 87, 17, 0, 7)
    ESC.RoleEnable(17)
    ESC.Unlock(17)
    ESC.ChangeRoleMap(8, -1, 0, 11, 80, 8, 0, 7)
    ESC.RoleEnable(8)
    ESC.Unlock(8)
    ESC.ChangeRoleMap(11, -1, 0, 14, 84, 11, 0, 7)
    ESC.RoleEnable(11)
    ESC.Unlock(11)

    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 25)
    GameFunc.FlagOn(10) --  啟動滑鼠
    GameFunc.FlagOff(70) --  啟動進度列

    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.FadeWait()
    ESC.ScreenUnlock()

    Scene.MAIN_TALKS_3(2, 3, 19, StringDB('ESS5638')) -- ESS=哇～！%N這城市未免也太大了吧？
    ESC.ChangeDIR(17, 2)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5639')) -- ESS=這裏就是唐的首都，%N長安城。
    Scene.MAIN_TALKS_3(8, 2, 1, StringDB('ESS5640')) -- ESS=嗯～。%N我走過不少國家，這是我見過最大...
    Scene.MAIN_TALKS_1(11, 11, 1, StringDB('ESS5641')) -- ESS=喵～。%N如果埃及沒被滅亡，這兒一定沒得...
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS5642')) -- ESS=真的是很壯觀！%N以前聽阿拉伯商人描述，...
    ESC.ChangeDIR(2, 1)
    ESC.Unlock(2)
    Scene.MAIN_TALKS_1(2, 3, 30, StringDB('ESS5643')) -- ESS=賽特賽特，我想到了，%N煉妖壺的建築物風...
    Scene.MAIN_TALKS_2(1, 9, 1, StringDB('ESS5644')) -- ESS=嗯，%N雖然還不知道這壺的來歷，%N但是...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5645')) -- ESS=煉妖壺的來歷，%N軒轅劍仙似乎相當清楚，...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS5646')) -- ESS=回歐洲經過西域時，再上天山去問他吧。接下...
    ESC.ChangeDIR(8, 6)
    ESC.Unlock(8)
    ESC.ChangeDIR(11, 6)
    ESC.Unlock(11)
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS5647')) -- ESS=賽特，%N你是為了要讀這裏的書而來的吧？...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5648')) -- ESS=這不用擔心，%N慧彥生前在長安城有一個好...
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS5649')) -- ESS=這樣方便嗎？
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5650')) -- ESS=他這個人也蠻好客的。%N你就說是慧彥介紹...
    Scene.MAIN_TALKS_1(2, 3, 24, StringDB('ESS5651')) -- ESS=這樣最好，%N有人能依靠就不要客氣！
    ESC.TurnFace(1, 2)
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5652')) -- ESS=妮可，%N你給我安靜點。
    ESC.TakeActData(2, -1, 32, 1)
    ESC.Unlock(2)
    Scene.MAIN_TALKS_1(2, 3, 42, '............')
    ESC.ChangeDIR(1, 3)
    ESC.TakeActData(2, -1, 0, 1)
    ESC.Unlock(2)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5653')) -- ESS=他叫做%C2白連儀%C5，在朝廷有一份官...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS5654')) -- ESS=西市？
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5655')) -- ESS=全城的市場全部匯集在東市與西市兩個地方，...
    Scene.MAIN_TALKS_1(2, 3, 44, StringDB('ESS5656')) -- ESS=哇！%N真想看西市是什麼樣子？%N賽特，...
    ESC.ChangeDIR(1, 7)
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS5657')) -- ESS=真是的……急什麼呢？%N走路的可是我，正...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5658')) -- ESS=白連儀家的大門是不關的，你什麼時候去都可...
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS5659')) -- ESS=晚上也不關門嗎？%N怎麼可能？
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS5660')) -- ESS=這裏的犯罪案例相當少。%N所以可以作到%...
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS5661')) -- ESS=以前慧彥有約略提過禮運大同篇，但我不相信...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS5662')) -- ESS=是呀，這可奇了，要見識一下，喵～
    Scene.All_Off()
    ESC.ChangeDIR(1, 7)
    GameFunc.FlagOff(10)
    GameFunc.FlagOff(70)
    Scene.QuestOff(295)
    Scene.QuestOn(296)
    ESC.ChangeACT(4432, 552)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()
    ESC.SceneBreak()
end

function Scene.TALK6033()
    GameFunc.FlagOff(213)
    -- 洛陽城
    if GameFunc.GetFlag(573) then goto T6033 end  -- 與彗榮進洛楊後

    if GameFunc.GetFlag(512) then goto T6033A end -- 西市殺人案   與惠榮首次進落陽

    if GameFunc.GetFlag(495) then goto T6033 end  -- 與悟緣進洛陽後
    if not GameFunc.GetFlag(486) then goto T6033 end -- 未發生少林寺事件
    GameFunc.FlagOn(495) -- 與悟緣第一次進洛陽
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    ESC.GotoMap(298, 50-4, 101+4, 1, Const.WALK, 7)
    ESC.RemoveParty(40 , 0 , '' , 40, Const.WALK, 7 , 0xD100)
    ESC.RoleMove(40, 53-4, 101+4)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
    ESC.SetRoleSpeed(1, 3)
    ESC.SetRoleSpeed(40, 3)
    ESC.BatchMove2(2,
    1, 50, 101, -1, 0, 7,
    40, 53, 101, -1, 0, 7)
    ESC.FadeWait()
    ESC.Delay(400)
    ESC.ChangeDIR(40, 2)
    ESC.Delay(50)
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_1(40, 8, 0, StringDB('ESS5663')) -- ESS=師叔，這兒就是洛陽城。
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5664')) -- ESS=嗯，比起長安來，別有一番風味。
    Scene.MAIN_TALKS_1(40, 8, 0, StringDB('ESS5665')) -- ESS=洛陽是大唐的東都，則天皇后在位時，最喜歡...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5666')) -- ESS=多謝你的介紹，咱們還是先辦正事要緊。
    Scene.MAIN_TALKS_1(40, 8, 0, StringDB('ESS5667')) -- ESS=師叔說的是，弟子要追的是一個強盜慣犯，最...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5668')) -- ESS=黑壇教？
    Scene.MAIN_TALKS_1(40, 8, 0, StringDB('ESS5669')) -- ESS=就是我之前說過的新興邪教，他們專收一些邪...
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5670')) -- ESS=那你要追的人怎麼找？
    Scene.MAIN_TALKS_1(40, 8, 0, StringDB('ESS5671')) -- ESS=他叫黑血狗黃八，聽說常出沒在怡春院。
    Scene.MAIN_TALKS_2(1, 8, 1, StringDB('ESS5672')) -- ESS=好，我們走。
    ESC.ChangeDIR(1, 7)
    ESC.AddParty(40)
    Scene.QuestOff(299)
    Scene.QuestOn(100)
    ESC.SceneBreak()

::T6033A::
    GameFunc.FlagOn(573)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 10)
    ESC.FadeWait()
    ESC.MusicFadeMode(1, 25)
    ESC.StoryMusic(121, 121, 0x4000)
    ESC.GotoMap(298, 50-4, 101+4, 1, Const.WALK, 7)
    ESC.RemoveParty(34 , 0 , '' , 34, 8, 7 , 0xD100)
    ESC.RoleMove(34, 53-4, 101+4)
    ESC.ChangeRoleMap(595, 298, 0, 55, 91, 433, 0, 6)
    ESC.RoleEnable(595)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
    ESC.SetRoleSpeed(1, 3)
    ESC.SetRoleSpeed(34, 3)
    ESC.BatchMove2(2,
    1, 50, 101, -1, 0, 7,
    34, 53, 101, -1, 0, 7)
    ESC.FadeWait()
    ESC.Delay(400)

    ESC.Caption(1017)
    Scene.Print_W(595,9005,12,4,StringDB('ESS5673')) -- ESS=你就是我們要找的人吧？
    ESC.WaitDLG(595)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5674')) -- ESS=你說呢？
    ESC.Caption(1017)
    Scene.Print_W(595,9005,12,6,StringDB('ESS5675')) -- ESS=把煉妖壺交出來，我們就把人還給你。
    ESC.WaitDLG(595)
    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS5676')) -- ESS=真是卑鄙。%N人在哪兒？%N我要先看到。...
    ESC.Caption(1017)
    Scene.Print_W(595,9005,12,6,StringDB('ESS5677')) -- ESS=請到東北方的塔樓，那邊另有人接應。
    ESC.WaitDLG(595)
    Scene.M_PrintW_C(1, 5, 3, StringDB('ESS5678')) -- ESS=哼！%N我就不信你們不搞鬼。
    ESC.FitSize()
    Scene.AutoPrint_C(34, StringDB('ESS5679')) -- ESS=先過去再說。
    ESC.ChangeQQ(595, Const.WALK)
    ESC.BatchMove2(1,    595, 56, 74, -1, 0, 1)
    ESC.ChangeRoleMap(595, 157, 0, 61, 65, 433, 0, 1)
    ESC.AddParty(34)

    ESC.ChangeRoleMap(31, 163, 0, 39, 22 , -1 , 0 , 1)
    ESC.ChangeRoleMap(40, 163, 0, 28, 26, -1, 0, 7)
    ESC.RoleDisable(322)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    Scene.SAR_TurnFace(31, 1)
    Scene.SAR_TurnFace(40, 1)

    Scene.QuestOff(114)
    Scene.QuestOn(115)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()
    ESC.SceneBreak()
::T6033::
    Scene.EnterCity_NPC(298, 49, 104, 7)
    Scene.RoadFlag(StringDB('ESS5680')) -- ESS=　洛　陽
end

function Scene.TALK6034()
    if Scene.GetSceneFlag("Renew2016_session8") then -- 無羽林軍

    elseif Scene.CheckQuest(311) then -- 回軍營時黃雷加入
        Scene.TALK_ReNew2016_fight01()
        return
    elseif Scene.GetSceneFlag("Renew2016_003") then -- 啟動賽特將軍劇情時，改去軍營
        Scene.TALK_Renew2016_REISAN()
        return
    end
    -- 驪山別宮
    if GameFunc.GetFlag(507) or not GameFunc.GetFlag(506) then
        Scene.EnterCity_NPC(191, 26, 57, 4)
        Scene.RoadFlag(StringDB('ESS5684')) -- ESS=　驪山別宮
        return
    end
    GameFunc.FlagOn(507)
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(191, 25, 58, 1, 8, 4)
    ESC.ChangeACT(1, 1)
    ESC.RemoveParty(31 , 0 , '' , 31, 8, 4 , 0xD100)
    ESC.RemoveParty(39 , 0 , '' , 39, 8, 4 , 0xD100)
    ESC.RoleMove(31, 21, 57)
     -- 移動驪山的士兵
    ESC.RoleMove(925, 14, 30)
    ESC.RoleMove(924, 22, 29)
    ESC.ChangeDIR(924, 6)

    --ESC.ChangeRoleMap(592, 191, 0, 23, 36, 509, 0, 6) -- 均須改為文官圖
    --ESC.ChangeRoleMap(593, 191, 0, 17, 37, 507, 0, 5)
    ESC.ChangeRoleMap(594, 191, 0, 15, 11, 417, 16, 5)
    ESC.ChangeRoleMap(595, 191, 0, 18, 11, 417, 8, 6)
    Scene.SAR_TurnFace(594, 0)
    Scene.SAR_TurnFace(595, 0)
    --ESC.RoleEnable(592)
    --ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.ChangeScript(594, 'TALK6421')
    ESC.ChangeScript(595, 'TALK6421')

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 26)
--  Scene.RoadFlag("　驪山別宮　")
    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(31, 2)
    ESC.SetRoleSpeed(39, 1)
    Scene.BatchWlak({ {1, 25, 40,-1,4},{31, 21, 41,-1,0},{39, 24, 43,-1,0} })
    ESC.FadeWait()

    ESC.TurnFace(31, 1)

    ESC.Delay(100)

--阿強20230619【驪山】先換地圖音樂（102鳥鳴）換劇情音樂（100大唐餘暉or307大唐曙光）

    Scene.AutoPrint_C(31, StringDB('ESS5681')) -- ESS=我先上山去通報，你們就在這附近等著。
    ESC.TurnFace(1 ,31)
    ESC.TurnFace(39 ,31)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5683')) -- ESS=好！
    ESC.ChangeDIR(1, 4)
    ESC.ChangeQQ(31, Const.WALK)
    --ESC.ChangeQQ(592, Const.WALK)
    --ESC.ChangeQQ(593, Const.WALK)
    ESC.BatchMove(1,
    31, 15, 18)
    ESC.ChangeRoleMap(31, 163, 0, 39, 23, -1, 0, 1) -- 將白連儀移到大廳
    --ESC.RoleDisable(592)
    --ESC.RoleDisable(593)
    ESC.RoleDisable(31)

    ESC.TurnFace(1, 39)
    ESC.TurnFace(39, 1)

    Scene.AutoPrint_C(39, StringDB('ESS7685')) -- ESS=不愧是離宮，這附近景色也非常好呢。
    Scene.AutoPrint_C( 1, StringDB('ESS7686')) -- ESS=嗯，妳能打起精神就好。
    ESC.ChangeDIR(39, 5)
    ESC.Delay(500)
    ESC.ChangeDIR(39, 2)
    ESC.Delay(500)
    ESC.ChangeDIR(39, 6)
    Scene.AutoPrint_C(39, StringDB('ESS7687')) -- ESS=那邊有個石碑，我想看看。
    ESC.SetRoleSpeed(39, 1)
    Scene.BatchWlak({ {1, 13, 48,-1,2},{39, 8, 50,-1,4} })
    ESC.AddHeadSign(39, 1)
    ESC.Delay(1200)
    Scene.Lee_On(17, 48, 2)

    Scene.AutoPrint_C(17, StringDB('ESS5683b')) -- ESS=賽特，打擾一下。
    ESC.ChangeDIR(1, 3)
    Scene.AutoPrint_C(1, StringDB('ESS5683c')) -- ESS=怎麼了？

    --ESC.StoryMusic(302, 302, 0x4000)  --【吳0622】遺跡

    ESC.ChangeDIR(17, 0)
    Scene.AutoPrint_C(17, StringDB('ESS5683d')) -- ESS=總覺得山上傳來很濃的妖氣，恐怕有麻煩事了。
    Scene.AutoPrint_C(1, StringDB('ESS5683e')) -- ESS=哦？我知道了。
    Scene.Lee_Off()

    ESC.TurnFace(1, 39)
    ESC.DelHeadSign(39)
    Scene.AutoPrint_C(1, StringDB('ESS7688')) -- ESS=王姑娘，我也去附近逛逛。
    Scene.AutoPrint_C(39, StringDB('ESS7689')) -- ESS=我要把這詩背下來，你去吧。



    GameFunc.FlagOff(10)

end

function Scene.TALK6035()
    -- 漢長安廢墟
    Scene.ChangeMap(314, 17, 38, 0)
end

function Scene.TALK6036()
    -- 少林寺
    Scene.EnterCity_NPC(101, 60, 57, 4)
    Scene.RoadFlag(StringDB('ESS5685')) -- ESS=　少 林 寺
end

function Scene.TALK6037()
    if not GameFunc.GetFlag(213) then
        GameFunc.FlagOff(213)
        return
    end
    Scene.RoadFlag(StringDB('ESS5686')) -- ESS= 往　西　市
end

function Scene.TALK6038()
    if not GameFunc.GetFlag(213) then
        GameFunc.FlagOff(213)
        return
    end
    Scene.RoadFlag(StringDB('ESS5687')) -- ESS= 白連儀府前
    GameFunc.FlagOff(213)
end

function Scene.TALK6039()
    if not GameFunc.GetFlag(213) then
        GameFunc.FlagOff(213)
        return
    end
    Scene.RoadFlag(StringDB('ESS5688')) -- ESS=王大善人家前
    GameFunc.FlagOff(213)
end

function Scene.TALK6040()
    if not GameFunc.GetFlag(213) then
        GameFunc.FlagOff(213)
        return
    end
    Scene.RoadFlag(StringDB('ESS5689')) -- ESS=東平郡王府前
    GameFunc.FlagOff(213)
end

function Scene.TALK6041()
    if not GameFunc.GetFlag(213) then
        GameFunc.FlagOff(213)
        return
    end
    Scene.RoadFlag(StringDB('ESS5690')) -- ESS=　朱鵲門前
    GameFunc.FlagOff(213)
end
-- 東都道觀
function Scene.TALK6061()
    -- 道觀5F->4F
    Scene.ChangeMap(154, 126, 61, 2)
    Scene.RoadFlag(StringDB('ESS5691')) -- ESS=　道觀四樓
end

function Scene.TALK6062()
    Scene.ChangeMap(155, 117, 15, 1 ) -- 4F->3F
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6063()
    Scene.ChangeMap(153, 113, 72, 3 ) -- 4F->5F
    Scene.RoadFlag(StringDB('ESS5693')) -- ESS=　道觀頂樓
end

function Scene.TALK6064()
    -- 3F->4F
    Scene.ChangeMap(154, 116, 24, 0)
    Scene.RoadFlag(StringDB('ESS5691')) -- ESS=　道觀四樓
end

function Scene.TALK6065()
    -- 3F->2F
    Scene.ChangeMap(156, 51, 71, 5)
    Scene.RoadFlag(StringDB('ESS5694')) -- ESS=　道觀二樓
end

function Scene.TALK6066()
    -- 道教三清提示
    Scene.OpenGlassDown(9)
    Scene.Glass_SRC2(1, StringDB('ESS5695')) -- ESS=銅鼎銘文：%N此地由三聖君鎮守，欲上層樓...
    Scene.CloseGlassDown()
end

function Scene.TALK6067()
    if ESC.GetRoleToPosDistance(76, 54, 1) > 10 then goto T6067D end --  檢查主角是否在旁邊
    if Function.GetItemCount(795) >= 1 then
        goto T6067A
end
    goto T6067
::T6067A::
    if Function.GetItemCount(796) >= 1 then
        goto T6067B
end
    goto T6067
::T6067B::
    if Function.GetItemCount(797) >= 1 then
        goto T6067C
end
::T6067::
    Scene.WORD_ON_HEAD(1, 2, 30, -60, StringDB('ESS5696')) -- ESS=沒有反應。
    ESC.SceneBreak()
::T6067C::
    Scene.MoveHero(76, 54, 0)
    Scene.WORD_ON_HEAD(1, 10, 30, -60, StringDB('ESS5697')) -- ESS=使用道教三寶。
    ItemFunc.AddItem(795, -1)
    ItemFunc.AddItem(796, -1)
    ItemFunc.AddItem(797, -1)
    ESC.TakeActData(921, 12005, 24, 0)
    ESC.TakeActData(922, 12005, 26, 0)
    ESC.TILPA1(921, 7)
    ESC.TakeActData(922, 12005, 27, 0)
    ESC.RoleDisable(921)
    ESC.ChangeScript( 922, '')
    ESC.ChangeScript(1005, '')
    ESC.ChangeRoleMap(32, 153, 0, 78, 35, 32, 62, 0)
    ESC.ChangeRoleMap(39, 153, 0, 71, 42, 39, 0, 7)
    ESC.RoleEnable(39)
    ESC.RoleEnable(32)
    ESC.ChangeScript(39, 'TALK6084')
    ESC.ChangeScript(32, 'TALK6085')
    Scene.SAR_TurnFace(32 , 0)
    Scene.SAR_TurnFace(39 , 0)
    ESC.SceneBreak()
::T6067D::
    Scene.WORD_ON_HEAD(1, 2, 30, -60, '%K'..StringDB('ESS550')) -- ESS=距離太遠！
end

function Scene.TALK6068()
    -- 4F機關人踏點
    GameFunc.FlagOn(10)
    if not GameFunc.GetFlag(450) then goto T6068 end
    ESC.Z_Low(701)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 93, 53, -1, 0, 1)
    ESC.ChangeQQ(701, 0)
    MediaFunc.PlaySound(56)
    ESC.ChangeQQ(703, 77)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(703, 8)
    ESC.RoleDisable(703)
    ESC.ChangeScript(701, '')
    GameFunc.FlagOff(450)
    GameFunc.FlagOff(419)
    if not GameFunc.GetFlag(431) then goto T6068A end
    ESC.ScreenLock()
    ESC.RoleMove(848, 93, 53)
    ESC.TakeActData(848, 47, 0, 1)
    ESC.RoleMove(1, 68, 67)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    GameFunc.FlagOff(431)
    GameFunc.FlagOff(7073)
    ESC.DungeonEsc_On()    -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    ESC.ChangeDIR(1, 1)
    GameFunc.FlagOff(84) -- 記憶夥伴跟隨位置
    ESC.AddParty(34)
    ESC.AddParty(33)
    ESC.AddParty(38)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6068A::
    ESC.ScreenLock()
    ESC.RoleMove(849, 93, 53)
    ESC.TakeActData(849, 47, 0, 1)
    ESC.RoleMove(1, 36, 59)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    GameFunc.FlagOff(84) -- 記憶夥伴跟隨位置
    ESC.AddParty(34)
    ESC.AddParty(33)
    ESC.AddParty(38)
    GameFunc.FlagOff(7073)
    ESC.DungeonEsc_On()    -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6068::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 93, 53, -1, 0, 1)
    ESC.Clump()
    ESC.ChangeQQ(701, 0)
    MediaFunc.PlaySound(56)
    ESC.ChangeQQ(703, 77)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(703, 8)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.ChangeQQ(701, Const.WALK)
    ESC.BatchMove2(1,    1, 93, 64, -1, 0, 1)
    ESC.ChangeQQ(703, 74)
    ESC.Delay(600)
    Scene.TIK()
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5698')) -- ESS=看來要找一個很重的東西壓在上面才可以。
    GameFunc.FlagOff(10)
end

function Scene.TALK6069()
    -- 4F機關人踏點
    GameFunc.FlagOn(10)
    if not GameFunc.GetFlag(450) then goto T6069 end
    ESC.Z_Low(702)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 100, 53, -1, 0, 1)
    ESC.ChangeQQ(702, 0)
    MediaFunc.PlaySound(56)
    ESC.ChangeQQ(704, 76)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(704, 8)
    ESC.RoleDisable(704)
    ESC.ChangeScript(702, '')
    GameFunc.FlagOff(450)
    GameFunc.FlagOff(419)
    if not GameFunc.GetFlag(431) then goto T6069A end
    ESC.ScreenLock()
    ESC.RoleMove(848, 100, 53)
    ESC.TakeActData(848, 47, 0, 1)
    ESC.RoleMove(1, 68, 67)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    GameFunc.FlagOff(431)
    GameFunc.FlagOff(7073)
    ESC.DungeonEsc_On()    -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    ESC.ChangeDIR(1, 1)
    GameFunc.FlagOff(84) -- 記憶夥伴跟隨位置
    ESC.AddParty(34)
    ESC.AddParty(33)
    ESC.AddParty(38)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6069A::
    ESC.ScreenLock()
    ESC.RoleMove(849, 100, 53)
    ESC.TakeActData(849, 47, 0, 1)
    ESC.RoleMove(1, 36, 59)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    GameFunc.FlagOff(7073)
    ESC.DungeonEsc_On()    -- 將跳離道具恢復功能
    ESC.TownTrans_On()
    GameFunc.FlagOff(84) -- 記憶夥伴跟隨位置
    ESC.AddParty(34)
    ESC.AddParty(33)
    ESC.AddParty(38)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6069::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 100, 53, -1, 0, 1)
    ESC.Clump()
    ESC.ChangeQQ(702, 0)
    MediaFunc.PlaySound(56)
    ESC.ChangeQQ(704, 76)
    MediaFunc.PlaySound(58)
    ESC.TILPA1(704, 8)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.ChangeQQ(702, Const.WALK)
    ESC.BatchMove2(1,    1, 100, 64, -1, 0, 1)
    ESC.ChangeQQ(704, 73)
    ESC.Delay(600)
    Scene.TIK()
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5698')) -- ESS=看來要找一個很重的東西壓在上面才可以。
    GameFunc.FlagOff(10)
end

function Scene.TALK6070()
    -- 4F機關人 右
    if ESC.GetRoleToPosDistance(68, 66, 1) > 6 then Scene.WORD_ON_HEAD(1, 2, 20, -75, StringDB('ESS550')) return end --  檢查主角是否在旁邊 ESS=距離太遠！
    Scene.MoveHero(68, 69, 0)
    if Function.GetItemCount(798) >= 1 then
        goto T6070
    end
    if not GameFunc.GetFlag(408) then Scene.T6070B() ESC.SceneBreak() end
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5699')) -- ESS=得去找到%C2%T798.%C5才行。
    ESC.SceneBreak()
::T6070::
    ESC.Clump()
    ESC.TownTrans_Off(StringDB('ESS4259')) -- ESS=無法使用！
    ESC.DungeonEsc_Off(StringDB('ESS4259')) -- ESS=無法使用！
    GameFunc.FlagOn(450)
    Scene.RoadFlag(StringDB('ESS5700')) -- ESS=使用%T798.
    ItemFunc.AddItem(798, -1)
    GameFunc.FlagOn(84) -- 不記憶夥伴跟隨位置
    ESC.ScreenLock()
    ESC.RoleMove(848, 68, 67)
    ESC.RoleMove(1 , 68, 66)
    ESC.TakeActData(848, 1, 0, 0)
    ESC.TakeActData(1, 47, 0, 1)
    ESC.ScreenUnlock()
    GameFunc.FlagOn(431) -- 移動的是848
    GameFunc.FlagOn(7073)
    ESC.RemoveParty(34 , 0 , '' , 34, 0, 0 , 0xD100)
    ESC.RemoveParty(33 , 0 , '' , 33, 0, 0 , 0xD100)
    ESC.RemoveParty(38 , 0 , '' , 38, 0, 0 , 0xD100)
    ESC.ChangeScript(848, '')
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
end

function Scene.T6070B()
    GameFunc.FlagOn(408)
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5701')) -- ESS=這是甚麼玩意？
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS5702')) -- ESS=這上面貼的是%C2%T798.%C5，表...
    Scene.MAIN_TALKS_1(1, 9, 0, ''..StringDB('ESS5703')) -- ESS=%T798.？
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS5704')) -- ESS=是符咒的一種，去籤桶找找看會不會有。
end
function Scene.TALK6071()
    -- 4F機關人
    if ESC.GetRoleToPosDistance(36, 57, 1) > 6 then Scene.WORD_ON_HEAD(1, 2, 20, -75, StringDB('ESS550')) return end --  檢查主角是否在旁邊 ESS=距離太遠！
    Scene.MoveHero(36, 59, 0)
    if Function.GetItemCount(798) >= 1 then
        goto T6071
    end
    if not GameFunc.GetFlag(408) then Scene.T6070B() ESC.SceneBreak() end
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5699')) -- ESS=得去找到%C2%T798.%C5才行。
    ESC.SceneBreak()

::T6071::
    ESC.Clump()
    ESC.TownTrans_Off(StringDB('ESS4259')) -- ESS=無法使用！
    ESC.DungeonEsc_Off(StringDB('ESS4259')) -- ESS=無法使用！
    GameFunc.FlagOn(450)
    Scene.RoadFlag(StringDB('ESS5705')) -- ESS=使用%T798.
    ItemFunc.AddItem(798, -1)
    GameFunc.FlagOn(84) -- 不記憶夥伴跟隨位置
    ESC.ScreenLock()
    ESC.RoleMove(849, 36, 59)
    ESC.RoleMove(1 , 36, 57)
    ESC.TakeActData(849, 1, 0, 2)
    ESC.TakeActData(1, 47, 0, 1)
    ESC.ScreenUnlock()
    GameFunc.FlagOn(7073)
    ESC.RemoveParty(34 , 0 , '' , 34, 0, 0 , 0xD100)
    ESC.RemoveParty(33 , 0 , '' , 33, 0, 0 , 0xD100)
    ESC.RemoveParty(38 , 0 , '' , 38, 0, 0 , 0xD100)
    ESC.ChangeScript(849, '')
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
end

function Scene.TALK6072()
    -- 事件點   塔頂榜架王思月事件
    if GameFunc.GetFlag(530) then return end
    GameFunc.FlagOn(10)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(78, 78, 0x4000)
    ESC.ChangeRoleMap( 32, 153, 0, 78, 35, 32, 62, 0)
    ESC.ChangeRoleMap( 39, 153, 0, 71, 42, 39, 0, 7)
    ESC.RoleEnable(39)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(250)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.RemoveParty(34 , 0 , '' , 34, 8, 0 , 0xD900)
    ESC.RemoveParty(33 , 0 , '' , 33, 8, 0 , 0xD900)
    ESC.RemoveParty(38 , 0 , '' , 38, 8, 0 , 0xD900)
    ESC.SetRoleSpeed(34, 0)
    ESC.SetRoleSpeed(33, 0)
    ESC.SetRoleSpeed(38, 0)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(4,
    34, 74, 49, -1, 0, 0,
    1, 78, 49, -1, 0, 4,
    33, 82, 49, -1, 0, 0,
    38, 84, 50, -1, 0, 0)
    ESC.ScrollMapD(52, 24, 2, 2) -- Scene.ScrollMapD(59, 24, 2, 2)
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS5706')) -- ESS=王姑娘！
    ESC.TurnFace(39, 1)
    --  王思月(高興)：
    Scene.MAIN_TALKS_3(39, 11, 5, StringDB('ESS5707')) -- ESS=賽特大哥！%N你來救我啦！
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS5708')) -- ESS=你沒事吧？
    --  雨丹子(很不高興)：
    ESC.TakeActData(32, -1, 0, 0)
    ESC.Delay(200)
    ESC.ChangeDIR(32, 1)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5710')) -- ESS=廢話完了沒？
    ESC.ChangeDIR(1, 0)
    ESC.ChangeQQ(32, Const.WALK)
    ESC.BatchMove2(1,    32, 78, 38, -1, 0, 1)

    ESC.TakeActData(32, 32, 61, 0)
    ESC.SeekACT(32, 3)
    ESC.AddHeadSign(32, 0)
    ESC.Delay(250)
    ESC.DelHeadSign(32)
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS5710a')) -- ESS=雨丹子！？你還活著？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5710b')) -- ESS=你們真沒禮貌，怎麼都說我死過了？
    Scene.MAIN_TALKS_3(39, 11, 9, StringDB('ESS5710c')) -- ESS=我就說啊，大家都看到你死在那個村子！
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5710d')) -- ESS=如果我已經死了，那麼我為何會在這邊說話？
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5710e')) -- ESS=難道死的是假貨？
    Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS5710f')) -- ESS=我看不是，這個不是人，是個厲鬼。
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5710g'),1) -- ESS=臭和尚別胡說八道！……不過嘛，事情是有點奇怪，我已經很久不吃不睡了……
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5710h'),2) -- ESS=難道我已經成仙了？原來如此！對！我已經修練成仙了！
    Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS5710i')) -- ESS=唉，當了鬼的都這麼說。
    Scene.MAIN_TALKS_4(1, 9, 32, StringDB('ESS5710j'),1) -- ESS=不管你是甚麼東西，就讓你再死一次。

    --[[
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS5711b')) -- ESS=你放心，羽林軍都在外面，已經包圍這裡了，你是逃不掉的。
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5712')) -- ESS=啊呀啊呀，連俠客張大俠也來了，我正想見你...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5713')) -- ESS=幹嘛？雨丹子！想乞求饒命嗎？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5714')) -- ESS=不是這件事，我聽說你曾在西域見過軒轅劍，...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5715')) -- ESS=癡人說夢話。
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5716')) -- ESS=我知道你曾經救過一些善良老百姓，他們大部...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5717')) -- ESS=那又如何？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5718')) -- ESS=我嘛，已經派人監視他們，只要一聲令下，隨...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5719')) -- ESS=哼！在這之前我會先殺了你！
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5720'),1) -- ESS=哈哈哈哈！%N天下還沒有誰能殺的了我的。...
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5711c'),2) -- ESS=等我拿到煉妖壺，成為神仙後，凡人又能耐我如何？
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS5711d')) -- ESS=你相信你真能拿的到？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5711e')) -- ESS=你以為我什麼都沒準備嗎？我已經看透你了！
    --]]
    ESC.ChangeDIR(1, 4)
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS5721'),2) -- ESS=王姑娘，妳離遠一點。

    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)

    ESC.TakeActData(32, 32, 60, 0)
    ESC.Unlock(32)
    ESC.PlayACT(0, 8, 16, 6042, 1, 39) -- Scene.PlayACT(0, 220, 260, 6042, 1)
    ESC.TILPA2(0, 110)

    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 78, 42, -1, 0, 1)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS5722')) -- ESS=妳……怎麼回事？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5723')) -- ESS=這是我的法術，你以為我畫人像是在畫好玩而...
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5724')) -- ESS=可惡……
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5725'),1) -- ESS=這是我的入魔大法，可以隨心所欲操縱他人的...
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5725b'),2) -- ESS=撒旦大人吩咐，他要我好好保護你看上的女人，所以我幫他附身了強大的妖魔以保護她。
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5725c')) -- ESS=又是撒旦？！
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5725d'),1) -- ESS=不過仔細想想，既然我都是仙人了，幹嘛聽別人的吩咐，那很奇怪啊～
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5725e'),2) -- ESS=對，這樣比較有趣，女人你去殺了賽特吧！
    ESC.TakeActData(32, 32, 60, 0)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 78, 42+2, -1, 0, 1)
    -- ＜進入戰鬥＞
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(78, 78, 0x4000)
    ESC.StartBattle('BS205')
    -- （戰鬥開始）
    -- 李靖：那是雨丹子的鬼操縱的，只要把他們逼出來即可。

    -- 賽特：怎麼做？

    -- （此時鎮邪出現，用他的獅子吼）

    -- （王思月周圍出現半透明的妖魔）

    -- 卡瑪：看到了！

    -- 李靖：攻擊鬼就好，小心別傷到人。

    -- <與五鬼戰勝後>
    ESC.TakeActData(32, 32, 0, 1)
    ESC.Delay(200)
    ESC.PlayACT(0, -40, 10, 6003, 0, 39) -- Scene.PlayACT(0, 280, 340, 6003, 0)
    ESC.TILPA2(0, 60)
    ESC.Delay(500)
    ESC.ChangeDIR(39, 5)
    ESC.Delay(200)
    ESC.ChangeDIR(39, 6)
    ESC.Delay(200)
    ESC.ChangeDIR(39, 5)
    ESC.Delay(200)
    ESC.ChangeDIR(39, 6)
    ESC.Delay(200)
    ESC.ChangeDIR(39, 1)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(39, 11, 15, StringDB('ESS5726')) -- ESS=賽特大哥，怎麼回事？
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5727')) -- ESS=你剛剛被哪道士用邪法控制住了，現在沒事了...

    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(33, Const.WALK)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.ChangeQQ(38, Const.WALK)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 1)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(1,    39, 76, 46)
    ESC.SetRoleSpeed(39, 1)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove2(5,
    1, 78, 44, -1, 0, 0,
    34, 72, 45, -1, 0, 0,
    33, 82, 45, -1, 0, 0,
    38, 84, 46, -1, 0, 0,
    39, 76, 48, -1, 0, 0)
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5728')) -- ESS=這下你沒法子了吧？
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5729')) -- ESS=上次我的紙人輸給你，可不代表你就打贏本真...
    -- <與雨丹子戰鬥>
    ESC.StartBattle('BS206')
    -- <戰鬥獲勝>
    ESC.RoleMove(33, 81, 43)

    ESC.SetRoleSpeed(38, 1)
    ESC.SetMoveHISpeed(38)
    ESC.SetRoleSpeed(34, 1)
    ESC.ChangeQQ(38, Const.WALK)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.BatchMove2(2,
    38, 84, 37, -1, Const.WALK, 2,
    34, 70, 41, -1, 0, 7)

    MediaFunc.PlaySound(315)
    ESC.Delay(600)
    ESC.TakeActData(32, -1, 9, 3)
    ESC.SetRoleSpeed(38, 4)
    ESC.SetRoleSpeed(32, 6)
    ESC.BatchMove2(2,
    38, 81, 37, -1, 0, 2,
    32, 76, 37, -1, 0, 3)
    ESC.Delay(600)
    ESC.ChangeDIR(32, 1)
    ESC.Delay(400)
    ESC.ChangeDIR(32, 5)
    ESC.Delay(400)
    ESC.ChangeDIR(32, 1)
    ESC.Delay(400)
    ESC.ChangeDIR(32, 5)
    ESC.Delay(400)
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5730a')) -- ESS=嘿嘿嘿，果然我修成了正果成仙，你們已經殺不死我了！
    --[[
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5730')) -- ESS=諸位英雄饒命！%N大人不記小人過！
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5731')) -- ESS=現在才想到要悔改？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5732')) -- ESS=小的知錯！小的一定會悔改！
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5733')) -- ESS=誰會相信？
    --  （張客舉弓正要射殺雨丹子。）
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5734')) -- ESS=張大俠，這個人交給我來好了。
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5735')) -- ESS=嗯。
    -- （放下武器）
    --]]
    ESC.TurnFace(1, 32)
    ESC.Delay(300)
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5730b')) -- ESS=這樣啊，雨丹子，你不是想要煉妖壺嗎？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5730c')) -- ESS=煉妖壺？喔對！你要給我嘛？

    --[[
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5737')) -- ESS=……這……不敢。
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5738')) -- ESS=我還不知道，煉妖壺能不能把人類吸進去？我...
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5739')) -- ESS=……自從壺中仙失蹤後，煉妖壺是不能吸人類...
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS3536')) -- ESS=是嗎？
    --]]
    --  （賽特的煉妖壺把雨丹子吸進去）
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.PlayACT(0, 0, -8, 6250, 16, 32) -- Scene.PlayACT(0, 290, 175, 6250, 16)
    ESC.TILPA2(0, 50)
    ESC.RoleHide(32)
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS5740')) -- ESS=不！不可能！！！
    ESC.TILPA2(0, 90)
    ESC.RoleDisable(32)
    MediaFunc.PlaySound(193)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,20,2,'%S0%C2'..StringDB('ESS5741')) -- ESS=將雨丹子收到煉妖壺裏
    ItemFunc.AddItem(32, 1) -- 加ITEMS[道具]
    ESC.WaitDLG(0)
    ESC.StoryMusicOff()
    --Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS5742')) -- ESS=看來雨丹子已經變成半妖，不能算人類了。
    Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS5742a')) -- ESS=既然不是人類，那麼當然能收服你。
    ESC.TurnFace(33, 1)
    ESC.TurnFace(34, 1)
    ESC.TurnFace(39, 1)
    ESC.Delay(300)
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5743')) -- ESS=原來那個傳說中的煉妖壺，真的在你手上。
    ESC.TurnFace(1, 33)
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5744'),1) -- ESS=這是我從故鄉帶過來的，可真不知道有這麼大的來頭。
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5744B'),2) -- ESS=對了，聽雨丹子說的軒轅劍，你知道多少？
    --Scene.OpenGlassDown(11)
    --Scene.AddPicture4(33, 0)
    --Scene.Glass_SRC2(33, StringDB('ESS5745')) -- ESS=以前中國傳說中的神器，由軒轅黃帝打造，利...
    --Scene.Glass_SRC2(33, StringDB('ESS5746')) -- ESS=之後軒轅劍輾轉在許多英雄手上，造就許多豐...
    --Scene.DelPicture(33, 0)
    --Scene.CloseGlassDown()
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5745'), 1) -- ESS=以前中國傳說中的神器，由軒轅黃帝打造，利...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5746'), 2) -- ESS=之後軒轅劍輾轉在許多英雄手上，造就許多豐...

    Scene.MAIN_TALKS_3(34, 8, 1, StringDB('ESS5747')) -- ESS=這老衲曾聽說過。
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5748')) -- ESS=原來如此……
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5749')) -- ESS=既然事情解決了，先出去再說吧。
    ESC.ChangeQQ(39, Const.STAND)
    ESC.AddParty(33)
    ESC.AddParty(34)
    ESC.AddParty(38)
    ESC.AddParty(39)
    GameFunc.FlagOn(530) -- 雨丹子事件過後
    GameFunc.FlagOff(10)
    --Scene.QuestOff(116)
    Scene.QuestOff(304)
    Scene.QuestOn(117)
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    -- 煉妖壺
    ESC.ChangeScript(99, 'TALK2323')
    ESC.ChangeScript(96, 'TALK2324')
    ESC.ChangeScript(97, 'TALK2325')
    ESC.ChangeScript(98, 'TALK2325')
end

function Scene.TALK6075()
    -- 簽詩
    if GameFunc.GetFlag(416) then goto T6075_6 end
    if GameFunc.GetFlag(415) then goto T6075_5 end
    if GameFunc.GetFlag(414) then goto T6075_4 end
    if GameFunc.GetFlag(413) then goto T6075_3 end
    if GameFunc.GetFlag(412) then goto T6075_2 end
    if GameFunc.GetFlag(411) then goto T6075_1 end
    Scene.WORD_ON_HEAD(1, 3, 0, -65, StringDB('ESS5750')) -- ESS=一堆籤詩的解釋。
    ESC.SceneBreak()
::T6075_1:: -- 引魂符
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5751')) -- ESS=籤上解釋這是戰國時代的招魂歌。
    Scene.GetItem(798, '%T798.')
    GameFunc.FlagOn(417)
    GameFunc.FlagOff(411)
    GameFunc.FlagOn(419)
    ESC.WaitDLG(0)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5752')) -- ESS=賽特，用這張符咒就可驅動機關人了。
    ESC.SceneBreak()
::T6075_2::
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5753')) -- ESS=籤上解釋這是漢朝時代的輓歌。
    GameFunc.FlagOn(418)
    GameFunc.FlagOff(412)
    GameFunc.FlagOn(419)
    Scene.GetItem(798, '%T798.')
    ESC.WaitDLG(0)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5754')) -- ESS=賽特，你可持此符驅動機關人。
    ESC.SceneBreak()
::T6075_3:: -- 戰鬥
    GameFunc.FlagOff(413)
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5755')) -- ESS=籤上解釋為：活不如死掉的好。
    -- 戰鬥
    -- if Function.GetItemCount(835)>0 then   -- 有此樣物品代表打過牛魔王了
    --     goto T6075_3A
    -- end
    ESC.StartBattle('BS156')
    ESC.RoleDisable(7015)
-- ::T6075_3A::
    ESC.SceneBreak()
::T6075_4:: -- 得物品
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5756')) -- ESS=籤上解釋為：將獲得一物品。
    Scene.GetItem(621, '%T621.')
    GameFunc.FlagOff(414)
    ESC.SceneBreak()
::T6075_5:: -- 給錢
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5757')) -- ESS=籤上解釋為：錢花掉了，還是會賺回來。
    Scene.GetMoney(100) -- ESS=１００
    GameFunc.FlagOff(415)
    ESC.SceneBreak()
::T6075_6:: -- 扣錢
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5759')) -- ESS=籤上解釋為：小心遺失金錢。
    MediaFunc.PlaySound(193)
    -- ESC.Center_X()
    -- ESC.FitSize()
    -- Scene.Print_SLF(0,9009,320,140,12,2,'%S0%K'..StringDB('ESS5760')) -- ESS=遺失１００銀幣
    -- GameFunc.PlayerGolds = GameFunc.PlayerGolds -100
    -- ESC.Delay(1500)
    Scene.GetMoney(-100)
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5761')) -- ESS=甚麼跟甚麼嘛.......
    GameFunc.FlagOff(416)
end

function Scene.TALK6076()
    local rnd
    -- 簽桶
    if GameFunc.GetFlag(419) then goto T6076A end
    if GameFunc.GetFlag(408) then goto T6076 end
    if GameFunc.GetFlag(430) then goto T6076B end
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5762')) -- ESS=這是甚麼東西？%N上面有寫字：%N%C2...
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS5763')) -- ESS=這是唐民間的籤桶。你誠心祈求，問想問的事...
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5764')) -- ESS=這樣簡陋的方法，真的有用？
    GameFunc.FlagOn(430)
    ESC.SceneBreak()
::T6076B::
    Scene.MAIN_TALKS_1(1, 9, 0, StringDB('ESS5765')) -- ESS=真心祈求，誠心抽籤，心想事成。%C5%N...
    ESC.SceneBreak()
::T6076A::
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5766')) -- ESS=賽特，先去把那機關人驅使到機關之上吧！
    ESC.SceneBreak()
::T6076::   -- 抽簽啦!!
    -- 將選項清掉
    GameFunc.FlagOff(411)
    GameFunc.FlagOff(412)
    GameFunc.FlagOff(413)
    GameFunc.FlagOff(414)
    GameFunc.FlagOff(415)
    GameFunc.FlagOff(416)
    rnd = math.random(1,6)
    if rnd==1 then
        goto T6076_1
    elseif rnd==2 then
        goto T6076_2
    elseif rnd==3 then
        goto T6076_3
    elseif rnd==4 then
        goto T6076_4
    elseif rnd==5 then
        goto T6076_5
    else
        goto T6076_6
    end

::T6076_1::
    if GameFunc.GetFlag(417) then goto T6076_6 end -- 如果引魂符1已換過
    -- 抽到引魂符
    GameFunc.FlagOn(411) -- 已抽過
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    ESC.DLGClose(10000)
    Scene.Glass_SRC1(1, StringDB('ESS5767')) -- 楚辭 大招    -- 招魂歌 ESS=籤條上寫著：青春受謝　　白日招只%N　　...
    if GameFunc.LanguageID == 2 then -- 英文版切割二段
        Scene.Glass_SRC1(1, StringDB('ESS5767b'))
    end
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5768')) -- ESS=看來得到解籤處找答案。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T6076_2::
    if GameFunc.GetFlag(418) then goto T6076_3 end -- 如果引魂符1已換過
    GameFunc.FlagOn(412) -- 已抽過
    -- 抽到引魂符
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%K'..StringDB('ESS5769')) --  漢樂府 薤露-- 這是一首弔亡的輓歌 ESS=籤條上寫著：%N　　薤上露　何易晞%N　...
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5770')) -- ESS=我看得到解籤的地方找答案。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T6076_3::    -- 抽到戰鬥
    GameFunc.FlagOn(413)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%K'..StringDB('ESS5771')) --  詩經    王風    兔爰-- 含意為不如死來的好 ESS=籤條上寫著：有兔爰爰　　雉離于羅%N　　...
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5772')) -- ESS=中國書讀的還不夠，得去解籤才行。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T6076_4::    -- 得到藥草(或其它無關緊要的東西)的籤
    GameFunc.FlagOn(414)
    Scene.AddPictureUp(1)
    Scene.OpenGlassUp(8)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%K'..StringDB('ESS5773')) -- ESS=籤條上寫著：山中何所有%N　　嶺上多白雲...
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5774')) -- ESS=這不知道會怎麼解釋這個籤。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T6076_5::    -- 得到銀幣的籤
    GameFunc.FlagOn(415)
    Scene.AddPictureUp(1)
    Scene.OpenGlassUp(8)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%K'..StringDB('ESS5775')) --  李白，將進酒 ESS=籤條上寫著：陳王昔時宴平樂%N　　斗酒十...
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5776')) -- ESS=有趣，不知解籤處怎麼解這個籤。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
    ESC.SceneBreak()
::T6076_6::    -- 扣錢
    GameFunc.FlagOn(416)
    Scene.OpenGlassUp(8)
    Scene.AddPictureUp(1)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5%K'..StringDB('ESS5777')) -- ESS=籤條上寫著：%N%N　　錢財乃身外之物
    ESC.WaitDLG2(10000)
    ESC.DLGClose(10000)
    ESC.Delay(450)
    Scene.Glass_SRC1(1, StringDB('ESS5778')) -- ESS=不知道這一句話該怎麼解釋。
    Scene.DelPictureUp(1)
    Scene.CloseGlassUp()
end

function Scene.TALK6077()
    -- 2F->3F
    Scene.ChangeMap(155, 49, 72, 4)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6078()
    -- 2F->1F
    Scene.ChangeMap(157, 91, 50, 5)
    Scene.RoadFlag(StringDB('ESS5779')) -- ESS=　道觀一樓
end

function Scene.TALK6079()
    -- 往洛陽
    Scene.ChangeMap(298, 62, 7, 1)
end

function Scene.TALK6080()
    -- 往1F
    if GameFunc.GetFlag(514) then goto T6080 end
    if not GameFunc.GetFlag(573) then goto T6080 end
    GameFunc.FlagOn(514)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    ESC.GotoMap(157, 59, 85, 1, 8, 0)
    ESC.RemoveParty(34 , 0 , '' , 34, 8, 0 , 0xD100)
    ESC.RoleMove(34, 63, 85)
    Scene.ScrollMapD(41, 55, 16, 16)
    ESC.ScrollMapWait()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.ScreenLock()
    ESC.BatchMove2(2,
    1, 59, 77, -1, 0, 0,
    34, 63, 77, -1, 0, 0)

    ESC.Caption(1017)
    ESC.FitSize()
    ESC.Print(595,9005,StringDB('ESS5780')) -- ESS=把壺交出來吧。
    ESC.WaitDLG(595)

    Scene.M_PrintW_C(1, 6, 2, StringDB('ESS5781')) -- ESS=無憑無據的，要給你什麼？

    ESC.Caption(1017)
    Scene.Print_W(595,9005,12,4,StringDB('ESS5782')) -- ESS=壺給我以後，我們才放人。
    ESC.WaitDLG(595)

    -- 慧榮(嚇一跳)：
    ESC.ChangeRoleMap( 38, 157, 0, 61, 85, 38, 0, 0)
    ESC.RoleEnable(38)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)
    MediaFunc.PlaySound(315)
    ESC.Delay(100)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(50)
    ESC.ChangeDIR(34, 1)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5783')) -- ESS=怎麼會有獅子？
    --  賽特等人閃開，獅子衝向道士，道士嚇跑，卻撞到另一個人）
    ESC.TakeActData(1, 1, 9, 2)
    ESC.TakeActData(34, 34, 9, 3)
    ESC.TakeActData(595, -1, 9, 0)
    ESC.SetMoveHISpeed(38)
    ESC.SetRoleSpeed(38, 1)
    ESC.SetRoleSpeed(595, 8)
    ESC.ChangeQQ(38, Const.WALK)
    ESC.BatchMove2(4,
    1, 59-2, 77, -1, 0, 3,
    34, 63+2, 77, -1, 0, 2,
    38, 61, 66, -1, 0, 0,
    595, 61, 65-2, -1, 0, 1)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(34, 0)
    MediaFunc.PlaySound(315)
    ESC.FitSize()
    ESC.Caption(1017)
    Scene.Print_W(595,9005,18,4,StringDB('ESS5784')) -- ESS=不要...不要吃我...
    ESC.WaitDLG(595)
    ESC.ChangeRoleMap(33, 157, 0, 61, 85, 33, 8, 0)
    ESC.RoleEnable(33)
    ESC.BatchMove2(1,    33, 61, 83, -1, 0, 0)
    ESC.ChangeDIR(1, 5)
    ESC.ChangeDIR(34, 6)
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS5785')) -- ESS=今天我朋友心情不好，你最好能老實回答我的...
    ESC.ChangeQQ(33, Const.WALK)
    ESC.BatchMove2(1,    33, 63, 66, -1, 0, 0)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(34, 0)
    ESC.Delay(300)
    ESC.StoryMusicOff()
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5786')) -- ESS=原來是大俠張客。
    ESC.TurnFace(1, 34)
    Scene.MAIN_TALKS_2(1, 9, 33, StringDB('ESS5787')) -- ESS=你們認識？
    ESC.TurnFace(34, 1)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5788')) -- ESS=不，久仰大名，常聽說他帶著捲毛獅子行俠仗...
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(34, 0)
    Scene.ScrollMapD(41, 50, 4, 4)
    ESC.ScrollMapWait()
    Scene.M_PrintW_C(33, 7, 2, StringDB('ESS5789')) -- ESS=這兒就是黑壇教的大本營嗎？
    ESC.Caption(1017)
    Scene.Print_W(595,9005,18,6,StringDB('ESS5790')) -- ESS=這…%N這…%N這……
    ESC.WaitDLG(595)
    MediaFunc.PlaySound(315)
    ESC.Caption(1017)
    ESC.FitSize()
    Scene.Print_W(595,9005,18,6,StringDB('ESS5791')) -- ESS=...是！這裏就是！
    ESC.WaitDLG(595)

    ESC.FitSize()
    Scene.AutoPrint_C(33, StringDB('ESS5792')) -- ESS=你們黑壇教主呢？
    ESC.FitSize()
    ESC.Caption(1017)
    Scene.Print_W(595,9005,18,6,StringDB('ESS5793')) -- ESS=在塔上...
    ESC.WaitDLG(595)

    ESC.FitSize()
    Scene.AutoPrint_C(33, StringDB('ESS5794')) -- ESS=吃了他！
    MediaFunc.PlaySound(315)

    ESC.Caption(1017)
    ESC.FitSize()
    ESC.DLGNoPass() ESC.DLGHoldTime(2)
    ESC.Print_S(595,9005,StringDB('ESS5795')) -- ESS=哇～！！

    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5796')) -- ESS=口下留人！

    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(34, 1)
    ESC.BatchMove2(2,
    1, 59, 71, -1, 0, 7,
    34, 65, 71, -1, 0, 0)
    ESC.ChangeDIR(33, 1)
    Scene.MAIN_TALKS_3(33, 11, 0, StringDB('ESS5797')) -- ESS=你是何許人也？
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5798')) -- ESS=貧憎是出家人，來自少林寺，法號慧榮。
    Scene.MAIN_TALKS_3(33, 11, 0, StringDB('ESS5799')) -- ESS=少林寺高憎慧榮法師！？久仰大名。%N法師...
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5800')) -- ESS=張施主，救人一命勝造七級浮堵屠，剛才哪位...
    ESC.AddHeadSign(33, 1)
    ESC.Delay(600)
    ESC.DelHeadSign(33)
    ESC.ChangeDIR(33, 0)
    ESC.Delay(200)
    Scene.AutoPrint_C(33, StringDB('ESS5801')) -- ESS=今天算你幸運，高憎替你求情。下次再為惡，...
    ESC.FitSize()
    Scene.AutoPrint_C(33, StringDB('ESS5802')) -- ESS=走吧！
    ESC.FitSize()
    ESC.Caption(1017)
    Scene.Print_W(595,9005,12,4,StringDB('ESS5803')) -- ESS=謝謝！謝謝！
    ESC.WaitDLG(595)

    ESC.SetRoleSpeed(595, 1)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.BatchMove2(1,    595, 58, 66, -1, 0, 1)
    ESC.ChangeDIR(33, 6)
    ESC.ChangeDIR(38, 6)
    ESC.ChangeDIR(34, 4)
    ESC.ChangeDIR(1, 4)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5804')) -- ESS=等一下！

    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS5805')) -- ESS=你還沒告訴我王姑娘被你們關在哪裏？
    ESC.ChangeDIR(595, 5)

    ESC.Caption(1017)
    Scene.Print_W(595,9005,18,2,StringDB('ESS5806')) -- ESS=她被教主關在塔頂。
    ESC.WaitDLG(595)
    ESC.SetRoleSpeed(595, 0)
    ESC.ChangeQQ(595, Const.WALK)
    ESC.BatchMove(1,    595, 57, 85)
    ESC.RoleDisable(595)

    ESC.ChangeDIR(33, 1)
    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(34, 0)
    ESC.ChangeDIR(38, 1)
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5807')) -- ESS=你的人被他們綁架了嗎？
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS5808')) -- ESS=是我一位朋友。
    ESC.RoleDisable(4616)
    ESC.RoleDisable(59966)
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5809')) -- ESS=我跟你們去。
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5810')) -- ESS=張大俠，你已經幫了我們大忙，剩下是我們的...
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5811')) -- ESS=我的父母為強盜所殺，我的心願是除盡天下惡...
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5812')) -- ESS=阿彌陀佛～%N張大俠，可別陷入太深，天下...
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5813')) -- ESS=惡人有，為何善人不能有？
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS5814')) -- ESS=唉，你來吧，希望以後有機會，能讓你多接觸...
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5815')) -- ESS=以後的事再說吧。%N鎮邪，我們走。
    ESC.ChangeDIR(1, 0)
    MediaFunc.PlaySound(315)
    ESC.AddParty(33)
    ESC.AddParty(38)
    ESC.AddParty(34)
    Scene.BattleSupportOn(33) -- 張客
    Scene.BattleSupportOn(38) -- 鎮邪
    GameFunc.FlagOff(10)
    Scene.QuestOff(115)
    Scene.QuestOn(116)
    -- 煉妖壺
    ESC.ChangeScript(99, 'TALK2320')
    ESC.ChangeScript(96, 'TALK2322')
    ESC.ChangeScript(97, 'TALK2321')
    ESC.ChangeScript(98, 'TALK2321')
    ESC.SceneBreak()
::T6080::
    Scene.ChangeMap(157, 61, 85, 0)
    Scene.RoadFlag(StringDB('ESS5816')) -- ESS= 道　 觀
end

function Scene.TALK6081()
    -- 1F->入口
    if GameFunc.GetFlag(531) then goto T6081 end
    if not GameFunc.GetFlag(530) then goto T6081 end
    GameFunc.FlagOn(531)
    Scene.Renew2016_TALK6081()
    ESC.SceneBreak()
    Scene.BattleSupportOff(34) -- 慧榮
    Scene.BattleSupportOff(33) -- 張客
    Scene.BattleSupportOff(38) -- 鎮邪
    GameFunc.FlagOn(10)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(174, 31, 24, 1, 8, 2)
    ESC.RemoveParty(34 , 0 , '' , 34, 8, 2 , 0xD100)
    ESC.RemoveParty(33 , 0 , '' , 33, 8, 2 , 0xD100)
    ESC.RoleMove(34, 29, 24)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.BatchMove2(3,
    34, 20, 21, -1, 0, 5,
    1, 24, 23, -1, 0, 4,
    33, 23, 20, -1, 0, 5)
    ESC.RemoveParty(38 , 0 , '' , 38, 0, 2 , 0xD100)
    ESC.RemoveParty(39 , 0 , '' , 39, 0, 4 , 0xD100)
    Scene.MAIN_TALKS_3(34, 8, 1, StringDB('ESS5817')) -- ESS=既然知道有安祿山造反的證據，老衲要去調查...
    ESC.ChangeDIR(33, 6)
    ESC.Delay(300)
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5818')) -- ESS=我也去，多一個幫手也好。
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5819')) -- ESS=我帶王姑娘回白先生家。
    ESC.Delay(400)
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS5820')) -- ESS=聽說我的殺親仇人黃雷也在安祿山家裏？
    ESC.ChangeDIR(33, 5)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(400)
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS5821')) -- ESS=誰說的？
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS5822')) -- ESS=是雨丹子告訴我的，他說黃雷幫安祿山蓋房子...
    Scene.MAIN_TALKS_3(34, 8, 1, StringDB('ESS5823')) -- ESS=那還真該去看看，若能找到證據，說不定可以...
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS5824')) -- ESS=應該是要處死。
    Scene.MAIN_TALKS_3(34, 8, 1, StringDB('ESS5825')) -- ESS=就這樣，老衲與張大俠先走一步。
    ESC.ChangeDIR(1, 4)
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5826')) -- ESS=兩位請保重。
    ESC.ChangeQQ(34, Const.WALK)
    ESC.ChangeQQ(33, Const.WALK)
    ESC.ChangeQQ(38, Const.WALK)
    ESC.SetRoleSpeed(34, 1)
    ESC.SetRoleSpeed(33, 1)
    ESC.SetRoleSpeed(38, 1)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(39, 6)
    ESC.BatchMove2(3,
    34, 5, 34, -1, 0, 6,
    33, 8, 34, -1, 0, 6,
    38, 10, 34, -1, 0, 6)
    ESC.RoleDisable(33)
    ESC.RoleDisable(34)
    ESC.RoleDisable(38)
    ESC.ChangeDIR(1, 5)
    ESC.TurnFace(39, 1)
    Scene.MAIN_TALKS_3(1, 9, 1, StringDB('ESS5827')) -- ESS=咱們走吧。我帶妳回白先生家。
    ESC.ChangeDIR(1, 6)
    ESC.AddParty(39)
    ESC.ChangeRoleMap( 40, 100, 0, 33, 66, 40, 0, 1)
    ESC.RoleEnable(40)
    Scene.QuestOff(117)
    Scene.QuestOn(118)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6081::
    Scene.ChangeMap(174, 31, 24, 2)
end

function Scene.TALK6082()
    -- 1F->2F
    Scene.ChangeMap(156, 111, 56, 2)
    Scene.RoadFlag(StringDB('ESS5694')) -- ESS=　道觀二樓
end

function Scene.TALK6084()    -- 王思月在東都塔樓的對話
    Scene.MAIN_TALKS_2(39, 11, 9, StringDB('ESS5828')) -- ESS=你這妖道，你倒底想作些甚麼!!!
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5829')) -- ESS=像你這麼美麗的姑娘，生氣可就不好看了，還...
    Scene.MAIN_TALKS_2(39, 11, 9, StringDB('ESS5830')) -- ESS=你.....你會不得好死。
end

function Scene.TALK6085()
    -- 雨丹子在塔樓上的對話
    Scene.MAIN_TALKS_1(32, 11, 0, StringDB('ESS5831')) -- ESS=這麼漂亮的女娃兒，跟著那個蠻子，真是太可...
end
-- 東都道觀3F機關
function Scene.TALK6086()
    -- 左跳躍點
    if ESC.GetRoleToPosDistance(63, 22, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(705, 63, 22, 3, 155, 84-2, 22, 3)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6087()
    -- 左跳躍點
    if ESC.GetRoleToPosDistance(62, 34, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(706, 62, 34, 3, 156, 76, 63, 1)
    Scene.RoadFlag(StringDB('ESS5694')) -- ESS=　道觀二樓
end

function Scene.TALK6088()
    -- 左跳躍點
    if ESC.GetRoleToPosDistance(61, 55, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(708, 61, 55, 3, 155, 86-3, 56, 3)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6089()
    -- 左跳躍點
    if ESC.GetRoleToPosDistance(61, 43, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(707, 62, 43, 3, 155, 85-2, 43, 3)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6090()
    -- 右跳躍點
    if ESC.GetRoleToPosDistance(82, 22, 1) > 3 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(709, 82, 22, 2, 155, 61+2, 22, 2)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6091()
    -- 右跳躍點
    if ESC.GetRoleToPosDistance(82, 31, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(710, 82, 31, 2, 156, 76, 63, 1)
    Scene.RoadFlag(StringDB('ESS5694')) -- ESS=　道觀二樓
end

function Scene.TALK6092()
    -- 右跳躍點
    if ESC.GetRoleToPosDistance(83, 43, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(711, 83, 43, 2, 155, 60+2, 43, 2)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6093()
    -- 右跳躍點
    if ESC.GetRoleToPosDistance(83, 56, 1) > 6 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%K'..StringDB('ESS1525')) ESC.SceneBreak()  end --  檢查主角是否在旁邊 ESS=距離太遠，無法觸動機關！
    Scene.CHANGMAP4(712, 83, 56, 2, 155, 58+3, 55, 2)
    Scene.RoadFlag(StringDB('ESS5692')) -- ESS=　道觀三樓
end

function Scene.TALK6094()
    -- 機官人
    ESC.StartBattle('BS156')
    ESC.RoleDisable(Const.TOWN)
end

function Scene.TALK6095()
    -- 機關人
    ESC.StartBattle('BS155')
    if not GameFunc.GetFlag(2040) then goto T6095 end
    GameFunc.FlagOff(2040)
    ESC.RoleDisable(Const.TOWN)
::T6095::
end

function Scene.TALK6096()
    ESC.Caption(260)
    Scene.Print_W(Const.TOWN,9005,12,6,StringDB('ESS5832')) -- ESS=這邊是道士修行的地方，請離開。
    ESC.WaitDLG(Const.TOWN)
end

function Scene.TALK6101()
    -- 石塔
    if GameFunc.GetFlag(370) then goto T6101 end
    Scene.WORD_ON_HEAD(1, 5, 20, -60, '%S0'..StringDB('ESS5833')) -- ESS=中國石塔。
    ESC.SceneBreak()
::T6101::
    Scene.MoveHero(56, 35, 0)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS5834')) -- ESS=原來這裏有個開關。
    MediaFunc.PlaySound(57)
    ESC.RoleEnable(360)
    ESC.RoleDisable(359)
    ESC.TILPA1(360, 5)
    ESC.RoleEnable(364)
    ESC.TakeActData(360, -1, 58, 0)
    Scene.AutoPrint_C(1, StringDB('ESS5835')) -- ESS=咦....%N這後面有個通道。
    -----   ESC.ChangeRoleMap(GUID , MAPID , PATH , X , Y , ACT , QQ , DIR)
    ESC.ChangeRoleMap( 104, 102, 0, 26, 31, 57, 0, 0) -- 設三各和尚機關
    ESC.RoleEnable(104)
end

function Scene.TALK6103()    -- 出口
    Scene.OutCity_NPC(9, 107, 44, 2)
end

function Scene.TALK6104()
    -- 往木人巷
    Scene.ChangeMap(102, 24, 37, 7)
    if not GameFunc.GetFlag(472) then goto T6104 end
    ESC.SceneBreak()
::T6104::
    GameFunc.FlagOn(472)
    GameFunc.FlagOn(10)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.TakeActData(1, 98, 77, 0)
    ESC.TILPA1(1, 6)
    ESC.StartBattle('BS220')
    ESC.RoleDisable(104)
    ESC.RoleDisable(131)
    ESC.RoleDisable(158)
    ESC.TakeActData(1, 1, 0, 7)
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5836')) -- ESS=這裏怎麼會有機關人？%N難道是黃雷的陷阱...
    Scene.Lee_On(23, 30, 1)
    ESC.ChangeDIR(1, 0)
    Scene.MAIN_TALKS_3(17, 11, 1, StringDB('ESS5837')) -- ESS=哈哈哈……%N不是的，以前黃雷小時候曾有...
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS5748')) -- ESS=原來如此……
    Scene.MAIN_TALKS_3(17, 11, 1, StringDB('ESS5838')) -- ESS=傳說是以前鬼谷子住在這座山時，%N為了教...
    Scene.MAIN_TALKS_4(1, 8, 10, StringDB('ESS5839')) -- ESS=等等，去少林寺都要走這麼危險的路？
    Scene.MAIN_TALKS_3(17, 11, 1, StringDB('ESS5840')) -- ESS=哈哈哈……%N當然不是，這條路是給武僧訓...
    Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS5841')) -- ESS=就讓他看看實力，上去後再看他怎麼跟我交代...
    Scene.Lee_Off()
    GameFunc.FlagOff(10)
end

function Scene.TALK6105()
    -- 往山門
    Scene.ChangeMap(19, 38, 45, 4)
end

function Scene.TALK6106()
    Scene.ChangeMap(101, 56, 31, 1)
end

function Scene.TALK6107()
    Scene.ChangeMap(11, 36, 132, 7)
end

function Scene.TALK6108()
    Scene.ChangeMap(102, 38, 16, 6)
end

function Scene.TALK6109()
    Scene.ChangeMap(12, 25, 61, 7)
end

function Scene.TALK6110()
    Scene.ChangeMap(101, 30, 25, 5)
end

function Scene.TALK6111()
    Scene.ChangeMap(18, 68, 83, 4)
end

function Scene.TALK6112()
    Scene.ChangeMap(19, 24, 20, 5)
end

function Scene.TALK6113()
    Scene.ChangeMap(103, 15, 33, 7)
end

function Scene.TALK6114()
    Scene.ChangeMap(18, 89, 29, 2)
end

function Scene.TALK6115()
    Scene.ChangeMap(17, 99, 69, 3)
end

function Scene.TALK6116()
    Scene.ChangeMap(103, 51, 21, 6)
end

function Scene.TALK6117()
    -- 木人巷內
    Scene.ChangeMap(16, 120, 53, 2)
end

function Scene.TALK6118()
    Scene.ChangeMap(17, 17, 58, 3)
end

function Scene.TALK6119()
    if GameFunc.GetFlag(460) then return end
    GameFunc.FlagOn(460)
    MediaFunc.PlaySound(82)
    ESC.RoleEnable(916)
    ESC.RoleEnable(917)
    ESC.RoleEnable(918)
end

function Scene.TALK6120()
    Scene.ChangeMap(15, 173, 49, 2)
end

function Scene.TALK6121()
    Scene.ChangeMap(14, 79, 41, 2)
end

function Scene.TALK6122()
    Scene.ChangeMap(13, 201, 26, 2)
end

function Scene.TALK6123()
    Scene.ChangeMap(11, 52, 33, 6)
end
-- 機關21
function Scene.TALK6124()
    if not GameFunc.GetFlag(473) then return end
    Scene.ChangeMap(13, 24, 27, 3)
    ESC.SceneBreak()
end

function Scene.TALK6125()
    if not GameFunc.GetFlag(473) then return end
    Scene.ChangeMap(14, 17, 41, 3)
end

function Scene.TALK6126()
    if not GameFunc.GetFlag(473) then return end
    Scene.ChangeMap(15, 32, 49, 3)
end
-------------
function Scene.TALK6127()
    Scene.ChangeMap(12, 82, 26, 2)
end

function Scene.TALK6128()
    Scene.ChangeMap(16, 68, 26, 3)
end

function Scene.TALK6129()
    Scene.ChangeMap(12, 119, 45, 2)
end

function Scene.TALK6130()
    Scene.ChangeMap(16, 30, 45, 3)
end

function Scene.TALK6131()
    Scene.ChangeMap(12, 82, 87, 2)
end

function Scene.TALK6132()
    Scene.ChangeMap(16, 66, 87, 3)
end

function Scene.TALK6133()
    -- 入口對話
    if not GameFunc.GetFlag(7068) then return end -- 如果還未去白連儀哪就不啟動
    if not GameFunc.GetFlag(460) then Scene.TALK6200() end -- 木人巷
end

function Scene.TALK6134()
    -- 木人巷21機關人
    ESC.StartBattle('BS187')
    GameFunc.FlagOn(473)
    MediaFunc.PlaySound(82)
    ESC.RoleEnable(913)
    ESC.RoleEnable(914)
    ESC.RoleEnable(915)
    ESC.ChangeScript(926, '')
    ESC.ChangeScript(927, '')
    ESC.ChangeScript(928, '')
    ESC.ChangeRoleMap( 40, 18, 0, 66, 34, -1, 0, 3)
    ESC.RoleDisable(Const.TOWN)
end

function Scene.TALK6135()
    -- 木人巷23 (單一機關人組)
    ESC.StartBattle('BS186')
    ESC.RoleDisable(Const.TOWN)
end

function Scene.TALK6136()
    -- 木人巷22 (六個機關人組)
    ESC.StartBattle('BS187')
    ESC.RoleDisable(Const.TOWN)
end

function Scene.TALK6137()
    ESC.StartBattle('BS186')
    ESC.RoleDisable(Const.TOWN)
end

function Scene.TALK6138()
    if GameFunc.GetFlag(474) then goto T6138 end
    ESC.RMLock()
    GameFunc.FlagOn(474)
    ESC.ChangeDIR(1, 3)
    ESC.ChangeRoleMap(320, 17, 0, 79, 32, 57, 2, 0)
    ESC.ChangeRoleMap(321, 17, 0, 76, 34, 57, 2, 0)
    ESC.ChangeRoleMap(322, 17, 0, 79, 36, 57, 2, 0)
    ESC.ChangeRoleMap(327, 17, 0, 76, 38, 57, 2, 0)
    ESC.ChangeRoleMap(591, 17, 0, 79, 40, 57, 2, 0)
    ESC.ChangeRoleMap(592, 17, 0, 76, 42, 57, 2, 0)
    ESC.ChangeRoleMap(593, 17, 0, 79, 44, 57, 2, 0)
    ESC.ChangeRoleMap(594, 17, 0, 76, 46, 57, 2, 0)
    ESC.ChangeRoleMap(595, 17, 0, 79, 48, 57, 2, 0)
    ESC.RoleEnable(320)
    ESC.RoleEnable(321)
    ESC.RoleEnable(322)
    ESC.RoleEnable(327)
    ESC.RoleEnable(591)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.ChangeScript(320, '')
    ESC.ChangeScript(321, '')
    ESC.ChangeScript(322, '')
    ESC.ChangeScript(327, '')
    ESC.ChangeScript(591, '')
    ESC.ChangeScript(592, '')
    ESC.ChangeScript(593, '')
    ESC.ChangeScript(594, '')
    ESC.ChangeScript(595, '')

    ESC.ChangeRoleMap(199, 17, 0, 82, 30, 57, 2, 0)
    ESC.ChangeRoleMap(200, 17, 0, 82, 34, 57, 2, 0)
    ESC.ChangeRoleMap(201, 17, 0, 82, 38, 57, 2, 0)
    ESC.ChangeRoleMap(203, 17, 0, 82, 42, 57, 2, 0)
    ESC.ChangeRoleMap(204, 17, 0, 82, 46, 57, 2, 0)
    ESC.ChangeRoleMap(181, 17, 0, 82, 50, 57, 2, 0)

    ESC.ChangeRoleMap(218, 17, 0, 85, 30, 57, 2, 0)
    ESC.ChangeRoleMap(219, 17, 0, 85, 34, 57, 2, 0)
    ESC.ChangeRoleMap(220, 17, 0, 85, 38, 57, 2, 0)
    ESC.ChangeRoleMap(221, 17, 0, 85, 42, 57, 2, 0)
    ESC.ChangeRoleMap(222, 17, 0, 85, 46, 57, 2, 0)
    ESC.ChangeRoleMap(228, 17, 0, 85, 50, 57, 2, 0)

    ESC.ChangeScript(199, '')
    ESC.ChangeScript(200, '')
    ESC.ChangeScript(201, '')
    ESC.ChangeScript(203, '')
    ESC.ChangeScript(204, '')
    ESC.ChangeScript(181, '')
    ESC.ChangeScript(218, '')
    ESC.ChangeScript(219, '')
    ESC.ChangeScript(220, '')
    ESC.ChangeScript(221, '')
    ESC.ChangeScript(222, '')
    ESC.ChangeScript(228, '')
    ESC.RoleEnable(199)
    ESC.RoleEnable(200)
    ESC.RoleEnable(201)
    ESC.RoleEnable(203)
    ESC.RoleEnable(204)
    ESC.RoleEnable(181)
    ESC.RoleEnable(218)
    ESC.RoleEnable(219)
    ESC.RoleEnable(220)
    ESC.RoleEnable(221)
    ESC.RoleEnable(222)
    ESC.RoleEnable(228)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    Scene.ScrollMapD(55, 26, 4, 4)
    ESC.ScrollMapWait()
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS5194')) -- ESS=這.......
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ScrollMapWait()
::T6138::
    if GameFunc.GetFlag(7070) then return end
    ESC.RMLock()
    GameFunc.FlagOn(7070)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.Nicole_On(59, 35, 6)
    Scene.SAR_TurnFace(2, 1)
    Scene.MAIN_TALKS_1(2, 3, 12, StringDB('ESS3786')) -- ESS=賽特，前面太危險了，找別條路走好不好。
    ESC.StoryMusicOff()

end

function Scene.TALK6139()
    if GameFunc.GetFlag(7071) then return end
    ESC.RMLock()
    GameFunc.FlagOn(7071)
    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_1(2, 3, 26, StringDB('ESS5842')) -- ESS=賽特，不要再過去了，太危險了。
end

function Scene.TALK6140()
    if GameFunc.GetFlag(7082) then return end
    if not GameFunc.GetFlag(7070) then return end
    ESC.RMLock()
    GameFunc.FlagOff(7070)
    GameFunc.FlagOff(7071)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.Nicole_Off()
end

function Scene.TALK6141()
    if GameFunc.GetFlag(7082) then return end
    ESC.RMLock()
    GameFunc.FlagOn(7082)
    GameFunc.FlagOn(10)
    ESC.TakeActData(1, -1, 0, 3)
    ESC.ChangeQQ(199, 60)
    ESC.ChangeQQ(200, 60)
    ESC.ChangeQQ(201, 60)
    ESC.ChangeQQ(203, 60)
    ESC.ChangeQQ(204, 60)
    ESC.ChangeQQ(181, 60)
    ESC.ChangeQQ(218, 60)
    ESC.ChangeQQ(219, 60)
    ESC.ChangeQQ(220, 60)
    ESC.ChangeQQ(221, 60)
    ESC.ChangeQQ(222, 60)
    ESC.ChangeQQ(228, 60)
    ESC.ChangeQQ(320, 60)
    ESC.ChangeQQ(321, 60)
    ESC.ChangeQQ(322, 60)
    ESC.ChangeQQ(327, 60)
    ESC.ChangeQQ(591, 60)
    ESC.ChangeQQ(592, 60)
    ESC.ChangeQQ(593, 60)
    ESC.ChangeQQ(594, 60)
    ESC.ChangeQQ(595, 60)
    Scene.WORD_ON_HEAD(1, 3, 20, -75, '%C5'..StringDB('ESS1847')) -- ESS=？
    ESC.TILPA1(595, 8)
    ESC.RoleDisable(199)
    ESC.RoleDisable(200)
    ESC.RoleDisable(201)
    ESC.RoleDisable(203)
    ESC.RoleDisable(204)
    ESC.RoleDisable(181)
    ESC.RoleDisable(218)
    ESC.RoleDisable(219)
    ESC.RoleDisable(220)
    ESC.RoleDisable(221)
    ESC.RoleDisable(222)
    ESC.RoleDisable(228)
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)
    ESC.RoleDisable(322)
    ESC.RoleDisable(327)
    ESC.RoleDisable(591)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.DLGClose(1)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS5843')) -- ESS=這是怎麼回事？
    Scene.Lee_On(74, 36, 6)
    ESC.Delay(100)
    ESC.TurnFace(1, 17)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS5844')) -- ESS=其實這裏是測試入關者的膽量而已，剛才哪些...
    Scene.MAIN_TALKS_3(2, 3, 29, StringDB('ESS5845')) -- ESS=真是無聊的關卡。
    Scene.Nicole_Off()
    Scene.Lee_Off()
    ESC.ChangeDIR(1, 3)
    GameFunc.FlagOff(10)
end

function Scene.TALK6142()
    -- 木人巷23 (單二機關人組)
    ESC.StartBattle('BS187')
    ESC.RoleDisable(59968)
    ESC.RoleDisable(932)
end

function Scene.TALK6143()
    -- 木人巷23 (單二機關人組)
    ESC.StartBattle('BS187')
    ESC.RoleDisable(59967)
    ESC.RoleDisable(934)
end

function Scene.TALK6200()
    -- 悟緣的對話(少林寺內)
    ESC.RMLock()
    if GameFunc.GetFlag(460) then goto T6200A end -- 已從木人巷出來
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 40)
    ESC.TurnFace(40, 1)
    if GameFunc.GetFlag(370) then goto T6200 end  -- 已經談過話了
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(370)
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5846')) -- ESS=施主有何貴事？
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5847')) -- ESS=請問，%N我要找跟慧彥法師同輩的少林寺僧...
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5848')) -- ESS=慧彥太師伯？%N同輩的有我太師父，他們都...
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5849')) -- ESS=這……
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5850')) -- ESS=施主有甚麼事請說？%N我還有急事要下山呢...
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5851')) -- ESS=我送慧彥法師的舍利子來的。
    --  年輕武僧（驚訝）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5852')) -- ESS=太師伯圓寂了？
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS5853')) -- ESS=他於我有恩，%N我希望能幫他辦這最後一件...
    -- 年輕武僧（感興趣）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5854')) -- ESS=慧彥太師伯跟你甚麼關係呀！
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5855')) -- ESS=慧彥法師曾教我一些武術。
    -- 年輕武僧（不滿）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5856')) -- ESS=太師伯曾教你武術呀！%N那你比我大了一輩...
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS5857')) -- ESS=無所謂，%N叫我賽特就好。
    --  年輕武僧（笑）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5858')) -- ESS=賽特啊？%N原來不是中國人。%N我是悟緣...
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5859')) -- ESS=那舍利子要怎麼辦？
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5860')) -- ESS=這……%N雖然有急事，但太師伯的舍利子比...
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5861')) -- ESS=走這條路？
    Scene.OpenGlassUp(11)
    Scene.AddPicture3(40, 1)
    Scene.Glass_SRC1(40, StringDB('ESS5862')) -- ESS=嗯……不對，%N您有練少林功夫，%N第一...
    -- （想）：
    Scene.DelPicture(40, 1)
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5863')) -- ESS=木人巷怎麼走？
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5864')) -- ESS=就在塔的後面，把塔搬動就可以進去了。
    ESC.TurnFace(1, 359)
    ESC.Delay(450)
    ESC.TurnFace(1, 40)
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS5865')) -- ESS=多謝了。
    -- 悟緣（笑）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5866')) -- ESS=謝倒是不必，您走路請要小心啊。
    GameFunc.FlagOff(10)
    Scene.QuestOff(297)
    Scene.QuestOn(298)
    ESC.SceneBreak()
::T6200::
    -- 悟緣（微笑）：
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS5867')) -- ESS=木人巷就在塔後。請小心走路。
    ESC.SceneBreak()
::T6200A::
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(486)
    Scene.MoveHero(71, 34, 2)
    ESC.TurnFace(40, 1)
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5868')) -- ESS=師叔，%N這麼快就出來，您功夫真的不錯。...
    Scene.MAIN_TALKS_1(1, 9, 22, StringDB('ESS5869')) -- ESS=你這和尚怎麼這麼險惡？%N走這條路是騙我...
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5870')) -- ESS=哈哈哈……%N跟您開玩笑，%N只是沒進過...
    Scene.MAIN_TALKS_1(1, 9, 12, StringDB('ESS5871')) -- ESS=算了，也讓我開了眼界。
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5872')) -- ESS=現在寺內的僧人都下山打賊去了，%N太師伯...
    --  （賽特拿舍利子給悟緣）
    ESC.DLGNoCloseKey()
    ESC.DLGHoldTime(4)
    Scene.Print_SLF(0,9009,300,140,14,2,'%S0%K'..StringDB('ESS5873')) -- ESS=%T800.交給悟緣
    ESC.WaitDLG(0)
    ItemFunc.AddItem(800, -1)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.ChangeDIR(1, 6)
    ESC.BatchMove(1,    40, 38, 25)
    ESC.BatchMove2(1,    40, 66, 34, -1, 0, 3)
    ESC.ChangeDIR(1, 2)
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5874')) -- ESS=師叔，%N弟子現在也要下山追賊。%N不能...
    Scene.MAIN_TALKS_1(1, 9, 34, StringDB('ESS1013')) -- ESS=怎麼回事？
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5875')) -- ESS=最近%C2洛陽%C5出了一個新興%C2邪...
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS5876')) -- ESS=你也要去？
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5877')) -- ESS=那當然，%N不然我學武功要幹什麼？
    Scene.MAIN_TALKS_1(1, 9, 34, StringDB('ESS5878')) -- ESS=是去洛陽嗎？
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5879')) -- ESS=是的。
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS5880')) -- ESS=那我跟你一起去。
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5881')) -- ESS=這……方便嗎？
    Scene.MAIN_TALKS_1(1, 9, 18, StringDB('ESS5882')) -- ESS=反正我也是出來旅行的，想到處看看。
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS5883')) -- ESS=那好，有師叔您在，順便指點一下弟子。
    Scene.MAIN_TALKS_1(1, 9, 20, StringDB('ESS5884')) -- ESS=我可沒學過你們少林寺多少功夫。
    ESC.ChangeDIR(1, 6)
    ESC.AddParty(40)
    Scene.QuestOff(298)
    Scene.QuestOn(299)
    Scene.BattleSupportOn(40) -- 悟緣 -- 悟緣加入的開關ON
    GameFunc.FlagOff(10)
end

function Scene.TALK6201()
    Scene.ChangeMap(7, 47, 101, 1)
end

function Scene.TALK6202()
    -- 進大廳
    Scene.ChangeMap(163, 38, 39, 0)
    if GameFunc.GetFlag(533) then return end
    --if GameFunc.GetFlag(532) then goto T6202C end
    if GameFunc.GetFlag(532) then Scene.Renew2016_TALK6202() end -- Renew2016
    ESC.SceneBreak()
::T6202C::
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(533)
    ESC.RemoveParty(39 , 0 , '' , 39, 8, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(39, 1)
    ESC.BatchMove2(2,
    1, 35, 28, -1, 0, 7,
    39, 42, 28, -1, 0, 4)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5885')) -- ESS=太好了，你們沒事！
    Scene.MAIN_TALKS_4(39, 11, 4, StringDB('ESS5886')) -- ESS=嗯！真是好險哪，惡人已被賽特大哥消滅了。...
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5887')) -- ESS=沒事就好！沒事就好！
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS5888')) -- ESS=林明也來了。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5889')) -- ESS=對了，是找你的朋友。
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS5890')) -- ESS=事情我聽說了，無事歸來真是可喜可賀。
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS5891')) -- ESS=王姑娘，妳先去休息，我跟林明到書房聊。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5892')) -- ESS=是啊！年紀輕輕的，就要歷經這麼多苦難，真...
    ESC.AddParty(36)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 57, 20, 1, 0, 3)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 6)
    ESC.FadeWait()
    ESC.GotoMap(164, 35, 23, 1, 0, 3)
    ESC.RemoveParty(36 , 0 , '' , 36, 0, 2 , 0xD100)
    ESC.RoleMove(36, 38, 23)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(78, 78, 0x4000)
    Scene.MAIN_TALKS_4(36, 11, 0, StringDB('ESS5893')) -- ESS=我已經探查過了，晚上在安祿山宅的守衛都會...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS5894')) -- ESS=嗯，我很擔心那個麥爾斯也在裏面，而且我有...
    Scene.MAIN_TALKS_4(36, 11, 0, StringDB('ESS5895')) -- ESS=那個麥爾斯有什麼問題？
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS5896')) -- ESS=他會混進皇宮，應該有重大圖謀，而且他會很...
    Scene.MAIN_TALKS_4(36, 11, 0, StringDB('ESS5897')) -- ESS=何必擔心，我都聽說你能夠打敗黑壇教的老大...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS5898')) -- ESS=對付麥爾斯……%N我自己都沒把握。
    Scene.MAIN_TALKS_4(36, 11, 0, StringDB('ESS5899')) -- ESS=這麼厲害？
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS5900')) -- ESS=總之，也不知道情況如何，也該去看看。
    Scene.MAIN_TALKS_4(36, 11, 0, StringDB('ESS5901')) -- ESS=好，咱們晚上在哪邊碰面。
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 30)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()

    ESC.Progress_Off()
    ESC.GotoMap(285, 27-2, 50+2, 1, 8, 7)
    ESC.ChangeRoleMap(1019, 285, 0, 45, 24, 416, 52, 0)
    ESC.ChangeRoleMap(1018, 285, 0, 51, 24, 416, 53, 0)
    ESC.ChangeScript(1018, '')
    ESC.ChangeScript(1019, '')
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 16)
    ESC.BatchMove2(1,    1, 31, 44, -1, 0, 7)
    ESC.FadeWait()
    ESC.Delay(300)
    ESC.ChangeDIR(1, 6)
    Scene.TIK()
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS5902')) -- ESS=奇怪，林兄還沒到？
    ESC.ChangeRoleMap(36, 285, 0, 31-2, 50+2, 37, 0, 0)
    ESC.ChangeDIR(1, 1)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(100)
    ESC.DelHeadSign(1)
    ESC.SetRoleSpeed(36, 1)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.BatchMove2(1,    36, 36, 44, -1, 0, 2)
    ESC.TakeActData(1, -1, 63, 0)
    ESC.TILPA1(1, 8)
    Scene.MAIN_TALKS_3(1, 9, 39, StringDB('ESS5903')) -- ESS=你是誰！？
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS5904')) -- ESS=賽特，我是林明。
    ESC.TakeActData(1, -1, 62, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 3)
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS5905')) -- ESS=林明，你這打扮……
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS5906')) -- ESS=以前我在我的國家是做間諜工作的。
    Scene.MAIN_TALKS_3(1, 9, 19, StringDB('ESS5907')) -- ESS=我以前替主君丕平工作時，也經常替他做間諜...
    Scene.OpenGlassUp(11)
    Scene.AddPicture1(37, 0)
    Scene.Glass_SRC1(37, StringDB('ESS5908')) -- ESS=看來夜行裝倒是間諜工作者的制服，真是天下...
    Scene.Glass_SRC1(37, StringDB('ESS5909')) -- ESS=安祿山宅大部分的人手都隨安祿山東行去了，...
    Scene.Glass_SRC1(37, StringDB('ESS5910')) -- ESS=他做的房子絕沒那麼簡單，必定機關重重。
    Scene.DelPicture(37, 0)
    Scene.CloseGlassUp()

    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.SetRoleSpeed(36, 1)
    ESC.BatchMove2(2,
    1, 48, 26, -1, 0, 0,
    36, 51, 26, -1, 0, 0)

    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS5911')) -- ESS=這些守衛好像是被弓箭射死的。
    Scene.OpenGlassUp(8)
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS5912')) -- ESS=嗯，看來張客他們也先來了。
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS5913')) -- ESS=好，我們也進去。
    ESC.AddParty(36)
    Scene.BattleSupportOn(37) -- 夜行裝林明
    ESC.RoleDisable(39)
    Scene.QuestOff(118)
    Scene.QuestOn(119)
    GameFunc.FlagOff(10)
    -- 煉妖壺隊話
    ESC.ChangeScript(99, 'TALK2326')
    ESC.ChangeScript(96, 'TALK2327')
    ESC.ChangeScript(97, 'TALK2328')
    ESC.ChangeScript(98, 'TALK2328')
end



function Scene.TALK6204()
    -- 往書房
    Scene.ChangeMap(164, 8, 36, 5)
end

function Scene.TALK6205()
    -- 書房往大廳
    Scene.ChangeMap(163, 57, 20, 2)
end

function Scene.TALK6297()
    -- 悟緣在白家
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS5914')) -- ESS=師叔，我會保護好白大人。
end

function Scene.TALK6298()
    -- 金吾軍的對話
    if GameFunc.GetFlag(515) then goto T6298 end
    GameFunc.FlagOn(515)
    ESC.Caption(1020)
    Scene.Print_W(Const.TOWN,9005,16,6,StringDB('ESS5915')) -- ESS=這些強盜真是無法無天，竟然到官員家虜人勒...
    ESC.WaitDLG(Const.TOWN)
    ESC.SceneBreak()
::T6298::
    GameFunc.FlagOff(515)
    ESC.Caption(1020)
    Scene.Print_W(Const.TOWN,9005,18,6,StringDB('ESS5916')) -- ESS=現在犯罪的情況越來越重，真不曉得那些高官...
    ESC.WaitDLG(Const.TOWN)
end

function Scene.TALK6299()
    -- 在白家的王思月
    -- 王思月（哭）：
    if GameFunc.GetFlag(509) then goto T6299A end -- 離山回來後
    if GameFunc.GetFlag(513) then goto T6299 end
    GameFunc.FlagOn(513)
    Scene.MAIN_TALKS_2(1, 9, 33, StringDB('ESS5917')) -- ESS=王姑娘，我與白先生去一趟皇宮，調查黃雷的...
    Scene.MAIN_TALKS_1(39, 11, 6, StringDB('ESS5918')) -- ESS=……嗯，謝謝你們……。
    ESC.SceneBreak()
::T6299::
    Scene.MAIN_TALKS_1(39, 11, 2, StringDB('ESS5919')) -- ESS=……爹……娘！
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5920')) -- ESS=別太難過，妳一向很堅強，別讓妳在天的家人...
    Scene.MAIN_TALKS_1(39, 11, 6, StringDB('ESS5921')) -- ESS=…嗯。
    ESC.SceneBreak()
::T6299A::
    Scene.MAIN_TALKS_1(39, 11, 0, StringDB('ESS5922')) -- ESS=賽特大哥，你安心去辦你的事，我會照顧白大...
    Scene.MAIN_TALKS_2(1, 9, 1, StringDB('ESS5923')) -- ESS=麻煩你了。
end

function Scene.TALK6300()
    -- 白連儀
    if GameFunc.GetFlag(512) then goto T6300F end -- 兇殺案發生後
    if GameFunc.GetFlag(511) then goto T6300E end -- 發生兇殺案後第一次對話
    if GameFunc.GetFlag(7089) then goto T6300H_1 end -- 離山回來後重複對話
    if GameFunc.GetFlag(509) then goto T6300H end-- 離山回來後
    if GameFunc.GetFlag(504) then goto T6300D end-- 到皇宮
    if GameFunc.GetFlag(503) then goto T6300G end -- 帶王思月來
    if GameFunc.GetFlag(481) then goto T6300C end
    if GameFunc.GetFlag(480) then goto T6300B end
    if GameFunc.GetFlag(471) then goto T6300A end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(471) -- 第一次與白連儀對話
    Scene.MoveHero(36, 20, 2)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5924')) -- ESS=真是奇怪……%N我家讓客人自由進出，%N...
    -- 賽特(疑)：
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5925')) -- ESS=什麼是蠻子？
    ESC.TakeActData(31, -1, 0, 5)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5926')) -- ESS=嗯……，%N你聽得懂中文？
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5927')) -- ESS=不是很熟，蠻子是怎麼解釋？
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5928')) -- ESS=哈哈哈……%N毫無文化修養的外地人，%N...
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS5929')) -- ESS=原來是罵人的話啊……
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5930')) -- ESS=真是抱歉，我失禮了，%N最近為皇帝寵愛%...
    Scene.MAIN_TALKS_4(1, 9, 32, StringDB('ESS5931')) -- ESS=你們皇帝會寵愛無文化修養的外地人，安祿山...
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5932')) -- ESS=哈哈哈！%N不是，不是，當然不是。%N寵...
    --  賽特（笑）：
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS5933')) -- ESS=原來如此。%N一般帝王不都這樣？
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5934')) -- ESS=唉～%N一般帝王也都是這樣墮落下去的。
    ESC.AddHeadSign(31, 1)
    ESC.Delay(1200)
    ESC.DelHeadSign(31)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5935')) -- ESS=對了，%N你是哪位？%N來我家有事嗎？
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5936')) -- ESS=您就是老白嗎？我叫做賽特，來自法蘭克王國...

    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5937')) -- ESS=什麼老白！？%N我叫做白連儀！！%N老白...
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS5938')) -- ESS=對不起，%N我朋友都是這樣叫您的。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5939')) -- ESS=嘿！%N剛才叫你蠻子，還真當起蠻子來了。...
    Scene.MAIN_TALKS_4(1, 9, 28, StringDB('ESS5940')) -- ESS=是的，白連儀。
    --  白連儀（愁）：
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5941')) -- ESS=……你是我長輩才能樣對我呼名道姓。
    Scene.MAIN_TALKS_4(1, 9, 30, StringDB('ESS5942')) -- ESS=中國話真的很難學，%N那我該如何稱呼您？...
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5943')) -- ESS=叫我白先生就好了。
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS5944')) -- ESS=知道了，白先生。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5945')) -- ESS=你說你來自法蘭克？%N我沒聽過法蘭克是哪...
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5946')) -- ESS=那是在西邊……比大食還遠的國家。%N慧彥...
    ESC.AddHeadSign(31, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(31)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5947')) -- ESS=慧彥！？%N這老小子一去幾年沒消息，%N...
    ESC.TakeActData(1, 98, 29, 0)

    Scene.OpenGlassDown(11)
    Scene.AddPicture4(1, 10)
    Scene.Glass_SRC2(1, StringDB('ESS5948')) -- ESS=狀況還不錯吧？……
    Scene.ChangeFace(1, 10, 20 ) -- 換臉
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(00, 00, 0x4000)
    ESC.TakeActData(1, 1, 0, 2)
    Scene.Glass_SRC2(1, StringDB('ESS5949')) -- ESS=不過肉體已經死了。
    Scene.DelPicture(1, 20)
    Scene.CloseGlassDown()

    ESC.StoryMusic(100, 100, 0x4000)

    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5950')) -- ESS=什什什…什麼？%N你說什麼？%N再說一次...
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS5951')) -- ESS=他死後過的還不錯。
    ESC.ChangeQQ(31, Const.WALK)
    ESC.SetRoleSpeed(31, 10)
    ESC.BatchMove2(1,    31, 30, 23, -1, 0, 6)
    Scene.MAIN_TALKS_2(31, 11, 0, StringDB('ESS5952')) -- ESS=等一下，讓我理一下頭緒。
    ESC.ChangeQQ(31, Const.WALK)
    ESC.SetRoleSpeed(31, 10)
    ESC.BatchMove2(1,    31, 30, 19, -1, 0, 5)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5953')) -- ESS=你是說我有生之年見不著他了？
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5954')) -- ESS=是如此。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5955')) -- ESS=慧彥是怎麼死的？
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5956')) -- ESS=在怛羅斯的戰場上為阻止阿拉伯和唐軍大戰犧...
    --  （白連儀拍書）
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5957')) -- ESS=為國犧牲！這才是男兒本色。%N他根本不適...
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS5958')) -- ESS=你們現在好像有不少奸臣，%N像我就有見過...
    Scene.OpenGlassUp(11)
    Scene.AddPicture3(31, 1)
    Scene.Glass_SRC1(31, StringDB('ESS5959')) -- ESS=黃雷？%N他只是個驕傲的瘋子，%N奸臣的...
    Scene.Glass_SRC1(31, StringDB('ESS5960')) -- ESS=現在最惡的是楊貴妃的堂哥%C2楊國忠%C...
    Scene.DelPicture(31, 1)
    Scene.CloseGlassUp()

    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS5961')) -- ESS=這樣啊……%N可是慧彥也算是是被黃雷害死...
    ESC.AddHeadSign(31, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(31)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5962')) -- ESS=什麼！？這老小子……或許我小看了他。這我...
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS5963')) -- ESS=哪裏，%N初次來到貴國，還要請您照顧。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5964')) -- ESS=別客氣，你是慧彥的朋友，也就是我的朋友，...
    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS5965')) -- ESS=這些書不都是寶物？%N您卻連門都不關，要...
    --  白連儀(笑)：
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5966')) -- ESS=呵！呵！%N懂得這些書的人，如果會來偷書...
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5967')) -- ESS=……真不敢相信。%N哪麼，我就在這打擾了...
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(00, 00, 0x4000)
    ESC.Delay(600)
    -- 在白連儀家住下來
    ESC.FadeScreen(0, 0, 0, -30, -30, -30 , 35)
    ESC.FadeWait()
    ESC.Delay(1000)
    ESC.TakeActData(1, 98, 67, 0)
    ESC.Progress_Off()
    ESC.GotoMap(165 , 31, 18, 98, 67, 0)
    ESC.ScreenShow()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 45)
    ESC.FadeWait()
    ESC.Delay(3000)
    Scene.Nicole_On(36, 18, 6)
    Scene.MAIN_TALKS_1(2, 3, 44, StringDB('ESS5968')) -- ESS=賽特，這個唐國好像有很多新奇的東西，明天...
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS5969')) -- ESS=妳自己去吧，我要多看點書。
    Scene.MAIN_TALKS_1(2, 3, 28, StringDB('ESS5970')) -- ESS=真是無聊！
    Scene.Nicole_Off()
    ESC.Delay(600)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 45)
    ESC.FadeWait()
    ESC.ChangeRoleMap(31 , 164, 0 , 28 , 32 , -1 , 8 , 0)
    ESC.RoleMove(1, 28, 17)
    ESC.Progress_Off()
    ESC.GotoMap(164 , 28, 17, 98, 66, 0)
    ESC.StoryMusicOff()
    ESC.ScreenShow()
    ESC.FadeScreen(-30 , -30, -30, 0, 0, 0 , 45)
    ESC.FadeWait()
    ESC.ChangeQQ(31, Const.WALK)
    ESC.SetRoleSpeed(31, 2)
    ESC.BatchMove2(1,    31, 36, 20, -1, 0, 2)
    Scene.MAIN_TALKS_4(31, 11, 0, StringDB('ESS5971')) -- ESS=你們法蘭克的人都這麼好學嗎？%N真難得呀...
    ESC.TakeActData(1, 1, 0, 5)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS5972')) -- ESS=我是東方民族的混血兒，%N法蘭克人的膚色...
    Scene.MAIN_TALKS_4(31, 11, 0, StringDB('ESS5973')) -- ESS=這樣啊……也難怪你想往東方來了。%N要不...
    Scene.MAIN_TALKS_3(1, 9, 13, StringDB('ESS5974')) -- ESS=我主君待我不錯，%N現在他們內憂外患的時...
    Scene.MAIN_TALKS_4(31, 11, 0, '%S5'..StringDB('ESS5975')) -- ESS=唉～%N%S0若安祿山像你一樣有心，%N...
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS5976')) -- ESS=對了！%N您知道%C2少林寺%C5在那兒...
    Scene.MAIN_TALKS_4(31, 11, 0, StringDB('ESS5977')) -- ESS=喔，%N那個功夫很好的少林寺啊，%N很遠...
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS5978')) -- ESS=我跟慧彥約好，%N要把他的舍利子送回去。...
    Scene.MAIN_TALKS_4(31, 11, 0, StringDB('ESS5979')) -- ESS=嗯，慧彥是%C2少林寺%C5的和尚。%N...
    Scene.MAIN_TALKS_3(1, 9, 19, StringDB('ESS5980')) -- ESS=我事情辦完我就回來。
    Scene.SAR_TurnFace(31, 1)
    GameFunc.FlagOn(7068) -- 設可進入少林寺
    ESC.RoleEnable(40) -- 設悟緣出現
    ESC.ChangeDIR(40, 5)
    ESC.ChangeScript(40, 'TALK6200')
    Scene.SAR_CSEL(359, 0)
    ESC.RoleDisable(4618) -- 將少林寺大門去掉
    GameFunc.FlagOff(10)
    Scene.QuestOff(296)
    Scene.QuestOn(297)
    ESC.SceneBreak()
::T6300A::
    GameFunc.FlagOn(480)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5981')) -- ESS=我注意到一件事，%N你怎麼一直帶著那個瓷...
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS5982')) -- ESS=這是我的寶物，名叫煉妖壺，從我故鄉帶來的...
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5983')) -- ESS=哦？%N可是我看它像是中國製的。
    Scene.MAIN_TALKS_4(1, 9, 20, StringDB('ESS5984')) -- ESS=它是怎麼流到我們國家我是不知道，%N這是...
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5985')) -- ESS=哈哈哈！！%N這也是緣分吧！
    ESC.SceneBreak()
::T6300B::
    GameFunc.FlagOn(481)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5986')) -- ESS=在書房待太久也不好，%N出去走走可以鍛鍊...
    ESC.SceneBreak()
::T6300C::
    GameFunc.FlagOff(481)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5987')) -- ESS=啊！我也想像慧彥那老小子一樣，雲遊四海，...
    ESC.SceneBreak()
::T6300D::
    GameFunc.FlagOn(505)
    GameFunc.FlagOn(10)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5988')) -- ESS=王大善人家的後事處理，已經告一段落，你可以不用擔心了。
    Scene.MAIN_TALKS_4(1, 9, 28, StringDB('ESS5989')) -- ESS=把麻煩事帶給您，真是過意不去……
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5990'),1) -- ESS=別介意，這也是緣分。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5990b'),2) -- ESS=另外，之前我跟皇上閒聊時，他聽說了你的事，想見見你。
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS5991')) -- ESS=皇帝要見我？
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5991b')) -- ESS=皇上就是喜歡新奇的事物，反正也沒壞處，要去嗎？
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS5991c')) -- ESS=當然，我也很感興趣。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5992')) -- ESS=好，我還有些公事要處理，你可以先到%C2長安城內北邊%C5的皇宮門外等我。
    ESC.ChangeQQ(31, Const.WALK)
    ESC.SetRoleSpeed(31, 3)
    ESC.BatchMove2(1,    31, 41, 41, -1, 0, 1)
    ESC.RoleDisable(31)
    ESC.ChangeRoleMap(39, 164, 0, 37, 19, -1, 0, 1)
    ESC.ChangeScript(39, 'TALK6299')
    Scene.SAR_TurnFace(39, 1)
    GameFunc.FlagOff(10)


    Scene.QuestOn(110)
    ESC.SceneBreak()
::T6300E::
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(512)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 2 , 0xD100)
    Scene.BattleSupportOff(40) -- 悟緣
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 87, 42, 1, 0, 7,
    40, 94, 42, 40, 0, 4)
    ESC.ChangeDIR(31, 5)
    Scene.MAIN_TALKS_2(1, 9, 33, StringDB('ESS5993')) -- ESS=白先生，怎麼回事。
    -- 白連儀(沉痛)
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS5994')) -- ESS=有一群黑衣服的衝進來，殺了老僕，幸虧慧榮...
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS5995')) -- ESS=這人很可能是黑壇教的。
    Scene.MAIN_TALKS_3(31, 11, 0, StringDB('ESS5996')) -- ESS=我在屍首上找到一張紙條。%N上面寫著：拿...
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS5997')) -- ESS=那是……是黑壇教，衝著我來的....%N...
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS5998')) -- ESS=這些惡人不能放著不管，我跟你去！
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS5999')) -- ESS=太師父，那我……
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS6000')) -- ESS=怕那些惡人再來，你在這留守，保護白大人。...
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6001')) -- ESS=是，知道了。
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6002')) -- ESS=白先生，連累到你很抱歉。
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6003')) -- ESS=這是整個中國情勢如此，要怪我做官的不夠努...
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS6004')) -- ESS=是，那我去了。
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS6005')) -- ESS=洛陽%C5有一個%C2道觀%C5很可疑，...
    Scene.BattleSupportOn(34) -- 慧榮
    GameFunc.FlagOff(10)
    ESC.AddParty(34)
    ESC.ChangeScript(40, 'TALK6297')
    Scene.SAR_TurnFace(40, 1)
    Scene.QuestOff(113)
    Scene.QuestOn(114)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.SceneBreak()
::T6300F::
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6006')) -- ESS=你得趕快救出王姑娘。
    ESC.SceneBreak()
::T6300G::
    GameFunc.FlagOn(504)
    GameFunc.FlagOn(10)
    ESC.RemoveParty(39 , 0 , '' , 39, 8, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeDIR(31, 1)
    ESC.BatchMove2(2,
    1, 35, 26, -1, 0, 7,
    39, 42, 26, -1, 0, 4)


    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6007')) -- ESS=白先生，這是我的朋友王思月姑娘。
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS6008')) -- ESS=白大人好。
    ESC.TurnFace(31, 1)
    -- 白連儀(笑)：
    Scene.MAIN_TALKS_1(31, 11, 0, StringDB('ESS6009')) -- ESS=賽特！%N怎麼這麼快就交個長安姑娘。
    Scene.OpenGlassDown(9)
    Scene.AddPicture2(1, 17)
    Scene.Glass_SRC2(1, StringDB('ESS6010')) -- ESS=白先生，您誤會了。
    Scene.Glass_SRC2(1, StringDB('ESS6011')) -- ESS=王姑娘一家都被黃雷害死了，現在孤苦無依，...
    Scene.CloseGlassDown()
    Scene.DelPicture(1, 17)

    Scene.MAIN_TALKS_1(31, 11, 0, StringDB('ESS6012')) -- ESS=什麼！？這可是很嚴重的，發生了什麼事？
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6012b')) -- ESS=詳情是這樣的……

    ESC.MusicFadeMode(2, 45)            --【吳0622】
    ESC.StoryMusic(311, 311, 0x2000)    --【吳0622】長安月下

    Scene.ScreenSubtitle(StringDB('ESS6012c')) -- ESS=敘述了王家事情的經過……
    ESC.ChangeDIR(31, Const._DOWN)
    Scene.ScreenSubtitleClose()


    --Scene.OpenGlassUp(11)
    --Scene.AddPicture1(31, 0)
    Scene.MAIN_TALKS_1(31, 11, 0, StringDB('ESS6012d'),1) -- ESS=原來如此……我了解了。



    Scene.MAIN_TALKS_1(31, 11, 0, StringDB('ESS6012e'),2) -- ESS=王大善人的善行也是很出名的，不應該有此遭遇，我會盡全力幫忙。妳就安心住下來吧。
    --Scene.Glass_SRC1(31, StringDB('ESS6012d')) -- ESS=原來如此……我了解了。
    --Scene.Glass_SRC1(31, StringDB('ESS6012e')) -- ESS=王大善人的善行也是很出名的，不應該有此遭遇，我會盡全力幫忙。妳就安心住下來吧。
    Scene.CloseGlassUp()
    Scene.DelPicture(31, 0)
    Scene.MAIN_TALKS_4(39, 11, 6, StringDB('ESS6012g')) -- ESS=……這，非常感謝白大人的厚意，小女子感激不盡。
    Scene.MAIN_TALKS_1(31, 11, 0, StringDB('ESS6012j')) -- ESS=唉，後事都交給我處理吧，願王大善人家都能安息。

    --ESC.ChangeRoleMap(322, 163, 0, 40, 40, 552, 0, 0)
    --ESC.RoleEnable(322)
    --ESC.ChangeQQ(322, Const.WALK)
    --ESC.BatchMove2(1,    322, 40, 28, -1, 0, 4)

    --ESC.Caption(1029)
    --Scene.Print_W(322,9005,12,4,StringDB('ESS6013')) -- ESS=老爺！%N有甚麼吩咐？
    --ESC.WaitDLG(322)

    --ESC.TurnFace(31, 322)
    --ESC.FitSize()
    --Scene.AutoPrint_C(31, StringDB('ESS6014')) -- ESS=帶王姑娘到客房。

    --Scene.Print_W(31,9005,14,6,StringDB('ESS6015')) -- ESS=還有，%N從今以後，%N晚上要關大門。
    --ESC.WaitDLG(31)
    --ESC.FitSize()
    --Scene.AutoPrint_C(39, StringDB('ESS6016')) -- ESS=謝謝白大人！

    --ESC.Caption(1029)
    --ESC.FitSize()
    --Scene.Print_W(322,9005,8,4,StringDB('ESS6017')) -- ESS=王姑娘，這邊請。
    --ESC.WaitDLG(322)
    --ESC.ChangeQQ(322, Const.WALK)
    --ESC.ChangeQQ(39, Const.WALK)
    --ESC.SetRoleSpeed(322, 2)
    --ESC.SetRoleSpeed(39, 1)

    --  （王思月隨著僕人離開）
    --[[
    ESC.SetPos(322, 39, 40)
    ESC.SetPos(39, 41, 40)
::T6300G_3::
    ESC.BatchStep( 2,   322, 39)
    if not ESC.RoleReach(322) then goto T6300G_1 end
    ESC.RoleDisable(322)
::T6300G_1::
    if not ESC.RoleReach(39) then goto T6300G_2 end
    ESC.RoleDisable(39)
::T6300G_2::
    if not ESC.IsAllReach() then
        goto T6300G_3
    end
    ESC.TurnFace(31, 1)
    Scene.MAIN_TALKS_2(1, 9, 37, StringDB('ESS6018')) -- ESS=白先生，%N我希望能查出黃雷的居所。
    Scene.OpenGlassUp(11)
    Scene.AddPictureUp(31)
    Scene.Glass_SRC1(31, StringDB('ESS6019')) -- ESS=這事我會盡全力幫忙。

    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,20,32,8,'%S0%C5'..StringDB('ESS6020')) -- ESS=黃雷是少府監，也是做官的，明早去宮中問問...
    ESC.WaitDLG(1)
    Scene.CloseGlassUp()
    ESC.DelHead(10031, 0)
    --]]

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 30)
    ESC.FadeWait()
    ESC.MBWait()
    ESC.GotoMap(165 , 31, 18, 98, 67, 0)
    GameFunc.FlagOn(19) -- 探照燈打開
    ESC.RoleEnable(39)
    ESC.ChangeRoleMap(39, -1, 0, 19, 31, -1, 8, 0)
    Scene.ScrollMapD(16, 3, 4, 4)
    ESC.ScrollMapWait()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()
    ESC.BatchMove2(1,    39, 37, 19, -1, 0, 2)

--阿強20230619【王思月告白被拒】換劇情音樂（311長安月下）

    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS6021')) -- ESS=賽特大哥！
    ESC.TakeActData(1, 1, 0, 3)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6022')) -- ESS=王姑娘，有甚麼事。
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS6023')) -- ESS=不要叫我王姑娘，叫我思月。
    Scene.MAIN_TALKS_3(1, 9, 21, StringDB('ESS6024')) -- ESS=這樣叫妳別人會誤會，%N上次白先生才教訓...
    Scene.MAIN_TALKS_4(39, 11, 14, StringDB('ESS6025')) -- ESS=賽特！你在家鄉是不是成親了？

    Scene.Nicole_On(41+1, 17-1, 6)
    Scene.MAIN_TALKS_1(2, 3, 12, StringDB('ESS6026')) -- ESS=．．．．．這小姑娘！
    Scene.Kama_On(39+1, 16-1, 6)
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS6027')) -- ESS=妮可，%N慢慢聽下去呀！
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6028')) -- ESS=沒有，我一直是一個人，還有一些朋友。
    --ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(97, 97, 0x4000)
    Scene.MAIN_TALKS_4(39, 1, 1, StringDB('ESS6029')) -- ESS=那賽特你可不可以.....
    --[[
    Scene.OpenGlassDown(11)
    Scene.AddPicture4(39, 1)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,'%C5'..StringDB('ESS6029')) -- ESS=那賽特你可不可以.....
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 2)
    ESC.BatchMove2(1,    39, 37+3, 19+3, -1, 0, 5)
    ESC.WaitDLG2(10001)
    ESC.DLGClose(10001)
    Scene.DelPicture(39, 1)
    Scene.CloseGlassDown()
    --]]
    ESC.TurnFace(1, 39)
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6030')) -- ESS=可不可以什麼？
    ESC.TurnFace(39, 1)
    Scene.MAIN_TALKS_4(39, 11, 6, StringDB('ESS6031')) -- ESS=可不可以娶了我吧！%N我可以幫你不少忙！...
    ESC.AddHeadSign(1, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS5849')) -- ESS=這……
    Scene.MAIN_TALKS_1(2, 3, 22, StringDB('ESS6032')) -- ESS=真厚臉皮！
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6033')) -- ESS=我恐怕無法讓你過著幸福的日子。
    --  王思月(快哭的樣子)：
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 1)
    ESC.BatchMove2(1,    39, 37, 19, -1, 0, 2)
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_4(39, 11, 6, StringDB('ESS6034')) -- ESS=賽特！%N你是討厭我嗎？
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS6035')) -- ESS=我不是這個意思。
    ESC.ChangeDIR(39, 2)
    Scene.MAIN_TALKS_4(39, 11, 14, StringDB('ESS6036')) -- ESS=不是這個意思，是甚麼意思。
    Scene.MAIN_TALKS_3(1, 9, 13, StringDB('ESS6037')) -- ESS=我還要回鄉，不能帶著你東奔西跑。
    Scene.MAIN_TALKS_4(39, 11, 2, StringDB('ESS6038')) -- ESS=反正我也無家可歸了！我不在乎要東奔西跑。...
    Scene.MAIN_TALKS_3(1, 11, 21, StringDB('ESS6039')) -- ESS=除了這裏以外，世界上沒有一個地方可以讓你...
    --  王思月(哭)：
    Scene.MAIN_TALKS_4(39, 11, 2, StringDB('ESS6040')) -- ESS=那我不如去追隨我父母到黃泉之下。
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS6041')) -- ESS=孟子曰：天降大任於斯人也.....%N這...
    Scene.MAIN_TALKS_4(39, 11, 6, StringDB('ESS6042')) -- ESS=那跟著你將會是最好的磨練。%N有你的保護...
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6043'),1)-- ESS=(中國書沒讀得她多，果然說不過。) %P...
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6043B'),2) -- ESS=咱們認識的時間也不長，我也不是急著要離開，不急著下決定。
    -- 王思月此時輕輕吟唱一首詩，眼框有著淚水。

    ESC.ChangeDIR(1, 5)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 2)
    ESC.BatchMove2(1,    39, 37+1, 19+1, -1, 0, 5)
    ESC.Delay(600)

    Scene.MAIN_TALKS_4(39, 1 , 0, StringDB('ESS6044')) -- ESS=世事難預料　人間起波瀾%N天寶紛亂生　開...

    ESC.MusicFadeMode(2, 45)            --【吳0622】

    --[[
    Scene.OpenGlassDown(11)
    Scene.AddPicture4(39, 1)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,'%C5'..StringDB('ESS6044')) -- ESS=世事難預料　人間起波瀾%N天寶紛亂生　開...
    ESC.WaitDLG2(10001)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    Scene.DelPicture(39, 1)
    Scene.CloseGlassDown()
    --]]
    ESC.MBWait()
    ESC.DLGClose(10001)
    ESC.Delay(2000)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 1)
    ESC.FadeWait()

    ESC.RoleDisable(2)
    ESC.RoleDisable(8)
    ESC.ChangeDIR(31, 1)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    GameFunc.FlagOff(19) -- 探照燈關閉
    ESC.GotoMap(164 , 31, 18, 1, 0, 3)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 30)
    ESC.FadeWait()
    GameFunc.FlagOff(10)
    Scene.QuestOff(109)
    ESC.ChangeScript(99, 'TALK2311')
    ESC.ChangeScript(96, 'TALK2312')
    ESC.ChangeScript(97, 'TALK2313')
    ESC.ChangeScript(98, 'TALK2313')

    ESC.SceneBreak()
::T6300H::
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6045')) -- ESS=唉，昨天在驪山本來要告黃雷一狀，沒想到文...
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS6046')) -- ESS=嗯，那個時候沒有人有心談公事，這也沒辦法...

    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6047')) -- ESS=有生以來以來第一次溺酒，到現在頭都還在昏...
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS6048')) -- ESS=白先生您還是多保重，黃雷我有查出他的落腳...

    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6049')) -- ESS=唉，年輕氣盛，為了王姑娘，可別輕易送命啊...
    Scene.MAIN_TALKS_4(1, 9, 18, StringDB('ESS6050')) -- ESS=是的！白先生，這我知道。%N(糟糕，白先...
    GameFunc.FlagOn(7089)
    ESC.SceneBreak()
::T6300H_1::
    Scene.MAIN_TALKS_3(31, 11, 1, StringDB('ESS6047')) -- ESS=有生以來以來第一次溺酒，到現在頭都還在昏...
end

function Scene.TALK6301()
    -- 王思月家,大門入口
    Scene.ChangeMap(7, 113, 89, 1)
end

function Scene.TALK6302()
    --  進屋子去
    if not GameFunc.GetFlag(517) then
        ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
        ESC.FadeWait()
        ESC.GotoMap(311, 29, 38, 1, 0, 7)
        ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
        ESC.FadeWait()
        return
    end
    -- goto TESTANIM
    GameFunc.FlagOn(518)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(311, 29, 38, 1, 0, 7)
    ESC.ChangeRoleMap(34, 311, 0, 28, 35, 34, 0, 7)
    ESC.ChangeRoleMap(39, 311, 0, 43, 28, 39, 0, 6)
    ESC.ChangeRoleMap(40, 311, 0, 33, 37, 40, 0, 7)
    ESC.ChangeRoleMap(322, 311, 0, 39, 26, 520, 0, 6)
    ESC.RoleEnable(34)
    ESC.RoleEnable(39)
    ESC.RoleEnable(40)
    ESC.RoleEnable(322)

    --ESC.StoryMusic(102, 124, 0x2000)  --【吳0620】循環功能測試

    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    Scene.ScrollMapD(20, 12, 4, 4)
    ESC.ScrollMapWait()
    ESC.Caption(1016)
    Scene.Print_W(322,9005,16,8,StringDB('ESS6051')) -- ESS=真感謝你們把小月送回來，今晚您一定得留下...
    ESC.WaitDLG(322)
    Scene.AutoPrint_C(34, StringDB('ESS6052')) -- ESS=還有一些問題要勞煩令嬡，只好卻之不恭了。...
    ESC.Caption(1016)
    Scene.Print_W(322,9005,16,8,StringDB('ESS6053')) -- ESS=這麼說您是答應了，這麼多年來，這還是第一...
    ESC.WaitDLG(322)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 30)
    ESC.FadeWait()
    ESC.ScreenHide()

    -- ESC.MusicFadeMode(2, 20)
    ESC.MusicFadeMode(1, 0)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    MediaFunc.PlaySound(349)

    Scene.Print_SL(1,9009,240,220,2*14,6,'%S5%C5'..StringDB('ESS6054')) -- ESS=夜裏……

    ESC.StoryMusic(311, 311, 0x2000)    --【吳0620】劇情音樂 長安月下


    ESC.WaitDLG3(1)
    ESC.Delay(600)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.Progress_Off()
    ESC.GotoMap(312, 43, 28, 98, 31, 0)
    MediaFunc.PlaySound(349)
    --ESC.StoryMusic(96, 96, 0x4000)
    ESC.ChangeRoleMap(34, 312, 0, 32, 25, 34, 61, 0)
    ESC.ChangeRoleMap(39, 312, 0, 39, 33, 39, 60, 0)
    ESC.ChangeRoleMap(40, 312, 0, 28, 29, 40, 61, 0)
    ESC.ChangeRoleMap(322, 312, 0, 39, 19, 520, 52, 0)
    ESC.ChangeRoleMap(321, 312, 0, 45, 20, 520, 53, 0)
    ESC.Z_High(322)
    Scene.SAR_TurnFace(34 , 0)
    Scene.SAR_TurnFace(40 , 0)
    Scene.SAR_TurnFace(322, 0)
    Scene.SAR_TurnFace(321, 0)
    ESC.RoleEnable(321)
    Scene.ScrollMapD(20, 13, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()

    --ESC.StoryMusic(0, 0, 0x2000)  --【吳0620】劇情音樂 無聲，只有音效

    Scene.M_PrintW_C(34, 4, 4, StringDB('ESS6055')) -- ESS=原來如此，都是那外國傳教士搞鬼。
    ESC.Caption(1016)

    --ESC.StoryMusic(136, 136, 0x2000)  --【吳0620】劇情音樂

    Scene.Print_W(322,9005,16,8,StringDB('ESS6056')) -- ESS=好險呀，多虧兩位年輕人救了小女。我一定要...
    ESC.WaitDLG(322)

    ESC.Caption(1015)
    Scene.Print_W(321,9005,10,6,StringDB('ESS6057')) -- ESS=對對對，%N一定要好好謝謝他們。
    ESC.WaitDLG(321)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,18,6,StringDB('ESS6058')) -- ESS=幫年輕和尚蓋一間寺廟，幫大俠蓋一間華宅怎...
    ESC.WaitDLG(322)

    Scene.M_PrintW_C(34, 5, 2, StringDB('ESS6059')) -- ESS=王施主，這怎麼可以！
    Scene.Print_W(34,9005,14,8,StringDB('ESS6060')) -- ESS=當年我們就不知道拒絕你幾次了，義行是不能...
    ESC.WaitDLG(34)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,8,4,StringDB('ESS6061')) -- ESS=我知道！我知道！
    ESC.WaitDLG(322)
    Scene.Print_W(322,9005,14,8,StringDB('ESS6062')) -- ESS=我只是個商人，除了錢，%N真的沒什麼可以...
    ESC.WaitDLG(322)
    Scene.Print_W(322,9005,10,8,StringDB('ESS6063')) -- ESS=不過這位大俠不是少林寺的人，意下如何啊？...
    ESC.WaitDLG(322)

    Scene.M_PrintW_C(40, 8, 4, StringDB('ESS6064')) -- ESS=太師父，王老爺！%N賽特師叔不是外人，他...
    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.Caption(1016)
    ESC.Print_S(322,9005,StringDB('ESS6065')) -- ESS=什麼！！
    ESC.FitSize()
    Scene.AutoPrint_C(34, StringDB('ESS6065')) -- ESS=什麼！！
    ESC.DLGClose(322)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,10,8,StringDB('ESS6066')) -- ESS=難怪氣宇非凡，我就知道大俠非等閒之輩！！...
    ESC.WaitDLG(322)

    Scene.Print_W(322,9005,8,6,StringDB('ESS6067')) -- ESS=慧彥可也是一代宗師呢！
    ESC.WaitDLG(322)

    Scene.M_PrintW_C(34, 5, 4, StringDB('ESS6068')) -- ESS=慧彥呢？%N他說去天竺取經，難道也回來了...


    --ESC.StoryMusic(116, 116, 0x2000)  --【吳0620】劇情音樂 慧彥

    ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(100, 100, 0x4000)
    Scene.M_PrintW_C(1, 6, 4, StringDB('ESS6069')) -- ESS=慧彥法師為了阻擋大食聯軍進入中國，在怛羅...

    ESC.FitSize()
    ESC.DLGNoCloseKey()
    ESC.Caption(1016)
    ESC.Print_S(322,9005,StringDB('ESS6065')) -- ESS=什麼！！
    ESC.FitSize()
    Scene.AutoPrint_C(34, StringDB('ESS6065')) -- ESS=什麼！！
    ESC.DLGClose(322)

    Scene.M_PrintW_C(40, 4, 4, StringDB('ESS6070')) -- ESS=賽特師叔已經把舍利子送回。
    --  （王老爺哭起來）
    Scene.M_PrintW_C(34, 7, 2, StringDB('ESS6071')) -- ESS=阿彌陀佛～%N唉～慧彥大師！

    ESC.Caption(1016)
    Scene.Print_W(322,9005,12,6,StringDB('ESS6072')) -- ESS=我…%N我要幫他蓋一間忠烈祠！
    ESC.WaitDLG(322)

    ESC.FitSize()
    Scene.AutoPrint_C(39, StringDB('ESS6073')) -- ESS=爹又說要蓋廟了!!

    Scene.M_PrintW_C(34, 9, 4, StringDB('ESS6074')) -- ESS=唉！這都是那些奸臣干政，亂象叢生，慧彥也...

    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS6075')) -- ESS=據慧彥所說，是唐現在背離王道的關係…

    Scene.M_PrintW_C(34, 9, 3, StringDB('ESS6076')) -- ESS=是啊……才死了個奸臣李林甫，又上來一個楊國忠。

    ESC.Caption(34)
    Scene.Print_W(34,9005,10,6,StringDB('ESS6077')) -- ESS=還有給安祿山當官……。
    ESC.WaitDLG(34)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,10,4,StringDB('ESS6078')) -- ESS=皇帝也沒心管政治。
    ESC.WaitDLG(322)

    Scene.M_PrintW_C(39, 6, 4, StringDB('ESS6079')) -- ESS=更糟的是，%N安祿山還身任節度使。

    Scene.M_PrintW_C(1, 4, 3, StringDB('ESS6080')) -- ESS=節度使的兵權到底有多大？
    Scene.M_PrintW_C(40, 7, 4, StringDB('ESS6081')) -- ESS=視情況，%N目前全國三分之一的兵力掌握在...
    ESC.AddHeadSign(1, 0)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6082')) -- ESS=三分之一？？
    ESC.DelHeadSign(1)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,10,8,StringDB('ESS6083')) -- ESS=這時只要他有心叛變，而且實際行動的話……...
    ESC.WaitDLG(322)

    ESC.FitSize()
    Scene.AutoPrint_C(40, StringDB('ESS6084')) -- ESS=大唐可能就這麼完了。

    Scene.M_PrintW_C(34, 5, 3, StringDB('ESS6085')) -- ESS=我想去上諫皇上，可惜沒門路。

    ESC.Caption(1016)
    Scene.Print_W(322,9005,10,8,StringDB('ESS6086')) -- ESS=我可以用金錢買通那些官員，或許可以辦到。...
    ESC.WaitDLG(322)

    Scene.M_PrintW_C(34, 7, 4, StringDB('ESS6087')) -- ESS=嗯，%N雖然行賄不是好事，但現在也不得不...

    Scene.Print_W(34,9005,10,4,StringDB('ESS6088')) -- ESS=這就要靠王施主了。
    ESC.WaitDLG(34)

    ESC.Caption(1016)
    Scene.Print_W(322,9005,14,4,StringDB('ESS6089')) -- ESS=沒問題！%N包在我身上！！
    ESC.WaitDLG(322)

    ESC.TakeActData(39, -1, 61, 0)
    ESC.TILPA1(39, 4)
    ESC.TakeActData(39, -1, 8, 6)
    ESC.BatchMove2(1,    39, 34, 35, -1, 0, 7)
    Scene.M_PrintW_C(39, 7, 3, StringDB('ESS6090')) -- ESS=我出去透透氣，賽特大哥要不要一起來？
    ESC.Caption(1016)
    Scene.Print_W(322,9005,14,8,StringDB('ESS6091')) -- ESS=嗯，%N國家大事用不著我女兒擔心，請跟著...
    ESC.WaitDLG(322)
    --ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(0, 0, 0x4000)
    ESC.TakeActData(1, 98, 30, 0)
    ESC.TILPA1(1, 4)
    ESC.TakeActData(1, 1, 0, 6)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 29, 39, -1, 0, 6)
    ESC.RoleDisable(39)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 31, 40, -1, 0, 6)
    ESC.RoleHide(1)
    ESC.DLGClose(322)
    ESC.Caption(1016)
    Scene.Print_W(322,9005,12,4,StringDB('ESS6092')) -- ESS=小女似乎對大俠有好感。
    ESC.WaitDLG(322)
    ESC.FitSize()
    Scene.AutoPrint_C(34, StringDB('ESS6093')) -- ESS=哈哈哈哈……

-- ::TESTANIM::
    ESC.ChangeRoleMap(39, 313, 0, 65, 39, 39, 0, 5)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.Z_Mid(322)
    ESC.Progress_Off()

    ESC.GotoMap(313, 54, 24, 1, 0, 6)

    --ESC.StoryMusicOff()
    ESC.StoryMusic(97, 311, 0x4000)     --【吳0622】劇情音樂 長安一片月→長安月下


    ESC.RoleShow(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
    GameFunc.FlagOff(10)
    -- Scene.TALK6305()
-- end
-- function Scene.TALK6305()
    -- 爆炸前的劇情

    GameFunc.FlagOn(503) -- 爆炸
    GameFunc.FlagOn(10)
    Scene.MoveHero(61, 35, 5)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6094')) -- ESS=王姑娘，有什麼事？
    ESC.TurnFace(39, 1)
    Scene.MAIN_TALKS_4(39, 11, 4, StringDB('ESS6095')) -- ESS=賽特！%N謝謝你救我的命，這樣東西送你。...
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 63, 37, -1, 0, 4)
    Scene.GetItem(992, '%T992.')
    ESC.TakeActData(39, -1, 7, 5)
    ESC.BatchMove2(1,    39, 65, 39, 39, 0, 4)

    -- goto TESTANIM2
    ESC.WaitDLG(0)
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS6096')) -- ESS=王姑娘，%N不要這樣，%N我不是貪求你的...
    -- 王思月(撒嬌)：

    Scene.MAIN_TALKS_4(39, 11,  0, StringDB('ESS6097'),1) -- ESS=這才不是謝你救命的禮物呢！
    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6098'),3) -- ESS=投我以木瓜　報之以瓊琚%N匪報也　永以為...
    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6098B'),3) -- ESS=投我以木桃　報之以瓊瑤%N匪報也　　永以為好也
    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6098C'),2) -- ESS=投我以木李　報之以瓊玖%N匪報也　　永以為好也
    Scene.MAIN_TALKS_3(1, 9, 21, StringDB('ESS6099')) -- ESS=好像是詩經的詩，我聽不太懂，是不是交朋友...
    Scene.MAIN_TALKS_4(39, 11, 4, StringDB('ESS6100')) -- ESS=呵呵呵，是交朋友的，不過只限於男女用的。...
    Scene.MAIN_TALKS_3(1, 9, 19, StringDB('ESS6101')) -- ESS=長安的女性真的很健談。
    Scene.MAIN_TALKS_4(39, 11, 0, StringDB('ESS6102')) -- ESS=賽特大哥，你是哪裏人？從哪來？
    Scene.MAIN_TALKS_3(1, 9, 33, StringDB('ESS6103')) -- ESS=我從高盧，%N也就是你們所說的大秦西方還...
    Scene.MAIN_TALKS_4(39, 11, 14, StringDB('ESS6104')) -- ESS=哇！%N大秦是我們知道最西方的國家了耶！...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6105')) -- ESS=我是來中國找尋文化的，中國的文化真的很發...
    Scene.MAIN_TALKS_4(39, 11, 14, StringDB('ESS6106')) -- ESS=那你認為中國文化中甚麼最好呢？
    Scene.MAIN_TALKS_3(1, 9, 21, StringDB('ESS6107')) -- ESS=其他的我不知道，但我認為我的故鄉，最需要...
    Scene.MAIN_TALKS_4(39, 11, 4, StringDB('ESS6108')) -- ESS=嗯～%N賽特大哥是實際派的，我是比較喜歡...

    Scene.Nicole_On(72, 34-3, 6)
    Scene.MAIN_TALKS_4(2, 3, 28, StringDB('ESS6109')) -- ESS=賽特又在招惹別的女孩子。
    Scene.Kama_On(74, 36-3, 6)
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS6110')) -- ESS=這樣不是很好嘛！表示賽特很有女人緣呀！
    Scene.Ankh_On(77, 38-3, 6)
    Scene.MAIN_TALKS_4(11, 11, 0, StringDB('ESS6111')) -- ESS=卡瑪！你看不出小妹妹在吃醋呀！

    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6112')) -- ESS=青青子衿，悠悠我心。縱我不往，子寧不嗣音...
    Scene.MAIN_TALKS_3(1, 9, 21, StringDB('ESS6113')) -- ESS=這首我知道，是思慕賢材的詩，對不對？
    -- 王思月(失望)：
    Scene.MAIN_TALKS_4(39, 11,  6, StringDB('ESS6114')) -- ESS=....嗯....

    Scene.Lee_On(77, 40-2, 2)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6115')) -- ESS=這下賽特可弄錯了，王姑娘唱的是另外一首。...
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS6116')) -- ESS=甚麼意思？
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6117')) -- ESS=她在詢問賽特為甚麼不表達情意呢！
    Scene.MAIN_TALKS_1(2, 3, 28, '..............')

    Scene.MAIN_TALKS_4(39, 11,  0, StringDB('ESS6118'),1) -- ESS=我再唱一首%N縹有梅　　其實七兮　　%N...
    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6118B'),3) -- ESS=縹有梅　　其實三兮　　%N求我庶士　迨其今兮
    Scene.MAIN_TALKS_4(39, 11, 10, StringDB('ESS6118C'),2) -- ESS=縹有梅　　頃筐塈之　　%N求我庶士　迨其謂兮


    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6119')) -- ESS=李靖！李靖！快說說王思月唱的是甚麼意思。...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6120')) -- ESS=這首詩呀！%N大意是．．．%N只要賽特開...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6121')) -- ESS=要以身相許，來報答賽特的救命之恩？

    ESC.TakeActData(2, -1, 54, 0)
    ESC.TILPA1(2, 3)
    Scene.MAIN_TALKS_1(2, 3, 28, StringDB('ESS6122')) -- ESS=賽特一路上捻花惹草還不夠嗎？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6123')) -- ESS=妮可妹妹！別生氣！別生氣了！%N那不過是...
    ESC.TakeActData(2, -1, 0, 6)
    ESC.Unlock(2)
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6124')) -- ESS=賽特願不願意還不知道。
    -- 李靖(笑)：
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6125')) -- ESS=哈哈哈……賽特的中文才沒學多久，怎麼可能...
    Scene.MAIN_TALKS_1(2, 3, 42, StringDB('ESS6126')) -- ESS=……這個臭丫頭……太放肆了！

    ESC.StoryMusic(125, 309, 0x2000)    --【吳0619】劇情音樂 不氣味→潛行

    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6127')) -- ESS=等等，有人來了。
    --ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(0, 0, 0x4000)

--阿強20230619【黃雷出現】換劇情音樂（125不氣味）（候補308進軍）以下所有劇情音樂結束，均要恢復為地圖音樂

    ESC.Unlock(17)
    Scene.All_Off()
-- ::TESTANIM2::
    ESC.ChangeRoleMap(14, 313, 0, 30, 33, 14, 0, 5)
    ESC.RoleEnable(14)

    --ESC.StoryMusic(46, 46, 0x4000)


    Scene.MAIN_TALKS_3(14, 11, 0, StringDB('ESS6128')) -- ESS=甚麼狗屁詩............
    ESC.ChangeDIR(1, 2)
    ESC.ChangeDIR(39, 2)
    ESC.ChangeQQ(14, Const.WALK)
    ESC.BatchMove2(1,    14, 45, 33, -1, 0, 5)
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6129')) -- ESS=黃雷！
    Scene.MAIN_TALKS_3(14, 11, 1, StringDB('ESS6130')) -- ESS=全部都沒什麼屁用，肚子餓了能唱飽嗎？沒衣...
    Scene.MAIN_TALKS_4(39, 11, 12, StringDB('ESS6131')) -- ESS=詩歌可以撫慰人心呀！
    Scene.MAIN_TALKS_3(14, 11, 1, StringDB('ESS6132')) -- ESS=撫慰人心呀！%N哈哈，這些看不見又摸不著...
    Scene.MAIN_TALKS_4(39, 11, 12, StringDB('ESS6133')) -- ESS=四書五經的內容，能教化人心，你能說看不見...
    Scene.MAIN_TALKS_3(14, 11, 1, StringDB('ESS6134')) -- ESS=四書五經，能拿來蓋房子，當飯吃嗎？還是我...
    --  說著，後面走來一個機關怪物。
    -- ESC.ChangeRoleMap(320, 313, 0, 33, 29, 51, 0, 0)
    -- ESC.RoleEnable(320)
    -- MediaFunc.PlaySound(315)
    -- ESC.Delay(600)

    --ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(121, 121, 0x4000)

    Scene.ScrollMapD(29, 13, 4, 4)
    ESC.TurnFace(39, 14)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    -- ESC.AddHeadSign(39, 0)
    -- ESC.Delay(100)
    -- ESC.DelHeadSign(39)
    -- ESC.FitSize()
    -- Scene.AutoPrint_C(39, StringDB('ESS6135')) -- ESS=那是什麼東西！？
    ESC.ChangeRoleMap(34, 313, 0, 54, 22, 34, 8, 6) -- 慧榮
    ESC.ChangeRoleMap(40, 313, 0, 56, 22, 40, 8, 6) -- 悟緣
    ESC.ChangeRoleMap(322, 313, 0, 57, 23, -1, 0, 6)
    ESC.SetRoleSpeed(34, 1)
    ESC.SetRoleSpeed(40, 1)
    ESC.BatchMove2(2,
    34, 51, 29, -1, 0, 6,
    40, 54, 29, -1, 0, 6)

    Scene.BatchWlak({ {34, 51, 29,-1,6},{40, 54, 29,-1,6} })

    ESC.Caption(1016)
    ESC.FitSize()
    Scene.Print_W(322,9005,16,2,StringDB('ESS6136')) -- ESS=是誰啊？
    ESC.WaitDLG(322)

    -- ESC.AddHeadSign(322, 0)
    -- ESC.AddHeadSign(34, 0)
    -- ESC.AddHeadSign(40, 0)
    ESC.TurnFace(14, 322)
    ESC.Delay(200)
    -- ESC.DelHeadSign(322)
    -- ESC.DelHeadSign(34)
    -- ESC.DelHeadSign(40)

    -- ESC.Caption(1016)
    -- ESC.FitSize()
    -- Scene.Print_W(322,9005,16,2,StringDB('ESS6129')) -- ESS=黃雷！
    -- ESC.WaitDLG(322)

    Scene.M_PrintW_C(322,10,2,StringDB('ESS6137'),1016) -- ESS=原來是黃大人，這麼晚了有何貴事？
    Scene.M_PrintW_C(14, 7, 3, StringDB('ESS6138')) -- ESS=王老爺，我是有急事找那位留宿府上的傳教士。
    -- Scene.M_PrintW_C(14, 10, 3, StringDB('ESS6139')) -- ESS=王老爺，安將軍派我請你少管點閒事，否則就...
    Scene.M_PrintW_C(322,11,4,StringDB('ESS6140'),1016) -- ESS=黃大人，您介紹的那位傳教士，做了非常不好的事，現在大家還想找他算帳呢。
    Scene.M_PrintW_C(14,8,2,StringDB('ESS6141')) -- ESS=不好的事？應該還沒發生吧？
    Scene.M_PrintW_C(34, 11, 1, StringDB('ESS6141_1')) -- ESS=這位施主是什麼意思？
    Scene.M_PrintW_C(14, 11, 3, StringDB('ESS6141_2')) -- ESS=傳教士從我這不告而取了一些危險物品，我來是想找他討回來。
    Scene.M_PrintW_C(322,8,2,StringDB('ESS6141_3'),1016) -- ESS=您等等，我去他的房間看看。


    Scene.AutoPrint_C(14,StringDB('ESS6141_4')) -- ESS=這……請小心拿，別摔著了……
    Scene.M_PrintW_C(322,8,2,StringDB('ESS6141_9'),1016) -- ESS=哼，還怕我賠不起？

    -- ESC.ChangeDIR(322,Const._UP)
    ESC.Delay(600)

    ESC.RoleDisable(322)
    ESC.Delay(600)
    Scene.M_PrintW_C(34, 6, 2, StringDB('ESS6141_5')) -- ESS=是什麼東西？有多危險？
    Scene.M_PrintW_C(14, 11, 3, StringDB('ESS6141_6')) -- ESS=那是我在研究的新型機關動力，不當使用會發生不好的事。
    ESC.AddHeadSign(34, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(34)
    Scene.M_PrintW_C(34, 6, 2, StringDB('ESS6141_7')) -- ESS=機關？


    Scene.M_PrintW_C(14, 9, 2, StringDB('ESS6141_8')) -- ESS=你們俗人也聽不懂，問也是白費力氣。
    --[[
    ESC.FitSize()
    Scene.AutoPrint_C(14, StringDB('ESS6141')) -- ESS=莫怪我不客氣了。
    ESC.TurnFace(34, 322)
    Scene.M_PrintW_C(34, 6, 3, StringDB('ESS6142')) -- ESS=王施主，%N您跟您女兒先進屋子去。
    ESC.TurnFace(34, 14)
    ESC.ChangeQQ(322, Const.WALK)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 0)
    ESC.BatchMove2(1,    39, 56, 22, -1, 0, 0)
    ESC.ChangeRoleMap(39, 310, 0, 36, 24, 39, 0, 1)
    ESC.RoleDisable(322)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 52, 33, -1, 30, 0)
    ESC.ChangeDIR(14, 3)
    Scene.MAIN_TALKS_4(1, 9, 38, StringDB('ESS6143')) -- ESS=黃雷，你跟撒旦又想做什麼了？幫安祿山謀反...
    Scene.MAIN_TALKS_3(14, 11, 0, StringDB('ESS6144')) -- ESS=哈哈！你下地獄去跟我的主人撒旦問吧！今天...
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6145')) -- ESS=又是靠你的機關獸，前幾隻被打敗的教訓還不...

    Scene.MAIN_TALKS_3(14, 11, 0, StringDB('ESS6146')) -- ESS=哈哈！試試看就知道。
    ESC.ChangeDIR(34, 2)
    ESC.ChangeDIR(40, 2)
    ESC.ChangeQQ(14, Const.WALK)
    ESC.SetRoleSpeed(14, 0)
    MediaFunc.PlaySound(315)
    ESC.BatchMove2(1,    14, 31, 33, -1, 0, 3)

    Scene.BattleSupportOn(40) -- 悟緣
    Scene.BattleSupportOn(34) -- 慧榮
    -- 戰鬥
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.StartBattle('BS200')
    ESC.RoleDisable(320)
    Scene.BattleSupportOff(40) -- 悟緣
    Scene.BattleSupportOff(34) -- 慧榮
    Scene.MAIN_TALKS_4(1, 9, 54, StringDB('ESS6147')) -- ESS=黃雷，現在看你還能怎麼辦？
    Scene.MAIN_TALKS_3(14, 11, 0, StringDB('ESS6148')) -- ESS=哈哈！現在讓你瞧瞧我的新發明。

    --]]
    Scene.ScrollMapD(29+10, 13-10, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenLock()

    ESC.AniPlay('expv',false, false)
    ESC.AniUntil( 11)
    MediaFunc.PlaySound(223) -- 爆炸音效

    ESC.StoryMusic(124, 46, 0x2000)     --【吳0619】劇情音樂 晴天霹靂→黑暗

    ESC.AniUntil( 13)
    MediaFunc.PlaySound(103) -- 爆炸音效
    ESC.AniUntil( 33)
    MediaFunc.PlaySound(103) -- 爆炸音效
    ESC.AniUntil( 40)
    MediaFunc.PlaySound(223) -- 爆炸音效
    ESC.AniUntilClose()
    -- 爆炸

    -- ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    -- ESC.FadeWait()
    -- ESC.Progress_Off()
    ESC.GotoMap(310, 58, 18, 1, 0, 0)
    ESC.ScreenHide()
    -- ESC.RoleHide(39)
    ESC.RoleMove(1, 54, 35)
    ESC.ChangeRoleMap(34, -1, 0, 49, 32, 34, 0, 0)
    ESC.ChangeRoleMap(40, -1, 0, 52, 33, 40, 0, 0)
    ESC.ChangeRoleMap(14, -1, 0, 35, 33, 14, 0, 3)
    ESC.ChangeRoleMap(39, 310, 0, 57, 36, 39, 0, 0)
    ESC.ScreenLock()
    ESC.ScrollMapD(29, 13-10, 16, 16) -- Scene.ScrollMapD(29+10, 13-10, 16, 16)
    ESC.ScrollMapWait()
    ESC.ScreenShow()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()

    --ESC.StoryMusic(124, 0, 0x8000)
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS6149')) -- ESS=怎麼回事！？
    --  黃雷(哈哈大笑)：

    Scene.ScrollMapD(23, 15, 4, 4)

    Scene.OpenGlassUp(11)
    Scene.AddPicture3(14, 1)
    Scene.Glass_SRC1(14, StringDB('ESS6150')) -- ESS=王老爺摔了我的新發明，看來還是爆炸了……
    ESC.ScrollMapWait()
    ESC.ChangeDIR(1, Const._LEFT)
    ESC.ChangeDIR(34, Const._LEFT)
    ESC.ChangeDIR(40, Const._LEFT)
    ESC.Delay(300)
    --Scene.Glass_SRC1(14, StringDB('ESS6151')) -- ESS=知道如何打不敗的仗嗎？根據我的經驗，就是...
    --Scene.Glass_SRC1(14, StringDB('ESS6151B')) -- ESS=要是我的武器再多一點，要毀掉整個長安都不是問題。
    Scene.DelPicture(14, 1)
    Scene.CloseGlassUp()

    ESC.TakeActData(1, -1, 30, 0)
    Scene.MAIN_TALKS_4(1, 9, 56, StringDB('ESS6152')) -- ESS=該死的傢伙！！
    Scene.MAIN_TALKS_3(14, 11, 0, StringDB('ESS6152b')) -- ESS=怪我？又不是我幹的，我也是損失慘重啊。

    Scene.AutoPrint_C(14, StringDB('ESS6153')) -- ESS=沒我的事，告辭！
    ESC.ChangeQQ(14, Const.WALK)
    ESC.SetRoleSpeed(14, 0)
    ESC.BatchMove(1,    14, 20, 28)
    ESC.RoleDisable(14)

--阿強20230619【王思月哀傷】換劇情音樂（55海洞）

    ESC.StoryMusic(55, 55, 0x2000)  --【吳0619】劇情音樂 海洞

    --Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS6154')) -- ESS=我們趕快看看還有沒有生存者。

    ESC.TakeActData(1, 1, 76, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, 1, 0, 4)

    ESC.TurnFace(40, 34)
    Scene.MAIN_TALKS_3(40, 11, 1, StringDB('ESS6154')) -- ESS=太師父，怎麼辦……？
    ESC.TurnFace(34, 39)

    --Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS4961')) -- ESS=嗯.....

    --ESC.DLGNoPass()
    --ESC.DLGHoldTime(15)
    --ESC.DLGNoCloseKey()
    --ESC.DLGNoFrame()
    --Scene.Print_SL(1,9009,160,20,2*14,6,'%S2%C5'..StringDB('ESS6155')) -- ESS=嗚………
    --ESC.WaitDLG3(1)
    --Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6156')) -- ESS=誰！！

    --ESC.ChangeDIR(39, 5)
    --ESC.RoleShow(39)
    --ESC.TurnFace(40, 39)
    --ESC.TurnFace(34, 39)
    --ESC.TurnFace(1, 39)

    --ESC.AddHeadSign(1, 0)
    --ESC.Delay(50)
    --ESC.AddHeadSign(34, 0)
    --ESC.Delay(50)
    --ESC.AddHeadSign(40, 0)
    --ESC.Delay(200)
    --ESC.DelHeadSign(34)
    --ESC.DelHeadSign(40)
    --ESC.DelHeadSign(1)

    --Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS6157')) -- ESS=王姑娘？！還好你沒事，你怎麼會在哪裏？
    --ESC.ChangeQQ(39, Const.WALK)
    --ESC.BatchMove2(1,    39, 39, 28, -1, 0, 5)
    -- 王思月(哭)：
    --  -- 王思月(哭)：
    -- （王思月跑去翻殘骸，一邊哭喊家人的名字。）
    --ESC.MusicFadeMode(2, 45)
    --ESC.StoryMusic(132, 132, 0x4000)

    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 0)
    ESC.BatchMove2(1,    39, 44, 25, -1, 0, 7)
    ESC.TurnFace(40, 39)
    ESC.TurnFace(34, 39)
    ESC.TurnFace(1, 39)

    Scene.MAIN_TALKS_2(39, 11, 3, StringDB('ESS6159')) -- ESS=爹........
    ESC.ChangeQQ(39, Const.WALK)
    ESC.SetRoleSpeed(39, 0)
    ESC.BatchMove2(1,    39, 47, 29, -1, 0, 7)
    Scene.MAIN_TALKS_2(39, 11, 3, StringDB('ESS6160')) -- ESS=娘........

    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6161')) -- ESS=王姑娘，別太傷心，你們家人都是好人，會成...
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 60, 30, -1, 0, 0)
    Scene.ScrollMapD(36, 6, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.Delay(450)
    ESC.ChangeDIR(1, 4)
    ESC.Delay(450)
    ESC.TakeActData(1, -1, 26, 0)

    Scene.ScrollMapD(36, 12, 2, 2)
    --Scene.OpenGlassDown(9)
    --Scene.AddPicture4(1, 22)
    --Scene.Glass_SRC2(1, StringDB('ESS6162')) -- ESS=(所謂戰爭必勝，我一直在找，或許黃雷說的...
    --Scene.ChangeFace2(1, 22, 1, 14)
    --Scene.Glass_SRC2(1, StringDB('ESS6163')) -- ESS=(但是如此必導致受害者的報復，王姑娘也可...
    --Scene.DelPicture(1, 14)
    --Scene.CloseGlassDown()
    --ESC.ScrollMapWait()
    --Scene.Lee_On(63, 30, 2)

    --Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6164')) -- ESS=安祿山的叛變若是成功，王家的下場也是一樣...
    Scene.MAIN_TALKS_2(34, 11, 0, StringDB('ESS6165')) -- ESS=王姑娘，你應該還有親戚家可以依靠？
    ESC.ChangeDIR(39, 5)
    -- 王思月(悽然)：
    Scene.MAIN_TALKS_3(39, 11, 7, StringDB('ESS6166')) -- ESS=親戚家都在很遠的地方。
    ESC.AddHeadSign(1, 1)
    ESC.Delay(600)
    ESC.DelHeadSign(1)
    ESC.TakeActData(1, -1, 0, 2)
    Scene.MAIN_TALKS_4(1 , 9, 14, StringDB('ESS6167')) -- ESS=我們先暫時安頓王姑娘吧！
    ESC.TurnFace(34, 1)
    ESC.TurnFace(40, 1)
    Scene.OpenGlassDown(11)
    Scene.AddPicture2(34, 1)
    Scene.Glass_SRC2(34, StringDB('ESS6168')) -- ESS=嗯，但是不能讓女孩兒跟著我們這些和尚。
    Scene.Glass_SRC2(34, StringDB('ESS6169')) -- ESS=這樣吧！不如由你先照顧王姑娘，我們和尚多...
    Scene.DelPicture(34, 1)
    Scene.CloseGlassDown()
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS6170')) -- ESS=好！我會請白連儀先生幫忙。
    ESC.Delay(300)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 26)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.ScreenUnlock()
    ESC.AddParty(39)
    ESC.RoleDisable(17)
    ESC.Progress_Off()
    ESC.GotoMap(7, 111, 89, 1, 0, 1)
    ESC.RoleEnable(4645) -- 大地圖思月的家改成爆炸

    ESC.ChangeScript(31, 'TALK6300')
    ESC.ChangeRoleMap(31, 163, 0, 39, 22, 31, 0, 1)
    ESC.RoleEnable(31)
    ESC.RoleDisable(34)
    ESC.RoleDisable(40)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    GameFunc.FlagOff(10)
    Scene.QuestOff(108)
    Scene.QuestOn(109)
    -- 煉妖壺對話
    ESC.ChangeScript(99, 'TALK2308')
    ESC.ChangeScript(96, 'TALK2309')
    ESC.ChangeScript(97, 'TALK2310')
    ESC.ChangeScript(98, 'TALK2310')
    -- 改變DOMO圖示 ESC.TakeActData()
    ESC.TakeActData( 6961, 627, 1, 0) -- 郭
    ESC.TakeActData( 6963, 627, 6, 0) -- 小朱
    ESC.TakeActData( 6964, 627, 7, 0) -- 升
    ESC.TakeActData( 6965, 629, 8, 0) -- 財
    ESC.TakeActData( 6966, 630, 8, 0) -- 羅
    ESC.TakeActData( 6967, 627, 5, 0) -- 東
    ESC.TakeActData( 6969, 632, 8, 0) -- 黃
    ESC.TakeActData( 6968, 627, 11, 0) -- 福
    ESC.TakeActData( 6970, 627, 9, 0) -- 玫
    ESC.TakeActData( 6971, 631, 8, 0) -- 咪
    ESC.TakeActData( 6972, 628, 8, 0) -- 克敏
    ESC.TakeActData( 6973, 627, 4, 0) -- 毛獸
    ESC.TakeActData( 6974, 627, 32, 2) -- 鮑
    ESC.TakeActData( 6975, 627, 24, 0) -- 孝全
    ESC.TakeActData( 6976, 627, 0, 0) -- 蔡魔王
    ESC.RoleMove(6961, 123, 25)
    ESC.RoleMove(6963, 104, 20)
    ESC.RoleMove(6970, 99, 27)
    ESC.RoleMove(6964, 33, 20)
    ESC.RoleMove(6968, 50, 29)
    ESC.RoleMove(6967, 81, 19)
    ESC.RoleMove(6975, 100, 32)
    Scene.SAR_Shadow(6975, 0)
    Scene.SAR_Shadow(6961, 0)
    Scene.SAR_Shadow(6969, 0)
    Scene.SAR_Shadow(6963, 0)
    Scene.SAR_TurnFace(6965 , 1)
    Scene.SAR_TurnFace(6966 , 1)
    Scene.SAR_TurnFace(6971 , 1)
    Scene.SAR_TurnFace(6972 , 1)
    Scene.SAR_TurnFace(6969 , 1)
    ESC.RoleMove(6969, 66, 32)
    ESC.ChangePath(6969, 652)
    ESC.RoleMove(4514, 94, 21)
end

function Scene.TALK6303()
    --  爆炸後的出入口
    Scene.ChangeMap(7, 113, 89, 1)
end

function Scene.TALK6304()
    ----------
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(309, 56, 23, 1, 0, 6)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 6)
    ESC.FadeWait()
end

function Scene.TALK6401()
    -- 驪山
    Scene.OutCity_NPC(9, 54, 40, 1)
end

function Scene.TALK6402()
    -- 往山頂
    Scene.ChangeMap(166, 61, 48, 4)
end

function Scene.TALK6403()
    -- 機接右迷宮
    Scene.ChangeMap(192, 75, 16, 2)
end

function Scene.TALK6404()
    -- 往迷宮入口
    Scene.ChangeMap(191, 7, 14, 3)
end

function Scene.TALK6405()
    -- 往左迷宮上方接點
    Scene.ChangeMap(193, 76, 9, 2)
end

function Scene.TALK6406()
    -- 往左迷宮下方接點
    Scene.ChangeMap(193, 75, 51, 2)
end

function Scene.TALK6407()
    -- 往右迷宮上方接點
    Scene.ChangeMap(192, 4, 17, 3)
end

function Scene.TALK6408()
    -- 往右迷宮上方接點
    Scene.ChangeMap(192, 10, 56, 7)
end


function Scene.TALK6410()
    -- 上祭壇
    if GameFunc.GetFlag(508) then return end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(508)
    ESC.TakeActData(32, 32, 60, 0)
    Scene.MoveHero(31, 22, 4)
    Scene.ScrollMapD(6, 1, 2, 2)
    ESC.StoryMusic(78, 78, 0x4000)
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS6237')) -- ESS=疑，這是什麼？
    ESC.ScrollMapWait()
    ESC.TakeActData(32, 32, 61, 0)
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6238')) -- ESS=奇怪，%N我佈置了封印怎麼還有人能闖進這...
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS6239')) -- ESS=你是誰？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6240')) -- ESS=哼！%N我可是頂頂大名的黑壇道祖雨丹子。...
    Scene.MAIN_TALKS_4(1, 9, 34, StringDB('ESS6241')) -- ESS=很抱歉，我沒聽過。
    --  雨丹子(有點沮喪)：
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6242')) -- ESS=原來是個蠻子。
    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS6243')) -- ESS=你在這作甚麼？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6244')) -- ESS=哈哈哈……我在詛咒皇帝，為了毀滅唐。
    Scene.Lee_On(32, 25, 4)
    --  李靖(怒)：
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6245')) -- ESS=你憑甚麼這麼做！
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6246')) -- ESS=哦？%N還有守護神出來了！%N以前我求神...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6247')) -- ESS=神不是為了人的慾望而工作的。
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6248')) -- ESS=是啊？所以我求鬼，%N他們可真夠意思，凡...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6249')) -- ESS=好個自私的人，僅為一己利益而已。
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6250'),1) -- ESS=哼！%N人不為己，天誅地滅。%N你看起來...
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6250b'),2) -- ESS=如何，要不要跟我合作？一起幫我找到軒轅劍。
    Scene.MAIN_TALKS_4(1, 9, 16, StringDB('ESS6251')) -- ESS=軒轅劍！？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6252')) -- ESS=聽說在西域有它的下落。%N這神器只有中國...
    Scene.MAIN_TALKS_4(1, 9, 54, StringDB('ESS6253')) -- ESS=你這個邪門歪道，還真會妄想。%N倒是應該...
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6254')) -- ESS=哼哼嘿嘿，那你就去死好了。%N那個守護神...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6255')) -- ESS=你有煉妖壺？
    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6256')) -- ESS=嘿嘿，任何鬼神都能封印起來，識相的就給我...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6257')) -- ESS=哈哈哈，我倒要見識見識！
    -- （卡瑪與妮可出現）
    Scene.MBOn(2, 2, 0, 140-10, 200-30, 32*11+30, 6*11+45)
    Scene.AddHead(10011, 0, 560, 460)
    Scene.AddHead(10002, 24, 560, 120)
    Scene.AddHead(10008, 0, 560, 290)
    ESC.DLGNoFrame()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoPass()
    Scene.Print_SL(1,9007,140-10,200-20,32,8,'%S0%C5'..StringDB('ESS6258')) -- ESS=我們也要看看。
    ESC.WaitDLG(1)
    ESC.MBOff(2, 8)
    Scene.DelPicture(2, 24)
    Scene.DelPicture(8, 0)
    Scene.DelPicture(11, 0)

    ESC.ChangeRoleMap(2, -1, 0, 33, 20, 2, 68, 0)
    ESC.RoleEnable(2)
    ESC.ChangeRoleMap(8, -1, 0, 36, 22, 8, 60, 0)
    ESC.RoleEnable(8)
    ESC.ChangeRoleMap(11, -1, 0, 35, 24, 11, 60, 0)
    ESC.RoleEnable(11)
    ESC.TILPA1(8, 9)
    ESC.TakeActData(8, -1, Const.STAND, 4)
    ESC.Unlock(8)
    ESC.TakeActData(11, -1, Const.STAND, 4)
    ESC.Unlock(11)
    ESC.TILPA1(2, 16)
    ESC.TakeActData(2, -1, Const.STAND, 4)

    Scene.MAIN_TALKS_3(32, 11, 1, StringDB('ESS6259')) -- ESS=你還有鬼神？道行不錯嘛！%N看我的煉妖壺...
    ESC.TakeActData(32, 32, 60, 0)
    -- （雨丹子使用煉妖壺，夥伴全被吸進去）
    ESC.ChangeRoleMap(104 , -1 , 0 , 36 , 21, 6502 , 1 , 0)
    ESC.PlayACT(0, 8 ,8 , 6250 , 16, 104)
    ESC.TILPA2(0, 50)
    ESC.RoleDisable(2)
    ESC.RoleDisable(8)
    ESC.RoleDisable(11)
    ESC.RoleDisable(17)
    Scene.SAR_Shadow(104, 0)
    ESC.RoleEnable(104)
    ESC.Unlock(104)
    ESC.TILPA2(0, 95)
    MediaFunc.PlaySound(218)
    ESC.SetRoleSpeed(104, 1)
    ESC.BatchMovePenetrate(104)
    ESC.BatchMove(1,    104, 22, 10)
    ESC.RoleDisable(104)

    Scene.MAIN_TALKS_4(1, 9, 54, StringDB('ESS6260')) -- ESS=那現在換看看我的煉妖壺囉！
    ESC.RoleEnable(104)
    ESC.Unlock(104)
    MediaFunc.PlaySound(218)
    ESC.SetRoleSpeed(104, 1)
    ESC.BatchMovePenetrate(104)
    ESC.BatchMove(1,    104, 36, 21)
    ESC.Unlock(104)
    -- 使用煉妖壺法術
    ESC.PlayACT(0, 8 ,8 , 6250 , 16, 104)
    ESC.TILPA2(0, 20)
    ESC.RoleDisable(104)
    Scene.SAR_Shadow(104, 1)
    ESC.TILPA2(0, 50)
    ESC.RoleEnable(2)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.RoleEnable(17)
    ESC.TILPA2(0, 95)
    ESC.TakeActData(32, 32, 61, 0)
    Scene.AddPicture3(32, 1)
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(32, StringDB('ESS6261')) -- ESS=什麼！？%N你…你…你那是真的煉妖壺？
    Scene.Glass_SRC1(32, StringDB('ESS6262')) -- ESS=哈哈！太好了，原來真品在你手上！%N那我...
    Scene.CloseGlassUp()
    Scene.DelPicture(32, 1)
    -- 戰鬥
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.StartBattle('BS201')
    -- <戰鬥勝利，還可以得到一張天山通行符，用這張符可以從白連儀家的畫直達天山>
    ESC.RoleDisable(32)
    ESC.ChangeDIR(1, 3)
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ChangeDIR(8, 2)
    ESC.ChangeDIR(2, 1)
    ESC.ChangeDIR(17, 7)
    ESC.ChangeDIR(1, 3)

--阿強20230619 【擊敗雨丹子】換劇情音樂（125不氣味→19遺跡）

    ESC.StoryMusic(125, 46, 0x2000)     --【吳0616】劇情音樂 不氣味→黑暗

    Scene.MAIN_TALKS_1(2, 3, 18, StringDB('ESS6263')) -- ESS=終於打敗他了。
    ESC.ChangeDIR(1, 5)
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS6264')) -- ESS=還沒有，他剛才是使用紙人替身術，這是中國...
    Scene.MAIN_TALKS_1(2, 3, 20, StringDB('ESS6265')) -- ESS=紙人替身術？這法術聽起來真有趣！有機會要...
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS6266')) -- ESS=學這個法術用來惡作劇嗎？我想不到更好的用途了。
    Scene.MAIN_TALKS_2(17, 11, 1 , StringDB('ESS6267')) -- ESS=說起來，我看到他的符咒有點奇怪。
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6268')) -- ESS=如何奇怪？%N中國的法術我倒是不清楚。
    Scene.MAIN_TALKS_2(17, 11, 1 , StringDB('ESS6269')) -- ESS=中國的道教大部分的法術都是借用鬼神的力量...
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS6270')) -- ESS=撒旦？
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS6271')) -- ESS=嗯，看來撒旦把中國的一些魔頭聚在一起了。...
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6272')) -- ESS=那結果還是跟撒旦對上了。
    Scene.MAIN_TALKS_2(17, 11, 1, StringDB('ESS6273')) -- ESS=這是遲早的事。
    ESC.ChangeDIR(1, 3)
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS6274')) -- ESS=這撒旦真是厲害。
    Scene.MAIN_TALKS_4(11, 11, 0, StringDB('ESS6275')) -- ESS=賽特似乎並不想惹撒旦。
    Scene.MAIN_TALKS_1(2, 3, 24, StringDB('ESS6276')) -- ESS=本來就是嘛，賽特應該跟撒旦一起征服中國的...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6277')) -- ESS=別說了！%N我不是來征服中國的。
    Scene.MAIN_TALKS_1(8, 2, 0, StringDB('ESS6278')) -- ESS=好好，先不吵你。
    ESC.TakeActData(1, -1, 70, 0)
    Scene.All_Off()
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6279')) -- ESS=軒轅劍……？%N軒轅劍到底有什麼力量？


    ESC.StoryMusicOff() --【吳0622】停止劇情音樂，恢復場景音樂

    ESC.TakeActData(1, -1, 0, 6)
    GameFunc.FlagOff(10)
    -- 更換煉妖壺對話
    ESC.ChangeScript(99, 'TALK2314')
    ESC.ChangeScript(96, 'TALK2315')
    ESC.ChangeScript(97, 'TALK2316')
    ESC.ChangeScript(98, 'TALK2316')
end


function Scene.TALK6412()
    if ESC.GetRoleToPosDistance(32, 13, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS6280')) return end --  檢查主角是否在旁邊 ESS=距離太遠，看不清碑文！
    Scene.MoveHero(34, 15, 4)
    Scene.Print_W(358,9005,14,8,'%K'..StringDB('ESS6281')) -- ESS=秋去春來又一年容顏未衰愛已弛忽聞新人入宮...
    ESC.WaitDLG(358)
end

function Scene.TALK6413()
    -- 驪山石碑
    if ESC.GetRoleToPosDistance(41, 12, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS6280')) return end --  檢查主角是否在旁邊 ESS=距離太遠，看不清碑文！
    Scene.MoveHero(42, 14, 4)
    Scene.Print_W(354,9005,31,8,'%K'..StringDB('ESS6282')) -- ESS=柳葉雙眉久不描　　殘妝和淚暗紅綃長門鎮日...
    ESC.WaitDLG(354)
    ESC.SceneBreak()
    -- 註：梅妃的芳名為江采蘋
end

function Scene.TALK6414()
    if ESC.GetRoleToPosDistance(67, 6, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS6280')) return end --  檢查主角是否在旁邊 ESS=距離太遠，看不清碑文！
    Scene.MoveHero(67, 8, 0)
    Scene.Print_W(355,9005,10,8,'%K'..StringDB('ESS6283')) -- ESS=溫泉水天成皇家築宮室美人承主賜浴華清池
    ESC.WaitDLG(355)
end

function Scene.TALK6415()
    if ESC.GetRoleToPosDistance(59, 8, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS6280')) return end --  檢查主角是否在旁邊 ESS=距離太遠，看不清碑文！
    Scene.MoveHero(59, 10, 0)
    Scene.Print_W(356,9005,16,8,'%K'..StringDB('ESS6284')) -- ESS=遙憶昔年阿房宮永巷幽咽黯紅顏而今驪山勝當...
    ESC.WaitDLG(356)
end

function Scene.TALK6416()
    if ESC.GetRoleToPosDistance(29, 57, 1) > 10 then Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS6280')) return end --  檢查主角是否在旁邊 ESS=距離太遠，看不清碑文！
    Scene.MoveHero(28, 56, 1)
    Scene.Print_W(357,9005,10,8,'%K'..StringDB('ESS6285')) -- ESS=三朵嬌牡丹占盡天子恩百花盡冷戲言抒己恨
    ESC.WaitDLG(357)
end

function Scene.TALK6417()
    Scene.Print_W(363,9005,14,8,'%K'..StringDB('ESS6286')) -- ESS=瓊樓夜靜傳笙歌風中隱隱聞笑語未央歌舞至天...
    ESC.WaitDLG(363)
end

function Scene.TALK6418()
    -- 門口士兵
    if GameFunc.GetFlag(509) then
        ESC.Caption(228)
        Scene.Print_W(Const.TOWN,9005,10,4,StringDB('ESS6289')) -- ESS=皇上起駕回宮去了。
        ESC.WaitDLG(Const.TOWN)
        return
    end
    if GameFunc.GetFlag(507) then
        ESC.Caption(228)
        Scene.Print_W(Const.TOWN,9005,12,6,StringDB('ESS6288')) -- ESS=今日皇上大宴安將軍，文武百官都來了。
        ESC.WaitDLG(Const.TOWN)
        return
    end
    ESC.Caption(228)
    Scene.Print_W(Const.TOWN,9005,12,6,StringDB('ESS6287')) -- ESS=再過去是驪山華清宮，閒雜人不得進去。
    ESC.WaitDLG(Const.TOWN)
end




function Scene.TALK6421()
    -- 檔路者
    ESC.Caption(228)
    Scene.Print_W(Const.TOWN,9005,12,6,StringDB('ESS6290')) -- ESS=除了文武百官外，閒雜人等不准進入。
    ESC.WaitDLG(Const.TOWN)
end

function Scene.TALK6501()
    Scene.ChangeMap(7, 113, 56, 1)
end

function Scene.TALK6502()
    -- 進安宅
    Scene.ChangeMap(296, 19, 27, 7)
end

function Scene.TALK6503()
    -- 夜景,出安宅大門
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_1(37, 8, 0, StringDB('ESS6291')) -- ESS=賽特，我們進去調查吧。
    ESC.ChangeDIR(1, 7)
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6292')) -- ESS=好。
    Scene.MoveHero(32, 46, 7)
end

function Scene.TALK6504()
    -- 主廳出口
    Scene.ChangeMap(296, 28, 19, 6)
end

function Scene.TALK6505()
    -- 往黃雷工作室
    if not GameFunc.GetFlag(537) then goto T6505 end
    Scene.ChangeMap(288, 16, 28, 0)
    Scene.RoadFlag(StringDB('ESS6293')) -- ESS= 黃雷工作室
    ESC.SceneBreak()
::T6505::
    GameFunc.FlagOn(537)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    --  黃雷移位
    ESC.GotoMap(288, 16, 28 , 1, 8, 0)
    ESC.RemoveParty(36 , 0 , '' , 37, 8, 0 , 0xD100)
    ESC.RemoveParty(33 , 0 , '' , 33, 8, 0 , 0xD100)
    ESC.RemoveParty(34 , 0 , '' , 34, 8, 0 , 0xD100)
    ESC.RemoveParty(38 , 0 , '' , 38, 8, 0 , 0xD100)
    ESC.ChangeRoleMap(14, -1, 0, 5, 14, 14, 79, 0)
    ESC.RoleEnable(14)
    Scene.SAR_TurnFace(14 , 0) --  黃雷不轉身
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.BatchMove2(5,
    1, 7, 20, -1, 0, 0,
    36, 5, 21, -1, 0, 0,
    34, 10, 21, -1, 0, 4,
    33, 6, 23, -1, 0, 0,
    38, 9, 23, -1, 0, 0)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6294')) -- ESS=黃雷！原來你在這裏。
    --  黃雷(心不在焉)：
    Scene.MAIN_TALKS_1(14, 11, 2, StringDB('ESS6295')) -- ESS=別吵，我正在忙。%N無限大的力量，來自於...
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6296')) -- ESS=黃雷！跟我們去見皇帝。%N你這大逆不道的...
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    Scene.MAIN_TALKS_1(14, 11, 2, StringDB('ESS6297')) -- ESS=吵死了，我正在忙，沒聽到嗎！%N吃飯的時...
    ESC.ChangeDIR(1, 1)
    Scene.MAIN_TALKS_2(1, 9, 55, StringDB('ESS6298')) -- ESS=既然他忙的沒空理我們，那我們就自己找看看...
    ESC.ChangeDIR(1, 3)
    ESC.AddParty(33)
    ESC.AddParty(34)
    ESC.AddParty(36)
    ESC.AddParty(38)
    ESC.ChangeScript(14, 'TALK6547')
    Scene.QuestOff(119)
    Scene.QuestOn(120)
    GameFunc.FlagOff(10)
end

function Scene.TALK6506()
    -- 往主廳
    Scene.ChangeMap(287, 64, 40, 1)
    Scene.RoadFlag(StringDB('ESS6299')) -- ESS=　 王府內院
end

function Scene.TALK6507()
    local select
    -- 主線題示
    if GameFunc.GetFlag(476) then goto T6507 end
    GameFunc.FlagOn(476)
    Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6300')) -- ESS=屏風上有組詩...........%N子...
    Scene.TIK()
    Scene.TIK()
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS6301')) -- ESS=要看這四首詩嘛？%N%B四首都要看.%N...
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T6507_ALL
    elseif select == 2 then
        goto T6507_SELECT
    else
        return
    end

::T6507::
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS6302')) -- ESS=要看這屏風上的四首詩嘛？%N%B四首都要...
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T6507_ALL
    elseif select == 2 then
        goto T6507_SELECT
    else
        return
    end

::T6507_SELECT::
    Scene.MAIN_TALKS_4(1, 8, 0, StringDB('ESS6303')) -- ESS=要看%N%N%B春歌. 　　　%B夏歌....
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T6507_SPRING
    elseif select == 2 then
        goto T6507_SUMMER
    elseif select == 3 then
        goto T6507_AUTUMN
    elseif select == 4 then
        goto T6507_WINTER
    else
        return
    end

::T6507_ALL::
    Scene.OpenGlassDown(8)
    Scene.AddPicture4(1, 0)
    Scene.Glass_SRC2(1, '%K'..StringDB('ESS6304')) -- ESS=春歌%N　　秦地羅敷女　采桑綠水邊%N　　...
    Scene.Glass_SRC2(1, '%K'..StringDB('ESS6305')) -- ESS=夏歌%N　　鏡湖三百里　菡萏發荷花%N　　...
    Scene.Glass_SRC2(1, '%K'..StringDB('ESS6306')) -- ESS=秋歌%N　　長安一片月　萬戶搗衣聲%N　　...
    Scene.Glass_SRC2(1, '%K'..StringDB('ESS6307')) -- ESS=冬歌%N　　明朝驛使發　一夜絮征袍%N　　...
    Scene.DelPicture(1, 0)
    Scene.CloseGlassDown()
    ESC.SceneBreak()
::T6507_SPRING::
    Scene.MAIN_TALKS_4(1, 8, 0, '%K'..StringDB('ESS6304')) -- ESS=春歌%N　　秦地羅敷女　采桑綠水邊%N　...
    ESC.SceneBreak()
::T6507_SUMMER::
    Scene.MAIN_TALKS_4(1, 8, 0, '%K'..StringDB('ESS6305')) -- ESS=夏歌%N　　鏡湖三百里　菡萏發荷花%N　...
    ESC.SceneBreak()
::T6507_AUTUMN::
    Scene.MAIN_TALKS_4(1, 8, 0, '%K'..StringDB('ESS6306')) -- ESS=秋歌%N　　長安一片月　萬戶搗衣聲%N　...
    ESC.SceneBreak()
::T6507_WINTER::
    Scene.MAIN_TALKS_4(1, 8, 0, '%K'..StringDB('ESS6307')) -- ESS=冬歌%N　　明朝驛使發　一夜絮征袍%N　...
end

function Scene.TALK6508()
    -- 往西內院
    if not GameFunc.GetFlag(7079) then return end
    if GameFunc.GetFlag(538) then goto T6508B end
    if Function.GetItemCount(810) == 0 then
        goto T6508A
    end
    if Function.GetItemCount(811) == 0 then
        goto T6508A
    end
    GameFunc.FlagOn(538)
::T6508B::
    Scene.ChangeMap(297, 22, 136, 3)
    ESC.SceneBreak()
::T6508A::
    Scene.MAIN_TALKS_3(1, 9, 13, StringDB('ESS6312')) -- ESS=我們得先找到%C2軍令書%C5和%C2起...
end

-- 主路線
function Scene.TALK6509()
    -- 傳至主路線1
    if ESC.GetRoleToPosDistance(47, 56, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    if not GameFunc.GetFlag(535) then goto T6509A end -- 535  -- 安家 假莉蓮  尚未發生過
    Scene.CHANGMAP2(47, 56, 289, 37, 45, 0 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6314')) -- ESS= 王府東廂房
    ESC.SceneBreak()

    --  假莉蓮劇情
::T6509A::
    GameFunc.FlagOn(535)
    GameFunc.FlagOn(10)
    --  集合 換地圖
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 47, 56, -1, 0, 0)
    ESC.Clump()
    --  停止林明動作
    ESC.RoleLock(36)
    ESC.ChangeRoleMap(94, -1, 0, 47+1, 56-1, 6502, 0, 0) --  傳送用光影
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 6)
    ESC.RoleHide(1)
    ESC.TILPA1(94, 20)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.RoleDisable(94)
    ESC.GotoMap(289, 36, 44 , 1, 0, 7)

    ESC.RMLock()   --  一進地圖就封鎖主角行動
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(125, 125, 0x4000)
    --  女人小狗移位
    ESC.RoleMove(321 , 42 , 33)
    ESC.ChangeDIR(321 , 4)

    ESC.RemoveParty(36 , 0 , '' , 37, 0, 0 , 0xD100)    --  林明
    ESC.RoleHide(36) --  36 是角色號碼
    ESC.ChangeDIR(36 , 0) --  37 是圖號
    --  林明設成不轉身
    Scene.SAR_TurnFace(36 , 0)

    ESC.RoleHide(1)
    ESC.ChangeRoleMap(94, 289, 0, 36, 44, 6502, 0, 0) --  傳送用光影
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 14)
    ESC.RoleShow(1)
    ESC.RoleShow(36)
    ESC.TILPA1(94, 20)
    ESC.RoleDisable(94)
    ESC.ChangeQQ(1 , 8)
    ESC.BatchMove2(1,    1, 36, 41, 1, 0, 7)
    ESC.ChangeDIR(36, 7)
    ESC.AddHeadSign(1 , 0)
    Scene.ScrollMapD(21, 20, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    Scene.WORD_ON_HEAD(320, 2, 0, -30, StringDB('ESS557')) -- ESS=汪!汪!汪!
    MediaFunc.PlaySound(3)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_2(1, 8, 17, StringDB('ESS6315')) -- ESS=莉蓮？
    ESC.ChangeDIR(321, 6)
    ESC.Delay(100)
    ESC.AddHeadSign(321 , 0)
    ESC.TakeActData(1 , 1 , 16 , 0)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 36, 35, -1, 0, 7)
    ESC.TakeActData(1 , 1 , 0 , 7)
    ESC.DelHeadSign(321)
    Scene.MAIN_TALKS_1(5, 11, 0, StringDB('ESS6316')) -- ESS=啊！……賽特？
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS5787')) -- ESS=你們認識？
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6317')) -- ESS=呃…%N妳不是被康那里士害死了……%N麥...
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(134, 0, 0x8000)
    Scene.MAIN_TALKS_1(5, 11, 0, StringDB('ESS6318')) -- ESS=你誤會了，%N其實麥爾斯把我帶走後，%N...
    ESC.AddHeadSign(1 , 1)
    ESC.Delay(500)
    --  莉蓮往前一步
    ESC.BatchMove(1,    321, 41, 34)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_1(5, 11, 0, StringDB('ESS6319')) -- ESS=我不再愛麥爾斯了，%N他只會利用我。
    ESC.ChangeDIR(1 , 3)
    ESC.BatchMove(1,    321, 40, 35)
    Scene.MAIN_TALKS_1(5, 11, 0, StringDB('ESS6320')) -- ESS=賽特，%N我知道你才是真的愛我，%N……...
    --  搖尾巴
    ESC.TakeActData(320 , -1 , 8 , 0)
    ESC.BatchMove2(1,    320, 39, 37, -1, 30, 0)
    ESC.SeekACT(320, 1)
    ESC.Unlock(320)
    MediaFunc.PlaySound(3)
    ESC.Delay(500)
    ESC.TakeActData(320 , -1 , 0 , 6)
    Scene.MAIN_TALKS_1(5, 11, 0, StringDB('ESS6321')) -- ESS=你看，波爾還認得你呢。
    ESC.ChangeDIR(1, 5)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6322')) -- ESS=波爾……

    Scene.Nicole_On(37, 32, 5)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    Scene.MAIN_TALKS_3(2, 3, 23, StringDB('ESS6323')) -- ESS=賽特！波爾還在煉妖壺耶！
    --  改成拔劍
    ESC.AddHeadSign(1 , 0)
    ESC.Delay(300)
    ESC.TakeActData(1 , 1501 , 79 , 0)
    ESC.DelHeadSign(1)
    --  波爾跑到後面
    ESC.TakeActData(320, -1, Const.WALK, 2)
    ESC.BatchMove2(1,    320, 41, 37, -1, 30, 0)
    ESC.SeekACT(320, 1)
    ESC.Unlock(320)
    MediaFunc.PlaySound(3)
    Scene.MAIN_TALKS_2(1, 9, 11 , StringDB('ESS6324')) -- ESS=蜃樓王！又是你搞的鬼？


    ESC.DLGClose(10001)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,100,80,32,8,'%C3'..StringDB('ESS6325')) -- ESS=(蜃樓王：哼，不過是兩隻小妖魔變身　　　...
    ESC.WaitDLG2(10001)
    ESC.DLGClose(10001)

    Scene.MAIN_TALKS_2(1, 9, 39, StringDB('ESS6326')) -- ESS=可惡！%N竟然變成莉蓮來騙我！！
    --  砍女人一刀
    ESC.TakeActData(1, 1, 63, 0)
    ESC.TILPA1(1, 5)
    ESC.FadeScreen( 0 , 0 , 0, 16 , 8 , 8 , 8)
    ESC.Delay(100)
    ESC.RoleMove(321 , 41 , 35)
    --  莉蓮倒下
    ESC.TakeActData(321, -1, 57, 0)
    ESC.FadeWait()
    ESC.FadeScreen( 16 , 8 , 8, 0 , 0 , 0 , 4)
    ESC.FadeWait()
    ESC.FadeClear()

    MediaFunc.PlaySound(3)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.BatchMove2(1,    36, 37, 38, -1, 0, 7)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)

    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6327')) -- ESS=你殺的真的是妖魔嗎？
    ESC.AddHeadSign(1 , 0)
    ESC.TakeActData(1, -1, 62, 0)
    ESC.TILPA1(1, 5)
    ESC.TakeActData(1, -1, 0, 3)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_2(1, 9, 29, StringDB('ESS6328')) -- ESS=我不確定.....
    --  變回妖怪
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    ESC.FadeScreen(0, 0, 0, 4 , 12, 4, 8)
    ESC.FadeWait()
    ESC.RoleMove(320 , 44 , 37)
    ESC.RoleMove(321 , 42 , 34)
    ESC.TakeActData(321 , 5 , 56 , 0)
    ESC.TakeActData(320 , 30, 56 , 0)
    ESC.FadeScreen(4, 12, 4, 0 , 0, 0, 12)
    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(36, 0)
    ESC.TakeActData(1, 1, 63, 0)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.Delay(400)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(36)
    --  林明向前
    ESC.TakeActData(36, -1, 9, 6)
    ESC.BatchMove(1,    36, 37-1, 38+1)
    ESC.TakeActData(36 , -1 , 0 , 7)
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6329')) -- ESS=這是什麼東西？！

    ESC.Caption(264)
    ESC.Print(320,9005,StringDB('ESS6330')) -- ESS=哼哼……不愧是賽特，竟然看穿撒旦大人的法...
    ESC.WaitDLG(320)
    ESC.Caption(264)
    Scene.Print_W(320,9005,7*2,4*2,StringDB('ESS6331')) -- ESS=本來撒旦大人希望你乖乖的回故鄉，沒想到你...
    ESC.WaitDLG(320)
    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS6332')) -- ESS=你們回去告訴撒旦，我還不想回去呢！

    ESC.Caption(264)
    ESC.Print(320,9005,StringDB('ESS6333')) -- ESS=撒旦大人說只要你反抗，就毀了你的肉身！
    ESC.WaitDLG(320)


    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6334')) -- ESS=有本事就試試看！
    --  ＜進入戰鬥，出現的妖魔是歐洲的，一個女妖與魔獸＞
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.StartBattle('BS218')
    --  （戰鬥結束）
    ESC.RoleDisable(320)
    ESC.RoleDisable(321)
    ESC.TakeActData(1 , -1 , 62 , 0)
    ESC.TILPA1(1, 5)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6335')) -- ESS=唉......
    ESC.TILPA1(1 , 5)
    ESC.TakeActData(1 , -1 , 0 , 5)
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6336')) -- ESS=走吧，看來我們的行蹤被發現了。
    Scene.Nicole_Off()
    ESC.AddParty(36)
    GameFunc.FlagOff(10)
end

function Scene.TALK6510()
    if ESC.GetRoleToPosDistance(49, 23, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(49, 23, 290, 63, 34, 2 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6337')) -- ESS=　 王府二樓
end

function Scene.TALK6511()
    if ESC.GetRoleToPosDistance(37, 32, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(37, 32, 291, 26, 48, 0 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6338')) -- ESS=　 王府三樓
end

function Scene.TALK6512()
    if not GameFunc.GetFlag(536) then Scene.TALKT6546() return end
    if ESC.GetRoleToPosDistance(45, 37, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(45, 37, 292, 25, 30, 3 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6339')) -- ESS=　 王府四樓
end

function Scene.TALK6513()
    if ESC.GetRoleToPosDistance(67, 27, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(67, 27, 287, 64, 45, 0 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6299')) -- ESS=　 王府內院
end
-- 對傳
function Scene.TALK6514()
    -- 287->293
    if ESC.GetRoleToPosDistance(89, 41, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(89, 41, 293, 50, 25, 1 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6340')) -- ESS= 王府西廂房
end

function Scene.TALK6515()
    -- 293->287
    if ESC.GetRoleToPosDistance(50, 25, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(50, 25, 287, 89, 41, 1 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end

function Scene.TALK6516()
    -- 287->294
    if ESC.GetRoleToPosDistance(132, 56, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(132, 56, 294, 36, 24, 1 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6342')) -- ESS= 王府南廂房
end

function Scene.TALK6517()
    -- 294->287
    if ESC.GetRoleToPosDistance(36, 24, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(36, 24, 287, 132, 56, 1 ) -- 安祿山家傳送用
end

function Scene.TALK6518()
    -- 287->295
    if ESC.GetRoleToPosDistance(117, 56, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(117, 56, 295, 36, 24, 1 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6343')) -- ESS= 王府北廂房
end

function Scene.TALK6519()
    -- 295->287
    if ESC.GetRoleToPosDistance(36, 24, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(36, 24, 287, 117, 56, 1 ) -- 安祿山家傳送用
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end
-----------傳回主廳
function Scene.TALK6520()
    if ESC.GetRoleToPosDistance(28, 23, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP3(28, 23)
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end

function Scene.TALK6521()
    if ESC.GetRoleToPosDistance(24, 32, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP3(24, 32)
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end

function Scene.TALK6522()
    if not GameFunc.GetFlag(536) then Scene.TALKT6546() return end
    if ESC.GetRoleToPosDistance(28, 37, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP3(28, 37)
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end

function Scene.TALK6523()
    if ESC.GetRoleToPosDistance(37, 27, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP3(37, 27)
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end
------ 傳至副線
function Scene.TALK6524()
    if ESC.GetRoleToPosDistance(45, 32, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(45, 32, 293, 24, 30, 3)
    Scene.RoadFlag(StringDB('ESS6340')) -- ESS= 王府西廂房
end

function Scene.TALK6525()
    if ESC.GetRoleToPosDistance(46, 27, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(46, 27, 295, 37, 48, 0)
    Scene.RoadFlag(StringDB('ESS6343')) -- ESS= 王府北廂房
end

function Scene.TALK6526()
    if ESC.GetRoleToPosDistance(54, 27, 1) > 6 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP2(54, 27, 294, 48, 44, 4)
    Scene.RoadFlag(StringDB('ESS6342')) -- ESS= 王府南廂房
end
-----------------
-- 子夜吳歌 正確的詩句
function Scene.TALK6527()
    Scene.Print_W(1,9005,22,6  ,'%K'..StringDB('ESS6344')) -- 春歌 ESS=秦地羅敷女　　采桑綠水邊素手青條上　紅妝...
    ESC.WaitDLG(1)
end

function Scene.TALK6528()
    Scene.Print_W(1,9005,22,6 ,'%K'..StringDB('ESS6345')) -- 夏歌 ESS=鏡湖三百里　　菡萏發荷花五月西施采　人看...
    ESC.WaitDLG(1)
end

function Scene.TALK6529()
    Scene.Print_W(1,9005,22,6 ,'%K'..StringDB('ESS6346')) -- 秋歌 ESS=長安一片月　　萬戶搗衣聲秋風吹不盡　總是...
    ESC.WaitDLG(1)
end

function Scene.TALK6530()
    Scene.Print_W(1,9005,22,6 ,'%K'..StringDB('ESS6347')) -- 冬歌 ESS=明朝驛使發　　一夜絮征袍素手抽針冷　那堪...
    ESC.WaitDLG(1)
end
-- 錯誤題示 7首
function Scene.TALK6531()
    Scene.Print_W(1,9005,22,6 ,'%K'..StringDB('ESS6348')) -- 高適  宋中十首 ESS=逍遙漆園吏　　冥沒不知年世事浮雲外　閒居...
    ESC.WaitDLG(1)
end

function Scene.TALK6532()
    Scene.Print_W(1,9005,22,4 ,'%K'..StringDB('ESS6349')) -- 李白 秋蒲歌 ESS=白髮三千丈　　緣愁似個長不知明鏡裏　何處...
    ESC.WaitDLG(1)
end

function Scene.TALK6533()
    -- 杜甫 貧交行
    Scene.Print_W(1,9005,36,4,'%K'..StringDB('ESS6350')) -- ESS=翻手作雲覆手雨　　紛紛輕薄何須數不見管鮑...
    ESC.WaitDLG(1)
end

function Scene.TALK6534()
    Scene.Print_W(1,9005,22,4 ,'%K'..StringDB('ESS6351')) -- 李白 玉階怨 ESS=玉階生白露　　夜久侵羅襪卻下水晶簾　玲瓏...
    ESC.WaitDLG(1)
end

function Scene.TALK6535()
    Scene.Print_W(1,9005,30,4 ,'%K'..StringDB('ESS6352')) -- 王之渙   涼洲詞 ESS=黃河遠上白雲間　　一片孤城萬仞山羌笛何需...
    ESC.WaitDLG(1)
end

function Scene.TALK6536()
    -- 杜甫    旅夜書懷
    Scene.Print_W(1,9005,22,8,'%K'..StringDB('ESS6353')) -- ESS=細草微風岸　　危檣獨夜舟星垂平野闊　月湧...
    ESC.WaitDLG(1)
end

function Scene.TALK6537()
    Scene.Print_W(1,9005,22,6 ,'%K'..StringDB('ESS6354')) -- 孟郊 游子吟 ESS=慈母手中線　　遊子身上衣臨行密密縫　意恐...
    ESC.WaitDLG(1)
end

function Scene.TALK6538()
    -- 往出口
    if Scene.CheckParty(36) then
        Scene.ChangeMap(285, 51, 21, 6)
        return
    end
    Scene.ChangeMap(284, 51, 21, 6)
end

function Scene.TALK6539()
    -- 往入口
    Scene.ChangeMap(287, 90, 90, 0)
end

function Scene.TALK6540()
    -- 門口衛兵
    if GameFunc.GetFlag(511) then goto T6540B end
    if GameFunc.GetFlag(510) then goto T6540A end
    ESC.Caption(1018)
    Scene.Print_W(1018,9005,14,8,StringDB('ESS6355')) -- ESS=這是東平郡王安祿山將軍的家，可不是一般百...
    ESC.WaitDLG(1018)
    ESC.Caption(1018)
    Scene.Print_W(1019,9005,12,6,StringDB('ESS6356')) -- ESS=快走，%N不然把你送到刑部大牢。
    ESC.WaitDLG(1019)
    ESC.SceneBreak()
::T6540A::
    GameFunc.FlagOn(511)
    GameFunc.FlagOn(10)
    ESC.RemoveParty(36 , 0 , '' , 36, 8, 7 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(36, 1)
    ESC.BatchMove2(2,
    1, 48, 23, -1, 0, 7,
    36, 51, 23, -1, 0, 7)
    ESC.FitSize()
    Scene.AutoPrint_C(1018, StringDB('ESS6357')) -- ESS=且慢，有何貴事？
    Scene.AutoPrint_C(36, StringDB('ESS6358')) -- ESS=我們想求見安祿山大人。
    Scene.M_PrintW_C(1019, 7, 3, StringDB('ESS6359')) -- ESS=你們不知道嗎？安大人去范陽上任節度使了。...
    Scene.M_PrintW_C(36, 6, 3, StringDB('ESS6360')) -- ESS=原來如此，%N那麼請問黃雷大人在嗎？
    Scene.M_PrintW_C(1018, 7, 2, StringDB('ESS6361')) -- ESS=黃大人不見客，請回吧。
    Scene.M_PrintW_C(1, 5, 4, StringDB('ESS6362')) -- ESS=有非常緊急的事想見黃大人，請通融一下。
    Scene.M_PrintW_C(1019, 8, 3, StringDB('ESS6363')) -- ESS=黃大人有吩咐，除非皇上召見，否則任何人都...
    ESC.FitSize()
    Scene.AutoPrint_C(36, StringDB('ESS5849')) -- ESS=這……
    ESC.FitSize()
    Scene.AutoPrint_C(1019, StringDB('ESS6364')) -- ESS=請回吧！
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6365')) -- ESS=那我們日後再來拜訪。
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.SetRoleSpeed(36, 1)
    ESC.BatchMove2(2,
    1, 36, 38, -1, 0, 3,
    36, 40, 38, -1, 0, 2)
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6366')) -- ESS=看來只有另找門路。
    Scene.MAIN_TALKS_4(36, 8, 0, StringDB('ESS6367')) -- ESS=夜間潛入如何？
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6368')) -- ESS=嗯，可以試試看。
    Scene.MAIN_TALKS_4(36, 8, 0, StringDB('ESS6369')) -- ESS=我要先準備，之後再跟你聯絡。你是暫居在白...
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6370')) -- ESS=對，我等你消息。
    ESC.ChangeDIR(1, 6)
    ESC.SetRoleSpeed(36, 1)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.BatchMove(1,    36, 26, 52)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    ESC.RoleDisable(36)
    ESC.Delay(450)
    ESC.ChangeRoleMap(40, -1, 0, 25, 52, -1, 0, 7)
    ESC.RoleDisable(39)
    ESC.RoleEnable(40)
    Scene.MAIN_TALKS_2(40, 8, 0, StringDB('ESS6371')) -- ESS=賽特師叔，%N不好了。
    ESC.TurnFace(1, 40)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.SetRoleSpeed(40, 1)
    ESC.BatchMove2(1,    40, 36, 41, -1, 0, 0)
    ESC.ChangeDIR(1, 1)
    Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6372')) -- ESS=什麼事那麼慌張？
    Scene.MAIN_TALKS_2(40, 8, 1, StringDB('ESS6373')) -- ESS=白大人家出事了，你快回去看看！
    ESC.AddHeadSign(1, 0)
    ESC.Delay(350)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.SetRoleSpeed(40, 1)
    ESC.SetMoveHISpeed(1)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 30)
    ESC.BatchMove2(2,
    1, 27, 51, -1, 0, 1,
    40, 25, 51, -1, 0, 1)
    ESC.AddParty(40)
    Scene.BattleSupportOn(40) -- 悟緣
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(7, 113, 56 , 1, 0, 1)
    ESC.RoleEnable(322)
    ESC.ChangeRoleMap(322 , 100 , 0 , 90 , 39 , 535 , 32, 1)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.ChangeRoleMap(592 , 100 , 0 , 30 , 65 , 416 , 0, 5)
    ESC.ChangeRoleMap(593 , 100 , 0 , 41 , 66 , 416 , 0, 6)
    ESC.ChangeScript(592, 'TALK6298')
    ESC.ChangeScript(593, 'TALK6298')
    Scene.SAR_TurnFace(592, 1)
    Scene.SAR_TurnFace(593, 1)
    ESC.ChangeRoleMap(31 , 100 , 0 , 87 , 37 , 31 , 0, 5)
    ESC.ChangeRoleMap(34 , 100 , 0 , 94 , 37 , 34 , 0, 6)
    ESC.RoleEnable(31)
    ESC.RoleEnable(34)
    --ESC.RoleDisable(4886)
    ESC.RoleDisable(4887)
    --ESC.RoleDisable(4888) -- 白壽
    GameFunc.FlagOff(10)
    ESC.ChangeScript(34, 'TALK6300')
    ESC.ChangeScript(31, 'TALK6300')
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 10)
    ESC.FadeWait()
    ESC.RoleEnable(4834)
    ESC.RoleDisable(4802)
    ESC.RoleDisable(4808)
    ESC.RoleDisable(4803)
    ESC.RoleDisable(4804)
    ESC.RoleDisable(4817)
    ESC.RoleDisable(4823)
    ESC.RoleDisable(4824)
    Scene.QuestOff(112)
    Scene.QuestOn(113)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.SceneBreak()
::T6540B::
    ESC.Caption(1018)
    Scene.Print_W(1018,9005,14,8,StringDB('ESS6374')) -- ESS=這是東平郡王安祿山將軍府邸，閒雜人等速速...
    ESC.WaitDLG(1018)
    ESC.Caption(1018)
    Scene.Print_W(1019,9005,12,6,StringDB('ESS6375')) -- ESS=快走，快走！%N不然把你送大牢關起來。
    ESC.WaitDLG(1019)
end

function Scene.TALK6541()
    -- 往黃雷工作室
    Scene.ChangeMap(288, 28, 8, 2)
end

function Scene.TALK6542()
    -- 往西內院
    if GameFunc.GetFlag(494) then goto T6542 end
    GameFunc.FlagOn(494)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(171, 14, 31 , 1, 0, 3)

    ESC.RemoveParty(36 , 0 , '' , 37, 8, 3 , 0xD100)
    ESC.ChangeRoleMap(44, -1, 0, 30, 20, 44, 52, 0)

    ESC.RemoveParty(34 , 0 , '' , 34, 8, 3 , 0xD100)
    ESC.RemoveParty(33 , 0 , '' , 33, 8, 3 , 0xD100)
    ESC.RemoveParty(38 , 0 , '' , 38, 8, 3 , 0xD100)

    ESC.RoleEnable(44)
    ESC.ChangeRoleMap(592, -1, 0, 18, 37, 507, 0, 7)
    ESC.ChangeRoleMap(593, -1, 0, 18, 41, 508, 0, 7)
    ESC.ChangeRoleMap(594, -1, 0, 42, 37, 509, 0, 4) --  改成官員坐著
    ESC.ChangeRoleMap(595, -1, 0, 42, 42, 510, 0, 4)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleHide(36)
    ESC.RoleHide(1)
    ESC.RoleHide(34)
    ESC.RoleHide(38)
    ESC.RoleHide(33)

    ESC.ScreenLock() -----   94
    ESC.ScrollMapD(5, 12, 16, 16)
    ESC.ScrollMapWait()

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 26)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.Caption(1030)
    Scene.Print_W(592,9005,16,4,StringDB('ESS6376')) -- ESS=楊大人，龍椅看起來真的很適合您。
    ESC.WaitDLG(592)

    ESC.Caption(1030)
    Scene.Print_W(594,9005,18,4,StringDB('ESS6377')) -- ESS=對啊對啊，看起來好像專門為您設計的。
    ESC.WaitDLG(594)

    ESC.Caption(44)
    ESC.FitSize()
    Scene.Print_W(44,9005,18,6,StringDB('ESS6378')) -- ESS=哈哈哈！好說好說！
    ESC.WaitDLG(44)

    ESC.Delay(500)
    ESC.RoleShow(1)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 5)
    ESC.Delay(300)
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6379')) -- ESS=原來這裏直通到皇殿。
    ESC.RoleMove(33, 13, 31)
    ESC.RoleMove(34, 13, 31)
    ESC.RoleMove(36, 13, 31)
    ESC.RoleMove(38, 13, 31)
    ESC.RoleShow(36)
    ESC.RoleShow(34)
    ESC.RoleShow(38)
    ESC.RoleShow(33)

    ESC.ChangeDIR(1, 3)
    ESC.BatchMove2(4,
    36, 17, 31, -1, 0, 2,
    33, 14, 31, -1, 0, 3,
    34, 14, 31, -1, 0, 3,
    38, 14, 31, -1, 0, 3)
    --  （楊國忠正在跟各種官員開會，在皇帝的龍椅上擺滿各式美食，楊國忠就臥在龍椅旁享受，其餘官員偕站在下方。）
    --  （賽特等人出現在密道出口）
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS6380')) -- ESS=你們過去就好，%N我這身打扮不能見皇上。...
    Scene.BattleSupportOff(37) -- 夜行裝林明
    ESC.ChangeQQ(36, Const.WALK)
    ESC.BatchMove(1,    36, 13, 30)
    ESC.RoleDisable(36)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.ChangeQQ(33, Const.WALK)
    ESC.ChangeQQ(38, Const.WALK)
    ESC.ScrollMapD(5, 9, 2, 2)
    ESC.SetRoleSpeed(1, 1)
    ESC.SetRoleSpeed(34, 1)
    ESC.SetRoleSpeed(33, 1)
    ESC.SetRoleSpeed(38, 1)
    ESC.BatchMove2(4,
    1, 29, 33, -1, 0, 0,
    34, 32, 33, -1, 0, 0,
    33, 35, 33, -1, 0, 0,
    38, 26, 33, -1, 0, 0)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()   -----   94
    ESC.TakeActData(44, -1, 53, 0)
    ESC.AddHeadSign(44, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(44)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6381')) -- ESS=你…你們是誰，怎麼進來的！？
    Scene.MAIN_TALKS_2(34, 11, 1, StringDB('ESS6382')) -- ESS=我們有緊急要事晉見皇上，%N請楊大人見諒...
    --  楊國忠(相當憤怒)：
    ESC.TakeActData(44, -1, 52, 0)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6383')) -- ESS=有什麼事跟我說也一樣！
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(124, 122, 0x2000)
    Scene.MAIN_TALKS_2(34, 11, 1, StringDB('ESS6384')) -- ESS=楊相國，這是有關謀反的事.....
    -- 楊國忠(大叫)：
    ESC.TakeActData(44, -1, 53, 0)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6385')) -- ESS=謀反！？%N來人呀！有人要謀反呀！
    ESC.TakeActData(44, -1, 52, 0)
    ESC.RoleLock(44)

    Scene.WORD_ON_HEAD(592, 10, -12, -40, StringDB('ESS6386')) -- 對話出現在指的位址頭上 ESS=謀反啊！
    ESC.ChangeQQ(592, Const.WALK)
    ESC.ChangeQQ(593, Const.WALK)
    Scene.WORD_ON_HEAD(594, 8, -24, -40, StringDB('ESS6387')) -- 對話出現在指的位址頭上 ESS=有人造反啊！
    ESC.ChangeQQ(594, Const.WALK)
    ESC.ChangeQQ(595, Const.WALK)
    Scene.WORD_ON_HEAD(595, 12, -24, -40, StringDB('ESS6388')) -- 對話出現在指的位址頭上 ESS=來人！來人啊！
    ESC.SetRoleSpeed(592, 0)
    ESC.SetRoleSpeed(593, 2)
    ESC.SetRoleSpeed(594, 1)
    ESC.SetRoleSpeed(595, 3)
    Scene.WORD_ON_HEAD(593, 10, -24, -40, StringDB('ESS6389')) -- 對話出現在指的位址頭上 ESS=造反啊！
    ESC.SetMoveHISpeed(592) ESC.SetMoveHISpeed(593) ESC.SetMoveHISpeed(594) ESC.SetMoveHISpeed(595)
    ESC.ChangeDIR(34 , 1)
    ESC.ChangeDIR(33 , 1)
    ESC.ChangeDIR(1 , 1)
    ESC.ChangeDIR(38 , 1)
    ESC.BatchMove(4,
    592, 30, 45+5,
    593, 30, 45+5,
    594, 32, 45+5,
    595, 34, 45+5)
    ESC.TakeActData(592 , 416 , 0 , 0)
    ESC.TakeActData(593 , 418 , 0 , 0)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.TakeActData(594 , 416 , 0 , 0 ) ESC.SetMoveHISpeed( 594)
    ESC.TakeActData(595 , 418 , 0 , 0 ) ESC.SetMoveHISpeed( 595)
    ESC.BatchMove(2,
    594, 32, 35,
    595, 34, 35)
    ESC.ChangeDIR(594 , 0)
    ESC.ChangeDIR(595 , 7)
    --  （來了兩個衛兵，卻馬上被慧榮打飛。）
    ESC.RoleMove(34 , 32 , 35)
    ESC.TakeActData(34 , -1 , 79 , 0)
    ESC.FadeScreen(0, 0, 0, 24, 0, 0, 3)
    MediaFunc.PlaySound(329)
    ESC.RoleMove(594 , 32 , 37)
    ESC.RoleMove(595 , 34 , 37)
    ESC.FadeWait()
    MediaFunc.PlaySound(360)
    ESC.RoleMove(594 , 32 , 39)
    ESC.RoleMove(595 , 34 , 39)
    ESC.FadeScreen(24, 0, 0, 0, 0, 0, 4)
    ESC.TakeActData(34 , -1 , 0 , 1)
    ESC.RoleMove(594 , 32 , 41)
    ESC.RoleMove(595 , 34 , 41)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.TakeActData(44, -1, 53, 0)
    ESC.Delay(600)
    ESC.ChangeDIR(34 , 0)
    ESC.Delay(200)
    ESC.ChangeDIR(34 , 0)
    ESC.ChangeDIR(33 , 0)
    ESC.ChangeDIR(1 , 0)
    ESC.ChangeDIR(38 , 0)
    Scene.MAIN_TALKS_2(34, 11, 1, StringDB('ESS6390')) -- ESS=不是我們要謀反，把話聽完好嗎！
    ESC.TakeActData(44, -1, 52, 0)
    ESC.ChangeRoleMap(41, -1, 0, 28, 41, 41, 8, 0)
    ESC.ChangeRoleMap(43, -1, 0, 31, 41, 43, 8, 0)
    ESC.RoleEnable(41)
    ESC.RoleEnable(43)
    ESC.BatchMove2(2,
    41, 28, 38, -1, 0, 0,
    43, 31, 38, -1, 0, 0)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(106, 104, 0x2000)
    Scene.MAIN_TALKS_2(41, 11, 1, StringDB('ESS6391')) -- ESS=在吵什麼呀？
    ESC.ScrollMapD(5, 12, 2, 2)
    ESC.ChangeDIR(44, 1)
    ESC.ChangeDIR(34, 1)
    ESC.RoleMove(34 , 32 , 34)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(33, 1)
    ESC.ChangeDIR(38, 1)
    ESC.ScrollMapWait()
    ESC.TakeActData(44, -1, 53, 0)
    ESC.Unlock(44)
    ESC.AddHeadSign(44, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(44)
    ESC.SetRoleSpeed(44, 0)
    ESC.TakeActData(44, -1, 8, 1)
    ESC.BatchMove2(1,    44, 37, 23, -1, 0, 6)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6392')) -- ESS=皇上！這些人突然闖入！
    Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS6393')) -- ESS=皇上，我們有急事要上奏。
    Scene.MAIN_TALKS_2(41, 11, 1, StringDB('ESS6394')) -- ESS=原來是來自西方的留學生賽特啊。
    Scene.MAIN_TALKS_4(43, 11, 0, StringDB('ESS6395')) -- ESS=怎麼獅子也帶進來玩？%N哥哥你又請表演團...
    ESC.ChangeDIR(33, 6)
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS6396')) -- ESS=稟告娘娘%N那是草民所養的金毛獅，名為鎮...
    --  唐玄宗（笑）：
    Scene.MAIN_TALKS_2(41, 11, 1, StringDB('ESS6397')) -- ESS=好久沒來上朝了。
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6398')) -- ESS=皇上請上座。
    -- （唐玄宗與楊貴妃到位置坐下）
    ESC.ScrollMapD(5, 12, 2, 2)
    ESC.ChangeQQ(44, Const.WALK)
    ESC.ChangeQQ(41, Const.WALK)
    ESC.ChangeQQ(43, Const.WALK)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(34, 0)
    ESC.ChangeDIR(33, 0)
    ESC.ChangeDIR(38, 0)
    ESC.ScreenLock()
    ESC.SetRoleSpeed(43, 3)
    ESC.SetRoleSpeed(41, 3)
    ESC.BatchMove2(7,
    41, 29, 20, -1, 53, 0,
    43, 31, 20, -1, 53, 0,
    44, 37, 23, -1, 0, 6,
    1, 29, 35, -1, 0, 0,
    34, 32, 35, -1, 0, 0,
    33, 35, 35, -1, 0, 0,
    38, 26, 35, -1, 0, 0)
    ESC.ScrollMapWait()
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6399')) -- ESS=好了，有什麼急事說吧。
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6400')) -- ESS=皇上，%N臣等查到安祿山即將起兵叛變。
    -- 唐玄宗(生氣)：
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6401')) -- ESS=胡說八道！朕與祿山情同父子，%N祿山怎麼...
    --  -- 唐玄宗(怒)：
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6402')) -- ESS=皇上息怒，%N這是從安祿山家找出來的起兵...
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6403')) -- ESS=………%N好吧，好吧，%N國忠，取來讓朕...
    ESC.ChangeQQ(44, Const.WALK)
    ESC.BatchMove2(1,    44, 31, 34, -1, 0, 6)
    ESC.Delay(300)
    ESC.ChangeQQ(44, Const.WALK)
    ESC.BatchMove2(1,    44, 35, 20, -1, 0, 2)
    ESC.Delay(250)
    ESC.ChangeQQ(44, Const.WALK)
    ESC.BatchMove2(1,    44, 37, 24, -1, 0, 2)
    ESC.ChangeDIR(44 , 6)
    ESC.AddHeadSign(41, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(41)
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6404')) -- ESS=這計劃書雖然寫著叛變計劃，但如何確認是安...
    ESC.TurnFace(44, 41)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6405')) -- ESS=稟報皇上，計劃書誰都可以寫的出來，不足取...
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6406')) -- ESS=皇上！萬萬不可，等安祿山一回范陽，就會起...
    ESC.TurnFace(44, 34)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6407')) -- ESS=大膽，皇上要怎麼做，還要你教嗎，來人啊！...
    ESC.Delay(500)
    --  -- （楊國忠叫來一群侍衛，慧榮再次把他們打飛。）
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleMove(592 , 32 , 50 ) ESC.SetMoveHISpeed(592)
    ESC.RoleMove(593 , 34 , 50 ) ESC.SetMoveHISpeed(593)
    ESC.RoleMove(594 , 32 , 50 ) ESC.SetMoveHISpeed(594)
    ESC.RoleMove(595 , 34 , 50 ) ESC.SetMoveHISpeed(595)

    ESC.ChangeDIR(34, 1)
    ESC.ChangeDIR(1 , 1)
    ESC.ChangeDIR(33 , 1)
    ESC.ChangeDIR(38 , 1)

    ESC.BatchMove(4,
    594, 32, 37,
    595, 34, 37,
    592, 32, 37,
    593, 34, 37)

    --  （來了兩個衛兵，卻馬上被慧榮打飛。）
    ESC.TakeActData(34 , -1 , 78 , 0)
    MediaFunc.PlaySound(350)
    ESC.FadeScreen(30, 0, 0, -8, 0, 0, 3)
    MediaFunc.PlaySound(329)
    ESC.RoleMove(594 , 32 , 39)
    ESC.FadeWait()
    ESC.FadeScreen(24, 0, 8, 0, 0, 0, 4)
    ESC.RoleMove(593 , 35 , 41)
    ESC.RoleMove(595 , 34 , 41)
    ESC.RoleMove(592 , 32 , 43)
    MediaFunc.PlaySound(360)
    ESC.FadeWait()
    ESC.TakeActData(34 , -1 , 0 , 1)
    ESC.FadeScreen(16, 10, 26, 0, 0, 0, 3)
    ESC.RoleMove(592 , 31 , 47)
    ESC.RoleMove(593 , 36 , 47)
    ESC.FadeWait()
    ESC.FadeScreen(24, 8, 16, 0, 0, 0, 4)
    ESC.RoleMove(594 , 30 , 47)
    ESC.RoleMove(595 , 34 , 47)
    ESC.FadeWait()
    ESC.FadeClear()
    -- 唐玄宗(怒)：
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6408')) -- ESS=這是什麼意思？想造反嗎？
    ESC.ChangeDIR(34, 0)
    ESC.ChangeDIR(1 , 0)
    ESC.ChangeDIR(33 , 0)
    ESC.ChangeDIR(38 , 0)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6409')) -- ESS=皇上明察，貧僧絕無此意。%N若皇上不肯聽...
    -- 楊國忠(怒)：
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6410')) -- ESS=這些侍衛真沒用，快抓下那禿驢。
    ESC.ChangeDIR(34, 1)
    ESC.ChangeDIR(1 , 0)
    ESC.ChangeDIR(33 , 0)
    ESC.ChangeDIR(38 , 0)

    -- （慧榮仍然打飛侍衛）
    --  （來了兩個衛兵，卻馬上被慧榮打飛。）
    ESC.SetMoveHISpeed(592) ESC.SetMoveHISpeed(593) ESC.SetMoveHISpeed(594) ESC.SetMoveHISpeed(595)
    ESC.BatchMove(4,
    594, 32, 37,
    595, 34, 37,
    592, 32, 37,
    593, 34, 37)
    ESC.TakeActData(34 , -1 , 79 , 0)
    MediaFunc.PlaySound(350)
    ESC.FadeScreen(30, 0, 0, 0, 0, 0, 3)
    MediaFunc.PlaySound(329)
    ESC.RoleMove(594 , 32 , 39)
    ESC.FadeWait()
    ESC.FadeScreen(24, 0, 8, 0, 0, 0, 4)
    ESC.RoleMove(593 , 35 , 39)
    ESC.RoleMove(595 , 34 , 41)
    ESC.RoleMove(592 , 32 , 42)
    MediaFunc.PlaySound(360)
    ESC.FadeWait()
    ESC.TakeActData(34 , -1 , 0 , 1)
    ESC.FadeScreen(16, 10, 26, 0, 0, 0, 3)
    ESC.RoleMove(592 , 31 , 45)
    ESC.RoleMove(593 , 36 , 46)
    ESC.FadeWait()
    ESC.FadeScreen(24, 8, 16, 0, 0, 0, 4)
    ESC.RoleMove(594 , 30 , 47)
    ESC.RoleMove(595 , 34 , 47)
    ESC.FadeWait()
    ESC.FadeClear()
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)

    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6411')) -- ESS=你這不是造反是什麼？
    ESC.ChangeDIR(34, 0)
    ESC.ChangeDIR(1 , 0)
    ESC.ChangeDIR(33, 0)
    ESC.ChangeDIR(38 , 0)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6412')) -- ESS=皇上，%N老衲一心為國，請皇上明察。

    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6413')) -- ESS=在朕面前傷了這麼多人，%N你還要朕相信你...
    ESC.AddHeadSign(34 , 0)
    ESC.Delay(500)
    ESC.DelHeadSign(34)
    Scene.MAIN_TALKS_4(34, 11, 0, StringDB('ESS6414')) -- ESS=皇上……%N老衲知錯……
    ESC.ChangeDIR(34, 1)
    ESC.Delay(500)
    ESC.ChangeQQ(34, Const.WALK)
    ESC.BatchMove(1,    34, 32, 37)
    ESC.TurnFace(1 , 34)
    ESC.TurnFace(33, 34)
    ESC.TurnFace(38, 34)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(124, 124, 0x4000)

    --  準備自殺
    ESC.TakeActData(34 , -1 , 5 , 0)
    --  自殺
    ESC.AddHeadSign(33, 0)
    ESC.AddHeadSign(1, 0)
    Scene.AddHead(1+10000, 17, 50, 120)
    Scene.AddHead(33+10000, 0, 560, 460)
    Scene.MBOn(2 , 8, 0 , 140-10 , 390-30, 32*11+30, 6*11+45)
    Scene.MBOn(1 , 8, 1 , 140-10, 10, 32*11+30, 6*11+45)
    ESC.DLGClose(10000)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10000,9007,140-10,20,32,8,'%C5'..StringDB('ESS6415')) -- ESS=慧榮大師！

    ESC.DLGClose(10001)
    ESC.DLGNoFrame()
    ESC.INDC_NEED()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,'%C5'..StringDB('ESS6416')) -- ESS=大師！
    ESC.WaitDLG2(10000)
    ESC.WaitDLG2(10001)
    ESC.DLGClose(10000)
    ESC.DLGClose(10001)
    ESC.DelHead(1+10000, 17)
    ESC.DelHead(33+10000, 0)
    ESC.MBOff(1 , 1)
    ESC.MBOff(2 , 0)

    ESC.DelHeadSign(33)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_1(34, 11, 1, StringDB('ESS6417')) -- ESS=這是天下百姓的大事，你們別插手。
    ESC.MBWait()
    --  慧榮自殺
    ESC.TakeActData(34, -1, 65 , 0)
    ESC.Unlock(34)
    ESC.PlayACT(0, 0 , -8 , 34 , 77, 34)
    ESC.Delay(300)
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(116, 116, 0x4000)

    Scene.MAIN_TALKS_1(34, 11, 1, StringDB('ESS6418')) -- ESS=……皇…皇上，%N請為天下蒼生……著想。...

    Scene.MAIN_TALKS_2(1, 9, 57, '%S0'..StringDB('ESS6415')) -- ESS=慧榮大師！
    Scene.MAIN_TALKS_3(41, 11, 1, StringDB('ESS6419')) -- ESS=唉……國忠！ %N我看還是去查一下這件事...

    ESC.ChangeDIR(44, 7)
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6420'),1) -- ESS=皇上別聽信那禿驢的讒言，%N雖說安祿山權...
    Scene.MAIN_TALKS_1(44, 11, 0, StringDB('ESS6420B'),2) -- ESS=（%C3開什麼玩笑！這種大功勞怎能讓給外人，如果安祿山真的要造反應該由本大官來揭發才是，怎能讓這禿驢和蠻子居功？%C5）
    ESC.TurnFace(1, 44)
    Scene.MAIN_TALKS_2(1, 9, 37, StringDB('ESS6421')) -- ESS=你這小人……%N，慧榮的犧牲難道還不夠嗎...
    ESC.TurnFace(33, 1)
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS6422')) -- ESS=賽特！不要衝動。
    Scene.BattleSupportOff(34) -- 慧榮
    ESC.ScrollMapD(5, 6, 2, 2)
    ESC.ChangeDIR(33, 7)
    ESC.ChangeDIR(38, 7)
    ESC.ChangeQQ(1, 16)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 41, 24, 1, 30, 0)
    ESC.ChangeDIR(44, 3)
    ESC.AddHeadSign(44, 0)
    ESC.AddHeadSign(41, 0)
    ESC.AddHeadSign(43, 0)
    ESC.Delay(100)
    ESC.DelHeadSign(44)
    ESC.DelHeadSign(41)
    ESC.DelHeadSign(43)

    ESC.ScrollMapWait()
    ESC.ChangeRoleMap(4, -1, 0, 35 , 24, 4, 74, 0)
    ESC.RoleDisable(4)
    ESC.SetRoleSpeed(41, 1)
    ESC.SetRoleSpeed(43, 0)
    ESC.TakeActData(44, -1, 9, 2)
    ESC.TakeActData(41, -1, Const.WALK, 1)
    ESC.TakeActData(43, -1, Const.WALK, 1)
    ESC.BatchMove2(3,
    44, 32, 24, -1, 0, 3,
    41, 23, 21, -1, 0, 5,
    43, 21, 21, -1, 0, 5)

    ESC.MusicFadeMode(2, 15)
    ESC.StoryMusic(54, 54, 0x4000)
    ESC.AddHeadSign(1 , 0)
    ESC.PlayACT(0, -20 , 0 , 7501 , 4, 4)
    ESC.Delay(300)
    ESC.RoleEnable(4)
    ESC.Unlock(4)
    ESC.DelHeadSign(1)

    Scene.MAIN_TALKS_4(1, 9, 38, StringDB('ESS6423')) -- ESS=麥爾斯!!!
    Scene.MAIN_TALKS_3(4, 11, 1, StringDB('ESS6424')) -- ESS=楊大人，這小子交給我來對付。

    Scene.MAIN_TALKS_2(44, 11, 1, StringDB('ESS6425')) -- ESS=大膽狂民，竟敢在皇殿上動刀！%N麥爾斯，...

    Scene.MAIN_TALKS_3(4, 11, 1, StringDB('ESS6426')) -- ESS=賽特，你也太過分了。%N我竟然還指望你加...
    Scene.MAIN_TALKS_4(1, 9, 38, StringDB('ESS6427')) -- ESS=我一點也不稀罕你的期望。%N倒是你來中國...
    Scene.MAIN_TALKS_3(4, 11, 1, StringDB('ESS6428')) -- ESS=(歐洲話)%C5%N哈哈哈！以前我都只能...
    Scene.MAIN_TALKS_4(1, 9, 54, StringDB('ESS6429')) -- ESS=說起我們歐洲語來了，不敢說中文嗎？
    --  -- 麥爾斯（笑）：
    Scene.MAIN_TALKS_3(4, 11, 1, StringDB('ESS6430')) -- ESS=現在我要親自實現自己的意志！%N先奪取強...
    Scene.MAIN_TALKS_4(1, 9, 38, StringDB('ESS6431')) -- ESS=征服世界這麼有趣嗎？%N我永遠不會加入你...
    Scene.MAIN_TALKS_3(4, 11, 1, StringDB('ESS6432')) -- ESS=與我為敵，將是你一切痛苦的開端！
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)

    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)
    Scene.RemoveMainParty(4)
    Scene.BattleSupportOff(33) -- 張客
    Scene.BattleSupportOff(38) -- 鎮邪
    ESC.StartBattle('BS290')
    Scene.AddMainParty(2)
    Scene.AddMainParty(3)
    Scene.AddMainParty(4)
    Scene.BattleSupportOn(33) -- 張客
    Scene.BattleSupportOn(38) -- 鎮邪

    ESC.TakeActData(1 , 1501 , 77 , 0)
    ESC.TakeActData(4, -1, 67, 0)
    ESC.RoleMove(33, 40, 22)
    ESC.RoleMove(38, 41, 28)
    ESC.ChangeDIR(33, 6)
    ESC.ChangeDIR(38, 4)
    Scene.MAIN_TALKS_3(44, 11, 1, StringDB('ESS6433')) -- ESS=來人呀！快來人呀！%N快來殺反賊呀！

    ESC.ChangeRoleMap(592, 171, 0, 18+12, 41, 416, 8, 4)
    ESC.ChangeRoleMap(593, 171, 0, 18+12, 42, 416, 8, 4)
    ESC.ChangeRoleMap(594, 171, 0, 18+12, 43, 416, 8, 4)
    ESC.ChangeRoleMap(595, 171, 0, 18+12, 44, 416, 8, 4)
    ESC.ChangeRoleMap(203, 171, 0, 18, 44, 416, 8, 4)
    ESC.ChangeRoleMap(204, 171, 0, 18, 44, 416, 8, 4)
    ESC.ChangeRoleMap(252, 171, 0, 18, 44, 416, 8, 4)
    ESC.ChangeRoleMap(253, 171, 0, 18, 44, 416, 8, 4)
    ESC.RoleEnable(592)
    ESC.RoleEnable(593)
    ESC.RoleEnable(594)
    ESC.RoleEnable(595)
    ESC.RoleEnable(203)
    ESC.RoleEnable(204)
    ESC.RoleEnable(252)
    ESC.RoleEnable(253)
    Scene.SAR_ABSC(203 , 0)
    Scene.SAR_ABSC(204 , 0)
    Scene.SAR_ABSC(252 , 0)
    Scene.SAR_ABSC(253 , 0)

    ESC.SetRoleSpeed(592, 0 ) ESC.SetMoveHISpeed(592)
    ESC.SetRoleSpeed(593, 0 ) ESC.SetMoveHISpeed(593)
    ESC.SetRoleSpeed(594, 0 ) ESC.SetMoveHISpeed(594)
    ESC.SetRoleSpeed(595, 0 ) ESC.SetMoveHISpeed(595)
    ESC.SetRoleSpeed(203, 0 ) ESC.SetMoveHISpeed(203)
    ESC.SetRoleSpeed(204, 0 ) ESC.SetMoveHISpeed(204)
    ESC.SetRoleSpeed(252, 0 ) ESC.SetMoveHISpeed(252)
    ESC.SetRoleSpeed(253, 0 ) ESC.SetMoveHISpeed(253)
    ESC.TakeActData(44, -1, 8, 3)
    ESC.BatchMove2(9,
    44, 29, 24, -1, 0, 3,
    592, 39, 28+4, -1, 0, 0,
    593, 39, 31+4, -1, 0, 0,
    594, 41, 29+4, -1, 0, 0,
    595, 41, 32+4, -1, 0, 0,
    203, 31, 20, -1, 0, 3,
    204, 34, 20, -1, 0, 3,
    252, 31, 24, -1, 0, 3,
    253, 34, 24, -1, 0, 3)
    -- 賽特被圍

    Scene.MAIN_TALKS_4(1, 9, 22, StringDB('ESS6434')) -- ESS=可惜！今天雖難逃一死，卻不能為天下除一害...
    ESC.MBWait()
    ESC.AniPlay('fogg',false, false)
    ESC.AniUntil( 20)
    MediaFunc.PlaySound(223) -- 爆炸音效
    ESC.AniUntil( 50) -- 76

    ESC.FadeScreen(0 , 0 , 0, 30, 30, 30, 10)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(0, 0, 0x4000)
    -- ●密道內
    ESC.Progress_Off()
    ESC.GotoMap(297, 52, 131 , 1, 0, 1)
    -- 死賽特坐在地QQQQQQ上
    ESC.TakeActData(1 , 1501 , 74 , 0)

    ESC.ChangeRoleMap(36, -1, 0, 56, 131, 37, 0, 6)
    ESC.ChangeRoleMap(39, -1, 0, 50, 134, 39, 0, 7)
    ESC.ChangeRoleMap(38, -1, 0, 57, 137, 38, 0, 4)
    ESC.ChangeRoleMap(33, -1, 0, 56, 135, 33, 0, 4)
    Scene.BattleSupportOff(33) -- 張客
    Scene.BattleSupportOff(37) -- 夜行裝林明
    Scene.BattleSupportOff(38) -- 鎮邪
    ESC.RoleEnable(33)
    ESC.RoleEnable(36)
    ESC.RoleEnable(38)
    ESC.RoleEnable(39)

    ESC.ScreenHide()
    ESC.FadeScreen(30, 30, 30, 0, 0, 0, 20)
    ESC.FadeWait()
    ESC.Delay(2000)
    ESC.FadeClear()
    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.FitSize()
    Scene.Print_LF (1 ,9007 ,150 ,200 ,10 ,2,'%S2'..StringDB('ESS6435')) -- ESS=賽特大哥...賽特大哥...
    ESC.WaitDLG3(1)
    ESC.Delay(800)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.DLGClose(1)

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 40)
    ESC.FadeWait()

    ESC.Delay(300)
    ESC.TakeActData(1 , 1501 , 77 , 0)
    ESC.Delay(400)
    ESC.TakeActData(1 , 1501 , 75 , 0)
    ESC.Delay(300)
    ESC.TakeActData(1 , 1501 , 76 , 0)
    ESC.Delay(300)
    ESC.TakeActData(1 , 1501 , 75 , 0)
    ESC.Delay(300)
    -- （張客、王思月靠近）
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6436')) -- ESS=這....這是哪裏？
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS6437')) -- ESS=賽特，這裏是密道。%N我看情況不妙，所以...
    ESC.TakeActData(1 , 1501 , 77 , 0)
    ESC.Delay(400)
    ESC.TakeActData(1 , 1501 , 76 , 0)
    Scene.MAIN_TALKS_3(1, 9, 22, StringDB('ESS6438')) -- ESS=王姑娘，你怎麼也在這裏？
    ESC.TakeActData(39 , -1 , 78 , 0)
    Scene.MAIN_TALKS_2(39, 11, 3, StringDB('ESS6439')) -- ESS=賽特大哥．．．．。
    ESC.TakeActData(1 , 1501 , 77 , 0)
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS6440')) -- ESS=賽特，你傷的很重，別多說話。我們快走，免...
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(131, 131, 0x4000)
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS6441')) -- ESS=我把密道門關起來了，暫時別擔心。%N不過...
    ESC.TakeActData(1 , 1501 , 74 , 0)
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6442')) -- ESS=……我想回故鄉。%N…雖然沒有親人在那裏...
    Scene.MAIN_TALKS_2(39, 11, 7, StringDB('ESS6443')) -- ESS=我會陪你回去。所以你要趕快好起來喔！
    ESC.TakeActData(1 , 1501 , 77 , 0)
    ESC.Delay(400)
    ESC.TakeActData(1 , 1501 , 75 , 0)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6444')) -- ESS=可惜……皇上還是不想回頭。
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS6445')) -- ESS=大家都已經盡力了，%N大唐的命運就是這樣...
    Scene.MAIN_TALKS_3(1, 9, 29, StringDB('ESS6446')) -- ESS=我們學到的東西，希望可以長存下去。林明！...
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS4299')) -- ESS=賽特！
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6447')) -- ESS=希望你回到故鄉後，別忘了大唐的教訓。不過...
    Scene.MAIN_TALKS_1(37, 11, 0, StringDB('ESS6448')) -- ESS=我會記得。
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6449')) -- ESS=以後，大唐將進入戰亂時代。%N……張客，...
    Scene.MAIN_TALKS_4(33, 11, 0, StringDB('ESS6450')) -- ESS=你放心，我會安排的。
    Scene.MAIN_TALKS_2(39, 11, 3, StringDB('ESS6451')) -- ESS=不！賽特！
    ESC.TakeActData(1 , 1501 , 77 , 0)
    ESC.Delay(400)
    ESC.TakeActData(1 , 1501 , 76 , 0)
    Scene.MAIN_TALKS_3(1, 9, 14, StringDB('ESS6452')) -- ESS=……這…這樣就好，王姑娘，我知道你喜歡我...
    ESC.TakeActData(1 , 1501 , 73 , 0)
    ESC.TakeActData(39 , -1 , 77 , 0)
    --  王思月(大哭)：

    Scene.AddHead(39+10000, 3, 50, 460)
    Scene.MBOn(2 , 11, 0 , 140-10 , 390-30, 32*11+30, 6*11+45)
    ESC.DLGClose(10001)
    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(-1 ) ESC.DLGNoCloseKey()
    Scene.Print_LF(10001,9007,140-10,390-20,32,8,'%C5%S0'..StringDB('ESS4299')) -- ESS=賽特！
    ESC.WaitDLG3(10001)
    ESC.Delay(300)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 36)
    ESC.FadeWait()
    ESC.DelHead(39+10000, 3)
    ESC.MBOff(2 , 0)
    ESC.DLGClose(10001)

    ACH.SetAchievement("ACH_0_11")

    Scene.CHAP_12()
    ESC.SceneBreak()
::T6542::
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(171, 14, 31 , 1, 0, 3)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
end

function Scene.TALK6544()
    -- 事件1
    if GameFunc.GetFlag(534) then return end
    GameFunc.FlagOn(534)
    GameFunc.FlagOn(10)

    --  將一榮郡主面對書櫃
    ESC.TakeActData(4623, -1, 26, 0)

    ESC.RemoveParty(36 , 0 , '' , 37, 8, 7 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 87, 63, -1, 0, 4,
    36, 92, 63, -1, 0, 4)
    Scene.ScrollMapD(55, 43, 4, 4)
    ESC.ScrollMapWait()
    ESC.Delay(600)
    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(36, 7)
    Scene.ScrollMapD(107, 43, 8, 8)
    ESC.ScrollMapWait()
    ESC.Delay(600)
    ESC.ScrollMapToRole(1, 4, 4)
    Scene.MAIN_TALKS_3(1, 9, 17, StringDB('ESS6453')) -- ESS=哇！%N奇珍異寶丟的遍地都是，%N安祿山...
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6454')) -- ESS=據說安祿山富可敵國，%N不親眼看見還真是...
    ESC.ScrollMapWait()
    ESC.TurnFace(1, 36)
    ESC.TurnFace(36, 1)
    ESC.ChangeRoleMap(321, 289, 0, 38, 33, 5, 0, 0)
    ESC.ChangeRoleMap(320, 289, 0, 42, 35, 30, 0, 6)
    ESC.RoleEnable(321)
    ESC.RoleEnable(320)
    ESC.ChangeRoleMap(33, 291, 0, 33, 40, 33, 63, 0) -- 張客 石化
    ESC.ChangeRoleMap(34, 291, 0, 35, 41, 34, 63, 0) -- 慧榮 石化
    ESC.ChangeRoleMap(38, 291, 0, 37, 42, 38, 63, 0) -- 鎮邪 石化
    ESC.RoleEnable(33)
    ESC.RoleEnable(34)
    ESC.RoleEnable(38)
    ESC.ChangeScript(33, 'TALK6546')
    ESC.ChangeScript(38, 'TALK6546')
    ESC.ChangeScript(34, 'TALK6546')
    Scene.SAR_ROL(33, 1)
    Scene.SAR_ROL(34, 1)
    Scene.SAR_ROL(38, 1)
    Scene.SAR_TurnFace(33,0)
    Scene.SAR_TurnFace(34,0)
    Scene.SAR_TurnFace(38,0)
    GameFunc.FlagOff(10)
    ESC.AddParty(36)

end

function Scene.TALK6545()
    -- 慧榮等人的石像   使用化解石符後的劇情
    ItemFunc.AddItem(809, -1)
    Scene.SAR_ROL(33, 0)
    Scene.SAR_ROL(34, 0)
    Scene.SAR_ROL(38, 0)
    Scene.SAR_TurnFace(33,1)
    Scene.SAR_TurnFace(34,1)
    Scene.SAR_TurnFace(38,1)
    Scene.PlayACT(0, 320+16 , 240 , 6079 , 0)
    ESC.TILPA2(0, 10)
    ESC.FadeScreen( 0 , 0 , 0 , 10 , 6 , 28 , 30)
    ESC.TakeActData(38, -1, 0, 2)
    ESC.TakeActData(33, -1, 0, 6)
    ESC.TakeActData(34, -1, 0, 6)
    ESC.FadeWait()
    ESC.FadeScreen(10 , 6 , 28 , 0 , 0 , 0 , 40)
    ESC.FadeWait()
    ESC.FadeClear()

    ESC.BatchMove2(1,    36, 33, 45, 37, 0, 7)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)

    ESC.ChangeRoleMap(7, -1, 0, 38, 34, 7, 57, 0)
    ESC.RoleEnable(7)
    Scene.ScrollMapD(18, 23, 2, 2)
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6455')) -- ESS=哈哈哈！%N賽特，辛苦了。
    ESC.TurnFace(1, 7)
    ESC.TurnFace(36, 7)
    ESC.TurnFace(33, 7)
    ESC.TurnFace(34, 7)
    ESC.TurnFace(38, 7)
    ESC.ScrollMapWait()
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6456')) -- ESS=康那里士！？
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6457')) -- ESS=浪費你的體力，正是消滅你的好機會。
    -- ＜進入戰鬥＞
    ESC.MusicFadeMode(1, 45)
    ESC.StoryMusicOff()
    ESC.StartBattle('BS219')
    ESC.TakeActData(7, -1, 52, 0)
    ESC.TILPA1(7, 8)
    ESC.RoleDisable(7)
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6458')) -- ESS=哈哈哈哈～
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6459')) -- ESS=這惡魔，總是殺不死！
    ESC.TurnFace(33, 1)
    ESC.TurnFace(34, 1)
    ESC.TurnFace(38, 1)
    Scene.MAIN_TALKS_1(33, 11, 0, StringDB('ESS6460')) -- ESS=慚愧，多謝救命之恩。
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6461')) -- ESS=是撒旦害你們，我想我也脫不了關係。
    ESC.AddHeadSign(36, 0)
    ESC.ChangeDIR(36, 0)
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6270')) -- ESS=撒旦？
    ESC.DelHeadSign(36)
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS6462')) -- ESS=我聽說過，撒旦是西方最大的惡魔。
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6463')) -- ESS=唉，難怪遇到這麼多怪事。
    ESC.TurnFace(1, 36)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6464')) -- ESS=林明，之後可能很危險，%N跟你的關係又不...
    ESC.ChangeDIR(36, 4)
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6465')) -- ESS=咱們也努力了不算短的時間，現在我又怎麼能退縮。
    Scene.MAIN_TALKS_3(1, 8, 33, StringDB('ESS6466')) -- ESS=好吧，咱們一起走。
    Scene.MAIN_TALKS_1(34, 11, 0, StringDB('ESS6467')) -- ESS=嗯，只要找到安祿山謀反的證據，用不著在這...
    ESC.ScrollMapToRole(1, 2, 2)
    ESC.AddParty(33)
    ESC.AddParty(34)
    ESC.AddParty(36)
    ESC.AddParty(38)
    Scene.BattleSupportOn(33) -- 張客
    Scene.BattleSupportOn(34) -- 慧榮
    Scene.BattleSupportOn(37) -- 夜行裝林明
    Scene.BattleSupportOn(38) -- 鎮邪
    GameFunc.FlagOn(536)
    ESC.ScrollMapWait()
    ESC.ChangeScript(99, 'TALK2329')
    ESC.ChangeScript(96, 'TALK2330')
    ESC.ChangeScript(97, 'TALK2331')
    ESC.ChangeScript(98, 'TALK2331')
    GameFunc.FlagOff(10)
end

function Scene.TALK6546()
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.RemoveParty(36 , 0 , '' , 37, 0, 0 , 0xD100)
    ESC.TurnFace(36, 33)
    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6468')) -- ESS=咦？這些石像好眼熟。
    ESC.TurnFace(36, 1)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(36, Const.WALK)
    ESC.BatchMove2(2,
    1, 31, 42, 1, 0, 7,
    36, 33, 45, 37, 0, 7)
    ESC.AddHeadSign(1 , 0 ) ESC.Delay(750 ) ESC.DelHeadSign( 1)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(46, 46, 0x4000)

    Scene.MAIN_TALKS_3(1, 9, 35, StringDB('ESS6469')) -- ESS=是慧榮與張客！
    Scene.MAIN_TALKS_4(37, 11, 1, StringDB('ESS6470')) -- ESS=嗯，生龍活虎的，好像隨時會活過來似的。那...
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6471')) -- ESS=是嗎？我倒認為這石像就是他們幾個。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6472')) -- ESS=(賽特，這種妖術在中國也有，你不如問雨丹...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6473')) -- ESS=雨丹子！
    Scene.MAIN_TALKS_4(32, 11, 0, StringDB('ESS6474')) -- ESS=唉呀，賽特大人，那不是我幹的，你知道嘛！...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6475')) -- ESS=你知道這種法術？
    Scene.MAIN_TALKS_4(32, 11, 0, StringDB('ESS6476')) -- ESS=那……以前是有做一些符咒送人，要解也不是...
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6477')) -- ESS=我不會放你，你不救人我就把你處理掉。
    Scene.MAIN_TALKS_4(32, 11, 0, StringDB('ESS6478')) -- ESS=不！不用了，我給你新的符咒，不過使用後會...
    --  （賽特得到解石化符）    ...
    Scene.GetItem(809, '%T809.')
    ESC.WaitDLG(0)
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6479')) -- ESS=嗯，來試試看吧。
    ESC.ChangeScript(34, 'TALK6545')
    ESC.ChangeScript(33, 'TALK6545')
    ESC.ChangeScript(38, 'TALK6545')
    Scene.TALK6545()
end

function Scene.TALKT6546()
    ESC.ChangeQQ(1, Const.STAND)
    ESC.TurnFace(1, 33)
    if Function.GetItemCount(809)>0 then
        Scene.MAIN_TALKS_1(1, 8, 12, StringDB('ESS6480')) -- ESS=先幫張客他們解開石化。
        ESC.SceneBreak()
    end
    Scene.MAIN_TALKS_1(1, 8, 12, StringDB('ESS6481')) -- ESS=那石像好像是張客他們，我還是仔細研究一下...
    ESC.SceneBreak()
end

function Scene.TALK6547()
    ESC.FitSize()
    Scene.AutoPrint_C(14, StringDB('ESS6482')) -- ESS=別吵，我正在忙。
end

function Scene.TALK6548()
    -- 軍令
    Scene.SearchFlower(810)
    if Function.GetItemCount(811)>0 then
        Scene.TALK6550()
    end
end

function Scene.TALK6549()
    -- 起兵計畫書
    Scene.SearchFlower(811)
    if Function.GetItemCount(811)>0 then
        Scene.TALK6550()
    end
end

function Scene.TALK6550()
    Scene.MAIN_TALKS_1(34, 11, 0, ''..StringDB('ESS6483')) -- ESS=%T810.與%T811.%N．．．看來...
end

function Scene.TALK6551()
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS6484')) -- ESS=咦.......%N怎麼一轉眼黃雷就死了...
end

function Scene.TALK6552()
    if ESC.GetRoleToPosDistance(71, 39, 1) > 5 then Scene.MAIN_TALKS_1(1, 8, 0, StringDB('ESS6313')) ESC.SceneBreak() return end --  檢查主角是否在旁邊 ESS=好像距離太遠了。
    Scene.CHANGMAP3(71, 40)
    Scene.RoadFlag(StringDB('ESS6341')) -- ESS=　 王府大廳
end

function Scene.TALK6553()
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.SetRoleSpeed(36, 1)
    ESC.RemoveParty(36 , 0 , '' , 37, 8, 0 , 0xD100)

    ESC.BatchMove2(1,    36, 33, 23, -1, 0, 3)
    Scene.MAIN_TALKS_4(37, 11, 1, StringDB('ESS6485')) -- ESS=看！這邊有安祿山寫給黃雷的字條。
    Scene.MoveHero(34, 24, 7)
    Scene.MAIN_TALKS_1(1, 8, 23, StringDB('ESS6486')) -- ESS=嗯，我看看，上面寫著....
    Scene.MAIN_TALKS_1(1, 8, 23, StringDB('ESS6486B')) -- ESS=黃雷：%N%C2軍令書%C5和%C2起兵計劃書%C5看完後要藏好，等我一起兵時，就從%C2密道%C5通到皇宮去刺殺皇帝，知道嗎！
    Scene.MAIN_TALKS_2(33, 11, 1, StringDB('ESS6487')) -- ESS=這下可終於知道他們到底想幹什麼了！
    Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS6488')) -- ESS=我們得趕快向皇上稟報這件事！
    Scene.MAIN_TALKS_4(37, 11, 1, StringDB('ESS6489')) -- ESS=紙條下好像有一個特殊的機關，我來試試看！...
    ESC.RoleMove(1006, 28, 11)
    Scene.ScrollMapD(0, 0, 4, 4)
    ESC.ScrollMapWait()
    MediaFunc.PlaySound(56)
    ESC.RoleEnable(1006)
    ESC.TILPA1(1006 , 4)
    MediaFunc.PlaySound(58)
    --  樓梯換成單張ACT
    ESC.TakeActData(1006 , -1 , 79 , 0)
    ESC.RoleDisable(1001)
    ESC.ChangeDIR(1, 0)
    ESC.ChangeDIR(36, 0)
    Scene.MAIN_TALKS_4(37, 11, 0, StringDB('ESS6490')) -- ESS=原來是密道的機關！
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.RemoveParty(34 , 0 , '' , 34, 0, 0 , 0xD100)
    ESC.TurnFace(34, 1)
    ESC.Delay(300)
    Scene.MAIN_TALKS_3(34, 11, 1, StringDB('ESS6491')) -- ESS=我們得在安祿山起兵前，找到%C2軍令書%...
    Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS4856')) -- ESS=嗯！
    ESC.ScrollMapWait()
    ESC.AddParty(36)
    ESC.AddParty(34)
    Scene.QuestOff(120)
    Scene.QuestOn(121)
    GameFunc.FlagOn(7079)
    GameFunc.FlagOff(10)
end

function Scene.TALK6554()
    if GameFunc.GetFlag(7083) then goto T6554A end
    GameFunc.FlagOn(7083)
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 36)
    ESC.FadeWait()

    ESC.ScreenHide()
    ESC.FadeClear()
    ESC.Delay( 150)
    ESC.DLGNoFrame()  ESC.DLGNoPass()  ESC.DLGHoldTime(30) ESC.DLGNoCloseKey() ESC.FitSize()
    Scene.Print_LF (1 ,9007 ,250 ,200 ,10 ,2,StringDB('ESS6492')) -- ESS=另一邊...
    ESC.WaitDLG2(1)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 20)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.DLGClose(1)

    ESC.Progress_Off()
    ESC.GotoMap(288, 16, 28 , 1, 0, 0)
    ESC.StoryMusicOff()

    ESC.RoleHide(1)
    ESC.RoleHide(33)
    ESC.RoleHide(34)
    ESC.RoleHide(36)
    ESC.RoleHide(38)

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    Scene.ScrollMapD(0, 3, 2, 2)
    ESC.ScrollMapWait()
    ESC.FadeWait()

    ESC.ChangeRoleMap(39, 288, 0, 16, 31, 39, 8, 0)

    ESC.RoleEnable(39)
    ESC.BatchMove2(1,    39, 16, 26, -1, 0, 0)
    ESC.Delay(300)
    ESC.ChangeDIR(39, 7)
    ESC.Delay(300)
    ESC.ChangeDIR(39, 0)
    ESC.Delay(300)
    ESC.TurnFace(39 , 14)
    ESC.Delay(200)
    ESC.AddHeadSign(39, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(39)

    Scene.MAIN_TALKS_2(39, 8, 9, StringDB('ESS6493')) -- ESS=這…這不是黃雷嗎？%N黃雷！除了你的叛國之外，我還有我家族之仇也要一起算！
    Scene.MAIN_TALKS_1(14, 8, 2, StringDB('ESS6494')) -- ESS=吵死了！不是說過吃飯時再叫我，你沒看到我...

    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 5, 25, -1, 0, 6)
    ESC.Delay(300)
    --  （王思月順手拿起大花瓶，靠近黃雷）
    ESC.ChangeSpeed(39 , 0)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 7, 15, -1, 0, 4)


    Scene.MAIN_TALKS_2(14, 8, 2, StringDB('ESS6495')) -- ESS=要無限大的力量，來自於物質量乘以．．．．...
    --  （王思月把花瓶丟在黃雷頭上，花瓶破碎）
    Scene.SAR_ACTCycle(39 , 1)
    ESC.TakeActData(39 , 39 , 79, 0)
    ESC.Unlock(39)
    MediaFunc.PlaySound(175)
    ESC.TILPA1(39 , 3)
    ESC.RoleLock(39)
    Scene.WORD_ON_HEAD(39, 2, 40, -70, StringDB('ESS6496')) -- ESS=去死吧！
    ESC.Unlock(39)
    ESC.TILPA1(39 , 7)
    ESC.AddHeadSign(14 , 2)
    ESC.TakeActData(14 , -1 , 77 , 0)
    ESC.TakeActData(39 , -1 , 0 , 4)
    ESC.Delay(500)
    -- 黃雷血流滿面
    Scene.MAIN_TALKS_2(14, 8, 2, StringDB('ESS6497')) -- ESS=嗯……這就是地力！
    ESC.TakeActData(14 , -1 , 78 , 0)
    ESC.DelHeadSign(14)
    --  （黃雷倒地，王思月靠近看）
    ESC.AddHeadSign(39, 1)
    ESC.Delay(450)
    ESC.DelHeadSign(39)
    --  （王思月低頭，雙手合什）
    if not Scene.GetSceneFlag('HELL_BookRoomTalk') then
        Scene.MAIN_TALKS_4(39, 8, 6, StringDB('ESS6498')) -- ESS=爹，娘，弟弟妹妹，這個惡人終於死了，你們...
    else
        Scene.MAIN_TALKS_4(39, 8, 6, StringDB('ESS6498')) -- ESS=這個惡人終於死了，請爹在地下關照你吧。
    end
    ESC.ChangeScript(14, 'TALK6551')
    Scene.SAR_ROL(14, 1)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 36)
    ESC.FadeWait()
    ESC.RoleDisable(39)
    ESC.RoleShow(1)
    ESC.RoleShow(36)
    ESC.RoleShow(34)
    ESC.RoleShow(38)
    ESC.RoleShow(33)
    ESC.Progress_Off()
    ESC.GotoMap(297, 21, 78 , 1, 0, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.FadeWait()
    GameFunc.FlagOff(10)
::T6554A::
end

function Scene.TALK6600()
    -- 榮義郡主
    if not Scene.CheckParty(36) then goto T6600 end
    if GameFunc.GetFlag(529) then goto T6600 end
    GameFunc.FlagOn(529)
    ESC.RemoveParty(36 , 0 , '' , 37, 0, 0 , 0xD900)
    Scene.BatchWlak({ {1, 45, 58},{36,48, 57} })
    ESC.TakeActData(4623, -1, 27, 0)
    ESC.AddHeadSign(4623, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(4623)
    ESC.FitSize()
    Scene.AutoPrint_C(4623, StringDB('ESS6499')) -- ESS=你們是怎麼進來的？
    ESC.FitSize()
    Scene.AutoPrint_C(36, StringDB('ESS6500')) -- ESS=您是....榮義郡主？
    ESC.FitSize()
    Scene.AutoPrint_C(4623, StringDB('ESS6501')) -- ESS=你怎麼知道我是誰？
    Scene.M_PrintW_C(36, 8, 3, StringDB('ESS6502')) -- ESS=皇上要郡主下嫁安祿山之子安慶緒，全京城都...
    Scene.M_PrintW_C(4623, 10, 4, StringDB('ESS6503')) -- ESS=唉.....%N其實是為了把安慶緒留下來...
    Scene.M_PrintW_C(36, 8, 3, StringDB('ESS6504')) -- ESS=郡主您別難過了，%N我們是來找安祿山謀反...
    Scene.M_PrintW_C(4623, 8, 4, StringDB('ESS6505')) -- ESS=這陣子不少俠士來找証據，但這棟黃雷設計的...
    Scene.M_PrintW_C(36, 8, 4, StringDB('ESS6506')) -- ESS=郡主您知道怎樣出入這座大宅嗎？
    ESC.AddParty(36) -- 林明加入
::T6600::
    ESC.RemoveParty(36 , 0 , '' , 37, 0, 0 , 0xD900)
    Scene.BatchWlak({ {1, 45, 58},{36,48, 57} })
    Scene.M_PrintW_C(4623, 10, 4, StringDB('ESS6507')) -- ESS=安祿山大概是因為壞事做多了，所以這宅子到...

    Scene.M_PrintW_C(4623, 9, 2, StringDB('ESS6508')) -- ESS=我這邊有些草藥，幫你們恢復一些體力。
    Scene.Heal2()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(2)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,12,2,'%S0%K'..StringDB('ESS556')) -- ESS=恢復所有體力
    ESC.WaitDLG(0)
    ESC.FitSize()
    Scene.AutoPrint_C(36, StringDB('ESS6509')) -- ESS=多謝郡主。
    Scene.M_PrintW_C(4623, 9, 3, StringDB('ESS6510')) -- ESS=還有，最近黃雷帶來一西蠻人，會使用妖法，...
    ESC.AddParty(36) -- 林明加入
end

function Scene.TALK6601()
    Scene.ChangeMap(298, 48, 21, 5)
end

function Scene.TALK6602()
    Scene.ChangeMap(298, 86, 27, 6)
end

function Scene.TALK6603()
    Scene.ChangeMap(134, 43, 23, 3)
    Scene.RoadFlag(StringDB('ESS6511')) -- ESS=　客棧二樓
end

function Scene.TALK6604()
    Scene.ChangeMap(129, 54, 13, 2)
    Scene.RoadFlag(StringDB('ESS6512')) -- ESS=　客棧一樓
end

function Scene.TALK6605()
    Scene.ChangeMap(298, 114, 36, 6)
end

function Scene.TALK6606()
    Scene.ChangeMap(298, 35, 38, 5)
end

function Scene.TALK6609()
    Scene.ChangeMap(298, 24, 47, 5)
    GameFunc.FlagOff(583)
    if GameFunc.GetFlag(497) then goto T6609 end
    if not GameFunc.GetFlag(496) then goto T6609 end -- 判斷是不是找黃八
    if not GameFunc.GetFlag(493) then goto T6609D end -- 判斷找到沒
    GameFunc.FlagOn(497)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove2(2,
    40, 29, 52, -1, 0, 4,
    1, 25, 50, -1, 0, 5)
    ESC.TakeActData(40, -1, 0, 4)
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6513')) -- ESS=師叔，打聽的如何？
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6514')) -- ESS=聽說黑血狗黃八跑到長安避風頭，還聽說他最...
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6515')) -- ESS=長安！？那可遠了，我還沒去過那兒呢。
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6516')) -- ESS=沒關係，長安西市我待過一陣子，我可以帶路...
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6517')) -- ESS=嗯～不愧是師叔。
    ESC.AddParty(40)
    ESC.SceneBreak()
::T6609D::
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove2(2,
    40, 29, 52, -1, 0, 4,
    1, 25, 50, -1, 0, 5)
    ESC.TakeActData(40, -1, 0, 4)
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6513')) -- ESS=師叔，打聽的如何？
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6518')) -- ESS=還沒打聽到。
    ESC.AddParty(40)
    ESC.SceneBreak()
::T6609::
    if not Scene.CheckParty(34) then goto T6609A end
    ESC.AddParty(34)
::T6609A::
    if not Scene.CheckParty(39) then goto T6609B end
    ESC.AddParty(39)
::T6609B::
    if not Scene.CheckParty(40) then goto T6609C end
    ESC.AddParty(40)
::T6609C::
	if Scene.GetSceneFlag("TALK6614_RemoveParty34") == true then
		ESC.AddParty(34)
		Scene.SetSceneFlag("TALK6614_RemoveParty34", false)
	end	
	
	if Scene.GetSceneFlag("TALK6614_RemoveParty39") == true then
		ESC.AddParty(39)
		Scene.SetSceneFlag("TALK6614_RemoveParty39", false)
	end	
	
	if Scene.GetSceneFlag("TALK6614_RemoveParty40") == true then
		ESC.AddParty(40)
		Scene.SetSceneFlag("TALK6614_RemoveParty40", false)
	end	
	
end

function Scene.TALK6611()
    Scene.ChangeMap(9, 97, 28, 6)
end

function Scene.TALK6612()
    if GameFunc.GetFlag(213) then
        Scene.RoadFlag(StringDB('ESS6519')) -- ESS=　出洛陽城
    end
    GameFunc.FlagOff(213)
end

function Scene.TALK6613()
    if Scene.CheckQuest(303) then -- 到洛陽調查黑檀教據點
        Scene.Renew2016_camp_session5()
        return
    end

    Scene.ChangeMap(174, 9, 33, 7)
end

function Scene.TALK6614()
    if GameFunc.GetFlag(496) then goto T6614 end
    if not GameFunc.GetFlag(486) then goto T6614 end
    GameFunc.FlagOn(496)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6520')) -- ESS=師叔，請等一下。
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    40, 29, 52, -1, 0, 4,
    1, 25, 50, -1, 0, 5)
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS2497')) -- ESS=怎麼了？
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6521')) -- ESS=弟子是出家人，不能進入妓院的。
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6522')) -- ESS=那怎麼辦？
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6523')) -- ESS=師叔您沒有受佛門戒律，不受此限。
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6524')) -- ESS=真是……你早就打算要利用我。
    Scene.MAIN_TALKS_4(40, 8, 0, StringDB('ESS6525')) -- ESS=並非如此，弟子就是為此事回少林想請示佛祖...
    Scene.MAIN_TALKS_3(1, 8, 1, StringDB('ESS6526')) -- ESS=好好好，你就在外頭等著吧。
    ESC.TakeActData(1, -1, 0, 4)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.ChangePath(40, 640)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 23, 46)
    Scene.ChangeMap(128, 37, 62, 4)
    Scene.RoadFlag(StringDB('ESS6527')) -- ESS=　怡 春 院
    ESC.ChangeScript(99, 'TALK2301')
    ESC.ChangeScript(98, 'TALK2302')
    ESC.ChangeScript(97, 'TALK2302')
    ESC.ChangeScript(96, 'TALK2303')
    GameFunc.FlagOn(583)
    ESC.SceneBreak()
::T6614::
    if not Scene.CheckParty(34) then goto T6614A end -- 慧榮不在
    ESC.RemoveParty(34 , 640,'' , 34, 8, 2 , 0xD100)
	Scene.SetSceneFlag("TALK6614_RemoveParty34",true)
::T6614A::
    if not Scene.CheckParty(39) then goto T6614B end -- 王思月不在隊伍
    ESC.RemoveParty(39 , 640,'' , 39, 8, 2 , 0xD100)
	Scene.SetSceneFlag("TALK6614_RemoveParty39",true)
::T6614B::
    if not Scene.CheckParty(40) then goto T6614C end -- 悟緣不在
    ESC.RemoveParty(40 , 640 , '' , 40, 8, 2 , 0xD100)
	Scene.SetSceneFlag("TALK6614_RemoveParty40",true)
::T6614C::
    Scene.ChangeMap(128, 37, 62, 4)
    Scene.RoadFlag(StringDB('ESS6527')) -- ESS=　怡 春 院
    GameFunc.FlagOn(583)
end

function Scene.TALK6615()
    Scene.ChangeMap(137, 35, 23, 4)
    Scene.RoadFlag(StringDB('ESS6528')) -- ESS=　松 韻 居
end

function Scene.TALK6616()
    Scene.ChangeMap(129, 39, 40, 0)
    Scene.RoadFlag(StringDB('ESS6529')) -- ESS=　上御客棧
end

function Scene.TALK6617()
    Scene.ChangeMap(136, 27, 29, 0)
    Scene.RoadFlag(StringDB('ESS6530')) -- ESS=　雜 貨 舖
end

function Scene.TALK6618()
    Scene.ChangeMap(135, 31, 27, 0)
    Scene.RoadFlag(StringDB('ESS6531')) -- ESS=　回 春 堂
end

function Scene.TALK6701()
    Scene.ChangeMap(172, 54, 25, 1)
end

function Scene.TALK6702()
    -- 出客棧
    Scene.ChangeMap(173, 21, 26, 5)
end

function Scene.TALK6703()
    -- 1F-2F
    Scene.ChangeMap(122, 34, 17, 7)
    Scene.RoadFlag(StringDB('ESS6511')) -- ESS=　客棧二樓
end

function Scene.TALK6704()
    -- 2F->1F
    Scene.ChangeMap(121, 15, 10, 1)
    Scene.RoadFlag(StringDB('ESS6512')) -- ESS=　客棧一樓
end

function Scene.TALK6705()
    Scene.ChangeMap(172, 63, 26, 1)
end

function Scene.TALK6706()
    -- 1F-2F
    Scene.ChangeMap(127, 45, 15, 4)
    Scene.RoadFlag(StringDB('ESS6532')) -- ESS= 杜康居二樓
end

function Scene.TALK6707()
    -- 2F-1F
    Scene.ChangeMap(126, 49, 10, 6)
    Scene.RoadFlag(StringDB('ESS6533')) -- ESS= 杜康居一樓
end

function Scene.TALK6708()
    Scene.ChangeMap(173, 59, 23, 5)
end

function Scene.TALK6710()
    Scene.ChangeMap(173, 103, 20, 1)
end

function Scene.TALK6711()
    Scene.ChangeMap(7, 39, 66, 2)
    if GameFunc.GetFlag(502) then return end
    if GameFunc.GetFlag(501) then
        GameFunc.FlagOn(502)
    end
end

function Scene.TALK6712()
    Scene.ChangeMap(172, 2, 28, 3)
end

function Scene.TALK6713()
    Scene.ChangeMap(121, 22, 35, 0)
    Scene.RoadFlag(StringDB('ESS6534')) -- ESS=　悅來客棧
end

function Scene.TALK6714()
    Scene.ChangeMap(124, 49, 47, 4)
    Scene.RoadFlag(StringDB('ESS6530')) -- ESS=　雜 貨 舖
end

function Scene.TALK6715()
    Scene.ChangeMap(123, 30, 31, 0)
    Scene.RoadFlag(StringDB('ESS6535')) -- ESS=　長生藥房
end

function Scene.TALK6716()
    Scene.ChangeMap(7, 56, 65, 3)
    if GameFunc.GetFlag(502) then return end
    if GameFunc.GetFlag(501) then
        GameFunc.FlagOn(502)
    end
end

function Scene.TALK6717()
    Scene.ChangeMap(126, 26, 31, 0)
    Scene.RoadFlag(StringDB('ESS6536')) -- ESS=　杜 康 居
end

function Scene.TALK6719()
    Scene.ChangeMap(125, 23, 40, 7)
    Scene.RoadFlag(StringDB('ESS6537')) -- ESS=　蘭 律 閣
end

function Scene.TALK6720()
    Scene.ChangeMap(173, 116, 26, 2)
end

function Scene.TALK6721()
    -- 事件
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 2 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 56, 32, -1, 0, 4,
    40, 62, 29, -1, 0, 2)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(125, 0, 0x8000)
    ESC.FitSize()
    Scene.AutoPrint_C(40, StringDB('ESS1013')) -- ESS=怎麼回事？
    ESC.FitSize()
    Scene.AutoPrint_C(4611, StringDB('ESS6538')) -- ESS=有個強盜在店裏殺人哪！

    ESC.Caption(4612)
    Scene.Print_W(4612,9005,18,4,StringDB('ESS6539')) -- ESS=光天化日之下……，真是時代變了啊～。
    ESC.WaitDLG(4612)

    ESC.FitSize()
    Scene.AutoPrint_C(40, StringDB('ESS6540')) -- ESS=犯人是誰？

    ESC.Caption(4611)
    Scene.Print_W(4611,9005,18,8,StringDB('ESS6541')) -- ESS=一個叫%C2黑血狗黃八%C4的，聽說他加...
    ESC.WaitDLG(4611)

    ESC.Caption(40)
    Scene.Print_W(40,9005,20,6,StringDB('ESS6542')) -- ESS=哈！我倒想會會他們，看是他們的邪法厲害？...
    ESC.WaitDLG(40)

    ESC.Caption(1)
    Scene.Print_W(1,9005,12,4,StringDB('ESS6543')) -- ESS=有人知道黑壇教在哪裏嗎？
    ESC.WaitDLG(1)

    ESC.TurnFace(4615, 1)
    ESC.Caption(4615)
    Scene.Print_W(4615,9005,14,6,StringDB('ESS6544')) -- ESS=我聽說他們大多藏身在舊長安城廢墟。
    ESC.WaitDLG(4615)

    ESC.Caption(4611)
    Scene.Print_W(4611,9005,14,8,StringDB('ESS6545')) -- ESS=自從上次幾個大膽的人進去後就沒出來，現在...
    ESC.WaitDLG(4611)

    ESC.Caption(40)
    Scene.Print_W(40,9005,18,6,StringDB('ESS6546')) -- ESS=哈！%N誰也不敢靠近是嗎？我說啊～
    ESC.WaitDLG(40)

    ESC.TurnFace(1, 40)
    ESC.Caption(1)
    Scene.Print_W(1,9005,12,4,StringDB('ESS6547')) -- ESS=悟緣，%N辦正事要緊。
    ESC.WaitDLG(1)

    ESC.TurnFace(1, 4611)

    ESC.FitSize()
    ESC.Print(1,9005,StringDB('ESS6548')) -- ESS=舊長安城在那兒？
    ESC.WaitDLG(1)

    ESC.TurnFace(4613, 1)
    ESC.FitSize()
    Scene.AutoPrint_C(4613, StringDB('ESS6549')) -- ESS=長安外面%C2西南方%C4。
    ESC.Unlock(4613)

    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6550')) -- ESS=多謝。

    ESC.Caption(40)
    Scene.Print_W(40,9005,18,4,StringDB('ESS6551')) -- ESS=……才做幾天師叔，就會擺架子。
    ESC.WaitDLG(40)

    ESC.AddParty(40)

    ESC.ChangeScript(4611, 'TALK4611')
    ESC.ChangeQQ(4611, Const.WALK)
    ESC.ChangePath(4611, 649)

    ESC.ChangeScript(4612, 'TALK4612')
    ESC.ChangeQQ(4612, Const.WALK)
    ESC.ChangePath(4612, 641)

    ESC.ChangeQQ(4613, Const.WALK)
    ESC.ChangeScript(4613, 'TALK4613')
    ESC.ChangePath(4613, 643)

    ESC.ChangeScript(4614, 'TALK4614')
    ESC.ChangeQQ(4614, Const.WALK)
    ESC.ChangePath(4614, 642)

    ESC.ChangeScript(4615, 'TALK4615')
    ESC.ChangeQQ(4615, Const.WALK)
    ESC.ChangePath(4615, 648)


    Scene.SAR_TurnFace(4611 , 1)
    Scene.SAR_TurnFace(4612 , 1)
    Scene.SAR_TurnFace(4613 , 1)
    Scene.SAR_TurnFace(4614 , 1)
    Scene.SAR_TurnFace(4615 , 1)
    ESC.ChangeScript(250, 'TALK6722')
    ESC.ChangeScript(251, 'TALK6722')
    ESC.RoleDisable(4646)
    GameFunc.FlagOn(501) -- 打開洛陽廢墟事件
    Scene.QuestOff(101)
    Scene.QuestOn(102)
    -- 李靖換煉妖壺對話
    ESC.StoryMusicOff()
    ESC.ChangeScript(96, 'TALK2304')
end

function Scene.TALK6722()
    ESC.Caption(4610)
    Scene.Print_W(Const.TOWN,9005,7*2,2*2,StringDB('ESS6552')) -- ESS=我們在執行公務，請不要打擾！
    ESC.WaitDLG(Const.TOWN)
end

function Scene.TALK6801()
    Scene.ChangeMap(9, 27, 41, 1)
end

function Scene.TALK6802()
    Scene.ChangeMap(315, 74, 146, 0)
end

function Scene.TALK6803()
    Scene.ChangeMap(314, 18, 21, 6)
end

function Scene.TALK6804()
    -- 往迷宮2
    Scene.ChangeMap(316, 73, 145, 0)
end

function Scene.TALK6805()
    -- 事件點1
    if not GameFunc.GetFlag(520) then goto T6805 end
    if GameFunc.GetFlag(521) then goto T6805 end
    GameFunc.FlagOn(10)
    GameFunc.FlagOn(521)
    ESC.ChangeQQ(1, Const.STAND)
    -- 王思月的驚叫聲
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    MediaFunc.PlaySound(356)
    ESC.Delay(100)
    ESC.ChangeDIR(1, 0)
    ESC.AddHeadSign(1, 0)
    ESC.AddHeadSign(40, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1)
    ESC.DelHeadSign(40)
    ESC.TakeActData(1, -1, 0, 0)
    ESC.RoleMove(4617, 53-42, 67-11)
    ESC.RoleEnable(4617)
    ESC.ChangeRoleMap(321, -1, 0, 56-42, 67-11, 433, 0, 3)
    ESC.ChangeRoleMap(39, -1, 0, 63-42, 67-11, -1, 0, 2)
    ESC.RoleEnable(39)
    ESC.RoleEnable(321)
    ESC.ScrollMapToRole(4617, 8, 8)
    ESC.ScrollMapWait()
    ESC.ScreenLock()

    ESC.ChangeQQ(39, 1)
    ESC.TakeActData(39, -1, 7, 3)
    ESC.SetRoleSpeed(39, 2)
    ESC.SetRoleSpeed(321, 4)
    ESC.ChangeQQ(321, Const.WALK)
    ESC.BatchMove(2,
    39, 66-42, 67-11,
    321, 58-42, 67-11)
    ESC.ChangeQQ(321, Const.STAND)
    ESC.FitSize()
    Scene.AutoPrint_C(4617, StringDB('ESS6553')) -- ESS=嘿嘿嘿！
    ESC.RemoveParty(40 , 0 , '' , 40, 0, 0 , 0xD100)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.ChangeQQ(321, Const.WALK)
    ESC.SetRoleSpeed(321, 0)
    ESC.SetRoleSpeed(39, 0)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(2,
    321, 24, 38,
    39, 24, 38)
    ESC.RoleDisable(321)
    ESC.RoleDisable(39)
    ESC.FitSize()
    Scene.AutoPrint_C(4617, StringDB('ESS6554')) -- ESS=快追上她，抓到她！
    Scene.Print_W(4617,9005,14,6,StringDB('ESS6555')) -- ESS=哼！居然有女娃兒敢闖進來，這下有得樂了。...
    ESC.WaitDLG(4617)
    ESC.FitSize()
    ESC.Print(4617,9005,StringDB('ESS6556')) -- ESS=哈哈哈哈！
    ESC.WaitDLG(4617)
    ESC.SetMoveHISpeed(1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.SetRoleSpeed(1, 2)
    ESC.SetRoleSpeed(40, 0)
    ESC.BatchMove2(2,
    1, 14, 61, 1, 0, 4,
    40, 14+2, 59, 40, 0, 4)

    ESC.Caption(4617)
    Scene.Print_W(4617,9005,16,4,StringDB('ESS6557')) -- ESS=誰！%N你們是幹什麼的！
    ESC.WaitDLG(4617)

    Scene.M_PrintW_C(1, 5, 2, StringDB('ESS6558')) -- ESS=我們在找黑血狗王八。

    Scene.M_PrintW_C(4617, 7, 2, StringDB('ESS6559')) -- ESS=什麼王八？%N我是黃八！！！

    ESC.FitSize()
    Scene.M_PrintW_C(1, 6, 1, StringDB('ESS6560')) -- ESS=反正差不多。

    ESC.Caption(1014)
    Scene.Print_W(4617,9005,14,4,StringDB('ESS6561')) -- ESS=…你…你你你別想活著出去了！
    ESC.WaitDLG(4617)
    -- <戰鬥>
    -- （戰鬥結束後）
    ESC.StartBattle('BS230')
    ESC.RoleDisable(4617)
    ESC.TurnFace(1, 40)
    ESC.TurnFace(40, 1)
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS6562')) -- ESS=那個女施主好像有困難……
    Scene.MAIN_TALKS_2(1, 9, 33, StringDB('ESS6563')) -- ESS=嗯，去裏面看看。
    ESC.ScrollMapToRole(1, 4, 4)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    ESC.ChangeDIR(1, 3)
    ESC.AddParty(40)
    ESC.ChangeRoleMap(39, 316, 0, 124, 57, -1, 0, 1)
    Scene.QuestOff(102)
    Scene.QuestOn(103)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    GameFunc.FlagOff(10)
::T6805::
end

function Scene.TALK6806()
    -- 事件點2  於迷宮2
    if not GameFunc.GetFlag(521) then goto T6806 end
    if GameFunc.GetFlag(522) then goto T6806 end
    if not GameFunc.GetFlag(7084) then goto T6806 end -- 先要到裏面的房間過才行
    GameFunc.FlagOn(522)
    GameFunc.FlagOn(10)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 0 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(40, 0)
    ESC.BatchMove2(2,
    1, 122, 72, -1, 0, 3,
    40, 125, 72, -1, 0, 2)
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6564')) -- ESS=那女孩真難找。
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6565')) -- ESS=她會躲哪裏呢？
    ESC.RoleDisable(322)
    ESC.RoleDisable(4617)
    ESC.RoleMove(39, 124, 95)
    ESC.RoleEnable(39)
    ESC.ChangeRoleMap(322, 316, 0, 122, 55, 433, 8, 1)
    ESC.ChangeRoleMap(4617, 316, 0, 124, 55, -1, 8, 1)
    ESC.ChangeQQ(39, Const.RUN)
    ESC.SetRoleSpeed(39, 0)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove2(1,    39, 124, 82, -1, 0, 0)
    ESC.AddHeadSign(39, 0)
    ESC.Delay(100)
    ESC.DelHeadSign(39)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(40, 1)

    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    Scene.MAIN_TALKS_2(39, 11, 15, StringDB('ESS6566')) -- ESS=哇！這邊也有！
    ESC.ChangeQQ(39, Const.RUN)
    ESC.SetRoleSpeed(39, 0)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(1,    39, 109, 97)
    ESC.RoleDisable(39)

    ESC.RoleMove(4617, 125, 95)
    ESC.RoleMove(322, 122, 95)

    ESC.RoleEnable(4617)
    ESC.FitSize()
    Scene.AutoPrint_C(4617, StringDB('ESS6567')) -- ESS=別讓她溜了！
    ESC.RoleEnable(322)
    ESC.SetRoleSpeed(322, 1)
    ESC.SetRoleSpeed(4617, 1)
    ESC.BatchMove2(2,
    322, 122, 78, -1, 0, 0,
    4617, 125, 78, -1, 0, 4)
    Scene.M_PrintW_C(4617, 7, 2, StringDB('ESS6568')) -- ESS=剛才有沒有看見美女娃兒跑來？
    Scene.M_PrintW_C(40, 7, 2, StringDB('ESS6569')) -- ESS=現在我看見一對醜男跟我說話。
    Scene.M_PrintW_C(4617, 5, 2, StringDB('ESS6570')) -- ESS=……你們是什麼東西？
    Scene.M_PrintW_C(1, 9, 4, StringDB('ESS6571')) -- ESS=東西？%N你說的對，%N他是東邊的和尚，...
    Scene.M_PrintW_C(40, 5, 3, StringDB('ESS6572')) -- ESS=哈哈哈哈！……師叔您會錯意了。
    Scene.M_PrintW_C(4617, 5, 2, StringDB('ESS6573')) -- ESS=可惡！%N你們找死！
    -- 戰鬥
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.StartBattle('BS204')
    ESC.RoleDisable(322)
    ESC.RoleDisable(4617)
    ESC.TurnFace(1, 40)
    ESC.TurnFace(40, 1)
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6574')) -- ESS=這些道士可真邪門，%N我們得快找那女施主...
    ESC.ChangeDIR(1, 1)
    ESC.AddParty(40)
    GameFunc.FlagOff(10)
::T6806::
end

function Scene.TALK6807()
    -- 事件點3
    if not GameFunc.GetFlag(522) then return end
    if GameFunc.GetFlag(523) then return end
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.STAND)
    GameFunc.FlagOn(523)
    -- 碎花瓶聲
    ESC.ChangeRoleMap(39 , 315, 0, 99, 18, -1, 0, 6)
    ESC.RoleEnable(39)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 0 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.SetRoleSpeed(40, 1)
    ESC.BatchMove2(2,
    1, 95, 22, 1, 0, 7,
    40, 97, 24, 40, 0, 7)
    ESC.ChangeDIR(39, 6)
    ESC.AddHeadSign(39, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(39)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    Scene.MAIN_TALKS_3(1, 8, 15, StringDB('ESS6575')) -- ESS=終於找到妳了！
    Scene.MAIN_TALKS_1(39, 11, 2, StringDB('ESS6576')) -- ESS=哇！%N……不要靠近我！
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6577')) -- ESS=女施主，我們是來救妳的。
    Scene.MAIN_TALKS_1(39, 11,12, StringDB('ESS6578')) -- ESS=是嗎？%N你們是誰？%N會在這兒的都是可...
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6579')) -- ESS=妳才可疑呢！
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS6580')) -- ESS=別吵起來，%N我叫賽特，這位是悟緣，%N...
    Scene.MAIN_TALKS_1(39, 11,12, StringDB('ESS6581')) -- ESS=我叫做王思月，我是來抓賊的。
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6582')) -- ESS=抓賊？
    Scene.MAIN_TALKS_1(39, 11, 6, StringDB('ESS6583')) -- ESS=是在我家寄居的外國傳教士，他說要在長安建...
    Scene.MAIN_TALKS_3(1, 8, 35, StringDB('ESS6584')) -- ESS=傳教士？
    Scene.MAIN_TALKS_1(39, 11, 0, StringDB('ESS6585')) -- ESS=昨日我看到那傳教士好像抬了一包東西到這裏...
    Scene.MAIN_TALKS_3(1, 8, 23, StringDB('ESS6586')) -- ESS=長安城真是太安寧了，竟然年輕女子都敢到處...
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6587')) -- ESS=以前是還好……%N女施主啊！你可知現在治...
    Scene.MAIN_TALKS_1(39, 11, 8, StringDB('ESS6588')) -- ESS=當然，就是這樣我才不能放任這些壞人！
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6589')) -- ESS=女施主……%N難道您有什麼過人的本事？
    Scene.MAIN_TALKS_1(39, 11,12, StringDB('ESS6590')) -- ESS=別瞧不起我，我年幼時學過些劍法，尋常人可...
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6591')) -- ESS=那是年幼時，現在可不一樣，況且這些盜匪都...
    Scene.MAIN_TALKS_3(1, 9, 33, StringDB('ESS6592')) -- ESS=好了，我們出去吧。沒必要留在這。
    Scene.OpenGlassUp(11)
    Scene.AddPictureUp(39)
    Scene.Glass_SRC1(39, StringDB('ESS6593')) -- ESS=我偏要調查這兒，我跟蹤傳教士到這裏就不見...
    Scene.DelPictureUp(39)
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_2(40, 11, 1, StringDB('ESS6594')) -- ESS=還要我們跟著妳到處跑？
    Scene.MAIN_TALKS_1(39, 11, 8, StringDB('ESS6595')) -- ESS=又沒人要你們幫忙！
    ESC.ChangeQQ(39, Const.RUN)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(1,    39, 99, 26)
    ESC.ChangeDIR(1, 6)
    ESC.ChangeDIR(40, 6)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(1,    39, 74, 37)
    ESC.RoleDisable(39)
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6596')) -- ESS=真是……不懂事的大小姐。
    Scene.MAIN_TALKS_3(1, 9, 12, StringDB('ESS6597')) -- ESS=唉，既然幫到這裏了，就順便挑了這兒吧，幫...
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6598')) -- ESS=師叔說的是，佛家要以慈悲為懷。
    ESC.ChangeDIR(1, 0)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6599')) -- ESS=不知道有什麼方法可以弄開那個山壁？
    ESC.ChangeDIR(40, 0)
    ESC.Delay(200)
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6600')) -- ESS=我記得%C2長安西市雜貨鋪%C5有一位叫...
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS6601')) -- ESS=看來得找齊%C2四樣東西%C5後去找那位...
    ESC.AddParty(40)
    GameFunc.FlagOff(10)
    Scene.QuestOff(103)
    Scene.QuestOn(104)
end

function Scene.TALK6808()
    -- 往迷宮1
    Scene.ChangeMap(315, 22, 4, 1)
end

function Scene.TALK6809()
    -- 往ROOM6
    ESC.StoryMusicOff()
    Scene.ChangeMap(326, 35, 5, 6)
end

function Scene.TALK6810()
    -- 往人骨佛堂
    if GameFunc.GetFlag(542) then goto T6910A end -- 最後之戰
    if GameFunc.GetFlag(517) then
        Scene.ChangeMap(317, 23, 47, 0)
        return
    end
    GameFunc.FlagOn(517)
    GameFunc.FlagOn(10)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(317, 23, 48, 1, 8, 0)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 0 , 0xD100)
    ESC.RoleMove(25, 47, 71)
    ESC.ChangeRoleMap(39 , -1, 0, 14, 41, -1, 0, 7)
    ESC.ChangeRoleMap(7 , -1, 0, 24, 31, -1, 56, 0)
    ESC.RoleEnable(7)
    ESC.RoleEnable(39)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.BatchMove2(2,
    1, 21, 40, -1, 0, 7,
    40, 29, 41, -1, 0, 4)
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6602')) -- ESS=你是……康那里士！
    ESC.TakeActData(1, 98, 77, 0)
    ESC.TakeActData(7, -1, 0, 1)
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6603')) -- ESS=唉呀！賽特，這可真巧！
    Scene.MAIN_TALKS_2(39, 11, 9, StringDB('ESS6604')) -- ESS=康先生！%N你這是在幹什麼？%N你向我爹...
    -- 悟緣（面色鐵青）：
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6605')) -- ESS=這……這這是人人人…人骨做的……
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6606')) -- ESS=是新鮮的死人製成的。%N我把他們排成佛教...
    Scene.MAIN_TALKS_2(1, 9, 37, StringDB('ESS6607')) -- ESS=你不是來傳教的嗎，怎麼學起佛經來了？
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6608')) -- ESS=哈哈，你知道的，只是你還沒想起來而已。這...
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS2261')) -- ESS=我……？
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6609')) -- ESS=總有一天你會想起來的。
    Scene.MAIN_TALKS_2(1, 9, 39, StringDB('ESS6610')) -- ESS=不管怎麼說，莉蓮那筆帳我一定要跟你算！
    ESC.ChangeDIR(7, 5)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6611')) -- ESS=看看這可憐的小和尚。
    ESC.PlayACT(0, -120, -260, 6080, 1, 40) -- Scene.PlayACT(0, 320, 80, 6080, 1)
    MediaFunc.PlaySound(502)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    ESC.TILPA2(0, 30)
    ESC.TakeActData(40, -1, 62, 0)
    ESC.TakeActData(1, 1, 0, 5)
    ESC.ChangeDIR(39, 3)
    ESC.TILPA2(0, 40)
    MediaFunc.PlaySound(356)
    ESC.TakeActData(39, -1, 9, 2)
    ESC.BatchMove2(1,    39, 14-2, 41, -1, 0, 3)

    -- （康那里士手一指，悟緣倒下）
    Scene.MAIN_TALKS_2(1, 9, 39, StringDB('ESS6612')) -- ESS=悟緣！%N康那里士！你對他做了什麼。
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6613')) -- ESS=承受不起恐懼的人，就要接受黑暗的控制。
    -- （悟緣站起來，外表起了變化，外型變成了夜叉的模樣。）
    ESC.FitSize()
    Scene.AutoPrint_C(40, StringDB('ESS6614')) -- ESS=師叔...救我...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6615')) -- ESS=悟緣！你清醒一點！
    ESC.TakeActData(7, -1, 60, 0)
    Scene.MAIN_TALKS_1(7, 11, 0, StringDB('ESS6616')) -- ESS=賽特，你陪他慢慢玩吧。
    ESC.TILPA1(7, 8)
    ESC.RoleDisable(7)
    Scene.BattleSupportOff(40) -- 悟緣
    -- ＜跟悟緣開戰＞
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.StartBattle('BS202')
    -- （把悟緣打倒，結束戰鬥）
    -- （悟緣躺在地上）
    ACH.SetAchievement("ACH_0_9")
    ESC.TakeActData(40, 40, 66, 0)
    Scene.MAIN_TALKS_2(39, 11, 1, StringDB('ESS6617')) -- ESS=他死了嗎？

    Scene.MoveHero(26, 41, 3)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6618')) -- ESS=悟緣你沒事吧？
    ESC.TakeActData(40, -1, 65, 0)
    ESC.Unlock(40)
    ESC.TILPA1(40, 3)
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6619')) -- ESS=……嗚，我……我……
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6620')) -- ESS=看來身體沒什麼大礙，可能精神驚嚇過度。%...
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6620B')) -- ESS=悟緣，你還可以走路吧？
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6621')) -- ESS=可……可…以……

    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 22, 41, -1, 0, 3)
    Scene.MAIN_TALKS_2(39, 11, 1, StringDB('ESS6622')) -- ESS=他沒問題吧？%N可以先到我家去，我認識不...
    ESC.TurnFace(1, 39)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS6623')) -- ESS=好，而且我也想去妳府上，聽說康那里士借住...
    Scene.MAIN_TALKS_2(39, 11, 1, StringDB('ESS6624')) -- ESS=對呀！我爹說是他做官的朋友，介紹到我家的...
    Scene.MAIN_TALKS_1(1, 9, 34, StringDB('ESS6625')) -- ESS=中國的朋友？康那里士有認識什麼中國人嗎？...
    Scene.MAIN_TALKS_2(39, 11, 9, StringDB('ESS6626')) -- ESS=對啦！我爹那個朋友也是個怪人，他會做一些...
    Scene.MAIN_TALKS_1(1, 9, 12, StringDB('ESS6627')) -- ESS=難道是黃雷？！我記得麥爾斯想利用黃雷過，...
    ESC.TurnFace(1, 40)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 15, StringDB('ESS6628')) -- ESS=悟緣，聽到了嗎？我們要走了！
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6629')) -- ESS=嗯…啊…
    ESC.TurnFace(1, 39)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS6630')) -- ESS=妳家怎麼走？
    Scene.MAIN_TALKS_2(39, 11, 1, StringDB('ESS6631')) -- ESS=就在%C2長安城%C5的%C2東南角%C...
    ESC.ChangeDIR(1, 1)
    ESC.TakeActData(40, -1, 0, 2)
    ESC.AddParty(39)
    ESC.AddParty(40)
    GameFunc.FlagOff(10)
    Scene.QuestOff(107)
    Scene.QuestOn(108)
    ESC.ChangeScript(99, 'TALK2305')
    ESC.ChangeScript(98, 'TALK2306')
    ESC.ChangeScript(97, 'TALK2306')
    ESC.ChangeScript(96, 'TALK2307')

    ESC.SceneBreak()

::T6910A::
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    if GameFunc.GetFlag(98) then goto T6910Z end

    ESC.GotoMap(337, 24, 48, 1, 0, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    --  黃志榮加
    GameFunc.FlagOn(98) -----   第一次進 沒有人

    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 24, 38, -1, 0, 0)
    Scene.ScrollMapD(5, 11, 2, 2)

    ESC.ChangeRoleMap(8, -1, 0, 18, 40, 8, 60, 0)
    ESC.ChangeRoleMap(11, -1, 0, 20, 40, 11, 60, 0)
    ESC.ChangeRoleMap(17, -1, 0, 27, 40, 17, 60, 0)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.RoleEnable(17)
    ESC.TILPA1(17, 8)
    ESC.TakeActData(17, -1, Const.STAND, 0)
    ESC.TakeActData(8, -1, Const.STAND, 0)
    ESC.TakeActData(11, -1, Const.STAND, 0)
    ESC.Unlock(8)
    ESC.Unlock(11)
    Scene.MAIN_TALKS_1(1, 9, 16, StringDB('ESS6632')) -- ESS=這裏竟然變成這個樣子。
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6633')) -- ESS=撒旦他們是認真的。
    Scene.MAIN_TALKS_2(8, 11, 1, StringDB('ESS6634')) -- ESS=在這種地方建造人骨佛堂，還真有他們的。
    Scene.MAIN_TALKS_3(11, 11, 1, StringDB('ESS6635')) -- ESS=我不懂，這個什麼反曼陀羅陣到底有什麼功用...
    ESC.TurnFace(17, 1)
    ESC.Delay(300)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6636')) -- ESS=賽特，我們再去製作一個炸藥，把這裏給炸了...
    ESC.TurnFace(1, 17)
    ESC.Delay(300)
    Scene.MAIN_TALKS_3(1, 9, 55, StringDB('ESS5683')) -- ESS=好！
    ESC.ScrollMapWait()
    ESC.TakeActData(8, -1, 60, 1)
    ESC.TakeActData(11, -1, 60, 1)
    ESC.TakeActData(17, -1, 60, 1)
    ESC.Unlock(17)
    ESC.Unlock(11)
    ESC.Unlock(8)
    ESC.TILPA1(17, 8)
    ESC.RoleDisable(11)
    ESC.RoleDisable(8)
    ESC.RoleDisable(17)
    ESC.ScrollMapToRole(1, 8, 8)
    ESC.ChangeDIR(1, 1)
    ESC.ScrollMapWait()
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 26)
    ESC.BatchMove2(1,    1, 24, 48, -1, 0, 1)
    ESC.FadeWait()
    ESC.GotoMap(318, 29, 15, 1, 0, 1)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(124, 124, 0x4000)
    ESC.ChangeRoleMap(4 , -1, 0, 33, 29, 1, 0, 0)
    ESC.ChangeRoleMap(2 , -1, 0, 36, 32, -1, 0, 0)
    ESC.ChangeRoleMap(7 , -1, 0, 30, 32, -1, 0, 0)
    ESC.RoleEnable(4)
    ESC.RoleEnable(2)
    ESC.RoleEnable(7)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()

    ESC.AddHeadSign(1, 0)
    ESC.Delay(300)
    ESC.DelHeadSign(1)

    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 31, 22, -1, 0, 1)
    Scene.MAIN_TALKS_3(1, 8, 17, StringDB('ESS6637')) -- ESS=我？還有妮可？
    ESC.AddHeadSign(2, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(2)
    Scene.MAIN_TALKS_4(2, 3, 26, StringDB('ESS6638')) -- ESS=怎麼…怎麼有兩個賽特？
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6639')) -- ESS=賽特啊賽特……沒想到你又回來了，也難怪康...
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(54, 54, 0x4000)
    Scene.MAIN_TALKS_3(1, 9, 37, StringDB('ESS6640')) -- ESS=難道是……撒旦！？你用了我的肉體？
    Scene.MAIN_TALKS_4(2, 3, 22, StringDB('ESS6641')) -- ESS=撒旦！？
    ESC.ChangeDIR(2, 2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_4(2, 3, 40, StringDB('ESS6642')) -- ESS=康那里士！你騙我？你還說可以讓賽特復活？...
    ESC.ChangeDIR(7, 3)
    ESC.Delay(200)
    Scene.MAIN_TALKS_2(7, 11, 0, StringDB('ESS6643')) -- ESS=是啊，我說要讓賽特的肉體復活，我又沒說肉...
    ESC.ChangeQQ(2, Const.RUN)
    ESC.SetMoveHISpeed(2)
    ESC.BatchMove2(1,    2, 28, 22, -1, 0, 5)
    ESC.Unlock(2)
    ESC.ChangeDIR(7, 0)
    ESC.Delay(200)
    ESC.TakeActData(2, -1, 35, 0)
    ESC.Unlock(2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(2, 3, 35, StringDB('ESS6644')) -- ESS=賽特！對不起，賽特！
    ESC.TurnFace(1, 2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS6645')) -- ESS=唉，妳也太糊塗了吧？
    ESC.TakeActData(2, -1, 53, 0)
    ESC.Unlock(2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(2, 3, 35, StringDB('ESS6646')) -- ESS=嗚...可是...可是人家一直找不到你的...
    Scene.MAIN_TALKS_2(7, 11, 1, StringDB('ESS6647')) -- ESS=打情罵俏完了嗎？
    ESC.ChangeDIR(1, 1)
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6648')) -- ESS=妮可，回到我身邊來吧！原本你是我手下的一...
    ESC.TakeActData(2, -1, 0, 1)
    ESC.Unlock(2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(2, 3, 43, StringDB('ESS6649')) -- ESS=人家就是喜歡賽特！絕對不回你身邊！
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6650')) -- ESS=會咬主人的狗就不是好狗，看我怎麼收拾妳。...
    Scene.MAIN_TALKS_3(1, 9, 37, StringDB('ESS6651')) -- ESS=只要不順著你意，你就要摧毀？
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6652')) -- ESS=哦，賽特，原來你有了新的肉體……是天界人...
    Scene.MAIN_TALKS_2(7, 11, 1, StringDB('ESS6653')) -- ESS=看來是如此，除了他們，沒有人有這麼大的本...
    Scene.MAIN_TALKS_3(1, 9, 37, StringDB('ESS6654')) -- ESS=我是為了解決你們回來的，還有反曼陀羅陣。...
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6655'),1) -- ESS=哈哈哈，賽特，你難道不知道這反曼陀羅陣是...
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6655B'),3) -- ESS=當初你才啟動一部份的功能，就讓你獲得時光跳躍的能力了。
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6655C'),2) -- ESS=如果完全啟動，它就能夠干擾天理的因果定律。有這麼大的權力，你又何必再聽天界的？
    Scene.MAIN_TALKS_3(1, 9, 23, StringDB('ESS6656')) -- ESS=因果定律……？
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6657')) -- ESS=因果定律，天界定的鎖鏈，因為它，人不能隨...
    Scene.MAIN_TALKS_3(1, 9, 13, StringDB('ESS6658')) -- ESS=原來如此！但我不後悔我自己的選擇！
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6659')) -- ESS=想想吧！你還是想當天界的狗腿？
    Scene.MAIN_TALKS_3(1, 9, 55, StringDB('ESS6660')) -- ESS=難道當你的狗腿就好？
    Scene.MAIN_TALKS_4(1, 11, 10, StringDB('ESS6661')) -- ESS=哼！沒關係，以前需要你來操作反曼陀羅陣，...
--  （以賽特的圖拔劍）
    Scene.MAIN_TALKS_3(1, 9, 39, StringDB('ESS6662')) -- ESS=也就是說，現在不需要我了是吧？那就來吧！...
--  （賽特也拔劍）
    ESC.TakeActData(4, 98, 76, 0)
    ESC.Unlock(4)
    Scene.AddMainParty(2)
--
-- ＜進入戰鬥＞
--
-- （戰鬥中，撒旦用賽特的肉身使出賽特部分的絕招）
--
-- （最後打敗撒旦，賽特舊的肉身被消滅，撒旦再度出現）
--
-- 撒旦：很好！沒了肉身我也好辦事！
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(0, 0, 0x4000)
    ESC.StartBattle('BS291')
    ESC.RoleDisable(4)
    ESC.RoleDisable(7)
--
-- （說完撒旦消失，戰鬥勝利，回到地圖，原來的康那里士不知蹤影）
    ESC.ChangeDIR(2, 5)
    Scene.MAIN_TALKS_3(2, 3, 17, StringDB('ESS6663')) -- ESS=撒旦大人居然會打輸逃走？賽特你變的好強哦...
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(121, 121, 0x4000)
    Scene.TIK()
    ESC.AddHeadSign(1, 1)
    ESC.Delay(800)
    ESC.DelHeadSign(1)
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_1(1, 9, 36, StringDB('ESS6664')) -- ESS=不對！他去反曼陀羅陣了！
    Scene.MAIN_TALKS_3(2, 3, 17, StringDB('ESS6665')) -- ESS=那會怎麼樣？

    ESC.ChangeRoleMap(27, -1, 0, 30, 26, 27, 0, 0)
    ESC.ChangeRoleMap(920, -1, 0, 30, 27, 6064, 2, 0)
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 25)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(2, 5)
    ESC.RoleEnable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)

    Scene.MAIN_TALKS_4(27, 11, 0, StringDB('ESS6666')) -- ESS=賽特，你可能必須面對撒旦魔王的正身了，他...

    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusic(101, 101, 0x4000)

    ESC.ChangeRoleMap(27, -1, 0, 30, 26, 27, 0, 0)
    ESC.ChangeRoleMap(920, -1, 0, 30, 27, 6064, 2, 0)
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 25)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(2, 5)
    ESC.RoleDisable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)

    ESC.DLGNoPass()
    ESC.DLGHoldTime(6)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,5*2,2,StringDB('ESS6667')) -- ESS=軒轅劍開封
    ESC.WaitDLG(0)
    ItemFunc.AddItem(834, -1)
    ItemFunc.AddItem(580, 1)

    ESC.TurnFace(1, 2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 10, StringDB('ESS6668')) -- ESS=妮可！走吧！這將是跟撒旦的最後一戰了！
    ESC.TurnFace(2, 1)
    ESC.Unlock(2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(2, 3, 15, StringDB('ESS4856')) -- ESS=嗯！
    Scene.Nicole_Off()
    ESC.ChangeDIR(1, 0)
    GameFunc.FlagOff(10)
    GameFunc.FlagOn(7090)
    ESC.RoleEnable(99) -- 煉妖壺中諸角色
    Scene.SAR_TurnFace(99, 0)
    ESC.SceneBreak()

::T6910Z::
    ESC.GotoMap(337, 24, 48, 1, 0, 0)

    ESC.ChangeRoleMap(2 , -1, 0, 21, 48, 2, 16, 0)
    ESC.RoleEnable(2)
    ESC.ChangeRoleMap(4 , -1, 0, 24, 24, 4, 75, 0)
    ESC.RoleEnable(4)

    ESC.MusicFadeMode(2, 15)
    ESC.StoryMusic(57, 57, 0x4000)

    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 20)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.SetMoveHISpeed(2)
    ESC.BatchMove2(2,
    1, 24, 37, -1, 0, 0,
    2, 21, 38, -1, 0, 0)
    ESC.Unlock(2)
    ESC.FadeWait()

    Scene.ScrollMapD(5, 11, 2, 2)
    ESC.ScrollMapWait()
    -- （撒旦就坐在反犯陀羅陣的如來的位置。）
    -- （撒旦狂笑不已）
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6669')) -- ESS=賽特啊賽特，天上地下，三界之中，無人能像...
    Scene.Glass_SRC1(4, StringDB('ESS6670')) -- ESS=這個反曼陀羅陣可以讓人斷絕緣分，破壞因果，...
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS6671')) -- ESS=對，反曼陀羅陣是我設計的，我當然很清楚。但你知道我當時為何要離開你們嗎？
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671B')) -- ESS=你想說甚麼？
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS6671C')) -- ESS=其實反曼陀羅陣是個失敗品。因為怕你們會大失所望，所以我就偷溜了。
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671D')) -- ESS=我怎麼會怪你？多給你點時間沒問題的。
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9,12, StringDB('ESS6671E')) -- ESS=問題是，因果律目前只能延長，想要完全斷絕的話，沒有足夠的力量去推動。
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671F')) -- ESS=那麼到底要多少力量？
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS6671G'),1) -- ESS=把海水全蒸發，把滿天星光熄滅，把宇宙萬物壓扁為一沙粒。需要那以上的力量。
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6671H'),3) -- ESS=說穿了，就算知道方法，也只有神能做到。
    Scene.MAIN_TALKS_4(1, 9, 12, StringDB('ESS6671I'),2) -- ESS=我們想挑戰神，根本只是幻想，發現到這點想不清醒過來也不行。
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671J')) -- ESS=只有神能做到……！？%N你在騙我……你在騙我……你騙我！！
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 14, StringDB('ESS6671K')) -- ESS=你讀了我肉體的記憶，為何沒讀到我剛說的？
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671L')) -- ESS=胡說！你在胡說！給我住口！
    Scene.CloseGlassUp()
    Scene.MAIN_TALKS_4(1, 9, 4, StringDB('ESS6671M')) -- ESS=別不講理了，認清現實吧！
    Scene.OpenGlassUp(11)
    Scene.Glass_SRC1(4, StringDB('ESS6671N')) -- ESS=……看來，還是只能動用武力，把你帶回地獄了。
    Scene.CloseGlassUp()

    ESC.TakeActData(1, 98, 76, 0)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(92, 64, 0x2000)
    ESC.StartBattle('BS292')
    ACH.SetAchievement("ACH_0_12")
    -- Scene.Ending1()
-- end
-- 大結局
-- function Scene.Ending1()

    ESC.RoleDisable(4)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.ScrollMapToRole(1, 4, 4)

    ESC.ChangeRoleMap(27, -1, 0, 24, 42, 27, 0, 0)
    -- ESC.ChangeRoleMap(920, -1, 0, 23, 43, 6064, 2, 0)
    ESC.ScrollMapWait()
    -- ESC.RoleEnable(920)
    -- ESC.SeekACT(920, 1)
    -- ESC.TILPA1(920, 25)
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(2, 5)

    ESC.PlayACT(0, -144, -170, 6064, 1, 27)
    ESC.TILPA2(0, 25)
    ESC.RoleEnable(27)
    ESC.TILPA2(0, 49) -- ESC.TILPA1(920, 50)
    -- ESC.RoleDisable(920)


    Scene.MAIN_TALKS_4(27, 11, 0, StringDB('ESS6673')) -- ESS=把他關在你的煉妖壺，至少有九十九年他出不...
    Scene.MAIN_TALKS_3(2, 3, 23, StringDB('ESS6674')) -- ESS=怎麼不永遠關著他？
    Scene.MAIN_TALKS_4(27, 11, 0, StringDB('ESS6675')) -- ESS=一旦他力量足夠了，就會爭脫逃出來的。希望...
    Scene.MAIN_TALKS_1(1, 9, 18, StringDB('ESS6676')) -- ESS=要撒旦悔改？那可能得好幾萬年。
    Scene.Lee_On(27, 42, 4)
    ESC.Delay(200)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6677')) -- ESS=妮可，天界要安排你去轉世投胎。
    ESC.ChangeDIR(1, 5)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 16, StringDB('ESS6678')) -- ESS=妮可要轉世投胎？
    ESC.TakeActData(2, -1, 35, 0)
    ESC.Unlock(2)
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6679'),1) -- ESS=因為妮可要去面對以前她在魔界當魔將時所種...
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6679b'),2) -- ESS=因為妮可要去面對以前她在魔界當魔將時所種...
    Scene.MAIN_TALKS_3(2, 3, 35, StringDB('ESS6680')) -- ESS=賽特，到時候你一定要來找我哦！
    ESC.TurnFace(1, 2)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS6681')) -- ESS=我一定會去找你的！
    Scene.Kama_On(21, 41, 7)
    Scene.Ankh_On(27, 38, 6)
    Scene.MAIN_TALKS_2(8, 2, 1, StringDB('ESS6682')) -- ESS=賽特，我也要走了，我要到天界去守護著薇達...
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS4961')) -- ESS=嗯.....

    ESC.FadeScreen(0, 0, 0, 15, 13, 0, 10)
    MediaFunc.PlaySound(249)
    ESC.PlayACT(1, -6, -20, 6250, 79, 2) -- Scene.PlayACT(1, 17*16+12, 16*16, 6250, 79)
    ESC.PlayACT(1, -6, -20, 6250, 79, 8) -- Scene.PlayACT(1, 17*16+12, 20*16, 6250, 79)
    ESC.Delay(600)
    ESC.RoleDisable(2)
    ESC.RoleDisable(8)
    MediaFunc.PlaySound(308)
    ESC.PlayACT(1, -18, -44, 6250, 78, 2) -- Scene.PlayACT(1, 17*16, 16*16-24, 6250, 78)
    ESC.PlayACT(1, -18, -44, 6250, 78, 8) -- Scene.PlayACT(1, 17*16, 20*16-24, 6250, 78)
    ESC.FadeWait()
    ESC.FadeScreen(15, 13, 0, 0, 0, 0, 18)
    MediaFunc.PlaySound(267)
    ESC.PlayACT(1, 2, -36, 6250, 77, 2) -- Scene.PlayACT(1, 17*16+20, 16*16-16, 6250 , 77)
    ESC.PlayACT(1, 2, -36, 6250, 77, 8) -- Scene.PlayACT(1, 17*16+20, 20*16-16, 6250 , 77)
    ESC.FadeWait()
    ESC.FadeClear()

    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6683')) -- ESS=喵～卡瑪！再見了！

    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6684')) -- ESS=我還要幫助搖搖欲墜的大唐，要留在這，不送...
    ESC.TurnFace(1, 17)
    ESC.Delay(200)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6685')) -- ESS=那當然。
    Scene.MAIN_TALKS_4(17, 11, 0, StringDB('ESS6686')) -- ESS=請多保重，後會有期。
    ESC.PlayACT(0, 0, 0, 6017, 1, 17) -- Scene.PlayACT(0, 358, 330, 6017, 1)
    ESC.TILPA2(0, 20)
    ESC.RoleDisable(17)
    ESC.TILPA2(0, 44)

    Scene.MAIN_TALKS_2(27, 11, 1, StringDB('ESS6687')) -- ESS=賽特，為了維護你的新肉體，我必須在你身旁...
    ESC.ChangeDIR(1, 1)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS6688')) -- ESS=謝謝你。
    ESC.ChangeRoleMap(27, -1, 0, 24, 42, 27, 0, 0)
    -- ESC.ChangeRoleMap(920, -1, 0, 23, 43, 6064, 2, 0)
    -- ESC.RoleEnable(920)
    -- ESC.SeekACT(920, 1)
    -- ESC.TILPA1(920, 25)
    ESC.PlayACT(0, -144, -170, 6064, 1, 27)

    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(2, 5)
    ESC.RoleDisable(27)
    ESC.TILPA2(0, 49) -- ESC.TILPA1(920, 50)
    -- ESC.RoleDisable(920)
    ESC.Delay(1000)
    ESC.TurnFace(1, 11)
    ESC.Delay(800)
    Scene.MAIN_TALKS_3(1, 9, 15, StringDB('ESS6689')) -- ESS=安卡，你呢？
    ESC.TurnFace(11, 1)
    ESC.Unlock(11)
    Scene.MAIN_TALKS_4(11, 11, 0, StringDB('ESS6690')) -- ESS=不介意我跟著你吧！
    Scene.MAIN_TALKS_3(1, 9, 19, StringDB('ESS6691')) -- ESS=歡迎至極。
    Scene.Ankh_Off()
    ESC.ChangeDIR(1, 1)
    ESC.Delay(1000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 1)
    ESC.SetRoleSpeed(1, 4)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove(1,    1, 24, 48)
    ESC.FadeWait()

    -- Scene.Ending2()
-- end
-- function Scene.Ending2()
    ESC.Progress_Off()
    ESC.MusicFadeMode(2, 25)
    ESC.StoryMusicOff()
    ESC.GotoMap(340, 2, 27 , 1, 0, 2) -- 改換馬嵬坡
    ESC.ChangeRoleMap(36, -1, 0, 25, 22, 36, 0, 3)
    ESC.RoleEnable(36)
    Scene.SAR_Shadow(1, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 45)
    Scene.MoveHero(17, 24, 7)
    ESC.TurnFace(36, 1)
    ESC.AddHeadSign(36, 0)
    ESC.Delay(450)
    ESC.DelHeadSign(36)
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6692')) -- ESS=賽特？%N……你是人是鬼？怎麼可能……是...
    Scene.MoveHero(21, 23, 7)
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS6693')) -- ESS=哈哈哈，天界說我的任務沒完成前不能死，所...
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6694')) -- ESS=……有信教真好，看來我也該去信一個宗教。...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6695')) -- ESS=這跟信教無關。話說回來，最近是怎麼回事？...
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6696')) -- ESS=安祿山攻打到長安，皇帝與大官都連夜逃走，...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS6697')) -- ESS=惡人終有惡報！
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6698')) -- ESS=士兵們還說楊貴妃也是禍首，要皇帝賜死楊貴...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6699')) -- ESS=然後呢？
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6700')) -- ESS=皇帝不得已，要楊貴妃在小廟上吊自殺。
    ESC.ChangeDIR(36, 3)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(36, 11, 1, StringDB('ESS6701')) -- ESS=唉.....
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6702')) -- ESS=我其他朋友呢？你知道他們的下落嗎？
    ESC.TurnFace(36, 1)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6703')) -- ESS=現在天下大亂，張客與王思月已經成親了，他...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6704')) -- ESS=哦？
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6705')) -- ESS=少林寺的武僧全部出動，在四處平亂，聽說你...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6706')) -- ESS=那麼你有何打算？
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6707')) -- ESS=我正準備回國，你也是吧？
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS6708')) -- ESS=是啊，我還要把學來的知識帶回歐洲。
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6709')) -- ESS=我也真不明白，你當時何必做這麼大的犧牲？...
    Scene.OpenGlassDown(9)
    Scene.AddPicture2(1, 21)
    Scene.Glass_SRC2(1, StringDB('ESS6710')) -- ESS=也許吧...%N但中國皇帝對我真的不錯，...
    Scene.ChangeFace2(1, 21, 1, 19)
    Scene.Glass_SRC2(1, StringDB('ESS6711')) -- ESS=你還不是一樣，到這裏還守護著皇帝。
    Scene.DelPicture(1, 19)
    Scene.CloseGlassDown()
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6712')) -- ESS=哈哈哈……是啊。
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6713')) -- ESS=好了，希望還有再會之期。
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6714')) -- ESS=書信不及的距離，別抱太大期望。
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6715')) -- ESS=是啊～%N你要保重。
    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6716')) -- ESS=你也是。

    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 13, 25, -1, 0, 2)
    ESC.Delay(600)
    ESC.ChangeDIR(1, 7)
    ESC.Delay(300)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6717')) -- ESS=再見～，我會永遠記得這趟中國之旅的。

    Scene.MAIN_TALKS_1(36, 11, 0, StringDB('ESS6718')) -- ESS=我也會永遠記得，再見～。
    ESC.SetRoleSpeed(1, 3)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 56)
    ESC.BatchMove2(1,    1, 2, 27, -1, 0, 2)
    ESC.FadeWait()
    Scene.Ending3()
end
function Scene.Ending3()
--  (結束動畫)
    ESC.Progress_Off()
    ESC.GotoMap(341 , 1 , 1 , 1, 0, 0)
    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(131, 0, 0x8000)
    ESC.Delay(1000)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6719')) -- ESS=遠恩王子回去重建家園，看到大唐的災難，也...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(342 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()


    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6720')) -- ESS=肯迪的子孫成為伊斯蘭地區的大學者，以因果...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(343 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6721')) -- ESS=卡瑪守護薇達，與賽特度過十年歲月後逝世。...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(344 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6722')) -- ESS=段秀實以正直聞世，十多年後，接任節度使，...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(345 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6723')) -- ESS=悟緣發揚少林寺武學，協助禁衛軍平亂，但達...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(346 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6724')) -- ESS=王思月與張客成親以後，他們組成義勇軍在四...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(347 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6725')) -- ESS=賽特回到歐洲，運用他的知識智慧，協助查理...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(348 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6726')) -- ESS=妮可在歐洲出生後，有了一個新的名字。
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(353 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6727')) -- ESS=薇達死後多年，賽特找到轉世長大後的妮可，...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()
    ESC.GotoMap(349 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    ESC.DLGNoFrame()
    ESC.DLGNoPass() ESC.DLGHoldTime(60 ) ESC.DLGNoCloseKey()
    Scene.Print_SL(10001,9007,140-10,390-20,32,8,StringDB('ESS6728')) -- ESS=軒轅劍在賽特過完一生後，沒有人知道他的下...
    ESC.WaitDLG3(10001)
    ESC.Delay(2400)
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.DLGClose(10001)
    ESC.Progress_Off()


    ESC.GotoMap(350 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()
    ESC.Delay(3600)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(351 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()
    ESC.Delay(3600)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.Progress_Off()
    ESC.GotoMap(352 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()
    ESC.Delay(3600)

    ESC.MusicFadeMode(2, 20)
    ESC.StoryMusic(133, 0, 0x8000)

    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.Progress_Off()

    ESC.GotoMap(500 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()

    Scene.ScrollMapD(0, 20+20, 2, 2)
    ESC.ScrollMapWait()

    Scene.PlayACT(0, 464, 324 , 701, 0)
    Scene.ScrollMapD(0, 20+20*2, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464 , 76 , 701, 1)
    Scene.ScrollMapD(0, 20+20*3, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 76, 701, 2)
    Scene.ScrollMapD(0, 20+20*4, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 324 , 701, 3)

    Scene.ScrollMapD(0, 20+20*5, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464, 324 , 701, 4)
    Scene.ScrollMapD(0, 20+20*6, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464 , 76 , 701, 5)
    Scene.ScrollMapD(0, 20+20*7, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 76, 701, 6)
    Scene.ScrollMapD(0, 20+20*8, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 324 , 701, 7)

    Scene.ScrollMapD(0, 20+20*9, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464, 324 , 701, 8)
    Scene.ScrollMapD(0, 20+20*10, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464 , 76 , 701, 9)
    Scene.ScrollMapD(0, 20+20*11, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 76, 701, 10)
    Scene.ScrollMapD(0, 20+20*12, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 324 , 701, 11)

    Scene.ScrollMapD(0, 20+20*13, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464, 324 , 701, 12)
    Scene.ScrollMapD(0, 20+20*14, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464 , 76 , 701, 13)
    Scene.ScrollMapD(0, 20+20*15, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 76, 701, 14)
    Scene.ScrollMapD(0, 20+20*16, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 10 , 324 , 701, 15)

    Scene.ScrollMapD(0, 20+20*17, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464, 324 , 701, 16)
    Scene.ScrollMapD(0, 20+20*18, 2, 2)
    ESC.ScrollMapWait()
    Scene.PlayACT(0, 464 , 76 , 701, 17)

    Scene.ScrollMapD(0, 424, 2, 2)
    ESC.ScrollMapWait()
    ESC.ScreenLock()
    ESC.TakeActData(1, 701, 24, 0)
    ESC.RoleMove(1, 19, 443)
    ESC.RoleShow(1)
    ESC.Unlock(1)
    ESC.Delay(3000)

-- （秀完之後）

-- 康那里士的聲音傳來
    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    ESC.MusicFadeMode(2, 40)
    ESC.StoryMusic(125, 0, 0x8000)
    ESC.Delay(1000)
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()
    Scene.PlayACT(1, 17*16+20, 14*16-16, 10007, 6)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(1,9009,100,220,2*24,4,'%S1%C5'..StringDB('ESS6729')) -- ESS=　　無論天上地上創造出什麼經典或王道，%...
    ESC.WaitDLG3(1)
    ESC.Delay(4000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 8)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.DLGClose(1)
    ESC.MusicFadeMode(2, 10)
    ESC.Progress_Off()
    ESC.StoryMusicOff()
    ESC.GotoMap(354 , 1 , 1 , 1, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen( -30 , -30, -30, 0, 0, 0 , 4)
    ESC.FadeWait()
    ESC.Delay(5000)


    ESC.FadeScreen( 0 , 0, 0, -30, -30, -30 , 4)
    ESC.FadeWait()
    MediaFunc.PlaySound(311)
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 1)
    ESC.FadeWait()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(-1)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    ESC.StoryMusic(105, 0, 0x8000)
    Scene.Print_SL(1,9009,120,180,2*24,4,'%S1%C5'..StringDB('ESS6730')) -- ESS=　　誰...誰...誰快來放我出去......
    ESC.WaitDLG3(1)
    MediaFunc.PlaySound(311)
    ESC.Delay(5000)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 8)
    ESC.FadeWait()
    ESC.ScreenShow()
    ESC.DLGClose(1)

    GameFunc.FlagOff(10)
    ESC.StoryMusicOff()
    ESC.GameOver(1)
end
-- 迷宮1的房間通道
function Scene.TALK6811()
    Scene.ChangeMap(321, 36, 25, 4)
end

function Scene.TALK6812()
    Scene.ChangeMap(322, 28, 28, 0)
end

function Scene.TALK6813()
    Scene.ChangeMap(323, 18, 29, 7)
end

function Scene.TALK6814()
    Scene.ChangeMap(324, 18, 26, 0)
end

function Scene.TALK6815()
    Scene.ChangeMap(325, 16, 26, 0)
end

function Scene.TALK6816()
    if not GameFunc.GetFlag(525) then Scene.TALK6866() ESC.SceneBreak() end -- 洞口未打開
    Scene.ChangeMap(326, 9, 28, 7)
end

function Scene.TALK6817()
    Scene.ChangeMap(327, 9, 29, 7)
end

function Scene.TALK6818()
    Scene.ChangeMap(328, 31, 29, 4)
end

function Scene.TALK6819()
    if not GameFunc.GetFlag(501) then return end -- 西市事件未啟動
    if GameFunc.GetFlag(520) then return end  -- 已見過王思月入長安廢虛
    GameFunc.FlagOn(10)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 0 , 0xD100)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(2,
    1, 72, 132, 1, 0, 3,
    40, 75, 132, 40, 0, 2)
    ESC.FadeWait()
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS6731')) -- ESS=看來就是這兒了。%N這廢墟是漢代的長安城...
    Scene.MAIN_TALKS_2(1, 9, 11, StringDB('ESS6732')) -- ESS=好，咱們進去吧。
    -- 加上腳步聲
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS6733')) -- ESS=等等！有人來了。
    ESC.ScreenLock()
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove2(2,
    1, 89, 135, 1, 0, 2,
    40, 92, 135, -1, 0, 2)
    ESC.ChangeRoleMap(39, -1, 0, 73, 148, -1, 0, 0)
    ESC.RoleEnable(39)
    ESC.ScrollMapToRole(39, 2, 2)
    ESC.ScrollMapWait()
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove2(1,    39, 73, 140, 39, -1, 0)
    ESC.ChangeDIR(39, 4)
    ESC.Delay(450)
    ESC.ChangeDIR(39, 7)
    ESC.Delay(450)
    ESC.ChangeDIR(39, 4)
    ESC.Delay(450)
    ESC.ChangeDIR(39, 7)
    ESC.Delay(450)
    ESC.ChangeQQ(39, Const.WALK)
    ESC.BatchMove(1,    39, 73, 120-3)
    ESC.RoleDisable(39)
    Scene.ScrollMapD(70, 118, 4, 4)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.ChangeQQ(40, Const.WALK)
    ESC.BatchMove2(2,
    1, 89, 133, -1, 0, 3,
    40, 92, 133, 40, 0, 2)
    ESC.ScrollMapWait()
    ESC.ScreenUnlock()
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS6734')) -- ESS=這真的有點奇怪了……%N會不會是女鬼啊？...
    ESC.RoleDisable(4611)
    ESC.RoleDisable(4615)
    ESC.RoleDisable(322)
    ESC.RoleDisable(250)
    ESC.RoleDisable(251)
    ESC.AddParty(40)
    GameFunc.FlagOn(520)
    GameFunc.FlagOff(10)
end

function Scene.TALK6821()
    Scene.ChangeMap(331, 34, 29, 4)
end

function Scene.TALK6822()
    Scene.ChangeMap(333, 28, 28, 0)
end

-- 迷宮2的房間通道
function Scene.TALK6831()
    Scene.ChangeMap(332, 28, 28, 0)
end

function Scene.TALK6832()
    Scene.ChangeMap(334, 15, 26, 0)
end

function Scene.TALK6833()
    Scene.ChangeMap(329, 30, 23, 4)
end

function Scene.TALK6834()
    Scene.ChangeMap(330, 10, 28, 7)
    if GameFunc.GetFlag(7084) then return end -- 到過裏面的房間
    GameFunc.FlagOn(7084)
    Scene.MoveHero(19, 14, 0)
    ESC.Delay(400)
    ESC.ChangeDIR(1, 2)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 3)
    ESC.Delay(300)
    ESC.ChangeDIR(1, 1)
    ESC.Delay(500)
    ESC.RemoveParty(40 , 0 , '' , 40, 0, 7 , 0xD100)
    ESC.TurnFace(40, 1)
    ESC.TurnFace(1, 40)
    Scene.MAIN_TALKS_3(1, 9, 11, StringDB('ESS6735')) -- ESS=那女孩也沒躲在這裏。
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6736')) -- ESS=唉～，四處都找不到那女孩，希望她平安無事...
    ESC.AddParty(40)
end

function Scene.TALK6835()
    Scene.ChangeMap(319, 18, 29, 7)
end

function Scene.TALK6836()
    Scene.ChangeMap(320, 18, 26, 0)
end

function Scene.TALK6841()
    -- 人骨佛堂
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(318, 29, 15, 1, 0, 1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
end

function Scene.TALK6851()
    -- 迷宮房間1出口
    Scene.ChangeMap(315, 2, 23, 3)
end

function Scene.TALK6852()
    -- 迷宮房間2出口
    if GameFunc.MapID == 332 then goto T6852A end
    if GameFunc.MapID == 333 then goto T6852B end
    Scene.ChangeMap(315, 72, 5, 1 ) -- MAP 321
    ESC.SceneBreak()
::T6852A::
    Scene.ChangeMap(316, 24, 6, 1 ) -- MAP 332
    ESC.SceneBreak()
::T6852B::
    Scene.ChangeMap(315, 68, 94, 1 ) -- MAP 333
end

function Scene.TALK6853()
    -- 迷宮房間3出口
    if GameFunc.MapID == 319 then goto T6853 end
    Scene.ChangeMap(315, 46, 65, 6 ) -- MAP 323
    ESC.SceneBreak()
::T6853::
    Scene.ChangeMap(316, 69, 95, 1 ) -- MAP 319
end

function Scene.TALK6854()
    -- 迷宮房間4出口
    if GameFunc.MapID == 320 then goto T6854 end
    Scene.ChangeMap(315, 51, 20, 1 ) -- MAP 324
    ESC.SceneBreak()
::T6854::
    Scene.ChangeMap(316, 95, 110, 1 ) -- MAP 320
end

function Scene.TALK6855()
    -- 迷宮房間5出口
    if GameFunc.MapID == 334 then goto T6855 end
    Scene.ChangeMap(315, 10, 56, 1 ) -- MAP 325
    ESC.SceneBreak()
::T6855::
    Scene.ChangeMap(316, 74, 5, 1 ) -- MAP 334
end

function Scene.TALK6856()
    -- 迷宮房間6出口
    Scene.ChangeMap(315, 96, 14, 1)
end

function Scene.TALK6857()
    -- 迷宮房間7出口
    Scene.ChangeMap(315, 146, 20, 2)
end

function Scene.TALK6858()
    -- 迷宮房間8出口
    Scene.ChangeMap(315, 107, 89, 5)
end

function Scene.TALK6859()
    -- 迷宮房間9出口
    Scene.ChangeMap(316, 121, 13, 5)
end

function Scene.TALK6860()
    -- 迷宮房間10出口
    Scene.ChangeMap(316, 47, 66, 1)
end

function Scene.TALK6861()
    -- 迷宮房間11出口
    Scene.ChangeMap(315, 3, 132, 3)
end

function Scene.TALK6866()
    -- 迷宮房間六
    if not GameFunc.GetFlag(523) then goto T6866 end
    if Function.GetItemCount(815)>0 then
        goto T6866A
    end
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_4(1, 8, 23, StringDB('ESS6737')) -- ESS=看來得去找%C2%T812.%C5、%C...
    ESC.SceneBreak()
::T6866::
    ESC.ChangeQQ(1, Const.STAND)
    Scene.MAIN_TALKS_4(1, 8, 23, StringDB('ESS6738')) -- ESS=有風聲....也許這後面還有路。
    ESC.SceneBreak()
::T6866A::
    GameFunc.FlagOn(525)
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 96, 13, -1, 0, 0)
    Scene.MAIN_TALKS_4(1, 9, 22, ''..StringDB('ESS6739')) -- ESS=%T815.應該是要放在這裏吧。
    ESC.DLGNoFrame()
    Scene.RoadFlag(StringDB('ESS6740')) -- ESS=使用%T815.
    ItemFunc.AddItem(815, -1)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetRoleSpeed(40, 0)
    ESC.RemoveParty(40 , 0 , '' , 40, Const.WALK, 0 , 0xD100)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(2,
    1, 89, 31, -1, 0, 7,
    40, 91, 33, -1, 0, 7)
    ESC.Delay(450)
    MediaFunc.PlaySound(103) -- 爆炸音效
    ESC.ScreenShack(4, 8, 8, 0, 0, -8, 8, 0, 0, 0xFF00)
    ESC.Delay(600)
    ESC.ScreenShackStop()
    ESC.RoleDisable(4621)
    ESC.RoleEnable(4619)
    ESC.RoleDisable(4617)
    ESC.AddParty(40)
    GameFunc.FlagOff(10)
end

function Scene.TALK6871()
    -- 迷宮房間6往山行通道
    if GameFunc.GetFlag(524) then goto T6871 end
    GameFunc.FlagOn(524)
    GameFunc.FlagOn(10)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(318, 22, 72, 1, 8, 0)
    ESC.RemoveParty(40 , 0 , '' , 40, 8, 0 , 0xD100)
    ESC.RoleMove(40, 24, 72)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.BatchMove2(2,
    1, 22, 63, -1, 0, 0,
    40, 24, 63, -1, 0, 0)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6741')) -- ESS=這裏真是別有洞天。
    ESC.Delay(600)
    ESC.ChangeRoleMap(39 , 318, 0, 22, 73, -1, 0, 0)
    ESC.RoleEnable(39)
    ESC.Delay(300)
    Scene.MAIN_TALKS_4(39, 11, 14, StringDB('ESS6742')) -- ESS=我還在想是誰炸開了洞穴，原來是你們。
    ESC.ChangeDIR(1, 1)
    ESC.ChangeDIR(40, 1)
    Scene.MAIN_TALKS_1(40, 11, 0, StringDB('ESS6743')) -- ESS=施主，裏面也許危險，你還是在洞外等待。
    Scene.MAIN_TALKS_4(39, 11, 12, StringDB('ESS6744')) -- ESS=我偏不要。
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(111, 111, 0x4000)
    ESC.ChangeQQ(39, Const.RUN)
    ESC.SetMoveHISpeed(39)
    ESC.BatchMove(1,    39, 29, 62)
    ESC.ChangeDIR(1, 7)
    ESC.ChangeDIR(40, 7)
    ESC.SetMoveHISpeed(39)
    ESC.ChangeQQ(39, Const.RUN)
    ESC.BatchMove(1,    39, 24, 44)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6745')) -- ESS=大唐的女孩子都會這樣亂跑嗎。
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6746')) -- ESS=我想她比較特別吧。
    -- 王思月的驚叫聲
    MediaFunc.PlaySound(356)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(122, 122, 0x4000)
    ESC.Delay(300)
    Scene.MAIN_TALKS_2(1, 9, 31, StringDB('ESS6747')) -- ESS=唉，又來了。
    Scene.MAIN_TALKS_4(40, 11, 0, StringDB('ESS6748')) -- ESS=師叔，好人作到底吧。
    ESC.RoleDisable(39)
    ESC.AddParty(40)
    ESC.RoleDisable(4617)
    Scene.QuestOff(106)
    Scene.QuestOn(107)
    GameFunc.FlagOff(10)
    ESC.SceneBreak()
::T6871::
    Scene.ChangeMap(318, 21, 72, 0)
end

function Scene.CHAP_12()
    -- 賽特回憶
    -- 建議...1.受封騎士
    --  2.菲力斯安慰賽特失戀 (或莉蓮之死)
    --  3.薇達的船夜景
    --  4.初遇肯迪
    --  5.石國王子大帳
    --  6.段秀實與高仙芝力爭的場景

    ESC.RoleDisable(4)
    ESC.RoleDisable(44)
    ESC.RoleDisable(592)
    ESC.RoleDisable(593)
    ESC.RoleDisable(594)
    ESC.RoleDisable(595)
    ESC.RoleDisable(204)
    ESC.RoleDisable(253)
    ESC.RoleDisable(252)
    ESC.RoleDisable(203)

    ESC.RoleDisable(34)
    ESC.RoleDisable(36)
    ESC.RoleDisable(38)
    ESC.RoleDisable(39)
    ESC.RoleDisable(33)
    ESC.RoleDisable(41)
    ESC.RoleDisable(43)

    ESC.TakeActData(1, 1, 0, 0)

    ItemFunc.AddItem(810, -1)
    ItemFunc.AddItem(811, -1)
    ESC.Progress_Off()
    ESC.GotoMap(335, 29, 28 , 91, 0, 0)
    ESC.ScreenHide()
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()

    ESC.PlayVedio('dying') -- 死前回憶動畫

    Scene.RemoveMainParty(2)
    Scene.RemoveMainParty(3)
    Scene.RemoveMainParty(4)

    ESC.Delay(1000)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(40)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(1,9009,180,220,2*14,2,'%S1%C5'..StringDB('ESS6749')) -- ESS=歌？....有人在唱歌......
    ESC.WaitDLG3(1)
    ESC.Delay(1600)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 26)
    ESC.FadeWait()
    ESC.ScreenShow()
    Scene.SAR_Shadow(1, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 50)
    ESC.DLGClose(1)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(1,9009,240,200,2*8,6,'%S2%C5'..StringDB('ESS6750')) -- ESS=長相思，在長安，絡緯秋啼金井蘭凝霜淒淒簟...
    ESC.WaitDLG3(1)
    ESC.FadeWait()
    ESC.DLGClose(1)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(60)
    ESC.DLGNoCloseKey()
    ESC.DLGNoFrame()
    Scene.Print_SL(66,9009,240,200,2*8,6,'%S0%C5'..StringDB('ESS6751')) -- ESS=孤燈不眠思欲絕，卷帷望月空長嘆美人如花隔...
    Scene.MAIN_TALKS_1(1, 9, 22, StringDB('ESS6752')) -- ESS=這是那兒？%N我……已經死了嗎？這裏是西...
    ESC.DLGClose(66)
    Scene.MAIN_TALKS_3(66, 11, 0, StringDB('ESS6753')) -- ESS=上有青冥之長天，下有淥水之波瀾，%N天長...
    ESC.ChangeDIR(1, 4)
    Scene.MAIN_TALKS_1(1, 9, 20, StringDB('ESS6754')) -- ESS=唱得真好，雖然我不是很清楚詞句的意思，但...
    ESC.ChangeDIR(66, 5)
    Scene.MAIN_TALKS_3(66, 11, 1, StringDB('ESS6755')) -- ESS=這首詩叫做長相思，是我作的。
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS6756')) -- ESS=真的是好詩。
    Scene.MAIN_TALKS_3(66, 11, 1, StringDB('ESS6757')) -- ESS=朋友，謝謝你懂得欣賞我的詩，要不要進屋喝...
    Scene.MAIN_TALKS_1(1, 9, 14, StringDB('ESS6758')) -- ESS=我叫做賽特，請問您是？
    Scene.MAIN_TALKS_3(66, 11, 1, StringDB('ESS6759')) -- ESS=我是李白。
    ESC.AddHeadSign(1, 1)
    ESC.TakeActData(1, -1, 61, 0)
    ESC.Unlock(1)
    Scene.MAIN_TALKS_1(1, 9, 12, StringDB('ESS6760')) -- ESS=李白……
    ESC.ChangeQQ(66, Const.WALK)
    ESC.BatchMove2(1,    66, 38, 25, -1, 0, 0)
    ESC.ChangeRoleMap(66, 336, 0, 28, 22, 66, 0, 2)
    ESC.DelHeadSign(1)
    ESC.TakeActData(1, -1, 0, 4)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1)
    ESC.TakeActData(1, -1, 0, 7)
    ESC.Delay(200)
    Scene.MAIN_TALKS_1(1, 9, 16, StringDB('ESS6761')) -- ESS=名詩人李白？！
    GameFunc.FlagOn(23) -- 鎖住進煉妖壺
    GameFunc.FlagOff(10)
    Scene.QuestOff(121)
end
-- test GameFunc.RunEvent("TALK66")
function Scene.TALK66()
    if false then
        ESC.RoleEnable(919)
        ESC.GotoMap(240, 19, 22 , 91, 0, 0)
        ESC.TakeActData(919, 27, 0, 1)


        --goto test
    end
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 23, 22, -1, 0, 3)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6762')) -- ESS=你就是有名的詩人李白！？
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6763')) -- ESS=嗯，你認識我？但你看來不像中土人士，是來...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS4916')) -- ESS=嗯……
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6764')) -- ESS=唉！我也是離家之人，在這種夕照下，就會想...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6765')) -- ESS=我……我是回不去了。
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6766')) -- ESS=現在戰爭四起，民不聊生，你要走也難啊……...
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6767')) -- ESS=戰爭……已經戰爭了？
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6768')) -- ESS=是啊，安祿山起兵造反，已經好幾年了。
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6769')) -- ESS=這....好幾年了！？已經這麼久了！
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6770')) -- ESS=你並非中國人，還能懂我的詩，可見你是下了...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6771')) -- ESS=我是為了學習而來的。
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6772'),1) -- ESS=我國曾有玄奘法師西去取經，讓文化得以更繁...
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6772B'),2) -- ESS=我國曾有玄奘法師西去取經，讓文化得以更繁...
    --  （李白拿出一把劍。）
    ESC.ChangeQQ(66, Const.WALK)
    ESC.BatchMove2(1,    66, 26, 22, -1, 0, 2)
    ESC.TakeActData(66, -1, 7, 3)
    ESC.BatchMove2(1,    66, 28, 22, -1, 0, 2)
    --  （說舉著這把劍）
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6773')) -- ESS=劍光映著自己的心，可赤裸裸的看著自己，看...
    --  （賽特接過劍）
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6774')) -- ESS=謝謝，可是．．．．
    Scene.MAIN_TALKS_1(66, 11, 0, StringDB('ESS6775')) -- ESS=這把劍雖然只是普通的便宜貨，但是我給他取...
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6776')) -- ESS=……%C2軒轅劍%C5！？
    ESC.FadeScreen(0, 0, 0, 30, 30, 30, 6)
    ESC.FadeWait()
    ESC.ScreenLock()
    ESC.RoleMove(1, 24, 21)
    ESC.TakeActData(1, 624, 8, 0)
    ESC.FadeScreen(30, 30, 30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.AddHeadSign(66, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(66)

    Scene.MAIN_TALKS_1(66, 8, 0, StringDB('ESS6777'),1) -- ESS=……人呢！？
    Scene.MAIN_TALKS_1(66, 8, 0, StringDB('ESS6777B'),2) -- ESS=難道是見鬼了……
    --  （左看右看）
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 26)
    ESC.FadeWait()
    ESC.SceneMusic(240, 92, 92, 0x4000) -- 【地圖音樂】更換地圖音樂（天山）
    ESC.ScreenUnlock()
    ESC.Progress_Off()

    ESC.GotoMap(240, 19, 22 , 91, 0, 0)
    ESC.TakeActData(919, 27, 0, 1)
    ESC.ChangeRoleMap(320, -1, 0, 23, 17, 4, 76, 0)
    ESC.RoleEnable(320)
    ESC.RoleHide(1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 46)
    ESC.FadeWait()

    ESC.ChangeRoleMap(94, -1, 0, 19+1, 22-1, 6502, 0, 0)
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 14)
    ESC.RoleShow(1)
    ESC.TILPA1(94, 20)
    ESC.RoleDisable(94)

    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6778')) -- ESS=賽特，總算召喚到你了。
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6779')) -- ESS=這裏是天山！？這是怎麼回事？我不是死了嗎...
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6780')) -- ESS=你死後靈魂四處漂泊，直到剛才你想到%C2...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6781')) -- ESS=我……但是我已經死了。
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6782')) -- ESS=那是你該要經歷的，有這種覺悟，你才能去解...
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6783')) -- ESS=…我的問題……
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6784')) -- ESS=你的記憶還很模糊，那是你死之後的不習慣而...
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6785')) -- ESS=……好像跟撒旦有關……
    ESC.ChangeDIR(1, 7)
    ESC.Delay(100)
    ESC.AddHeadSign(1, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_2(1, 9, 37, StringDB('ESS6786')) -- ESS=麥爾斯為什麼在這裏？
    -- 天使長米迦勒
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6787')) -- ESS=哈哈哈！我不是麥爾斯。
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6788')) -- ESS=他是大天使米迦勒，跟撒旦是雙生兄弟。
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6789')) -- ESS=嗯，我有聽過這傳說……移動島上雕刻的石像...
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6790'),1) -- ESS=是的，撒旦以前原本也是天使，但是他驕傲起...
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6790B'),2) -- ESS=唉～，我跟他以前是心連心，現在我和他已經互相不了解了。
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS6791')) -- ESS=他想做什麼？
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6792')) -- ESS=因為是你起的因。
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6793')) -- ESS=……我…我起的因？
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6794'),1) -- ESS=你前世替撒旦創造了反曼陀羅陣，他率領魔界...
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6794B'),2) -- ESS=但他不死心仍想捲土重來，所以我們讓你重新投胎下凡，自己面對自己的因果。
    ESC.AddHeadSign(1, 1)
    ESC.Delay(450)
    ESC.DelHeadSign(1)
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6795')) -- ESS=反曼陀羅陣....對了！我想起來了！是我...
    Scene.MAIN_TALKS_1(4, 11, 4, StringDB('ESS6796')) -- ESS=去找到他，你就會知道...
    ESC.FadeScreen(0, 0, 0, 15, 13, 0, 10)
    MediaFunc.PlaySound(249)
    ESC.PlayACT(1, -6, -20, 6250, 79, 320) -- Scene.PlayACT(1, 23*16+12, 16*16, 6250, 79)
    ESC.Delay(600)
    ESC.RoleDisable(320)
    MediaFunc.PlaySound(308)
    ESC.PlayACT(1, -18, -44, 6250, 78, 320) -- Scene.PlayACT(1, 23*16, 16*16-24, 6250, 78)
    ESC.FadeWait()
    ESC.FadeScreen(15, 13, 0, 0, 0, 0, 18)
    MediaFunc.PlaySound(267)
    ESC.PlayACT(1, 2, -36, 6250 , 77, 320) -- Scene.PlayACT(1, 23*16+20, 16*16-16, 6250 , 77)
    ESC.FadeWait()
    ESC.FadeClear()
    --  （說完閃光消失）
    ESC.Delay(500)
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6797')) -- ESS=賽特，我必須再造一個你的肉身。
    ESC.ChangeDIR(1, 0)
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6798')) -- ESS=這……這可能嗎？
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6799')) -- ESS=因為事關天界，才開此特例。這很耗用能量，...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS6800')) -- ESS=命不該絕是嗎？不過，這肉身能給我用多久？...
    Scene.MAIN_TALKS_1(27, 11, 0, StringDB('ESS6801')) -- ESS=可以再用三十年，你好好把握。
    ESC.PlayACT(0, -144, -170, 6064, 1, 1)  -- Scene.PlayACT(1, 180, 186, 6064, 1)
    MediaFunc.PlaySound(249) -- 軒轅劍仙消失
    ESC.TILPA2(0, 25)
    ESC.TILPA2(0, 49)
    ESC.TakeActData(1, 1, 0, 0)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(101, 101, 0x4000)

    ESC.Delay(1900) -- 等待消失

    Scene.Lee_On(23, 18, 6)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6802')) -- ESS=賽特，恭喜你又恢復肉身了。
    ESC.ChangeDIR(1, 7)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6803')) -- ESS=李靖！其他人呢？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6804')) -- ESS=我只知道卡瑪和安卡就在天山，至於妮可好像...
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS6805')) -- ESS=唉，看來要辦的事好像挺多的，看來死後事情...
    Scene.Lee_Off()
    ESC.ChangeDIR(1, 0)
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6806')) -- ESS=賽特，你可以取得%C2軒轅劍%C5了，我...
    MediaFunc.PlaySound(249)
    ESC.PlayACT(0, -144, -170, 6064, 1, 919)  -- Scene.PlayACT(1, 170, 90-20, 6064, 1)
    ESC.TILPA2(0, 25)
    ESC.TakeActData(919, 700, 0, 0)
    ESC.TILPA2(0, 49)
    ESC.Delay(1900) -- 等待消失
-- ::test::
    -- 取得軒轅劍動畫
    ESC.RoleDisable(919)
    ESC.AniPlay('GetSword',false, false)
    ESC.AniUntil( 1)
    MediaFunc.PlaySound(217)

    ESC.AniUntil( 12)
    MediaFunc.PlaySound(219)

    ESC.AniUntil( 26)
    MediaFunc.PlaySound(656)

    ESC.AniUntil( 89)
    MediaFunc.PlaySound(8)

    ESC.AniUntil( 92)
    MediaFunc.PlaySound(370)

    ESC.AniUntil( 108)
    MediaFunc.PlaySound(510)

    ESC.AniUntil( 126)
    MediaFunc.PlaySound(653)

    ESC.AniUntil( 149)
    MediaFunc.PlaySound(622)

    ESC.AniUntil( 151)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 153)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 156)
    MediaFunc.PlaySound(524)

    ESC.AniUntil( 158)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 161)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 164)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 167)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 170)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 172)
    MediaFunc.PlaySound(525)

    ESC.AniUntil( 173)
    MediaFunc.PlaySound(378)

    ESC.AniUntil( 178)
    MediaFunc.PlaySound(372)

    ESC.AniUntil( 205)
    MediaFunc.PlaySound(375)

    ESC.AniUntil( 217)
    MediaFunc.PlaySound(181)

    ESC.AniUntil( 220)
    MediaFunc.PlaySound(341)

    ESC.AniUntil( 239)
    MediaFunc.PlaySound(385)

    ESC.AniUntil( 268)
    MediaFunc.PlaySound(346)

    ESC.AniUntil( 291)
    MediaFunc.PlaySound(370)


    ESC.AniUntilClose()

    ESC.Progress_Off()
    ESC.GotoMap(240, 19, 19 , 1, 0, 0)

    --ESC.RoleDisable(919)
    ESC.RoleMove(1, 19, 19)
    ESC.ChangeDIR(1, 1)
    Scene.GetItem(834, '%T834.')

    Scene.AddMainParty(4)
    ESC.RoleEnable(904)
    ESC.RoleEnable(905)

    ESC.RoleEnable(1003)
    ESC.RoleDisable(99)
    ESC.RoleDisable(98)
    ESC.RoleDisable(97)
    ESC.ChangeRoleMap(35, 239, 0, 18, 13, 35, 0, 1)

    ESC.RoleEnable(59964) -- 封印之劍
    ESC.ChangeScript(59963, '' )

    ESC.ChangeRoleMap(8 , 194, 0, 118, 42, 8, 0, 1)
    ESC.ChangeRoleMap(11, 194, 0, 116, 41, 11, 0, 1)
    ESC.RoleEnable(8)
    ESC.RoleEnable(11)
    ESC.ChangeScript(8, 'TALK6907')
    ESC.ChangeScript(11, 'TALK6907')

    -- 煉妖壺
    ESC.ChangeScript(96, 'TALK2332')
    GameFunc.FlagOff(23) -- 打開進煉妖壺
    GameFunc.FlagOff(10)
    Scene.Heal()
    ESC.RoleEnable(4646)

    -- 長安 洛陽    路人
    ESC.RoleDisable(31) -- 白連儀DISABLE
    ESC.ChangeScript(4888, 'Renew2016_4888last') -- 白壽換對話
    ESC.ChangeScript(4887, 'Renew2016_4887last') -- 白祿換對話
    ESC.RoleDisable(14)
    -- 朱雀門衛兵 DISABLE掉
    ESC.RoleDisable(1021)
    ESC.RoleDisable(1022)
    ESC.RoleDisable(1023)
    ESC.RoleDisable(1024)
    ESC.RoleDisable(1025)
    ESC.RoleDisable(1026)
    -- 金吾衛與千牛衛換對話
    -- 古代名人DISABLE掉
    ESC.RoleDisable(4623) -- 榮義郡主 (榮義郡主在安祿山叛變時，奉命自殺)
    ESC.RoleEnable(4624) -- 安家婢女
    -------
    ESC.RoleDisable(4801)
    ESC.RoleDisable(4802)
    ESC.RoleDisable(4803)
    ESC.RoleDisable(4804)
    ESC.RoleDisable(4805)
    ESC.RoleDisable(4806)
    ESC.RoleDisable(4807)
    ESC.RoleDisable(4808)
    ESC.RoleDisable(4809)
    ESC.RoleDisable(4810)
    ESC.RoleDisable(4811)
    ESC.RoleDisable(4812)
    ESC.RoleDisable(4813)
    ESC.RoleDisable(4814)
    ESC.RoleDisable(4815)
    ESC.RoleDisable(4816)
    ESC.RoleDisable(4817)
    ESC.RoleDisable(4818)
    ESC.RoleDisable(4820)
    ESC.RoleDisable(4827)
    ESC.RoleDisable(4828)
    ESC.RoleDisable(4829)
    ESC.RoleDisable(4830)
    ESC.RoleDisable(4821)
    ESC.RoleDisable(4822)
    ESC.RoleDisable(4823)
    ESC.RoleDisable(4824)
    ESC.RoleDisable(4825)
    ESC.RoleDisable(4826)
    ESC.RoleDisable(4831)
    ESC.RoleDisable(4832)
    ESC.RoleDisable(4833)
    ESC.RoleEnable(4891)
    ESC.RoleEnable(4892)
    ESC.RoleEnable(4893)
    ESC.RoleEnable(4894)
    ESC.RoleEnable(4895)
    ESC.RoleDisable(4841)
    ESC.RoleDisable(4842)
    ESC.RoleDisable(4843)
    ESC.RoleDisable(4844)
    ESC.RoleDisable(4845)
    ESC.RoleDisable(4846)
    ESC.RoleDisable(4848)
    ESC.RoleDisable(4849)
    ESC.RoleDisable(4850)
    ESC.RoleDisable(4870)
    ESC.RoleDisable(4851)
    ESC.RoleDisable(4852)
    ESC.RoleDisable(4853)
    ESC.RoleDisable(4854)
    ESC.RoleDisable(4855)
    ESC.RoleDisable(4856)
    ESC.RoleDisable(4857)
    ESC.RoleDisable(4858)
    ESC.RoleDisable(4859)
    ESC.RoleDisable(4860)
    ESC.RoleDisable(4861)
    ESC.RoleDisable(4862)
    ESC.RoleDisable(4863)
    ESC.RoleDisable(4864)
    ESC.RoleDisable(4865)
    ESC.RoleDisable(4866)
    ESC.RoleDisable(4867)
    ESC.RoleDisable(4868)
    ESC.RoleDisable(4869)
    ESC.RoleDisable(4881)
    ESC.RoleDisable(4882)
    ESC.RoleDisable(4883)
    ESC.RoleDisable(4884)
    ESC.RoleDisable(4885)
    --ESC.RoleDisable(4886)
    ESC.RoleDisable(4887)
    --ESC.RoleDisable(4888)
    ESC.RoleDisable(4889)
    ESC.RoleDisable(4890)

    ESC.RoleEnable(4896)
    ESC.RoleEnable(4897)
    ESC.RoleEnable(4898)
    ESC.RoleEnable(4899)
    ESC.RoleEnable(4900)
    ESC.RoleDisable(4608)
    ESC.RoleDisable(4609)
    ESC.RoleDisable(4610)
    ESC.RoleDisable(4611)
    ESC.RoleDisable(4612)
    ESC.RoleDisable(4613)
    ESC.RoleDisable(4614)
    ESC.RoleDisable(4615)
    ESC.RoleDisable(4616)
    Scene.QuestOn(122)
    GameFunc.FlagOn(539)
    ESC.RoleDisable(4461)
    ESC.RoleDisable(4462)
    ESC.RoleDisable(4463)
    ESC.RoleDisable(4464)
    ESC.RoleDisable(4465)
    ESC.RoleDisable(4466)
    ESC.RoleDisable(4467)
    ESC.RoleDisable(4468)
    ESC.RoleDisable(4469)
    ESC.RoleDisable(4470)
    ESC.RoleDisable(4471)
    ESC.RoleDisable(4472)
    ESC.RoleDisable(4473)
    ESC.RoleDisable(4474)
    ESC.RoleDisable(4475)
    ESC.RoleDisable(4476)
    ESC.RoleDisable(4477)
    ESC.RoleDisable(4478)
    ESC.RoleDisable(4479)
    ESC.RoleDisable(4480)
    ESC.RoleDisable(4481)
    ESC.RoleDisable(4482)
    ESC.RoleDisable(4483)
    ESC.RoleDisable(4484)
    ESC.RoleDisable(4485)
    ESC.RoleDisable(4486)

    ESC.RoleEnable(4487)
    ESC.RoleEnable(4488)
    ESC.RoleEnable(4489)
    ESC.RoleEnable(4490)
    ESC.RoleEnable(4491)
    ESC.RoleEnable(4492)
    ESC.RoleEnable(4493)
    ESC.RoleEnable(4494)
    ESC.RoleEnable(4495)
    ESC.RoleEnable(4496)
    ESC.RoleEnable(4497)
    ESC.RoleEnable(4498)
    ESC.RoleEnable(4499)
    ESC.RoleEnable(4500)
    ESC.RoleEnable(4501)
    ESC.RoleEnable(4502)
    ESC.RoleEnable(4503)
    ESC.RoleEnable(4504)
    ESC.RoleEnable(4505)
    ESC.RoleEnable(4506)
    ESC.RoleEnable(4507)
    ESC.RoleEnable(4508)
    ESC.RoleEnable(4509)
    ESC.RoleEnable(4510)
    ESC.RoleEnable(4511)
    ESC.RoleEnable(4512)
    ESC.RoleEnable(4513)
end

function Scene.TALK6901()
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(336, 19, 25 , 91, 0, 7)
    Scene.SAR_Shadow(1, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
end

function Scene.TALK6902()
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.GotoMap(335, 38, 25 , 91, 0, 6)
    Scene.SAR_Shadow(1, 0)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
end

function Scene.TALK6904()
    Scene.ChangeMap(297, 73, 19, 2)
end

function Scene.TALK6906()
    if not GameFunc.GetFlag(494) then return end
    if GameFunc.GetFlag(540) then return end
    GameFunc.FlagOn(540)
    Scene.MoveHero(39, 19, 2)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6807')) -- ESS=白先生不在嗎？
    Scene.Lee_On(42, 19, 2)
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6808')) -- ESS=老白已經過世了。
    ESC.TurnFace(1, 17)
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS1013')) -- ESS=怎麼回事？
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6809')) -- ESS=安祿山起兵後，就一病不起。
    Scene.MAIN_TALKS_2(1, 9, 23, StringDB('ESS6810')) -- ESS=那這些書……。
    Scene.MAIN_TALKS_1(17, 11, 0, StringDB('ESS6811')) -- ESS=你要就拿去吧，我去問過老白，他不會介意的。
    Scene.MAIN_TALKS_2(1, 9, 21, StringDB('ESS6812')) -- ESS=之前我讀過的，全部記得。這些書也無法跟我...
    Scene.Lee_Off()
end

function Scene.TALK6907()
    -- 與卡瑪安卡對話
    GameFunc.FlagOn(10)
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 113, 42, -1, 0, 3)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6813')) -- ESS=卡瑪！安卡！
    ESC.ChangeDIR(8, 2)
    ESC.ChangeDIR(11, 2)
    ESC.AddHeadSign(8, 0)
    ESC.AddHeadSign(11, 0)
    ESC.Delay(200)
    ESC.DelHeadSign(8)
    ESC.DelHeadSign(11)
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6814')) -- ESS=賽特！？
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6815')) -- ESS=喵喵！！
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS6816')) -- ESS=哈哈哈，你們還好吧？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6817')) -- ESS=你不是死了？怎麼會有肉體？
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6818')) -- ESS=難道你會埃及的古代密術？不對！我們親眼看...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6819')) -- ESS=是軒轅劍仙幫我，說天界給我新造了一個肉身...
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6820')) -- ESS=怪不得……看似比以前還年輕一點……
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6821')) -- ESS=那死老頭，怎麼知道都不說！喵！
    ESC.ChangeRoleMap(27, 194, 0, 111, 40, 27, 0, 3)
    ESC.ChangeRoleMap(920, 194, 0, 111, 41, 6064, 2, 0)
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 10)
    ESC.ChangeDIR(1, 4)
    ESC.TILPA1(920, 30)
    ESC.RoleEnable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6822')) -- ESS=我沒有瞞著，是你們沒有問啊。
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6823')) -- ESS=我還以為你回天界去了。
    ESC.ChangeDIR(1, 3)
    ESC.Delay(200)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6824')) -- ESS=哈哈，我靈魂四處飄泊，還去見了大詩人李白...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6825')) -- ESS=卡瑪她說想起了一些有趣的事。
    Scene.MAIN_TALKS_2(1, 9, 35, StringDB('ESS6704')) -- ESS=哦？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6826')) -- ESS=我想起，以前我也在天上界的時候。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6827')) -- ESS=喵～我幾百年來都沒聽妳說過。
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6828')) -- ESS=這是因為，卡瑪過去對男女情愛的執著所造成...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6829')) -- ESS=喵！好毒的嘴～那我也只是一個野貓的遊魂罷...
    -- 卡瑪（笑）：
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6830')) -- ESS=跟他吵也沒用，所有的人都一樣，留戀人間的...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6831')) -- ESS=薇達又怎麼了？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6832')) -- ESS=我跟薇達是魂的雙生姊妹。
    Scene.MAIN_TALKS_2(1, 9, 17, StringDB('ESS6833')) -- ESS=雙生？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6834')) -- ESS=是的，有密不可分的心，我本來應該在薇達誕...
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6835')) -- ESS=這讓我想起撒旦與大天使長米迦勒。
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6836')) -- ESS=是的，大天使米迦勒與撒旦，他們也是魂的兄...
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6837')) -- ESS=喵～也難怪，妳們真的有點像。
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6838')) -- ESS=賽特，等你跟撒旦之間的事了結，我會去陪伴...
    Scene.MAIN_TALKS_2(1, 9, 13, StringDB('ESS6839')) -- ESS=嗯...現在要想辦法去阻止撒旦再為惡了。...
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6840')) -- ESS=你死之後好幾年，他們就在長安廢墟內，建立...
    ESC.ChangeDIR(1, 4)
    ESC.Delay(200)
    Scene.MAIN_TALKS_2(1, 9, 37, StringDB('ESS6841')) -- ESS=一定又是康那里士搞的鬼！撒旦的肉身已被我...
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6842')) -- ESS=賽特，你可以利用天山通行符，透過右方傳送...
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6843')) -- ESS=賽特，這是我最後一次跟你相處的時間了。
    ESC.ChangeDIR(1, 3)
    ESC.Delay(200)
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6844')) -- ESS=多謝妳幫我，卡瑪。
    Scene.MAIN_TALKS_1(11, 11, 0, StringDB('ESS6845')) -- ESS=喵～還有我。
    Scene.MAIN_TALKS_2(1, 9, 19, StringDB('ESS6846')) -- ESS=是，多謝安卡。對了，妮可到那兒去了？
    Scene.MAIN_TALKS_4(8, 2, 0, StringDB('ESS6847')) -- ESS=我們也不知道，從你死後她一直吵著要去找你...
    Scene.MAIN_TALKS_2(1, 9, 15, StringDB('ESS6848')) -- ESS=唉，不知道要去那找她了...
    Scene.Kama_Off()
    Scene.Ankh_Off()
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 30)
    ESC.RoleDisable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)
    ESC.RoleEnable(97)
    ESC.RoleEnable(98)
    ESC.ChangeRoleMap(7, 315, 0, 73, 33, 7, 0, 5)
    ESC.ChangeScript(7, 'TALK6909')
    ESC.RoleEnable(7)
    GameFunc.FlagOn(541)
    Scene.AddMainParty(3)
    -- 煉妖壺
    ESC.RoleEnable(98)
    ESC.RoleEnable(97)
    ESC.ChangeScript(98, 'TALK2333')
    ESC.ChangeScript(97, 'TALK2333')
    GameFunc.FlagOff(10)
    ESC.RoleDisable(4646)

    ESC.SceneMusic(007, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安城中地圖）

    ESC.SceneMusic(104, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安城門）
    ESC.SceneMusic(105, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安城門）
    ESC.SceneMusic(100, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安白連儀家）
    ESC.SceneMusic(163, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安白連儀家大廳）
    ESC.SceneMusic(164, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安白連儀家書房）
    ESC.SceneMusic(172, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市）
    ESC.SceneMusic(173, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市）
    ESC.SceneMusic(121, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市旅店）
    ESC.SceneMusic(122, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市旅店）
    ESC.SceneMusic(123, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市藥局）
    ESC.SceneMusic(124, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市雜貨店）
    ESC.SceneMusic(125, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市古董店）
    ESC.SceneMusic(126, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市酒樓）
    ESC.SceneMusic(127, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安西市酒樓）
    ESC.SceneMusic(310, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安王思月家爆破後）
    ESC.SceneMusic(191, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安驪山入口）
    ESC.SceneMusic(166, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（長安驪山宴會台）

    ESC.SceneMusic(171, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（皇宮內）
    ESC.SceneMusic(174, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽道觀前）

    ESC.SceneMusic(298, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽）
    ESC.SceneMusic(128, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽怡春院）→不曉得要不要換
    ESC.SceneMusic(129, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽旅店）
    ESC.SceneMusic(134, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽旅店）
    ESC.SceneMusic(135, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽雜貨店）
    ESC.SceneMusic(136, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽藥局）
    ESC.SceneMusic(137, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（洛陽古董店）

    ESC.SceneMusic(284, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（安祿山宅白日）
    ESC.SceneMusic(285, 100, 100, 0x4000) -- 【地圖音樂】更換地圖音樂（安祿山宅晚上）

end

function Scene.TALK6908()
    -- 天山往白家
    if ESC.GetRoleToPosDistance(133,41,1) > 4 then goto T6908A end -- 檢查主角是否在旁邊
    if Function.GetItemCount(807) == 0 then
        goto T6908
    end
    ESC.ChangeQQ(1, Const.WALK)
    ESC.BatchMove2(1,    1, 133, 42, 1, 0, 3)
    ESC.Clump()
    ESC.ChangeRoleMap(94, -1, 0, 130, 37, 6502, 0, 0)
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 6)
    ESC.RoleHide(1)
    ESC.TILPA1(94, 20)
    ESC.FadeScreen(0, 0, 0, -30, -30, -30, 6)
    ESC.FadeWait()
    ESC.RoleDisable(94)
    ESC.GotoMap(164, 41, 9, 1, 0, 6)
    ESC.ChangeRoleMap(94, -1, 0, 38, 4, 6502, 0, 0)
    ESC.RoleHide(1)
    ESC.FadeScreen(-30, -30, -30, 0, 0, 0, 6)
    ESC.FadeWait()
    ESC.RoleEnable(94)
    ESC.TILPA1(94, 14)
    ESC.RoleShow(1)
    ESC.TILPA1(94, 20)
    ESC.RoleDisable(94)
    Scene.TALK6906() -- 如果是安始之亂後回白家
    ESC.SceneBreak()
::T6908::
    ESC.SceneBreak()
::T6908A::
    Scene.WORD_ON_HEAD(1, 5, 30, -60, '%S0'..StringDB('ESS550')) -- ESS=距離太遠！
end

function Scene.TALK6909()
    -- 人骨佛堂中迷宮...
    if not GameFunc.GetFlag(541) then goto T6909 end
    if GameFunc.GetFlag(542) then goto T6909 end
    GameFunc.FlagOn(542)
    GameFunc.FlagOn(10)
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusic(46, 46, 0x4000)
    ESC.ChangeQQ(1, Const.RUN)
    ESC.SetMoveHISpeed(1)
    ESC.BatchMove2(1,    1, 76, 38, -1, 0, 4)
    ESC.TakeActData(1, 98, 76, 0)
    ESC.TurnFace(7, 1)
    Scene.MAIN_TALKS_4(1, 9, 38, StringDB('ESS6849')) -- ESS=康那里士！
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6850')) -- ESS=復活後的肉身如何？
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6851')) -- ESS=是很好，需要你管嗎！
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6852')) -- ESS=不，不...您高興就好，看您狀況不錯，比...
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6853')) -- ESS=這不用你費心。聽說你把反曼陀羅陣造成了是...
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6854')) -- ESS=是的，反曼陀羅陣已經建造完成，正等待您的...
    Scene.OpenGlassDown(11)
    Scene.AddPicture4(1, 22)
    Scene.Glass_SRC2(1, StringDB('ESS6855')) -- ESS=(這康那里士又在耍什麼詭計了？)
    Scene.ChangeFace2(1, 22, 1, 54)
    Scene.Glass_SRC2(1, StringDB('ESS6856')) -- ESS=那就讓我去瞧瞧這反曼陀羅陣吧。
    Scene.DelPicture(1, 54)
    Scene.CloseGlassDown()


    ESC.ChangeACT(1, 98)
    ESC.ChangeQQ(1, 76)
    ESC.SeekACT(1, 4)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.SeekACT(1, 3)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.SeekACT(1, 2)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.SeekACT(1, 1)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.SeekACT(1, 0)
    Scene.SAR_ACTCycle(1, 0)
    ESC.Delay(100)

    ESC.TakeActData(1, 1, Const.STAND, 4)
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6175')) -- ESS=是！
    ESC.AddHeadSign(7, 1)
    ESC.Delay(500)
    ESC.DelHeadSign(7)
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6857')) -- ESS=妮可那丫頭呢？
    Scene.MAIN_TALKS_4(1, 9, 36, StringDB('ESS6858')) -- ESS=你知道她在哪裏？
    Scene.MAIN_TALKS_3(7, 11, 1, StringDB('ESS6859')) -- ESS=奇怪了……是我要她去帶您的啊……
    ESC.ChangeQQ(7, Const.WALK)
    ESC.BatchMove(1,    7, 73, 39)
    ESC.ChangeDIR(1, 1)
    ESC.BatchMove(1,    7, 73, 57)
    ESC.RoleDisable(7)
    Scene.MAIN_TALKS_1(1, 9, 22, StringDB('ESS6860')) -- ESS=這是怎麼回事？妮可怎麼又和他們混在一起？...
    ESC.ChangeRoleMap(27, -1, 0, 73, 32, 27, 0, 3)
    ESC.ChangeRoleMap(920, -1, 0, 73, 33, 6064, 2, 0)
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 25)
    ESC.ChangeDIR(1, 4)
    ESC.RoleEnable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)
    Scene.MAIN_TALKS_3(27, 11, 1, StringDB('ESS6861')) -- ESS=康那里士好像對你很客氣？
    Scene.MAIN_TALKS_4(1, 9, 10, StringDB('ESS6862')) -- ESS=事情有點古怪，小心一點，看看情況再說，現...
    ESC.RoleEnable(920)
    ESC.SeekACT(920, 1)
    ESC.TILPA1(920, 30)
    ESC.RoleDisable(27)
    ESC.TILPA1(920, 50)
    ESC.RoleDisable(920)
    ESC.ChangeScript(98, 'TALK2334')
    ESC.ChangeScript(97, 'TALK2334')
    ESC.ChangeScript(96, 'TALK2335')
    ESC.MusicFadeMode(2, 45)
    ESC.StoryMusicOff()
    GameFunc.FlagOff(10)
::T6909::
end


function Scene.TALK6910()
    -- 賽特對賽特   AND -- 最後之戰 -----------     目前無效
    ESC.SceneBreak()

end



    --  片尾大動畫


function Scene.TALK6960()
    ESC.FadeScreen(0 , 0 , 0 , -30 , -30 , -30 , 16)
    ESC.FadeWait()

    ESC.GotoMap(500 , 19 , 1 , 1 , 0 , 0)

    ESC.RoleHide(1)
    GameFunc.FlagOn(10) --  MOUSE
    GameFunc.FlagOn(70) --  PROGRESS
    GameFunc.FlagOn(81)

    ESC.FadeScreen(-30 , -30 , -30 , 0 , 0 , 0 , 16)
    ESC.FadeWait()
    ESC.FadeClear()

::KKKKA::
    ESC.ScrollMap(0 , 419 , 0 , 2)

    --  開始播圖

    ESC.ScrollMapUntilTop(800)
    Scene.PlayACT(0, 480 , 240 , 9150 , 0)

    ESC.ScrollMapUntilTop(800+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 1)

    ESC.ScrollMapUntilTop(800+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 2)

    ESC.ScrollMapUntilTop(800+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 3)

    ESC.ScrollMapUntilTop(800+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 4)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 5)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 6)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 7)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 8)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 9)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 10)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 11)

    ESC.ScrollMapUntilTop(800+320+320+320+320+320+320+320+320+320+320+320+320)
    Scene.PlayACT(0, 480 , 240 , 9150 , 12)

    ESC.ScrollMapWait()

    ESC.RoleMove(1 , 29 , 1)

    goto KKKKA

end

--  ------------DOMO------------------

function Scene.TALK6961()
    local rnd
    --  -- 郭
    -- 判斷是否以拿貓狗娃娃
    if GameFunc.GetFlag(570) then goto T6961_END end
    -- 判斷是否以知可換貓狗娃娃
    if not GameFunc.GetFlag(551) then goto T6961 end
    -- 判段是否以拿到郭炳宏簽名
    if not GameFunc.GetFlag(554) then goto T6961_3 end
    -- 判段有沒有欠缺其它人的簽名
    if not GameFunc.GetFlag(553)
        or not GameFunc.GetFlag(555)
        or not GameFunc.GetFlag(556)
        or not GameFunc.GetFlag(557)
        or not GameFunc.GetFlag(558)
        or not GameFunc.GetFlag(559)
        or not GameFunc.GetFlag(560)
        or not GameFunc.GetFlag(561)
        or not GameFunc.GetFlag(562)
        or not GameFunc.GetFlag(563)
        or not GameFunc.GetFlag(564)
        or not GameFunc.GetFlag(565)
        or not GameFunc.GetFlag(566)
        or not GameFunc.GetFlag(567)
        or not GameFunc.GetFlag(569)
    then
        goto T6961_2
    end

    Scene.AutoPrint_C(6961, StringDB('ESS6863')) -- ESS=真不簡單，你拿到我們全組簽名了。這裏有阿...
    GameFunc.FlagOn(570)
    ACH.SetAchievement("ACH_10")
    rnd = math.random(1,6)
    if rnd==1 then
        Scene.GetItem(762, '%T762.') ESC.WaitDLG(0)
        Scene.GetItem(801, '%T801.') ESC.WaitDLG(0)
        Scene.GetItem(802, '%T802.')
        return
    elseif rnd==2 then
        Scene.GetItem(801, '%T801.') ESC.WaitDLG(0)
        Scene.GetItem(802, '%T802.') ESC.WaitDLG(0)
        Scene.GetItem(804, '%T804.')
        return
    elseif rnd==3 then
        Scene.GetItem(802, '%T802.') ESC.WaitDLG(0)
        Scene.GetItem(805, '%T805.') ESC.WaitDLG(0)
        Scene.GetItem(804, '%T804.')
        return
    elseif rnd==4 then
        Scene.GetItem(801, '%T801.') ESC.WaitDLG(0)
        Scene.GetItem(804, '%T804.') ESC.WaitDLG(0)
        Scene.GetItem(805, '%T805.')
        return
    elseif rnd==5 then
        Scene.GetItem(804, '%T804.') ESC.WaitDLG(0)
        Scene.GetItem(805, '%T805.') ESC.WaitDLG(0)
        Scene.GetItem(762, '%T762.')
        return
    else
        Scene.GetItem(805, '%T805.') ESC.WaitDLG(0)
        Scene.GetItem(762, '%T762.') ESC.WaitDLG(0)
        Scene.GetItem(801, '%T801.')
        return
    end

::T6961_3::
    Scene.AutoPrint_C(6961, StringDB('ESS6864')) -- ESS=送我%T147.、%T148.、%T14...
    if Function.GetItemCount(147) == 0
        or Function.GetItemCount(148) == 0
        or Function.GetItemCount(149) == 0
        or Function.GetItemCount(150) == 0
        or Function.GetItemCount(151) == 0
        or Function.GetItemCount(154) == 0
        or Function.GetItemCount(155) == 0
    then
        goto T6961N
    end

    Scene.AutoPrint_C(1, StringDB('ESS6865')) -- ESS=我有這七種仙女，請笑納。
    Scene.DOMOExchange(147, StringDB('ESS6866')) -- ESS=將七種仙女給郭炳宏。
    ItemFunc.AddItem(148, -1)
    ItemFunc.AddItem(149, -1)
    ItemFunc.AddItem(150, -1)
    ItemFunc.AddItem(154, -1)
    ItemFunc.AddItem(155, -1)
    ItemFunc.AddItem(151, -1)
    Scene.AutoPrint_C(6961, StringDB('ESS6867')) -- ESS=謝謝啦，簽名板你收下吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(554)
    ESC.SceneBreak()
::T6961N::
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6869')) -- ESS=搜集不齊全。
    ESC.FitSize()
    Scene.AutoPrint_C(6961, StringDB('ESS6870')) -- ESS=等搜集齊全再來找我。
    ESC.SceneBreak()
::T6961::
    Scene.M_PrintW_C(6961, 8, 4, StringDB('ESS6871')) -- ESS=如果你搜集齊全DOMO小組組員的簽名，我...
    GameFunc.FlagOn(551)
    ESC.SceneBreak()
::T6961_2::
    Scene.AutoPrint_C(6961, StringDB('ESS6872')) -- ESS=你還沒蒐集齊全，所以拿不到阿貓阿狗娃娃。...
    ESC.SceneBreak()
::T6961_END::
    Scene.AutoPrint_C(6961, StringDB('ESS6873')) -- ESS=你可以在戰鬥中使用阿貓阿狗娃娃，有意想不...
end

---------------------劉馨韓
function Scene.TALK6962()
    --  -- 心
    if GameFunc.GetFlag(555) then goto T6962_END end
    Scene.AutoPrint_C(6962, StringDB('ESS6874')) -- ESS=誰有%T828.和%T832.，我想要。...
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名板的對話
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6875')) -- ESS=可以送給我你的簽名版嘛？
    Scene.AutoPrint_C(6962, StringDB('ESS6876')) -- ESS=你有%T828.和%T832.嗎？有的話...
-- 玩家有水果時
    if Function.GetItemCount(828) == 0 or Function.GetItemCount(832) == 0 then
        goto T6962N
    end

    GameFunc.FlagOn(555)
    Scene.DOMOExchange(828, StringDB('ESS6877')) -- ESS=將%T828.和%T832.給劉馨韓。
    ItemFunc.AddItem(832, -1)
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    Scene.AutoPrint_C(6962, StringDB('ESS6878')) -- ESS=你真是個好人，簽名版送你。
    ESC.SceneBreak()
-- 玩家沒有水果時的對話
::T6962N::

    Scene.AutoPrint_C(1, StringDB('ESS6879')) -- ESS=真可惜，沒有。
    Scene.AutoPrint_C(6962, StringDB('ESS6880')) -- ESS=那等有%T828.和%T832.時再來找...
    ESC.SceneBreak()

-- 給過簽名檔的對話
::T6962_END::
    Scene.AutoPrint_C(6962, StringDB('ESS6881')) -- ESS=謝謝你啦，這些%T828.很好吃。有這個...
end
-----------
----------- 朱榮敏的對話
function Scene.TALK6963()
    --  福
    if GameFunc.GetFlag(562) then goto T6963_EAND end
    Scene.WORD_ON_HEAD(6963, 2, 30, -60, StringDB('ESS6882')) -- ESS=正在看%T827.！
    if not GameFunc.GetFlag(551) then goto T6963 end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6883')) -- ESS=可以給我簽名版嗎？
    Scene.AutoPrint_C(6963, StringDB('ESS6884')) -- ESS=有%T827.的話，我就給你簽名板。
    if Function.GetItemCount(827)>0 then
        goto T6963Y
    end
-- 玩家沒有漫畫
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6879')) -- ESS=真可惜，沒有。
    ESC.FitSize()
    Scene.AutoPrint_C(6963, StringDB('ESS6885')) -- ESS=沒有%T827.免談。
    ESC.SceneBreak()
::T6963Y::
    Scene.DOMOExchange(827, StringDB('ESS6886')) -- ESS=將%T827.給朱榮敏。
    ESC.FitSize()
    Scene.AutoPrint_C(6963, StringDB('ESS6887')) -- ESS=謝了。簽名版拿去。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(562)
    ESC.SceneBreak()
-- 玩家還不知道要索取簽名對話
::T6963::
    ESC.SceneBreak()
-- 給過簽名後的對話
::T6963_EAND::
    Scene.WORD_ON_HEAD(6963, 2, 30, -60, StringDB('ESS6888')) -- ESS=在看%T827.！
end

-- 楊淵升的對話
function Scene.TALK6964()
    --  -- 羅
    if GameFunc.GetFlag(559) then goto T6964_EAND end
    Scene.AutoPrint_C(6964, StringDB('ESS6889')) -- ESS=唉....市面上只有減肥的方法，卻沒有增...
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6890')) -- ESS=如果吃%T820.，應該就會胖吧？
    Scene.AutoPrint_C(6964, StringDB('ESS6891')) -- ESS=問題是你有%T820.嗎？
    if Function.GetItemCount(820)>0 then
        goto T6964Y
    end
-- 玩家沒有增肥劑時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6892')) -- ESS=我沒有%T820.耶。
    Scene.AutoPrint_C(6964, StringDB('ESS6893')) -- ESS=沒有%T820.，也跟本不知道效果如何。...
    ESC.SceneBreak()
-- 玩家有增肥劑時的對話
::T6964Y::
    Scene.DOMOExchange(820, StringDB('ESS6894')) -- ESS=將%T820.給楊淵升。
    Scene.AutoPrint_C(6964, StringDB('ESS6895')) -- ESS=嗯～效果不錯。多謝，簽名版拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(559)
    ESC.SceneBreak()

-- 給過簽名後的對話
::T6964_EAND::
    ESC.FitSize()
    Scene.AutoPrint_C(6964, StringDB('ESS6688')) -- ESS=謝謝你。
end
-- 楊進財的對話
function Scene.TALK6965()
    --  -- 羅
    if GameFunc.GetFlag(560) then goto T6965_EAND end
    Scene.M_PrintW_C(6965, 7, 4, StringDB('ESS6896')) -- ESS=這附近運動都要運動聚樂部，可是沒%T82...
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6897')) -- ESS=我給你%T821.，你會送我簽名版嗎？
    Scene.AutoPrint_C(6965, StringDB('ESS6898')) -- ESS=有%T821.，當然可以。
-- 玩家有俱樂部會員卡時的對話
    if Function.GetItemCount(821) == 0 then
        goto T6965N
    end
    Scene.DOMOExchange(821, StringDB('ESS6899')) -- ESS=將%T821.給楊進財。
    Scene.AutoPrint_C(6965, StringDB('ESS6900')) -- ESS=這正是我想要的。簽名版拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(560)
    ESC.SceneBreak()
-- 玩家沒有俱樂部會員卡時的對話
::T6965N::
    Scene.AutoPrint_C(1, StringDB('ESS6901')) -- ESS=等我找到%T821.再送你吧。
    Scene.AutoPrint_C(6965, StringDB('ESS6902')) -- ESS=唉...還不是沒有%T821.。
    ESC.SceneBreak()

-- 給過簽名後的對話
::T6965_EAND::
    ESC.FitSize()
    Scene.AutoPrint_C(6965, StringDB('ESS6903')) -- ESS=這下不愁找不到地方運動。
end
-- 羅國城的對話
function Scene.TALK6966()
    --  -- 羅
    if GameFunc.GetFlag(557) then goto T6966_EAND end
    Scene.AutoPrint_C(6966, StringDB('ESS6904')) -- ESS=好餓喔....有沒有不會餓的方法。
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
    -- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6905')) -- ESS=如果吃%T729.，應該就不會餓了吧？
    Scene.AutoPrint_C(6966, StringDB('ESS6906')) -- ESS=問題是你有%T729.嗎？
    if Function.GetItemCount(729)>0 then
        goto T6966Y
    end
-- 玩家沒有神秘果的對話
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6907')) -- ESS=嗯....沒有。
    ESC.FitSize()
    Scene.AutoPrint_C(6966, StringDB('ESS6908')) -- ESS=那說了也是白說。
    ESC.SceneBreak()
-- 玩家有神祕果時的對話
::T6966Y::
    Scene.DOMOExchange(729, StringDB('ESS6909')) -- ESS=將%T729.給羅國成。
    Scene.AutoPrint_C(6966, StringDB('ESS6910')) -- ESS=嗯～不餓了。多謝，簽名版拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(557)
    ESC.SceneBreak()

-- 給過簽名後的對話
::T6966_EAND::
    Scene.AutoPrint_C(6966, StringDB('ESS6911')) -- ESS=謝謝你，我現在不餓了。
end
-- 吳東興的對話
function Scene.TALK6967()
    --  -- 東
    if GameFunc.GetFlag(556) then goto T6967_EAND end
    Scene.AutoPrint_C(6967, StringDB('ESS6912')) -- ESS=DOMO歷年遊戲沒搜集齊，真是人生一大憾...
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6913')) -- ESS=如果我送你%T823.，你可以送簽名版給...
    Scene.AutoPrint_C(6967, StringDB('ESS6914')) -- ESS=當然可以，你有DOMO的遊戲嗎？
    if Function.GetItemCount(823)>0 then
        goto T6967Y
    end
-- 玩家沒有DOMO遊戲時的對話
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6915')) -- ESS=我也沒有。
    Scene.AutoPrint_C(6967, StringDB('ESS6916')) -- ESS=沒有就別在那空口說白話。
    ESC.SceneBreak()
-- 玩家有DOMO遊戲時的對話
::T6967Y::
    Scene.DOMOExchange(823, StringDB('ESS6917')) -- ESS=將%T823.給吳東興。
    Scene.AutoPrint_C(6967, StringDB('ESS6918')) -- ESS=對，就這個。簽名版你拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(556)
    ESC.SceneBreak()

-- 給過簽名後的對話
::T6967_EAND::
    ESC.FitSize()
    Scene.AutoPrint_C(6967, StringDB('ESS6919')) -- ESS=哈哈，這下搜集齊全了。
end

-- 王福生的對話
function Scene.TALK6968()
    --  福
    if GameFunc.GetFlag(561) then goto T6968_EAND end
    Scene.AutoPrint_C(6968, StringDB('ESS6920')) -- ESS=我正在聽%T819.，別吵我。
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6921')) -- ESS=可不可以給我簽名版呢？
    Scene.AutoPrint_C(6968, StringDB('ESS6922')) -- ESS=有%T819.的話，我可以考慮考慮。
-- 玩家有伍佰CD時的對話
    if Function.GetItemCount(819) == 0 then
        goto T6968N
    end
    Scene.DOMOExchange(819, StringDB('ESS6923')) -- ESS=將%T819.給王福生。
    Scene.AutoPrint_C(6968, StringDB('ESS6900')) -- ESS=這正是我想要的。簽名版拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(561)
    ESC.SceneBreak()
-- 玩家沒有伍佰CD時的對話
::T6968N::
    ESC.FitSize()
    Scene.AutoPrint_C(6968, StringDB('ESS6924')) -- ESS=沒有%T819.免談。
    ESC.SceneBreak()

-- 給過簽名後的對話
::T6968_EAND::
    ESC.FitSize()
    Scene.AutoPrint_C(6968, StringDB('ESS6925')) -- ESS=謝謝啦。
end
-- 黃志榮的對話
function Scene.TALK6969()
    if GameFunc.GetFlag(558) then goto T6969E end
    if not GameFunc.GetFlag(551) then
        Scene.AutoPrint_C(6969, StringDB('ESS6926')) -- ESS=要阿貓阿狗的娃娃，去找郭炳宏。
        return
    end
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6927')) -- ESS=能不能給我你的簽名。
    if not GameFunc.GetFlag(7085) then goto T6969B_1 end
    if not GameFunc.GetFlag(7086) then goto T6969B_2 end
    if not GameFunc.GetFlag(7087) then goto T6969B_3 end
    Scene.AutoPrint_C(6969, StringDB('ESS6928')) -- ESS=你真有耐性，簽名版給你啦。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    ItemFunc.AddItem(833, 1)
    GameFunc.FlagOn(558)
    ESC.SceneBreak()

::T6969B::
    ESC.FitSize()
    Scene.AutoPrint_C(6969, '%K'..StringDB('ESS6929')) -- ESS=不給你簽名。
    ESC.SceneBreak()
::T6969B_1::
    GameFunc.FlagOn(7085)
    goto T6969B
::T6969B_2::
    GameFunc.FlagOn(7086)
    goto T6969B
::T6969B_3::
    GameFunc.FlagOn(7087)
    goto T6969B

::T6969E::
    Scene.AutoPrint_C(6969, StringDB('ESS6930')) -- ESS=簽名版不是給你了嗎？

end
-- MAYKO的對話
function Scene.TALK6970()
    --  -- 玫
    if GameFunc.GetFlag(553) then goto T6970E end
    if not GameFunc.GetFlag(551) then goto T6970A end
    ESC.FitSize()
    Scene.AutoPrint_C(6970, StringDB('ESS6931')) -- ESS=找我有甚麼事嗎？
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6932')) -- ESS=我想要簽名版。
    Scene.AutoPrint_C(6970, StringDB('ESS6933')) -- ESS=要我的簽名，簡單，我這有茶葉，幫我泡杯香...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6934')) -- ESS=香片？香片是甚麼？
    Scene.AutoPrint_C(6970, StringDB('ESS6935')) -- ESS=香片是拿茉莉花與茶一起沖泡的飲料。
    Scene.AutoPrint_C(6970, StringDB('ESS6936')) -- ESS=除了香片，我還常喝玫瑰花茶與薰衣草茶。
    goto T6970D
::T6970D::
    if Function.GetItemCount(826) == 0 then
        goto T6970_N1
    end
    if Function.GetItemCount(825) == 0 then
        goto T6970_N1
    end
    if Function.GetItemCount(824) == 0 then
        goto T6970_N1
end
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6937')) -- ESS=我有這三種花。
    ESC.FitSize()
    Scene.AutoPrint_C(6970, StringDB('ESS6938')) -- ESS=太好了。
    GameFunc.FlagOn(553)

    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,2,'%S1'..StringDB('ESS6939')) -- ESS=將茶沖好之後………
    ESC.WaitDLG(0)
    ItemFunc.AddItem(824, -1)
    ItemFunc.AddItem(825, -1)
    ItemFunc.AddItem(826, -1)
    ItemFunc.AddItem(833, 1)
    Scene.AutoPrint_C(6970, StringDB('ESS6940')) -- ESS=茶泡的還不錯嘛....簽名板給你。
    Scene.RoadFlag(StringDB('ESS6941')) -- ESS=得到簽名版
    Scene.AutoPrint_C(6970, StringDB('ESS6942')) -- ESS=還有，我手腕上的%T1052.送你。
    Scene.GetItem(1052, '%T1052.')
    ESC.SceneBreak()
::T6970_N1::
    if Function.GetItemCount(825)>0 then
        goto T6970_Y1
end
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6943')) -- ESS=可是我沒有。
    ESC.FitSize()
    Scene.AutoPrint_C(6970, StringDB('ESS6944')) -- ESS=那就等找到再說吧。
    ESC.SceneBreak()

::T6970_Y1::
    Scene.AutoPrint_C(1, StringDB('ESS6945')) -- ESS=我有%T825.。
    ESC.FitSize()
    Scene.AutoPrint_C(6970, StringDB('ESS6946')) -- ESS=嗯，謝了。
    Scene.RoadFlag(StringDB('ESS6941')) -- ESS=得到簽名版
    ItemFunc.AddItem(825, -1)
    ItemFunc.AddItem(833, 1)
    GameFunc.FlagOn(553)
    ESC.SceneBreak()


::T6970A::
    Scene.AutoPrint_C(6970, StringDB('ESS6947')) -- ESS=真是麻煩，花茶都喝完了，又沒時間去買。
    ESC.SceneBreak()
::T6970E::
    Scene.AutoPrint_C(6970, StringDB('ESS6948')) -- ESS=你送的這些花茶蠻新鮮的，泡起來很好喝。
end
-- 小貓咪對話
function Scene.TALK6971()
    local rnd
    if GameFunc.GetFlag(569) then goto T6971 end
    if not GameFunc.GetFlag(551) then goto T6971 end
    if Function.GetItemCount(818) == 0 then
        goto T6971
    end
    Scene.WORD_ON_HEAD(6971, 2, 30, -60, StringDB('ESS6949')) -- ESS=魚酥．．．我要魚酥．．．
    ESC.WaitDLG(6971)
    Scene.DOMOExchange(818, StringDB('ESS6950')) -- ESS=將%T818.給小貓咪。
    ESC.FitSize()
    Scene.AutoPrint_C(6971, ''..StringDB('ESS6951')) -- ESS=%T818.真好吃。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(569)
    ESC.SceneBreak()

::T6971::
    rnd = math.random(1,4)
    if rnd==1 then
        Scene.WORD_ON_HEAD(6971, 2, 30, -60, StringDB('ESS6952')) -- ESS=ＺＺＺ．．
        ESC.WaitDLG(6971)
        return
    elseif rnd==2 then
        Scene.WORD_ON_HEAD(6971, 2, 30, -60, StringDB('ESS6953')) -- ESS=喵．．
        ESC.WaitDLG(6971)
        return
    elseif rnd==3 then
        Scene.WORD_ON_HEAD(6971, 2, 30, -60, StringDB('ESS6954')) -- ESS=你好吵喔．．．
        ESC.WaitDLG(6971)
        return
    else
        Scene.WORD_ON_HEAD(6971, 2, 30, -60, StringDB('ESS6955')) -- ESS=魚酥魚酥魚酥．．．
        ESC.WaitDLG(6971)
        return
    end
end
-- 林克敏的對話
function Scene.TALK6972()
    --  福
    if GameFunc.GetFlag(565) then goto T6972_EAND end
    if not GameFunc.GetFlag(551) then goto T6972 end
-- 玩家索取簽名版時的對話
    ESC.ChangeQQ(6972, Const.STAND)
    Scene.AutoPrint_C(1, StringDB('ESS6883')) -- ESS=可以給我簽名版嗎？
    Scene.AutoPrint_C(6972, StringDB('ESS6956')) -- ESS=甚麼簽名，拿%T822.來換。
    if Function.GetItemCount(822)>0 then
        goto T6972Y
    end
-- 玩家沒有遙控車的對話
    Scene.AutoPrint_C(6972, StringDB('ESS6957')) -- ESS=沒有%T822.，要甚麼簽名。
    ESC.ChangeQQ(6972, Const.WALK)
    ESC.SceneBreak()
-- 玩家有DOMO遊戲時的對話
::T6972Y::
    Scene.DOMOExchange(822, StringDB('ESS6958')) -- ESS=將%T822.給林克敏。
    Scene.AutoPrint_C(6972, StringDB('ESS6959')) -- ESS=很好，簽名版拿去。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(565)
    ESC.ChangeQQ(6972, Const.WALK)
    ESC.SceneBreak()
-- 玩家還不知道要索取簽名對話
::T6972::
    ESC.ChangeQQ(6972, Const.STAND)
    Scene.WORD_ON_HEAD(6972, 2, 30, -60, StringDB('ESS6960')) -- ESS=喝．．
    ESC.Delay(600)
    ESC.ChangeQQ(6972, Const.WALK)
    ESC.SceneBreak()
-- 給過簽名後的對話
::T6972_EAND::
    ESC.ChangeQQ(6972, Const.STAND)
    Scene.WORD_ON_HEAD(6972, 2, 30, -60, StringDB('ESS6961')) -- ESS=喝．喝．
    ESC.Delay(600)
    ESC.ChangeQQ(6972, Const.WALK)
end
-- 吳欣叡的對話
function Scene.TALK6973()
    --  福
    if GameFunc.GetFlag(564) then goto T6973_EAND end
    if not GameFunc.GetFlag(551) then goto T6973 end
-- 玩家索取簽名版時的對話
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6883')) -- ESS=可以給我簽名版嗎？
    Scene.M_PrintW_C(6973, 7, 4, StringDB('ESS6962')) -- ESS=幫我找%T829.、%T830.、%T8...
-- 玩家有三樣樂器的對話
    if Function.GetItemCount(829) == 0
        or Function.GetItemCount(830) == 0
        or Function.GetItemCount(831) == 0
    then
        goto T6973N
    end

    Scene.DOMOExchange(829, StringDB('ESS6963')) -- ESS=將%T829.、%T830.、%T831...
    ItemFunc.AddItem(830, -1)
    ItemFunc.AddItem(831, -1)
    Scene.AutoPrint_C(6973, StringDB('ESS6964')) -- ESS=嗯～三種都有了，簽名版在這。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(564)
    ESC.SceneBreak()
-- 玩家沒有三樣樂器時的對話
::T6973N::
    ESC.FitSize()
    Scene.AutoPrint_C(6973, StringDB('ESS6965')) -- ESS=如果找到了就給你。
    ESC.SceneBreak()

-- 玩家還不知道要索取簽名對話
::T6973::
    Scene.AutoPrint_C(6973, StringDB('ESS6966')) -- ESS=不要吵我，我正在努力作曲。
    ESC.SceneBreak()
-- 給過簽名後的對話
::T6973_EAND::
    Scene.AutoPrint_C(6973, StringDB('ESS6966')) -- ESS=不要吵我，我正在努力作曲。
end
-- 鮑弘修的對話
function Scene.TALK6974()
    if GameFunc.GetFlag(567) then goto T6974_END1 end
    if not GameFunc.GetFlag(551) then goto T6974 end

    Scene.AutoPrint_C(6974, StringDB('ESS6968')) -- ESS=簽名版拿去吧。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    ItemFunc.AddItem(833, 1)
    GameFunc.FlagOn(567)
    ESC.SceneBreak()

-- 玩家還不知道要索取簽名對話
::T6974::
    ESC.FitSize()
    Scene.AutoPrint_C(6974, StringDB('ESS6970')) -- ESS=你好。
    ESC.SceneBreak()
-- 給過簽名後的對話
::T6974_END1::
    Scene.AutoPrint_C(6974, StringDB('ESS6971')) -- ESS=用改的玩遊戲會失去很多樂趣。

end
-- 張孝全的對話

function Scene.TALK6975()
    --  福
    if GameFunc.GetFlag(566) then
        -- 給過簽名後的對話
        Scene.AutoPrint_C(6975, StringDB('ESS6973')) -- ESS=這下可以買不少東西了。
        return
    end
    Scene.WORD_ON_HEAD(6975, 2, 30, -60, StringDB('ESS6974')) -- ESS=缺錢呀．．
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        return
    end
-- 玩家索取簽名版時的對話
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6883')) -- ESS=可以給我簽名版嗎？
    Scene.AutoPrint_C(6975, StringDB('ESS6975')) -- ESS=我現在很缺錢，拿9000銀幣來再說。

    Scene.AutoPrint_C(1, StringDB('ESS6976')) -- ESS=給9000銀幣？%N%B給.%N%B不給...
    local select = ESC.GetBTNSelect()
    if select == 2 then
        goto T6975N
    end

    if GameFunc.PlayerGolds >= 9000 then
        goto T6975Y
    end
-- 玩家沒有9000時的對話
::T6975N::
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6977')) -- ESS=我身上沒那麼多錢。
    ESC.FitSize()
    Scene.AutoPrint_C(6975, StringDB('ESS6978')) -- ESS=沒有就別談。
    ESC.SceneBreak()
-- 玩家有DOMO遊戲時的對話
::T6975Y::
    MediaFunc.PlaySound(193)
    ESC.DLGNoPass()
    ESC.DLGHoldTime(15)
    ESC.DLGNoCloseKey()
    ESC.Center_X()
    ESC.FitSize()
    Scene.Print_SLF(0,9009,320,140,10*2,2,'%S1'..StringDB('ESS6979')) -- ESS=將9000銀幣給張孝全。
    ESC.WaitDLG(0)
    GameFunc.PlayerGolds = GameFunc.PlayerGolds -9000
    ESC.FitSize()
    Scene.AutoPrint_C(6975, StringDB('ESS6959')) -- ESS=很好，簽名版拿去。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    ItemFunc.AddItem(833, 1)
    GameFunc.FlagOn(566)
end
-- 蔡明宏的對話
function Scene.TALK6976()
    -- 魔王
    if GameFunc.GetFlag(563) then
        -- 給過簽名後的對話
        Scene.AutoPrint_C(6976, StringDB('ESS6980A')) -- ESS=這次的軒轅劍參加強版，由鮑弘修負責程式改版與劇情增補。
        Scene.AutoPrint_C(6976, StringDB('ESS6980B')) -- ESS=羅國成與陳鵬文幫忙新增與修改圖。
        Scene.AutoPrint_C(6976, StringDB('ESS6980C')) -- ESS=康智皓與胡佑昌負責測試與提修改建議。
        Scene.AutoPrint_C(6976, StringDB('ESS6980D')) -- ESS=以上，就是這次加強版的工作人員名單。
        -- Scene.WORD_ON_HEAD(6976, 2, 30, -60, StringDB('ESS6980')) -- ESS=ＺＺＺＺＺ．．．
        return
    end
    if not GameFunc.GetFlag(551) then
        -- 玩家還不知道要索取簽名對話
        Scene.AutoPrint_C(6976, StringDB('ESS6981')) -- ESS=歡迎來到DOMO，我是魔王蔡明宏！
        return
    end
-- 玩家索取簽名版時的對話
    Scene.AutoPrint_C(1, StringDB('ESS6883')) -- ESS=可以給我簽名版嗎？
    Scene.AutoPrint_C(6976, StringDB('ESS6982')) -- ESS=最近忙碌失眠，有辦法讓我睡著的話，就給你...
    if Function.GetItemCount(722)>0 then
        goto T6976Y
    end
-- 玩家沒有山蛇莓時的對話
    Scene.MAIN_TALKS_3(1, 11, 13, ''..StringDB('ESS6983')) -- ESS=%T722.可以讓人睡著，可惜現在身上沒...
    ESC.SceneBreak()
-- 玩家有山蛇莓時的對話
::T6976Y::
    Scene.DOMOExchange(722, StringDB('ESS6984')) -- ESS=將%T722.給蔡魔王。
    Scene.AutoPrint_C(6976, StringDB('ESS6985')) -- ESS=嗯～好睏喔。簽名版拿去。
    Scene.RoadFlag(StringDB('ESS6868')) -- ESS=得到簽名板
    GameFunc.FlagOn(563)
end



function Scene.TALK6999()
    Scene.ChangeMap(310, 71, 57, 4)
    Scene.RoadFlag(StringDB('ESS5632')) -- ESS=　王家廢墟
end

function Scene.TALK7000()
    Scene.ChangeMap(338, 4, 22, 1)
    Scene.RoadFlag(StringDB('ESS6986')) -- ESS= DOMO工作室
end


function Scene.TALK7001()
    local select
    -- NPC宗楚客    搜羅玉器    可得1002紅寶石耳環
    if GameFunc.GetFlag(701) then goto T7001 end
    ESC.FitSize()
    Scene.AutoPrint_C(7001, StringDB('ESS6987')) -- ESS=唉!!
    Scene.M_PrintW_C(1, 5, 3, StringDB('ESS6988')) -- ESS=這位兄台，你為甚麼唉聲嘆氣呢？
    ESC.FitSize()
    Scene.AutoPrint_C(7001, StringDB('ESS6989')) -- ESS=您有所不知!!
    Scene.Print_W(7001,9005,8*2,4*2,StringDB('ESS6990')) -- ESS=我心愛的姑娘，他父親要我拿出一組特別的聘...
    ESC.WaitDLG(7001)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6991')) -- ESS=甚麼樣的聘禮？
    Scene.AutoPrint_C(7001, StringDB('ESS6992')) -- ESS=他要%T1043.，%T1001.，%T...
    Scene.Print_W(7001,9005,10*2,2*2,StringDB('ESS6993')) -- ESS=您願意幫我一起找嗎？%N%B願意　　.／...
    ESC.WaitDLG(7001)
    select = ESC.GetBTNSelect()
    if select == 2 then
        ESC.FitSize()
        Scene.AutoPrint_C(7001, StringDB('ESS6994')) -- ESS=喔!!誰能幫我呢？
        return
    end
    ESC.FitSize()
    Scene.AutoPrint_C(7001, StringDB('ESS6995')) -- ESS=真是太麻煩您了。
    GameFunc.FlagOn(701)
    Scene.QuestOn(12)
    ESC.SceneBreak()
::T7001::
    Scene.AutoPrint_C(7001, StringDB('ESS6996')) -- ESS=您搜集到%T1043.，%T1001.，...
    select = ESC.GetBTNSelect()
    if select == 2 then
        ESC.FitSize()
        Scene.AutoPrint_C(1, StringDB('ESS6997')) -- ESS=還沒有，請再等一陣子。
        ESC.FitSize()
        Scene.AutoPrint_C(7001, StringDB('ESS6987')) -- ESS=唉!!
        return
    end
    if Function.GetItemCount(1043) == 0 -- 沒有玉鐲
        or Function.GetItemCount(1001) == 0     -- 沒有綠玉耳環
        or Function.GetItemCount(992) == 0      -- 沒有白玉飛天珮
        or Function.GetItemCount(975) == 0      -- 沒有玉戒指
        or Function.GetItemCount(507) == 0      -- 沒有隴金玉劍
        or Function.GetItemCount(1023) == 0     -- 沒有翠玉金釵
    then
        ESC.FitSize()
        Scene.AutoPrint_C(1, StringDB('ESS6997')) -- ESS=還沒有，請再等一陣子。
        ESC.FitSize()
        Scene.AutoPrint_C(7001, StringDB('ESS6987')) -- ESS=唉!!
        return
    end

    Scene.AutoPrint_C(1, StringDB('ESS6998')) -- ESS=嗯....這裏有%T1043.、%T10...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6999')) -- ESS=應該就是這些了!!

    Scene.WORD_ON_HEAD(1, 5, 10, -60, '%S0'..StringDB('ESS7000')) -- ESS=將東西交給宗楚客…
    ESC.WaitDLG(1)

    ItemFunc.AddItem(1043 , -1) -- 玉鐲
    ItemFunc.AddItem(1001 , -1) -- 綠玉耳環
    ItemFunc.AddItem(992 , -1) -- 白玉飛天珮
    ItemFunc.AddItem(975 , -1) -- 玉戒指
    ItemFunc.AddItem(507 , -1) -- 隴金玉劍
    ItemFunc.AddItem(1023 , -1) -- 翠玉金釵
    Scene.M_PrintW_C(7001, 11, 3, StringDB('ESS7001')) -- ESS=啊!!%N真是太謝謝您了!!%N這有份薄...
    Scene.GetItem(1002, '%T1002.') ESC.WaitDLG(0)
    Scene.AutoPrint_C(7001, StringDB('ESS7002')) -- ESS=我現在要趕去我心上人家裏提親了，告辭。
    ESC.ChangeQQ(7001, Const.WALK)
    ESC.SetRoleSpeed(7001, 1)
    ESC.BatchMove(1,    7001, 59, 72)
    ESC.RoleDisable(7001)
    Scene.QuestOff(12)
end
--------------------------------------------------------------------------------------------------------------------

function Scene.TALK7002()
    local rnd
    -- 三姑六婆,支線-青龍水珠
    if GameFunc.GetFlag(539) then goto T7002B end -- 賽特復活後    兩人的八卦更換
    if GameFunc.GetFlag(518) then goto T7002A end

::T7002_3::
    Scene.M_PrintW_C(7002, 8, 4, StringDB('ESS7003')) -- ESS=住壽長坊的石匠郭老頭，聽說留有一個寶貝，...
    Scene.M_PrintW_C(7003, 8, 4, StringDB('ESS7004')) -- ESS=這我也聽說，聽說郭老頭只告訴他兒子一句”...
    if GameFunc.GetFlag(702) then return end
    GameFunc.FlagOn(702)
    Scene.QuestOn(13)
    ESC.SceneBreak()

::T7002A::  -- 王家爆炸後,增加王家宅院有妖魔的事
    rnd = math.random(1,4)
    if rnd==1 then
        Scene.M_PrintW_C(7002, 6, 4, StringDB('ESS7005')) -- ESS=楊相國跟虢國夫人上街並肩兒行，一點都不害...
        Scene.M_PrintW_C(7003, 6, 4, StringDB('ESS7006')) -- ESS=這你可就不知道，他倆的宅院聽說還是相通的...
        return
    elseif rnd==2 then
        Scene.M_PrintW_C(7003, 6, 4, StringDB('ESS7007')) -- ESS=真沒想到，安祿山諾大一個人，竟認貴妃當乾...
        Scene.M_PrintW_C(7002, 6, 4, StringDB('ESS7008')) -- ESS=聽說安祿山常待在貴妃寢宮裏，皇上居然都不...
        return
    elseif rnd==3 then
        goto T7002_3
    end

    Scene.M_PrintW_C(7003, 6, 3, StringDB('ESS7009')) -- ESS=真可怕，國昭坊王大善人家被燒光了耶！
    Scene.M_PrintW_C(7002, 7, 3, StringDB('ESS7010')) -- ESS=我還聽說王家那塊地附近，有奇怪的人物出沒...
    ESC.SceneBreak()

-------- 賽特復活後  依然可找青龍水珠
::T7002B::
    rnd = math.random(1,2)
    if rnd==2 then
        Scene.M_PrintW_C(7002, 6, 4, StringDB('ESS7011')) -- ESS=那壽長坊的石匠郭老頭的寶貝，不曉得被找到...
        Scene.M_PrintW_C(7003, 7, 3, StringDB('ESS7012')) -- ESS=郭老頭那句”停止干戈中”誰知道是甚麼意思...
        if GameFunc.GetFlag(702) then return end
        GameFunc.FlagOn(702)
        Scene.QuestOn(13)
        return
    end
    Scene.M_PrintW_C(7002, 6, 3, StringDB('ESS7013')) -- ESS=真沒想到，西市會有這麼空盪的一天。
    Scene.M_PrintW_C(7003, 10, 4, StringDB('ESS7014')) -- ESS=要不是皇上聽那宦官邊令城的話，斬了高仙芝...
    Scene.M_PrintW_C(7002, 10, 4, StringDB('ESS7015')) -- ESS=哥舒翰將軍死守潼關，要不是楊相國唆使皇上...
    Scene.M_PrintW_C(7003, 9, 3, StringDB('ESS7016')) -- ESS=現在楊家班跟著皇上逃了，倒霉的還是咱們這...
end
--------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------
function Scene.TALK7004()
    if not GameFunc.GetFlag(702) then return end
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7017')) -- ESS=有張紙條：%N郡王府石燈中。
    ESC.RoleDisable(7004)
    ESC.RoleEnable(7005)
end
------------------------------------------------------------------------
function Scene.TALK7005()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7018')) -- ESS=有張紙條：%N翰林府石獅下。
    ESC.RoleDisable(7005)
    ESC.RoleEnable(7006)
end

function Scene.TALK7006()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7019')) -- ESS=有張紙條：%N石龍腹中藏寶。
    ESC.RoleDisable(7006)
    ESC.RoleEnable(7007)
end

function Scene.TALK7007()
    Scene.MAIN_TALKS_4(1, 9, 0, StringDB('ESS7020')) -- ESS=石龍腹中有東西。
    Scene.SearchFlower(944)
    Scene.QuestOff(13)
end

--------------------------- 酒店老闆,給流光鞋，賽特復活後此支線不啟動
function Scene.TALK7008()
    local select
    if GameFunc.GetFlag(539) then goto T7008_2 end -- 賽特復活後
    if GameFunc.GetFlag(705) then goto T7008_1 end
    if GameFunc.GetFlag(703) then goto T7008 end
    GameFunc.FlagOn(703)
    ESC.FitSize()
    Scene.AutoPrint_C(7008, StringDB('ESS7021')) -- ESS=真是累死人了。
    Scene.AutoPrint_C(1, StringDB('ESS7022')) -- ESS=兄台您看來是趕了很長一段路。
::T7008::
    Scene.M_PrintW_C(7008, 8, 4, StringDB('ESS7023')) -- ESS=有個客人，把包袱掉在我這店裏，那客人離開...
    Scene.Print_W(7008,9005,9*2,3*2,StringDB('ESS7024')) -- ESS=那客人的馬日行三百里，我騎快馬追趕，把包...
    ESC.WaitDLG(7008)
    Scene.Print_W(7008,9005,8*2,3*2,StringDB('ESS7025')) -- ESS=回到店裏，才發現從那客人離開，已過了九個...
    ESC.WaitDLG(7008)
    Scene.AutoPrint_C(1, StringDB('ESS7026')) -- ESS=聽來是蠻累人的，不過你的馬跑的更快。
    Scene.M_PrintW_C(7008, 9, 3, StringDB('ESS7027')) -- ESS=您要不要猜上一猜，我的馬兒日行多少。%N...
    select = ESC.GetBTNSelect()
    if select == 2 then
        Scene.AutoPrint_C(7008, StringDB('ESS7028')) -- ESS=真是可惜，我正想你我有緣，沒想到你我還是...
        return
    end

    Scene.M_PrintW_C(1, 6, 4, '%K'..StringDB('ESS7029')) -- ESS=您的馬日行：%B三百.　%B四百.%N%...
    select = ESC.GetBTNSelect()
    if select == 5 then
        goto T70082
    end
    GameFunc.FlagOn(704)
::T70082::
    Scene.Print_W(1,9005,12*2,2*2,'%K'..StringDB('ESS7030')) -- ESS=又%B二十. %B三十. %B四十. %...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select == 7 then
        goto T70084
    end
    GameFunc.FlagOn(704)
::T70084::
    if not GameFunc.GetFlag(704) then goto T70085 end
    Scene.AutoPrint_C(7008, StringDB('ESS7031')) -- ESS=我的馬可沒跑這種速度。真是可惜，我正想你...
    GameFunc.FlagOff(704)
    ESC.SceneBreak()
::T70085::
    GameFunc.FlagOn(705)
    if GameFunc.GetFlag(224) and GameFunc.GetFlag(284) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
        ACH.SetAchievement("ACH_8_1") -- 數學家成就
    end
    Scene.AutoPrint_C(7008, StringDB('ESS7032')) -- ESS=客倌您真不簡單，可推算我的馬日行七百八十...
    Scene.AutoPrint_C(7008, StringDB('ESS7033')) -- ESS=在下這有份薄禮，請您笑納。
    Scene.GetItem(1040, '%T1040.') ESC.WaitDLG(0)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7034')) -- ESS=多謝!!
    ESC.SceneBreak()
::T7008_1::
    Scene.AutoPrint_C(7008, StringDB('ESS7035')) -- ESS=有空多光顧小店呀!!
    ESC.SceneBreak()
---------------------------
::T7008_2::
    Scene.AutoPrint_C(7008, StringDB('ESS7036')) -- ESS=安祿山造反之後，生意一落千丈，%N唉.....
end
------------------------- 小官韋青  給舍利子
function Scene.TALK7009()
    local select
    if GameFunc.GetFlag(708) then goto T7009_C end
    if GameFunc.GetFlag(707) then goto T7009_B end
    if GameFunc.GetFlag(706) then goto T7009_A end
    if GameFunc.GetFlag(539) then goto T7009_D end -- 賽特復活後   若支線尚未啟動  啟始對話更換
    ESC.FitSize()
    Scene.AutoPrint_C(7009, StringDB('ESS7037')) -- ESS=唉!!人微言輕呀!!
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7038')) -- ESS=兄台看來有很多感觸。
    Scene.M_PrintW_C(7009, 8, 4, StringDB('ESS7039')) -- ESS=貴妃驕縱善妒，她大概不知道史書那些善妒的...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7040')) -- ESS=哦....
    GameFunc.FlagOn(706)
::T7009_A::
    Scene.AutoPrint_C(7009, StringDB('ESS7041')) -- ESS=史冊上有幾個善妒的皇后，如呂雉、趙飛燕、...
    Scene.M_PrintW_C(7009, 8, 4, StringDB('ESS7042')) -- ESS=對了，我所說的幾個皇后，其中一人沒當上皇...
    Scene.M_PrintW_C(1, 10, 3, StringDB('ESS7043')) -- ESS=我想沒當上太后的是：%B呂雉　　.%B趙...
    select = ESC.GetBTNSelect()
    if select ~= 3 then
        Scene.AutoPrint_C(7009, StringDB('ESS7044')) -- ESS=不對不對，看來我再跟您說，您也聽不懂的。...
        return
    end
    GameFunc.FlagOn(707)
    ESC.FitSize()
    Scene.AutoPrint_C(7009, StringDB('ESS7045')) -- ESS=看來您對史書也頗有涉略。
::T7009_B::
    Scene.M_PrintW_C(7009, 10, 4, StringDB('ESS7046')) -- ESS=您可知呂雉、趙飛燕、賈南風、則天皇后她們...
    Scene.M_PrintW_C(1, 10, 4, StringDB('ESS7047')) -- ESS=我想只有：%N%B呂雉　　.%B趙飛燕....
    select = ESC.GetBTNSelect()
    if select ~= 4 then
        Scene.AutoPrint_C(7009, StringDB('ESS7048')) -- ESS=不對不對，看來您了解的不夠多。
        return
    end
    GameFunc.FlagOn(708)
    Scene.AutoPrint_C(7009, StringDB('ESS7049')) -- ESS=看來您對史書頗有涉略，我想我們可以交個朋...
    Scene.GetItem(690, '%T690.') ESC.WaitDLG(0)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7034')) -- ESS=多謝!!
    if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and GameFunc.GetFlag(710) then
        ACH.SetAchievement("ACH_8_2") -- 知識份子成就
    end
    ESC.SceneBreak()
::T7009_C::
    Scene.AutoPrint_C(7009, StringDB('ESS7050')) -- ESS=有機會的話，我們可以再切磋史學。
    ESC.SceneBreak()
---------------------
::T7009_D::
    GameFunc.FlagOn(706)
    Scene.M_PrintW_C(7009, 10, 4, StringDB('ESS7051')) -- ESS=皇上倉皇逃離，將士們多有怨言，說不定貴妃...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7040')) -- ESS=哦....
    goto T7009_A
end
----------------------
function Scene.TALK7010()
    Scene.SearchFlower(908)
end
---------------------------------------------------------------------------
function Scene.TALK7011()
    local select
    -- 大食商旅 -- 聖皇裝換麒麟緞帶
    if GameFunc.GetFlag(709) then goto T7011 end
    GameFunc.FlagOn(709)
    ESC.FitSize()
    Scene.AutoPrint_C(7011, StringDB('ESS7052')) -- ESS=不甘心，不甘心。
    Scene.AutoPrint_C(1, StringDB('ESS7053')) -- ESS=朋友，為甚麼說這種話呢？
    Scene.M_PrintW_C(7011, 9, 4, StringDB('ESS7054')) -- ESS=我四處經商並且搜集古羅馬帝國『最後的騎士...
    Scene.Print_W(7011,9005,8*2,4*2,StringDB('ESS7055')) -- ESS=可是連到了地大物博的中國，還是搜求不到。...
    ESC.WaitDLG(7011)
    Scene.AutoPrint_C(1, StringDB('ESS7056')) -- ESS=許多奇珍異寶，本就是可遇不可求的呀。
    Scene.AutoPrint_C(7011, StringDB('ESS7057')) -- ESS=話雖如此，可是我還是不甘心呀。
    Scene.Print_W(7011,9005,10*2,4*2,StringDB('ESS7058')) -- ESS=朋友，你若能找齊聖皇裝備送我，我將回報你...
    ESC.WaitDLG(7011)
    Scene.AutoPrint_C(1, StringDB('ESS7059')) -- ESS=可是我不曉得聖皇裝備有那些。
    Scene.QuestOn(11)
::T7011::
    Scene.M_PrintW_C(7011, 6, 4, StringDB('ESS7060')) -- ESS=聖皇裝備有%T876.、%T853.、%...
    Scene.Print_W(7011,9005,8*2,2*2,StringDB('ESS7061')..'%N'..StringDB('SESS2')) -- ESS=你都搜集到了嗎？%N%B是.／%B否.
    ESC.WaitDLG(7011)
    select = ESC.GetBTNSelect()
    if select == 1 then
        goto T7011Y
    end
::T7011N::
    Scene.AutoPrint_C(7011, StringDB('ESS7062')) -- ESS=真可惜，你我都沒有整套裝備。
    ESC.SceneBreak()
::T7011Y2::
    Scene.AutoPrint_C(7011, StringDB('ESS7063')) -- ESS=有些你還裝備在身上，麻煩你卸下來。
    ESC.SceneBreak()
::T7011Y::
    if Function.GetItemCount(876) == 0
        or Function.GetItemCount(853) == 0
        or Function.GetItemCount(896) == 0
        or Function.GetItemCount(908) == 0
    then
        goto T7011N
    end

    if Function.CheckEquip(876) or Function.CheckEquip(853)
        or Function.CheckEquip(896) or Function.CheckEquip(908)
    then
        goto T7011Y2
    end

    Scene.AutoPrint_C(1, StringDB('ESS7064')) -- ESS=嗯....這裏有%T876.、%T853...

    ESC.DLGNoFrame()
    ESC.DLGNoPass()
    ESC.DLGHoldTime(10)
    ESC.DLGNoCloseKey()
    Scene.Print_W(1,9007,7*2,2*2,StringDB('ESS7065')) -- ESS=賽特將聖皇裝備給阿穆…
    ESC.WaitDLG(1)

    ItemFunc.AddItem(876 , -1)
    ItemFunc.AddItem(853 , -1)
    ItemFunc.AddItem(896 , -1)
    ItemFunc.AddItem(908 , -1)

    Scene.AutoPrint_C(7011, StringDB('ESS7066')) -- ESS=真的是哈德良王的裝備耶!!
    Scene.AutoPrint_C(7011, StringDB('ESS7067')) -- ESS=這是我承諾送您的東西，請您收下。

    Scene.GetItem(1027, '%T1027.')
    ESC.WaitDLG(0)
    Scene.AutoPrint_C(7011, StringDB('ESS7068')) -- ESS=大恩不言謝，我要啟程回國了。
    ESC.ChangeQQ(7011, Const.WALK)
    ESC.BatchMove(1,    7011, 27, 31)
    ESC.RoleDisable(7011)
    Scene.QuestOff(11)
end

--------------------------中國老人 公孫鞅 可得1029 法藏
function Scene.TALK7012()
    -- 年號問題
    Scene.AutoPrint_C(7012, StringDB('ESS7069')) -- ESS=買古董最傷腦筋的，就是歷朝皇帝的年號了。...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7070')) -- ESS=這怎麼說呢？
    Scene.M_PrintW_C(7012, 7, 3, StringDB('ESS7071')) -- ESS=像您可知，今上登基至今，已用過幾個年號？...
    Scene.M_PrintW_C(1, 9, 3, StringDB('ESS7072')) -- ESS=嗯....用過%N%B１.／%B２.／%...
    local select = ESC.GetBTNSelect()
    if select ~= 3 then
        Scene.AutoPrint_C(7012, StringDB('ESS7073')) -- ESS=不對不對，您說錯了。
        return
    end
    Scene.M_PrintW_C(7012, 7, 4, StringDB('ESS7074')) -- ESS=是呀，今上即位四十餘年，用了三個年號，這...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7075')) -- ESS=還有用更多的？
    Scene.M_PrintW_C(7012, 8, 3, StringDB('ESS7076')) -- ESS=是呀，高宗皇帝在位三十四年，您可知用了幾...
    ESC.Caption(1)
    Scene.Print_W(1,9005,14*2,2*4,StringDB('ESS7077')) -- ESS=我想是用過%N%B　２.／%B ４.／%...
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select ~= 7 then
        Scene.AutoPrint_C(7012, StringDB('ESS7073')) -- ESS=不對不對，您說錯了。
        return
    end
    Scene.AutoPrint_C(7012, StringDB('ESS7078')) -- ESS=是呀，大概兩年半就更換一個年號。
    Scene.Print_W(7012,9005,5*2,3*2,StringDB('ESS7079')) -- ESS=像這樣，買古董是不是很頭痛呀!!
    ESC.WaitDLG(7012)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7080')) -- ESS=說的也是!!
    Scene.M_PrintW_C(7012, 7, 4, StringDB('ESS7081')) -- ESS=我覺得我們頗投緣的，朋友，我這有樣東西，...
    Scene.GetItem(909, '%T909.') ESC.WaitDLG(0)
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS6550')) -- ESS=多謝。
    Scene.SetSceneFlag("Renew2016_TALK7012",1)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end
    Scene.AutoPrint_C(7012, StringDB('ESS7082')) -- ESS=嗯...我在這也待的太久了，我先告辭了，...
    ESC.ChangeQQ(7012, Const.WALK)
    ESC.BatchMove(1,    7012, 23, 41)
    ESC.RoleDisable(7012)
end
-------------------------------------------------不讀書的孫思年 給子雷手套
function Scene.TALK7013()
    if GameFunc.GetFlag(710) then
        Scene.AutoPrint_C(1, StringDB('ESS7083')) -- ESS=朋友，怎不見你讀書呢？
        Scene.AutoPrint_C(7013, StringDB('ESS7084')) -- ESS=呃....我想明天再好好讀書。
        return
    end
    Scene.AutoPrint_C(7013, StringDB('ESS7085')) -- ESS=讀書讀讀書，老叫我讀書！
    Scene.AutoPrint_C(1, StringDB('ESS7086')) -- ESS=朋友，讀書可是好事呀！
    Scene.AutoPrint_C(7013, StringDB('ESS7087')) -- ESS=可是盡信書不如無書呀！
    ESC.FitSize()
    Scene.AutoPrint_C(1, '........')
    Scene.M_PrintW_C(7013, 10, 4, StringDB('ESS7088')) -- ESS=像書中說孔夫子編修六經，可是流傳在世的只...
    Scene.M_PrintW_C(1, 10, 4, StringDB('ESS7089')) -- ESS=我記得失傳的是：%N%B詩經.／%B書經...
    local select = ESC.GetBTNSelect()
    if select ~= 5 then
        Scene.M_PrintW_C(7013, 8, 4, StringDB('ESS7090')) -- ESS=不對耶，我昨天才讀過這部書，看來您也沒多...
        return
    end
    GameFunc.FlagOn(710)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end
    Scene.M_PrintW_C(7013, 8, 3, StringDB('ESS7091')) -- ESS=咦....詩、書、易、禮、春秋，真的是少...
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7092')) -- ESS=這下弄清楚了吧!!
    Scene.M_PrintW_C(7013, 7, 3, StringDB('ESS7093')) -- ESS=嗯....真是謝謝您，我這有份禮物，請您...

    Scene.GetItem(889, '%T889.')
    ESC.WaitDLG(0)
    Scene.M_PrintW_C(1, 6, 3, StringDB('ESS7094')) -- ESS=我就不客氣了，兄台您會好好讀書了吧!!
    ESC.FitSize()
    Scene.AutoPrint_C(7013, StringDB('ESS7095')) -- ESS=這當然。


end


---------------------   大食商人 艾布   可得909 雅典那之靴
function Scene.TALK7014()
    Scene.M_PrintW_C(7014, 6, 3, StringDB('ESS7096')) -- ESS=真糟糕，不知道這些珠寶買的夠不夠。
    ESC.FitSize()
    Scene.AutoPrint_C(1, StringDB('ESS7097')) -- ESS=朋友，你似乎有煩惱。
    Scene.M_PrintW_C(7014, 8, 4, StringDB('ESS7098')) -- ESS=是呀!!我在大唐各地總共買了百餘顆明珠，...
    Scene.M_PrintW_C(1, 5, 3, StringDB('ESS7099')) -- ESS=嗯～%N是不太容易算清楚。
    Scene.M_PrintW_C(7014, 7, 4, StringDB('ESS7100')) -- ESS=我七顆一數，三顆一數，五顆一數，都是餘下...
    Scene.Print_W(7014,9005,10*2,2*2,StringDB('ESS7101')) -- ESS=您可一幫我算一算嗎？%N%B幫忙.／%B...
    ESC.WaitDLG(7014)
    local select = ESC.GetBTNSelect()
    if select == 2 then
        Scene.AutoPrint_C(1, StringDB('ESS7102')) -- ESS=對不起，我可能幫不上忙。
        Scene.AutoPrint_C(7014, StringDB('ESS7103')) -- ESS=看來我只能自己傷腦筋了。
        return
    end

    ESC.Caption(1)
    Scene.Print_W(1,9005,14*2,2*4,StringDB('ESS7104')) -- ESS=我想總共是%N%B 101.／%B 10...
    ESC.WaitDLG(1)
    ESC.FitSize()
    Scene.AutoPrint_C(7014, StringDB('ESS7105')) -- ESS=讓我想一下。
    ESC.AddHeadSign(7014, 1)
    ESC.Delay(600)
    ESC.DelHeadSign(7014)
    select = ESC.GetBTNSelect()
    if select ~= 7 then
        ESC.FitSize()
        Scene.AutoPrint_C(7014, StringDB('ESS7106')) -- ESS=嗯...好像不對耶。
        return
    end
    Scene.AutoPrint_C(7014, StringDB('ESS7107')) -- ESS=嗯...應該沒錯，真是謝謝您。
    Scene.Print_W(7014,9005,7*2,2*2,StringDB('ESS7108')) -- ESS=這有份小禮物，請您收下吧!!
    ESC.WaitDLG(7014)
    GameFunc.FlagOn(597)
    if GameFunc.GetFlag(224) and GameFunc.GetFlag(284) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and Scene.GetSceneFlag("Renew2016_TALK7023") then
        ACH.SetAchievement("ACH_8_1") -- 數學家成就
    end
    Scene.GetItem(1029, '%T1029.') ESC.WaitDLG(0)
    Scene.M_PrintW_C(7014, 8, 4, StringDB('ESS7109')) -- ESS=一百零七顆明珠，似乎還不太夠，我看得到揚...
    ESC.TakeActData(7014, -1, 8, 5)
    ESC.BatchMove(1,    7014, 42, 23)
    ESC.RoleDisable(7014)
end

function Scene.TALK7015()
    Scene.M_PrintW_C(7015, 7, 4, StringDB('ESS7110')) -- ESS=前方那個塔，自從裏面的黑壇教離開後，就被...
    Scene.M_PrintW_C(7015, 8, 4, StringDB('ESS7111')) -- ESS=一些大膽潛入塔的人說，為首的妖魔，是個牛...
    Scene.M_PrintW_C(7015, 6, 4, StringDB('ESS7112')) -- ESS=要是不知情的人去祈福，抽到了那牛魔王，可...
end

-- DVD白金版支線
-- 小教士
-- -- debug : ESC.GotoMap(50 , 137 , 77 , 1 , 0 , 0)
function Scene.TALK7016()
    if Scene.GetSceneFlag("Renew2016_TALK7016")==2 then
        Scene.AutoPrint_W(-1,StringDB('ESS8079')) -- ESS=感謝你的建議，我決定回故鄉了。
        Scene.AutoPrint_W(-1,StringDB('ESS8085')) -- ESS=院長常待在地下室，地下室盡頭在一片山壁後，可別弄錯了。
        return
    elseif Scene.GetSceneFlag("Renew2016_TALK7016")==1 then
        Scene.AutoPrint_W(-1,StringDB('ESS8084')) -- ESS=唉，在教會過日子也不容易呢。
        Scene.AutoPrint_W(-1,StringDB('ESS8085')) -- ESS=院長常待在地下室，地下室盡頭在一片山壁後，可別弄錯了。
        return
    end
    Scene.AutoPrint_W(-1,StringDB('ESS8068')) -- ESS=真是傷腦筋，誰是最後的晚參第十三人呢？
    Scene.AutoPrint_W( 1,StringDB('ESS8069')) -- ESS=你好像有煩腦的事。
    Scene.AutoPrint_W(-1,StringDB('ESS8070')) -- ESS=我不曉得彼得、保羅還有猶大這三位使徒，那位是出賣耶蘇的人？
    Scene.AutoPrint_W( 1,StringDB('ESS8072')) -- ESS=我想是：%N%B彼得.／%B保羅.%N%B猶大.／%B不曉得.

    local select = ESC.GetBTNSelect()
    if select==4 then
        Scene.AutoPrint_W( 1,StringDB('ESS8073')) -- ESS=我不曉得，以你的身分，不是應該要知道的？
        Scene.AutoPrint_W(-1,StringDB('ESS8074')) -- ESS=我？我只是因為生活艱難，想混進教會過好日子而已，沒想到要學這麼多東西。
        Scene.AutoPrint_W( 1,StringDB('ESS8075')) -- ESS=那麼你正在過好日子了？
        Scene.AutoPrint_W(-1,StringDB('ESS8076')) -- ESS=不，整天提心吊膽怕犯了甚麼錯，很痛苦啊。
        Scene.AutoPrint_W( 1,StringDB('ESS8077')) -- ESS=太勉強的話不如回去，你用同樣的努力說不定能解決你過去的生活艱難。
        Scene.AutoPrint_W(-1,StringDB('ESS8078')) -- ESS=……說的也是呢，教會生活真的不適合我，我還是回故鄉好了。
        Scene.AutoPrint_W(-1,StringDB('ESS8083')) -- ESS=謝謝你的建議，這個送你。
        Scene.GetItem(625,"",2)
        Scene.SetSceneFlag("Renew2016_TALK7016",2)
        if Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end

        return
    elseif select==3 then
        Scene.AutoPrint_W(-1,StringDB('ESS8081')) -- ESS=對喔，是猶大。
        Scene.AutoPrint_W(-1,StringDB('ESS8082')) -- ESS=這有份小禮物送給您。
        Scene.GetItem(625,"",2)
        Scene.SetSceneFlag("Renew2016_TALK7016",1)
        if Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end

        return
    end
    Scene.AutoPrint_W(-1,StringDB('ESS8080')) -- ESS=好像不太對喔。
end
-- 獵人亞當
-- -- debug : ESC.GotoMap(21 , 49 , 99 , 1 , 0 , 0)
function Scene.TALK7017()
    Scene.AutoPrint_W(-1,StringDB('ESS8051')) -- ESS=狗兒要追多久才追的到兔子呢？
    Scene.AutoPrint_W( 1,StringDB('ESS8052')) -- ESS=你好像有麻煩的樣子。
    Scene.AutoPrint_W(-1,StringDB('ESS8053')) -- ESS=我的狗去追獵到的兔子，不曉得是不是追丟了？
    Scene.AutoPrint_W(-1,StringDB('ESS8054')) -- ESS=我知道道兔子一秒跑七公尺，我的狗一秒跑九公尺。
    Scene.AutoPrint_W(-1,StringDB('ESS8055')) -- ESS=那時兔子大概離我一百五十公尺，狗要追多久才追的到呢？
    Scene.AutoPrint_W( 1,StringDB('ESS8056')) -- ESS=我想要追：%N%B一分鐘.  ／%B一分15秒.%N%B一分半鐘.／%B不知道.
    local select = ESC.GetBTNSelect()
    if select==4 then
        Scene.AutoPrint_W( 1,StringDB('ESS8061')) -- ESS=不知道。我是覺得無論你是否算出正確答案，你都應該要去找你的狗。
        Scene.AutoPrint_W(-1,StringDB('ESS8062')) -- ESS=但是……沒算出來我會睡不著。
        Scene.AutoPrint_W( 1,StringDB('ESS8063')) -- ESS=也許你應該改行當數學家，能想出這種題目也了不起了。
        Scene.AutoPrint_W(-1,StringDB('ESS8064')) -- ESS=我聽過哲學家，沒聽過甚麼數學家，當數學家能填飽肚子嗎？
        Scene.AutoPrint_W( 1,StringDB('ESS8065')) -- ESS=如果當哲學家能填飽肚子，也許數學家也可以喔。
        Scene.AutoPrint_W(-1,StringDB('ESS8066')) -- ESS=說的也是，似乎這樣也不錯。這個給你。
        Scene.GetItem(626)
        ESC.WaitDLG(0)
        Scene.AutoPrint_W(-1,StringDB('ESS8067')) -- ESS=我該去找我的狗了，再來想想如何成為數學家的問題。
        Scene.SetSceneFlag("Renew2016_TALK7017",2)
        Scene.BatchWlak({ {7017, 49, 105} })
        ESC.RoleDisable(7017)
        GameFunc.FlagOn(287)
        if GameFunc.GetFlag(224) and GameFunc.GetFlag(284) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
            ACH.SetAchievement("ACH_8_1") -- 數學家成就
        end
        return
    elseif select==2 then
        Scene.AutoPrint_W(-1,StringDB('ESS8058')) -- ESS=嗯，應該是這樣。
        Scene.AutoPrint_W(-1,StringDB('ESS8059')) -- ESS=這點心意請您收下。
        Scene.GetItem(626)
        GameFunc.FlagOn(287)
        if GameFunc.GetFlag(224) and GameFunc.GetFlag(284) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) and Scene.GetSceneFlag("Renew2016_TALK7023") then
            ACH.SetAchievement("ACH_8_1") -- 數學家成就
        end
        Scene.AutoPrint_W(-1,StringDB('ESS8060')) -- ESS=謝謝您幫我估算時間，我想我的狗兒應該追丟了，我得去找牠回來。
        Scene.SetSceneFlag("Renew2016_TALK7017",1)
        ESC.ChangeSpeed(7017,1)
        Scene.BatchWlak({ {7017, 49, 105} })
        ESC.RoleDisable(7017)
        return
    end
    Scene.AutoPrint_W(-1,StringDB('ESS8057')) -- ESS=好像不太對喔。
end
-- 訪仙者王子喬
-- -- debug : ESC.GotoMap(282 , 79 , 28 , 1 , 0 , 0)
function Scene.TALK7018()
    local select
    Scene.AutoPrint_C(-1,StringDB('ESS8115')) -- ESS=先生，請問一下？
    Scene.AutoPrint_C( 1,StringDB('ESS8116')) -- ESS=有甚麼事？
    Scene.AutoPrint_C(-1,StringDB('ESS8117')) -- ESS=是這樣的，我想走訪三座仙山，只知其中一座不在塔里木沙漠這一帶。
    Scene.AutoPrint_C(-1,StringDB('ESS8118')) -- ESS=您可知天山、崑崙山、太行山，那座不在這附近呢？
    Scene.Print_W(1,9005,12*2,3*2,StringDB('ESS8119')) -- ESS=我想是%N%B 天山 .%B崑崙山.%N%B太行山.%B不知道.
    ESC.WaitDLG(1)
    -- Scene.AutoPrint_C( 1,StringDB('ESS8119')) -- ESS=我想是%N%B天山.%N%B崑崙山.%N%B太行山.%B不知道.
    select = ESC.GetBTNSelect()
    if select==4 then
        Scene.AutoPrint_C( 1,StringDB('ESS8124')) -- ESS=不知道呢。我是西方來的旅客。
        Scene.AutoPrint_C(-1,StringDB('ESS8125')) -- ESS=這樣啊，的確問你這個問題有點奇怪。
        Scene.AutoPrint_C( 1,StringDB('ESS8126')) -- ESS=你問的山，這麼大範圍的路標都搞不清楚，你不要緊嗎？
        Scene.AutoPrint_C(-1,StringDB('ESS8127')) -- ESS=這代表我對世俗之事毫不在意，這才能專心修仙。
        Scene.AutoPrint_C( 1,StringDB('ESS8128')) -- ESS=我是不知道修仙如何修，但，不是只能一步一步腳踏實地，才能到達嗎？世間萬物都是如此。
        Scene.AutoPrint_C(-1,StringDB('ESS8129')) -- ESS=腳踏實地……我們修仙的人不談這個。
        Scene.AutoPrint_C( 1,StringDB('ESS8130')) -- ESS=也就是說，你只想著一步登天？
        Scene.AutoPrint_C(-1,StringDB('ESS8131')) -- ESS=一步登天……你這成語用的還真妙。是沒錯，我就是為了一步登天而努力著。
        Scene.AutoPrint_C( 1,StringDB('ESS8132')) -- ESS=所以，你所知道的仙人，都是不切實際一步登天達到的？
        Scene.AutoPrint_C(-1,StringDB('ESS8133')) -- ESS=這……
        Scene.AutoPrint_C( 1,StringDB('ESS8134')) -- ESS=我不覺得依你現在的狀況，能達到你想去的任何地方。
        Scene.AutoPrint_C(-1,StringDB('ESS8135')) -- ESS=說的也是呢，我究竟怎麼搞的，迷路迷到這地方來……
        Scene.AutoPrint_C(-1,StringDB('ESS8122')) -- ESS=謝謝您的提點，在下有份薄禮相送。
        Scene.GetItem(1023) ESC.WaitDLG(0)
        Scene.AutoPrint_C(-1,StringDB('ESS8123')) -- ESS=時候不早了，我得先到附近部落休息，明早再趕回中原。
        Scene.SetSceneFlag("Renew2016_TALK7018",2)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end
        ESC.ChangeSpeed(7018,1)
        Scene.BatchWlak({ {7018, 56, 25} })
        ESC.RoleDisable(7018)
        return
    elseif select==3 then

        Scene.AutoPrint_C(-1,StringDB('ESS8121')) -- ESS=啊，是太行山。
        Scene.AutoPrint_C(-1,StringDB('ESS8122')) -- ESS=謝謝您的提點，在下有份薄禮相送。
        Scene.GetItem(1023) ESC.WaitDLG(0)
        Scene.AutoPrint_C(-1,StringDB('ESS8123')) -- ESS=時候不早了，我得先到附近部落休息，明早再趕回中原。
        Scene.SetSceneFlag("Renew2016_TALK7018",1)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end
        ESC.ChangeSpeed(7018,1)
        Scene.BatchWlak({ {7018, 56, 25} })
        ESC.RoleDisable(7018)
        return

    end
    Scene.AutoPrint_C(-1,StringDB('ESS8120')) -- ESS=不對喔，我才剛經過呢。
end
-- 老學究古伊
-- -- debug : ESC.GotoMap(204 , 20 , 15 , 1 , 0 , 0)
function Scene.TALK7019()
    if Scene.GetSceneFlag('Renew2016_TALK7019')==1 then
        Scene.AutoPrint_M(-1,StringDB('ESS8109')) -- ESS=在伊斯蘭世界上有許多古文化，希望你能好好探訪。
        return
    elseif Scene.GetSceneFlag('Renew2016_TALK7019')==2 then
        Scene.AutoPrint_M(-1,StringDB('ESS8114')) -- ESS=我計畫要去探訪尼羅河，然後是恆河，要好好準備了。
        return
    end
    local select
    Scene.AutoPrint_M(-1,StringDB('ESS8102')) -- ESS=這世上有許多河流，蘊育著文明。
    Scene.AutoPrint_M(-1,StringDB('ESS8103')) -- ESS=年青人，你可知幼發拉底河、底格里斯河、尼羅河、恆河這四條河，那個不在伊斯蘭地區？
    -- Scene.AutoPrint_M( 1,StringDB('ESS8104')) -- ESS=%B幼發拉底河.%N%B底格里斯河.%N%B尼羅河.%N%B恆河.%N%B不知道.
    Scene.Print_W(1,9008,20*2,5*2,StringDB('ESS8104')) -- ESS=%B幼發拉底河.%N%B底格里斯河.%N%B尼羅河.%N%B恆河.%N%B不知道.
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select==5 then
        Scene.AutoPrint_M( 1,StringDB('ESS8110')) -- ESS=不知道，巴格達附近有經過幼發拉底河與底格里斯河。其他河都沒去過。您去過嗎？
        Scene.AutoPrint_M(-1,StringDB('ESS8111')) -- ESS=嗯，我也是，我這輩子都待在巴格達一帶做研究。
        Scene.AutoPrint_M( 1,StringDB('ESS8112')) -- ESS=您提到的河，要真正知道只有實際去看過才算數吧。我倒是很想看看另外兩條河的風景。
        Scene.AutoPrint_M(-1,StringDB('ESS8113')) -- ESS=說的也是呢，這道理我還真沒想過。與其死讀書，不如實際去見識，我年紀也大了，更應該去看看。
        Scene.AutoPrint_M(-1,StringDB('ESS8107')) -- ESS=你我算是有緣，我這有樣小禮物，送給你當紀念吧。
        Scene.GetItem(1034)
        Scene.SetSceneFlag('Renew2016_TALK7019',2)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end

        return
    elseif select==4 then
        Scene.AutoPrint_M(-1,StringDB('ESS8106')) -- ESS=是呀，恆河不在伊斯蘭世界。
        Scene.AutoPrint_M(-1,StringDB('ESS8107')) -- ESS=你我算是有緣，我這有樣小禮物，送給你當紀念吧。
        Scene.GetItem(1034)
        Scene.AutoPrint_M( 1,StringDB('ESS8108')) -- ESS=謝謝。
        Scene.AutoPrint_M(-1,StringDB('ESS8109')) -- ESS=在伊斯蘭世界上有許多古文化，希望你能好好探訪。
        Scene.SetSceneFlag("Renew2016_TALK7019",1)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and Scene.GetSceneFlag("Renew2016_TALK7020") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end

        return
    else
        Scene.AutoPrint_M(-1,StringDB('ESS8105')) -- ESS=呵呵，她已在伊斯蘭的版圖中了。
    end

end
-- 官府衙役
-- -- debug : ESC.GotoMap(1256 , 116 , 18 , 1 , 0 , 0)
function Scene.TALK7020()
    if Scene.GetSceneFlag("Renew2016_TALK7020") then
        Scene.AutoPrint_C(-1,StringDB('ESS8220')) -- ESS=祝將軍您仕途順利。
        Scene.AutoPrint_C( 1,StringDB('ESS8221')) -- ESS=啊，辛苦你了。
        return
    end
    local select
    Scene.AutoPrint_C(-1,StringDB('ESS8194')) -- ESS=……那個方鎮最高指揮官不是節度使呢？
    Scene.AutoPrint_C( 1,StringDB('ESS8195')) -- ESS=怎麼了嗎？
    Scene.AutoPrint_C(-1,StringDB('ESS8196')) -- ESS=哎呀，這不是將軍嗎？
    Scene.AutoPrint_C(-1,StringDB('ESS8197')) -- ESS=在下要送將軍您上任的消息通達十方鎮的指揮官。
    Scene.AutoPrint_C( 1,StringDB('ESS8198')) -- ESS=羽林軍也有不少行政事務要處理啊，不好意思麻煩你了。
    Scene.AutoPrint_C(-1,StringDB('ESS8199')) -- ESS=因為十方鎮的指揮官有不同身分，文件也要對應對方的身分。
    Scene.AutoPrint_C(-1,StringDB('ESS8200')) -- ESS=雖然擔任十方鎮的指揮官幾乎都是節度使，但也有人不是。
    Scene.AutoPrint_C( 1,StringDB('ESS8201')) -- ESS=嗯，寫錯就糟了。
    Scene.AutoPrint_C(-1,StringDB('ESS8202')) -- ESS=您曉得是：范陽、平盧、河東、河西、隴右朔方、北庭、安西、劍南、嶺南那一鎮嗎？
    Scene.Print_W(1,9005,20*2,4*2,StringDB('ESS8203')) -- ESS=%B不知道.、%B范陽.、%B平盧.、%B河東.、%B河西.、%B隴右.%B朔方.、%B北庭.、%B安西.、%B劍南.、%B嶺南.不設節度使。
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select~=11 then
        Scene.AutoPrint_C(-1,StringDB('ESS8204')) -- ESS=不對啊，您現在的身分不可以弄錯的。
        Scene.AutoPrint_C( 1,StringDB('ESS8205')) -- ESS=說的也是呢……。
        Scene.AutoPrint_C(-1,StringDB('ESS8207')) -- ESS=是嶺南，嶺南設五府經略使。
        if GameFunc.PlayerGolds>100 then
            Scene.AutoPrint_C( 1,StringDB('ESS8208')) -- ESS=受教了。這些賞你。
            Scene.GetMoney(-100)
            Scene.AutoPrint_C(-1,StringDB('ESS8209')) -- ESS=多謝將軍。
        end
    else
        Scene.AutoPrint_C(-1,StringDB('ESS8206')) -- ESS=對，嶺南是設五府經略使，將軍您說得沒錯。
        Scene.AutoPrint_C(-1,StringDB('ESS8222')) -- ESS=不知為何將軍您答對問題在下就很想送將軍禮物。
        Scene.AutoPrint_C( 1,StringDB('ESS8223')) -- ESS=哦？你要給我禮物？
        Scene.AutoPrint_C(-1,StringDB('ESS8224')) -- ESS=不，在下不能送將軍任何禮物。
        Scene.AutoPrint_C( 1,StringDB('ESS8225')) -- ESS=是啊，被說成賄賂就麻煩了。
    end
    Scene.AutoPrint_C( 1,StringDB('ESS8210')) -- ESS=這樣沒事了吧？
    Scene.AutoPrint_C(-1,StringDB('ESS8211')) -- ESS=還有，這十鎮指揮官中，有一位在長安，可以先處理。您可知是那位嗎？
    Scene.Print_W(1,9005,20*2,5*2,StringDB('ESS8212')) -- ESS=我想是%N%B范陽.、%B平盧.、%B河東.、%B河西.、%B隴右.%B朔方.、%B北庭.、%B安西.、%B劍南.、%B嶺南.在長安吧。
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select==9 then
        Scene.AutoPrint_C(-1,StringDB('ESS8217')) -- ESS=沒錯，劍南節度使是國舅楊國忠大人，將軍您真用功。
        Scene.AutoPrint_C(-1,StringDB('ESS8226')) -- ESS=真可惜，如果能夠的話，真想送小禮物給將軍大人。
        Scene.AutoPrint_C( 1,StringDB('ESS8227')) -- ESS=是啊，被說成賄賂就麻煩了。
    else
        Scene.AutoPrint_C(-1,StringDB('ESS8213')) -- ESS=不對，將軍您這樣子不行啊。
        Scene.AutoPrint_C( 1,StringDB('ESS8214')) -- ESS=不好意思，還真是用功不足了。我不會因為剛上任就找藉口說不知道。
        Scene.AutoPrint_C(-1,StringDB('ESS8215')) -- ESS=是劍南節度使在長安，是國舅楊國忠大人。
        if GameFunc.PlayerGolds>100 then
            Scene.AutoPrint_C( 1,StringDB('ESS8216')) -- ESS=原來如此，受教了。這些賞你。
            Scene.GetMoney(-100)
            Scene.AutoPrint_C(-1,StringDB('ESS8209')) -- ESS=多謝將軍。
        end
    end
    Scene.SetSceneFlag("Renew2016_TALK7020",true)
    if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7021") and GameFunc.GetFlag(710) then
        ACH.SetAchievement("ACH_8_2") -- 知識份子成就
    end
    Scene.AutoPrint_C(-1,StringDB('ESS8220')) -- ESS=祝將軍您仕途順利。
    Scene.AutoPrint_C( 1,StringDB('ESS8221')) -- ESS=啊，辛苦你了。
end
-- 小太監
-- -- debug : ESC.GotoMap(121 , 7 , 14 , 1 , 0 , 0)
function Scene.TALK7021()
    if Scene.GetSceneFlag('Renew2016_TALK7021')==1 then
        Scene.AutoPrint_C(-1,StringDB('ESS8149')) -- ESS=真是傷腦筋，金城與咸宜兩位公主的禮真不好準備。
        return
    elseif Scene.GetSceneFlag('Renew2016_TALK7021')==2 then
        Scene.AutoPrint_C(-1,StringDB('ESS8176')) -- ESS=我會等您回心轉意的。
        Scene.AutoPrint_C( 1,StringDB('ESS8177')) -- ESS=別等啊，這沒有可能的。
        return
    end
    local select
    Scene.AutoPrint_C(-1,StringDB('ESS8136')) -- ESS=這位大俠，不知可否耽擱您些時間？
    Scene.AutoPrint_C( 1,StringDB('ESS8136b')) -- ESS=怎麼了？
    Scene.AutoPrint_C(-1,StringDB('ESS8137')) -- ESS=主兒要準備幾位公主的禮物，可是有位公主的父親不是皇帝，要準備不一樣禮，我不曉得是那位呀。
    Scene.AutoPrint_C( 1,StringDB('ESS8138')) -- ESS=啊，公主？
    Scene.AutoPrint_C(-1,StringDB('ESS8139')) -- ESS=有金仙公主、玉真公主、金城公主、定安公主、咸宜公主、長樂公主這六位公主。
    Scene.AutoPrint_C(-1,StringDB('ESS8140')) -- ESS=您知道嗎，哪位公主的父親不是皇帝？
    Scene.Print_W(1,9005,20*2,5*2,StringDB('ESS8141')) -- ESS=我想是%N%B金仙公主.、%B玉真公主.、%N%B金城公主.、%B定安公主.%N%B咸宜公主.、%B長樂公主.、%B不知道.
    ESC.WaitDLG(1)
    select = ESC.GetBTNSelect()
    if select==7 then
        Scene.AutoPrint_C( 1,StringDB('ESS8150')) -- ESS=不知道呢，原來公主有這麼多啊……
        Scene.AutoPrint_C(-1,StringDB('ESS8151')) -- ESS=先生您這樣不行啊，長安大街小巷，就愛打聽皇室名人的消息，要在長安混，多少要知道的。
        Scene.AutoPrint_C( 1,StringDB('ESS8152')) -- ESS=這樣說起來，為什麼你會不知道？
        Scene.AutoPrint_C(-1,StringDB('ESS8153')) -- ESS=唉……露餡了啊……
        Scene.AutoPrint_C(-1,StringDB('ESS8154')) -- ESS=其實我只是想跟您套套交情，聊個天。
        Scene.AutoPrint_C( 1,StringDB('ESS8155')) -- ESS=為什麼？
        Scene.AutoPrint_C(-1,StringDB('ESS8156')) -- ESS=看您一表人才，令人情不自禁啊……
        Scene.AutoPrint_C( 1,StringDB('ESS8157')) -- ESS=咦？
        Scene.AutoPrint_C(-1,StringDB('ESS8158')) -- ESS=如何？有沒有興趣跟我當個工作上的夥伴？
        Scene.AutoPrint_C( 1,StringDB('ESS8159')) -- ESS=您的工作是？
        Scene.AutoPrint_C(-1,StringDB('ESS8160')) -- ESS=啊，看不出來嗎？當然是太監啦。
        Scene.AutoPrint_C(-1,StringDB('ESS8161')) -- ESS=當太監等於是一輩子有了生活保障，可以跟宮中名人打交道，而且可以維持粉嫩的肌膚常保青春，好處說不完。
        Scene.AutoPrint_C( 1,StringDB('ESS8162')) -- ESS=免談。我聽過當太監那個絕對條件，這件事免談。
        Scene.AutoPrint_C(-1,StringDB('ESS8163')) -- ESS=不信可以先試做個三兩個月，沒我說的好處隨時可以退職，而且俸祿不會少給。
        Scene.AutoPrint_C( 1,StringDB('ESS8164')) -- ESS=我沒有不信，也不是錢的問題，你都不談那個絕對條件嗎？
        Scene.AutoPrint_C(-1,StringDB('ESS8165')) -- ESS=那個啊，您這種大俠風範沒問題的，痛一下就沒事了。
        Scene.AutoPrint_C( 1,StringDB('ESS8166')) -- ESS=您怎麼都不把話說完，痛一下就沒有大俠了。
        Scene.AutoPrint_C(-1,StringDB('ESS8167')) -- ESS=這樣啊……真可惜……
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS4')..'%C3%T817.(3)') -- ESS=得到xxx
        Scene.AutoPrint_C(-1,StringDB('ESS8168')) -- ESS=不過謝謝您陪我聊天，這是一點心意……
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS11')..'%C2%T817.(3)') -- ESS=失去xxx
        Scene.AutoPrint_C( 1,StringDB('ESS8169')) -- ESS=不，請收回去吧。幫不上忙，無功不受祿。
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS4')..'%C3%T817.(2)') -- ESS=得到xxx
        Scene.AutoPrint_C(-1,StringDB('ESS8170')) -- ESS=別這麼說，當個知心好友也好嘛……
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS11')..'%C2%T817.(2)') -- ESS=失去xxx
        Scene.AutoPrint_C( 1,StringDB('ESS8171')) -- ESS=不，別說是知心好友，普通朋友哪有用收買的。
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS4')..'%C3%T817.') -- ESS=得到xxx
        Scene.AutoPrint_C(-1,StringDB('ESS8172')) -- ESS=至少……這可以補貼咱們日後相約的路錢。
        Scene.GetItem(817,"",-1)
        MediaFunc.PlaySound(193) ESC.WaitDLG(0)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('SESS11')..'%C2%T817.') -- ESS=失去xxx
        Scene.AutoPrint_C( 1,StringDB('ESS8173')) -- ESS=我沒打算赴約，話說也沒跟你做任何約定啊。
        Scene.AutoPrint_C(-1,StringDB('ESS8174')) -- ESS=唉……您堅定的拒絕態度也很帥氣呢。
        Scene.AutoPrint_C( 1,StringDB('ESS8175')) -- ESS=就到此為止吧，後會無期。
        Scene.SetSceneFlag("Renew2016_TALK7021",2)
        if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7020") and GameFunc.GetFlag(710) then
            ACH.SetAchievement("ACH_8_2") -- 知識份子成就
        end
        return
    elseif select==3 then

        Scene.AutoPrint_C(-1,StringDB('ESS8143')) -- ESS=啊，是了，金城公主遠嫁吐蕃，我怎麼給忘了。
        Scene.AutoPrint_C(-1,StringDB('ESS8144')) -- ESS=更麻煩的，這些公主，只有一位是今上的女兒，也得準備不一樣的禮，您知道是那位嗎？
        Scene.Print_W(1,9005,20*2,5*2,StringDB('ESS8145')) -- ESS=我想是%N%B金仙公主.、%B玉真公主.、%N%B金城公主.、%B定安公主.%N%B咸宜公主.、%B長樂公主.
        ESC.WaitDLG(1)
        select = ESC.GetBTNSelect()
        if select==5 then
            Scene.AutoPrint_C(-1,StringDB('ESS8147')) -- ESS=唉呀，我真糊塗，咸宜公主不就是貞順皇后武惠妃所生的。

            Scene.AutoPrint_C(-1,StringDB('ESS8148')) -- ESS=多謝您的提醒，我這有樣東西就送您吧。
            Scene.GetItem(817,"",3) ESC.WaitDLG(0)
            Scene.SetSceneFlag("Renew2016_TALK7021",1)
            Scene.AutoPrint_C(-1,StringDB('ESS8149')) -- ESS=真是傷腦筋，金城與咸宜兩位公主的禮真不好準備。
            if Scene.GetSceneFlag("Renew2016_TALK7016") and Scene.GetSceneFlag("Renew2016_TALK7019") and Scene.GetSceneFlag("Renew2016_TALK7018") and Scene.GetSceneFlag("Renew2016_TALK7012") and GameFunc.GetFlag(708) and Scene.GetSceneFlag("Renew2016_TALK7020") and GameFunc.GetFlag(710) then
                ACH.SetAchievement("ACH_8_2") -- 知識份子成就
            end
        else
            Scene.AutoPrint_C(-1,StringDB('ESS8146')) -- ESS=好像不對耶，這位公主很少進宮了，應該不是吧。
        end
        return
    end
    Scene.AutoPrint_C(-1,StringDB('ESS8142')) -- ESS=好像不對耶，如果公主的父親不是皇帝，通常會遠嫁，這位公主日前我還見過呢。
end
-- 流浪鑄劍師
-- -- debug : ESC.GotoMap(104 , 12 , 22 , 1 , 0 , 0)
function Scene.TALK7022()
    if Scene.GetSceneFlag('Renew2016_TALK7022')==2 then
        Scene.AutoPrint_C(-1,StringDB('ESS8192')) -- ESS=哈哈哈，這些稀世名劍都讓我搜集到了。
        return
    end
    if Scene.GetSceneFlag('Renew2016_TALK7022')==1 then
        Scene.AutoPrint_C(-1,StringDB('ESS8185')) -- ESS=您若還搜集到%T516.、%T517.兩把干將所鑄之名劍，在下願拿一稀世珍寶換這兩把劍。
        Scene.AutoPrint_C(-1,StringDB('ESS8186')) -- ESS=請問您有%T516.、%T517.可割愛嗎？%N%B有.＼%B沒有.
        select = ESC.GetBTNSelect()
        if select==1 then
            res = Scene.CountEquip({ {516,1},{517,1} })
            if res ~= 0 then
                if res>0 then
                    Scene.AutoPrint_C(-1,StringDB('ESS8187')..'%T'..res..'.') -- ESS=少缺了
                else
                    Scene.AutoPrint_C(-1,StringDB('ESS8193')) -- ESS=如果您願意割愛的話，請把劍卸下來。
                end
                return
            end
            ItemFunc.AddItem(868 , 1) -- 泥蚣袍
            ItemFunc.AddItem(516 , -1)
            ItemFunc.AddItem(517 , -1)
            MediaFunc.PlaySound(193)
            ESC.DLGNoPass()
            ESC.DLGHoldTime(15)
            ESC.DLGNoCloseKey()
            ESC.Center_X()
            ESC.FitSize()
            Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('ESS8190')) -- ESS=鑄劍師以%C3%T868.%CD交換
            Scene.SetSceneFlag("Renew2016_TALK7022",2)
            ESC.WaitDLG(0)
            Scene.AutoPrint_C(-1,StringDB('ESS8191')) -- ESS=真是感謝您，讓我搜集到這些稀世名劍。
        else
            Scene.AutoPrint_C(-1,StringDB('ESS8189')) -- ESS=真是可惜，若您搜集這兩把劍，在下願以一稀世珍寶交換。
        end
        return
    end
    local select,res
    Scene.AutoPrint_C(-1,StringDB('ESS8178')) -- ESS=我是個流浪鑄劍師，以觀賞搜集古代名劍為樂。
    Scene.AutoPrint_C(-1,StringDB('ESS8179')) -- ESS=以前見過歐冶子與干將合鑄的%T518.、%T519.、%T520.三把名劍，可惜收藏者不肯割愛。
    Scene.AutoPrint_C(-1,StringDB('ESS8180')) -- ESS=若您有歐冶子所鑄的%T511.、%T512.、%T513.、%T514.、%T515.五把名劍，在下願重金收購。
    Scene.AutoPrint_C(-1,StringDB('ESS8181')) -- ESS=請問您有%T511.、%T512.、%T513.、%T514.、%T515.可割愛嗎？%N%B有.＼%B沒有.
    select = ESC.GetBTNSelect()
    if select==1 then
        res = Scene.CountEquip({ {511,1},{512,1},{513,1},{514,1},{515,1} })
        if res ~= 0 then
            if res>0 then
                Scene.AutoPrint_C(-1,StringDB('ESS8187')..'%T'..res..'.') -- ESS=少缺了
            else
                Scene.AutoPrint_C(-1,StringDB('ESS8193')) -- ESS=如果您願意割愛的話，請把劍卸下來。
            end
            return
        end
        ItemFunc.AddItem(817 , 10)
        ItemFunc.AddItem(511 , -1)
        ItemFunc.AddItem(512 , -1)
        ItemFunc.AddItem(513 , -1)
        ItemFunc.AddItem(514 , -1)
        ItemFunc.AddItem(515 , -1)
        MediaFunc.PlaySound(193)
        ESC.DLGNoPass()
        ESC.DLGHoldTime(15)
        ESC.DLGNoCloseKey()
        ESC.Center_X()
        ESC.FitSize()
        Scene.Print_SLF(0,9009,320,140,14,2,'%S0%K'..StringDB('ESS8184')) -- ESS=鑄劍師拿%C3%T817.(10)%CD交換
        Scene.SetSceneFlag("Renew2016_TALK7022",1)
        ACH.SetAchievement("ACH_18_3")
        ESC.WaitDLG(0)
        Scene.AutoPrint_C(-1,StringDB('ESS8185')) -- ESS=對了，您若還搜集到%T516.、%T517.兩把干將所鑄之名劍，在下願拿一稀世珍寶換這兩把劍。
        return
    else
        Scene.AutoPrint_C(-1,StringDB('ESS8183')) -- ESS=真是可惜，若您搜集到五把，在下願重金收購。
        return
    end

end
-- 商人艾德 A:2day 2hour
-- -- debug : ESC.GotoMap(211 , 28 , 14 , 1 , 0 , 0)
function Scene.TALK7023()
    local select1,select2
    Scene.AutoPrint_M(-1,StringDB('ESS8086')) -- ESS=不曉得這時出發是不是還來的及。
    Scene.AutoPrint_M( 1,StringDB('ESS8087')) -- ESS=朋友，你似乎有困擾。
    Scene.AutoPrint_M(-1,StringDB('ESS8088')) -- ESS=是這樣的，我本來跟住麥地那的朋友相約，半途碰面，準備一同去埃及。
    Scene.AutoPrint_M(-1,StringDB('ESS8089')) -- ESS=可是我船期延誤兩天，不曉得來得及嗎？
    Scene.AutoPrint_M( 1,StringDB('ESS8090')) -- ESS=你的速度比他快嘛？
    Scene.AutoPrint_M(-1,StringDB('ESS8091')) -- ESS=是的，我估計五天可以到麥地那，我的朋友要七天才會到這裡。
    Scene.AutoPrint_M(-1,StringDB('ESS8092')) -- ESS=我不曉得現在要多久才能中途會合。
    Scene.AutoPrint_M( 1,StringDB('ESS8093')) -- ESS=我想你要花%N%B一天.、%B兩天.、%B三天.%N%B四天.、%B五天.、%B不知道.
    select1 = ESC.GetBTNSelect()
    if select1==6 then
        Scene.AutoPrint_M( 1,StringDB('ESS8098')) -- ESS=不知道，我比較感到奇怪的是，為何你需要很準確的時間？
        Scene.AutoPrint_M( 1,StringDB('ESS8099')) -- ESS=尤其是長途旅行，又是在海上，加上不確定的天氣因素，你沒能活著到達目的也不奇怪啊。
        Scene.AutoPrint_M(-1,StringDB('ESS8100')) -- ESS=說的也是……我現在出發，就算是我的船較快也未必能準時到達。
        Scene.AutoPrint_M(-1,StringDB('ESS8101')) -- ESS=人生禍福難料，我就不浪費時間去斤斤計較了，感謝你的建議，我現在就出發吧。
        Scene.GetItem(975)
        Scene.SetSceneFlag("Renew2016_TALK7023",2)
        if GameFunc.GetFlag(224) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) then
            ACH.SetAchievement("ACH_8_1") -- 數學家成就
        end
        ESC.ChangeSpeed(7023,1)
        Scene.BatchWlak({ {7023, 18, 25} })
        ESC.RoleDisable(7023)
        return
    else
        Scene.AutoPrint_M( 1,StringDB('ESS8094')) -- ESS=外加%N%B一小時.、%B二小時.%N%B三小時.、%B四小時.%N%B五小時.、%B六小時.
        select2 = ESC.GetBTNSelect()
        if select1==2 and select2==2 then
            Scene.AutoPrint_M(-1,StringDB('ESS8095')) -- ESS=我想您說的沒錯，這樣我應該來的及。
            Scene.AutoPrint_M(-1,StringDB('ESS8096')) -- ESS=這有份小禮物送您。
            Scene.GetItem(975) ESC.WaitDLG(0)
            Scene.AutoPrint_M(-1,StringDB('ESS8097')) -- ESS=時候不早了，我得趕緊出發。%N有緣再見了。
            Scene.SetSceneFlag("Renew2016_TALK7023",1)
            if GameFunc.GetFlag(224) and GameFunc.GetFlag(287) and GameFunc.GetFlag(365) and GameFunc.GetFlag(705) and GameFunc.GetFlag(597) then
                ACH.SetAchievement("ACH_8_1") -- 數學家成就
            end
            ESC.ChangeSpeed(7023,1)
            Scene.BatchWlak({ {7023, 18, 25} })
            ESC.RoleDisable(7023)
            return
        end
    end
    Scene.AutoPrint_M(-1,StringDB('ESS8057')) -- ESS=好像不太對喔。
end
